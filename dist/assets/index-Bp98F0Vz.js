var Ppe=Object.defineProperty;var Rpe=(e,t,r)=>t in e?Ppe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var St=(e,t,r)=>Rpe(e,typeof t!="symbol"?t+"":t,r);function gX(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var eot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xX={exports:{}},s4={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lpe=Symbol.for("react.transitional.element"),Ipe=Symbol.for("react.fragment");function yX(e,t,r){var n=null;if(r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),"key"in t){r={};for(var a in t)a!=="key"&&(r[a]=t[a])}else r=t;return t=r.ref,{$$typeof:Lpe,type:e,key:n,ref:t!==void 0?t:null,props:r}}s4.Fragment=Ipe;s4.jsx=yX;s4.jsxs=yX;xX.exports=s4;var o=xX.exports,vX={exports:{}},Ar={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $R=Symbol.for("react.transitional.element"),Fpe=Symbol.for("react.portal"),zpe=Symbol.for("react.fragment"),Bpe=Symbol.for("react.strict_mode"),Hpe=Symbol.for("react.profiler"),$pe=Symbol.for("react.consumer"),Upe=Symbol.for("react.context"),Vpe=Symbol.for("react.forward_ref"),qpe=Symbol.for("react.suspense"),Wpe=Symbol.for("react.memo"),bX=Symbol.for("react.lazy"),Ype=Symbol.for("react.activity"),d9=Symbol.iterator;function Gpe(e){return e===null||typeof e!="object"?null:(e=d9&&e[d9]||e["@@iterator"],typeof e=="function"?e:null)}var wX={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NX=Object.assign,SX={};function gb(e,t,r){this.props=e,this.context=t,this.refs=SX,this.updater=r||wX}gb.prototype.isReactComponent={};gb.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gb.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jX(){}jX.prototype=gb.prototype;function UR(e,t,r){this.props=e,this.context=t,this.refs=SX,this.updater=r||wX}var VR=UR.prototype=new jX;VR.constructor=UR;NX(VR,gb.prototype);VR.isPureReactComponent=!0;var u9=Array.isArray;function eO(){}var da={H:null,A:null,T:null,S:null},_X=Object.prototype.hasOwnProperty;function qR(e,t,r){var n=r.ref;return{$$typeof:$R,type:e,key:t,ref:n!==void 0?n:null,props:r}}function Kpe(e,t){return qR(e.type,t,e.props)}function WR(e){return typeof e=="object"&&e!==null&&e.$$typeof===$R}function Xpe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var f9=/\/+/g;function eT(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xpe(""+e.key):t.toString(36)}function Jpe(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(eO,eO):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function fy(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"bigint":case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case $R:case Fpe:i=!0;break;case bX:return i=e._init,fy(i(e._payload),t,r,n,a)}}if(i)return a=a(e),i=n===""?"."+eT(e,0):n,u9(a)?(r="",i!=null&&(r=i.replace(f9,"$&/")+"/"),fy(a,t,r,"",function(d){return d})):a!=null&&(WR(a)&&(a=Kpe(a,r+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(f9,"$&/")+"/")+i)),t.push(a)),1;i=0;var l=n===""?".":n+":";if(u9(e))for(var c=0;c<e.length;c++)n=e[c],s=l+eT(n,c),i+=fy(n,t,r,s,a);else if(c=Gpe(e),typeof c=="function")for(e=c.call(e),c=0;!(n=e.next()).done;)n=n.value,s=l+eT(n,c++),i+=fy(n,t,r,s,a);else if(s==="object"){if(typeof e.then=="function")return fy(Jpe(e),t,r,n,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return i}function xj(e,t,r){if(e==null)return e;var n=[],a=0;return fy(e,n,"","",function(s){return t.call(r,s,a++)}),n}function Qpe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var h9=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Zpe={map:xj,forEach:function(e,t,r){xj(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return xj(e,function(){t++}),t},toArray:function(e){return xj(e,function(t){return t})||[]},only:function(e){if(!WR(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ar.Activity=Ype;Ar.Children=Zpe;Ar.Component=gb;Ar.Fragment=zpe;Ar.Profiler=Hpe;Ar.PureComponent=UR;Ar.StrictMode=Bpe;Ar.Suspense=qpe;Ar.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=da;Ar.__COMPILER_RUNTIME={__proto__:null,c:function(e){return da.H.useMemoCache(e)}};Ar.cache=function(e){return function(){return e.apply(null,arguments)}};Ar.cacheSignal=function(){return null};Ar.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=NX({},e.props),a=e.key;if(t!=null)for(s in t.key!==void 0&&(a=""+t.key),t)!_X.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(n[s]=t[s]);var s=arguments.length-2;if(s===1)n.children=r;else if(1<s){for(var i=Array(s),l=0;l<s;l++)i[l]=arguments[l+2];n.children=i}return qR(e.type,a,n)};Ar.createContext=function(e){return e={$$typeof:Upe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:$pe,_context:e},e};Ar.createElement=function(e,t,r){var n,a={},s=null;if(t!=null)for(n in t.key!==void 0&&(s=""+t.key),t)_X.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(a[n]=t[n]);var i=arguments.length-2;if(i===1)a.children=r;else if(1<i){for(var l=Array(i),c=0;c<i;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in i=e.defaultProps,i)a[n]===void 0&&(a[n]=i[n]);return qR(e,s,a)};Ar.createRef=function(){return{current:null}};Ar.forwardRef=function(e){return{$$typeof:Vpe,render:e}};Ar.isValidElement=WR;Ar.lazy=function(e){return{$$typeof:bX,_payload:{_status:-1,_result:e},_init:Qpe}};Ar.memo=function(e,t){return{$$typeof:Wpe,type:e,compare:t===void 0?null:t}};Ar.startTransition=function(e){var t=da.T,r={};da.T=r;try{var n=e(),a=da.S;a!==null&&a(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(eO,h9)}catch(s){h9(s)}finally{t!==null&&r.types!==null&&(t.types=r.types),da.T=t}};Ar.unstable_useCacheRefresh=function(){return da.H.useCacheRefresh()};Ar.use=function(e){return da.H.use(e)};Ar.useActionState=function(e,t,r){return da.H.useActionState(e,t,r)};Ar.useCallback=function(e,t){return da.H.useCallback(e,t)};Ar.useContext=function(e){return da.H.useContext(e)};Ar.useDebugValue=function(){};Ar.useDeferredValue=function(e,t){return da.H.useDeferredValue(e,t)};Ar.useEffect=function(e,t){return da.H.useEffect(e,t)};Ar.useEffectEvent=function(e){return da.H.useEffectEvent(e)};Ar.useId=function(){return da.H.useId()};Ar.useImperativeHandle=function(e,t,r){return da.H.useImperativeHandle(e,t,r)};Ar.useInsertionEffect=function(e,t){return da.H.useInsertionEffect(e,t)};Ar.useLayoutEffect=function(e,t){return da.H.useLayoutEffect(e,t)};Ar.useMemo=function(e,t){return da.H.useMemo(e,t)};Ar.useOptimistic=function(e,t){return da.H.useOptimistic(e,t)};Ar.useReducer=function(e,t,r){return da.H.useReducer(e,t,r)};Ar.useRef=function(e){return da.H.useRef(e)};Ar.useState=function(e){return da.H.useState(e)};Ar.useSyncExternalStore=function(e,t,r){return da.H.useSyncExternalStore(e,t,r)};Ar.useTransition=function(){return da.H.useTransition()};Ar.version="19.2.0";vX.exports=Ar;var b=vX.exports;const Fe=nf(b),i4=gX({__proto__:null,default:Fe},[b]);var kX={exports:{}},o4={},CX={exports:{}},AX={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,V){var G=X.length;X.push(V);e:for(;0<G;){var J=G-1>>>1,B=X[J];if(0<a(B,V))X[J]=V,X[G]=B,G=J;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var V=X[0],G=X.pop();if(G!==V){X[0]=G;e:for(var J=0,B=X.length,q=B>>>1;J<q;){var T=2*(J+1)-1,R=X[T],F=T+1,H=X[F];if(0>a(R,G))F<B&&0>a(H,R)?(X[J]=H,X[F]=G,J=F):(X[J]=R,X[T]=G,J=T);else if(F<B&&0>a(H,G))X[J]=H,X[F]=G,J=F;else break e}}return V}function a(X,V){var G=X.sortIndex-V.sortIndex;return G!==0?G:X.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,f=null,p=3,h=!1,m=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function N(X){for(var V=r(d);V!==null;){if(V.callback===null)n(d);else if(V.startTime<=X)n(d),V.sortIndex=V.expirationTime,t(c,V);else break;V=r(d)}}function C(X){if(g=!1,N(X),!m)if(r(c)!==null)m=!0,_||(_=!0,M());else{var V=r(d);V!==null&&Y(C,V.startTime-X)}}var _=!1,S=-1,k=5,A=-1;function O(){return x?!0:!(e.unstable_now()-A<k)}function D(){if(x=!1,_){var X=e.unstable_now();A=X;var V=!0;try{e:{m=!1,g&&(g=!1,v(S),S=-1),h=!0;var G=p;try{t:{for(N(X),f=r(c);f!==null&&!(f.expirationTime>X&&O());){var J=f.callback;if(typeof J=="function"){f.callback=null,p=f.priorityLevel;var B=J(f.expirationTime<=X);if(X=e.unstable_now(),typeof B=="function"){f.callback=B,N(X),V=!0;break t}f===r(c)&&n(c),N(X)}else n(c);f=r(c)}if(f!==null)V=!0;else{var q=r(d);q!==null&&Y(C,q.startTime-X),V=!1}}break e}finally{f=null,p=G,h=!1}V=void 0}}finally{V?M():_=!1}}}var M;if(typeof w=="function")M=function(){w(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,z=I.port2;I.port1.onmessage=D,M=function(){z.postMessage(null)}}else M=function(){y(D,0)};function Y(X,V){S=y(function(){X(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(X){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var G=p;p=V;try{return X()}finally{p=G}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(X,V){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var G=p;p=X;try{return V()}finally{p=G}},e.unstable_scheduleCallback=function(X,V,G){var J=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?J+G:J):G=J,X){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=G+B,X={id:u++,callback:V,priorityLevel:X,startTime:G,expirationTime:B,sortIndex:-1},G>J?(X.sortIndex=G,t(d,X),r(c)===null&&X===r(d)&&(g?(v(S),S=-1):g=!0,Y(C,G-J))):(X.sortIndex=B,t(c,X),m||h||(m=!0,_||(_=!0,M()))),X},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(X){var V=p;return function(){var G=p;p=V;try{return X.apply(this,arguments)}finally{p=G}}}})(AX);CX.exports=AX;var eme=CX.exports,EX={exports:{}},Qo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tme=b;function TX(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Np(){}var $o={d:{f:Np,r:function(){throw Error(TX(522))},D:Np,C:Np,L:Np,m:Np,X:Np,S:Np,M:Np},p:0,findDOMNode:null},rme=Symbol.for("react.portal");function nme(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rme,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}var N2=tme.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l4(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Qo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$o;Qo.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(TX(299));return nme(e,t,null,r)};Qo.flushSync=function(e){var t=N2.T,r=$o.p;try{if(N2.T=null,$o.p=2,e)return e()}finally{N2.T=t,$o.p=r,$o.d.f()}};Qo.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,$o.d.C(e,t))};Qo.prefetchDNS=function(e){typeof e=="string"&&$o.d.D(e)};Qo.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var r=t.as,n=l4(r,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;r==="style"?$o.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:s}):r==="script"&&$o.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Qo.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var r=l4(t.as,t.crossOrigin);$o.d.M(e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&$o.d.M(e)};Qo.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var r=t.as,n=l4(r,t.crossOrigin);$o.d.L(e,r,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Qo.preloadModule=function(e,t){if(typeof e=="string")if(t){var r=l4(t.as,t.crossOrigin);$o.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else $o.d.m(e)};Qo.requestFormReset=function(e){$o.d.r(e)};Qo.unstable_batchedUpdates=function(e,t){return e(t)};Qo.useFormState=function(e,t,r){return N2.H.useFormState(e,t,r)};Qo.useFormStatus=function(){return N2.H.useHostTransitionStatus()};Qo.version="19.2.0";function DX(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DX)}catch(e){console.error(e)}}DX(),EX.exports=Qo;var af=EX.exports;const YR=nf(af),ame=gX({__proto__:null,default:YR},[af]);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=eme,MX=b,sme=af;function ot(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function OX(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ON(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function PX(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function RX(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p9(e){if(ON(e)!==e)throw Error(ot(188))}function ime(e){var t=e.alternate;if(!t){if(t=ON(e),t===null)throw Error(ot(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return p9(a),e;if(s===n)return p9(a),t;s=s.sibling}throw Error(ot(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(ot(189))}}if(r.alternate!==n)throw Error(ot(190))}if(r.tag!==3)throw Error(ot(188));return r.stateNode.current===r?e:t}function LX(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=LX(e),t!==null)return t;e=e.sibling}return null}var ha=Object.assign,ome=Symbol.for("react.element"),yj=Symbol.for("react.transitional.element"),e2=Symbol.for("react.portal"),Cy=Symbol.for("react.fragment"),IX=Symbol.for("react.strict_mode"),tO=Symbol.for("react.profiler"),FX=Symbol.for("react.consumer"),nh=Symbol.for("react.context"),GR=Symbol.for("react.forward_ref"),rO=Symbol.for("react.suspense"),nO=Symbol.for("react.suspense_list"),KR=Symbol.for("react.memo"),Op=Symbol.for("react.lazy"),aO=Symbol.for("react.activity"),lme=Symbol.for("react.memo_cache_sentinel"),m9=Symbol.iterator;function v1(e){return e===null||typeof e!="object"?null:(e=m9&&e[m9]||e["@@iterator"],typeof e=="function"?e:null)}var cme=Symbol.for("react.client.reference");function sO(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===cme?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cy:return"Fragment";case tO:return"Profiler";case IX:return"StrictMode";case rO:return"Suspense";case nO:return"SuspenseList";case aO:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case e2:return"Portal";case nh:return e.displayName||"Context";case FX:return(e._context.displayName||"Context")+".Consumer";case GR:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case KR:return t=e.displayName||null,t!==null?t:sO(e.type)||"Memo";case Op:t=e._payload,e=e._init;try{return sO(e(t))}catch{}}return null}var t2=Array.isArray,mr=MX.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fn=sme.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ug={pending:!1,data:null,method:null,action:null},iO=[],Ay=-1;function sf(e){return{current:e}}function bi(e){0>Ay||(e.current=iO[Ay],iO[Ay]=null,Ay--)}function ea(e,t){Ay++,iO[Ay]=e.current,e.current=t}var Vu=sf(null),vw=sf(null),hm=sf(null),Z_=sf(null);function ek(e,t){switch(ea(hm,t),ea(vw,e),ea(Vu,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?wB(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=wB(t),e=aZ(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}bi(Vu),ea(Vu,e)}function Nv(){bi(Vu),bi(vw),bi(hm)}function oO(e){e.memoizedState!==null&&ea(Z_,e);var t=Vu.current,r=aZ(t,e.type);t!==r&&(ea(vw,e),ea(Vu,r))}function tk(e){vw.current===e&&(bi(Vu),bi(vw)),Z_.current===e&&(bi(Z_),Tw._currentValue=ug)}var tT,g9;function M0(e){if(tT===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);tT=t&&t[1]||"",g9=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tT+e+g9}var rT=!1;function nT(e,t){if(!e||rT)return"";rT=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(h){var p=h}Reflect.construct(e,[],f)}else{try{f.call()}catch(h){p=h}e.call(f.prototype)}}else{try{throw Error()}catch(h){p=h}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(h){if(h&&p&&typeof h.stack=="string")return[h.stack,p.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=n.DetermineComponentFrameRoot(),i=s[0],l=s[1];if(i&&l){var c=i.split(`
`),d=l.split(`
`);for(a=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;a<d.length&&!d[a].includes("DetermineComponentFrameRoot");)a++;if(n===c.length||a===d.length)for(n=c.length-1,a=d.length-1;1<=n&&0<=a&&c[n]!==d[a];)a--;for(;1<=n&&0<=a;n--,a--)if(c[n]!==d[a]){if(n!==1||a!==1)do if(n--,a--,0>a||c[n]!==d[a]){var u=`
`+c[n].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=n&&0<=a);break}}}finally{rT=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?M0(r):""}function dme(e,t){switch(e.tag){case 26:case 27:case 5:return M0(e.type);case 16:return M0("Lazy");case 13:return e.child!==t&&t!==null?M0("Suspense Fallback"):M0("Suspense");case 19:return M0("SuspenseList");case 0:case 15:return nT(e.type,!1);case 11:return nT(e.type.render,!1);case 1:return nT(e.type,!0);case 31:return M0("Activity");default:return""}}function x9(e){try{var t="",r=null;do t+=dme(e,r),r=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var lO=Object.prototype.hasOwnProperty,XR=Zs.unstable_scheduleCallback,aT=Zs.unstable_cancelCallback,ume=Zs.unstable_shouldYield,fme=Zs.unstable_requestPaint,mc=Zs.unstable_now,hme=Zs.unstable_getCurrentPriorityLevel,zX=Zs.unstable_ImmediatePriority,BX=Zs.unstable_UserBlockingPriority,rk=Zs.unstable_NormalPriority,pme=Zs.unstable_LowPriority,HX=Zs.unstable_IdlePriority,mme=Zs.log,gme=Zs.unstable_setDisableYieldValue,PN=null,gc=null;function Yp(e){if(typeof mme=="function"&&gme(e),gc&&typeof gc.setStrictMode=="function")try{gc.setStrictMode(PN,e)}catch{}}var xc=Math.clz32?Math.clz32:vme,xme=Math.log,yme=Math.LN2;function vme(e){return e>>>=0,e===0?32:31-(xme(e)/yme|0)|0}var vj=256,bj=262144,wj=4194304;function O0(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function c4(e,t,r){var n=e.pendingLanes;if(n===0)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var l=n&134217727;return l!==0?(n=l&~s,n!==0?a=O0(n):(i&=l,i!==0?a=O0(i):r||(r=l&~e,r!==0&&(a=O0(r))))):(l=n&~s,l!==0?a=O0(l):i!==0?a=O0(i):r||(r=n&~e,r!==0&&(a=O0(r)))),a===0?0:t!==0&&t!==a&&!(t&s)&&(s=a&-a,r=t&-t,s>=r||s===32&&(r&4194048)!==0)?t:a}function RN(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function bme(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $X(){var e=wj;return wj<<=1,!(wj&62914560)&&(wj=4194304),e}function sT(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function LN(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wme(e,t,r,n,a,s){var i=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var l=e.entanglements,c=e.expirationTimes,d=e.hiddenUpdates;for(r=i&~r;0<r;){var u=31-xc(r),f=1<<u;l[u]=0,c[u]=-1;var p=d[u];if(p!==null)for(d[u]=null,u=0;u<p.length;u++){var h=p[u];h!==null&&(h.lane&=-536870913)}r&=~f}n!==0&&UX(e,n,0),s!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=s&~(i&~t))}function UX(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-xc(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|r&261930}function VX(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-xc(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function qX(e,t){var r=t&-t;return r=r&42?1:JR(r),r&(e.suspendedLanes|t)?0:r}function JR(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function QR(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function WX(){var e=fn.p;return e!==0?e:(e=window.event,e===void 0?32:mZ(e.type))}function y9(e,t){var r=fn.p;try{return fn.p=e,t()}finally{fn.p=r}}var e0=Math.random().toString(36).slice(2),$i="__reactFiber$"+e0,Nl="__reactProps$"+e0,xb="__reactContainer$"+e0,cO="__reactEvents$"+e0,Nme="__reactListeners$"+e0,Sme="__reactHandles$"+e0,v9="__reactResources$"+e0,IN="__reactMarker$"+e0;function ZR(e){delete e[$i],delete e[Nl],delete e[cO],delete e[Nme],delete e[Sme]}function Ey(e){var t=e[$i];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xb]||r[$i]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=kB(e);e!==null;){if(r=e[$i])return r;e=kB(e)}return t}e=r,r=e.parentNode}return null}function yb(e){if(e=e[$i]||e[xb]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function r2(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(ot(33))}function Yy(e){var t=e[v9];return t||(t=e[v9]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function hi(e){e[IN]=!0}var YX=new Set,GX={};function px(e,t){Sv(e,t),Sv(e+"Capture",t)}function Sv(e,t){for(GX[e]=t,e=0;e<t.length;e++)YX.add(t[e])}var jme=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),b9={},w9={};function _me(e){return lO.call(w9,e)?!0:lO.call(b9,e)?!1:jme.test(e)?w9[e]=!0:(b9[e]=!0,!1)}function t_(e,t,r){if(_me(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Nj(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function Af(e,t,r,n){if(n===null)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+n)}}function Xc(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function KX(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kme(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dO(e){if(!e._valueTracker){var t=KX(e)?"checked":"value";e._valueTracker=kme(e,t,""+e[t])}}function XX(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=KX(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function nk(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Cme=/[\n"\\]/g;function rd(e){return e.replace(Cme,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function uO(e,t,r,n,a,s,i,l){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Xc(t)):e.value!==""+Xc(t)&&(e.value=""+Xc(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?fO(e,i,Xc(t)):r!=null?fO(e,i,Xc(r)):n!=null&&e.removeAttribute("value"),a==null&&s!=null&&(e.defaultChecked=!!s),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Xc(l):e.removeAttribute("name")}function JX(e,t,r,n,a,s,i,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||r!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){dO(e);return}r=r!=null?""+Xc(r):"",t=t!=null?""+Xc(t):r,l||t===e.value||(e.value=t),e.defaultValue=t}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=l?e.checked:!!n,e.defaultChecked=!!n,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i),dO(e)}function fO(e,t,r){t==="number"&&nk(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Gy(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xc(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function QX(e,t,r){if(t!=null&&(t=""+Xc(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Xc(r):""}function ZX(e,t,r,n){if(t==null){if(n!=null){if(r!=null)throw Error(ot(92));if(t2(n)){if(1<n.length)throw Error(ot(93));n=n[0]}r=n}r==null&&(r=""),t=r}r=Xc(t),e.defaultValue=r,n=e.textContent,n===r&&n!==""&&n!==null&&(e.value=n),dO(e)}function jv(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ame=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function N9(e,t,r){var n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r!="number"||r===0||Ame.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function eJ(e,t,r){if(t!=null&&typeof t!="object")throw Error(ot(62));if(e=e.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&N9(e,a,n)}else for(var s in t)t.hasOwnProperty(s)&&N9(e,s,t[s])}function e8(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eme=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tme=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function r_(e){return Tme.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ah(){}var hO=null;function t8(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ty=null,Ky=null;function S9(e){var t=yb(e);if(t&&(e=t.stateNode)){var r=e[Nl]||null;e:switch(e=t.stateNode,t.type){case"input":if(uO(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+rd(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[Nl]||null;if(!a)throw Error(ot(90));uO(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)n=r[t],n.form===e.form&&XX(n)}break e;case"textarea":QX(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&Gy(e,!!r.multiple,t,!1)}}}var iT=!1;function tJ(e,t,r){if(iT)return e(t,r);iT=!0;try{var n=e(t);return n}finally{if(iT=!1,(Ty!==null||Ky!==null)&&(w4(),Ty&&(t=Ty,e=Ky,Ky=Ty=null,S9(t),e)))for(t=0;t<e.length;t++)S9(e[t])}}function bw(e,t){var r=e.stateNode;if(r===null)return null;var n=r[Nl]||null;if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ot(231,t,typeof r));return r}var Th=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pO=!1;if(Th)try{var b1={};Object.defineProperty(b1,"passive",{get:function(){pO=!0}}),window.addEventListener("test",b1,b1),window.removeEventListener("test",b1,b1)}catch{pO=!1}var Gp=null,r8=null,n_=null;function rJ(){if(n_)return n_;var e,t=r8,r=t.length,n,a="value"in Gp?Gp.value:Gp.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return n_=a.slice(e,1<n?1-n:void 0)}function a_(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sj(){return!0}function j9(){return!1}function Al(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Sj:j9,this.isPropagationStopped=j9,this}return ha(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Sj)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Sj)},persist:function(){},isPersistent:Sj}),t}var mx={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d4=Al(mx),FN=ha({},mx,{view:0,detail:0}),Dme=Al(FN),oT,lT,w1,u4=ha({},FN,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:n8,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==w1&&(w1&&e.type==="mousemove"?(oT=e.screenX-w1.screenX,lT=e.screenY-w1.screenY):lT=oT=0,w1=e),oT)},movementY:function(e){return"movementY"in e?e.movementY:lT}}),_9=Al(u4),Mme=ha({},u4,{dataTransfer:0}),Ome=Al(Mme),Pme=ha({},FN,{relatedTarget:0}),cT=Al(Pme),Rme=ha({},mx,{animationName:0,elapsedTime:0,pseudoElement:0}),Lme=Al(Rme),Ime=ha({},mx,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fme=Al(Ime),zme=ha({},mx,{data:0}),k9=Al(zme),Bme={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hme={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$me={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ume(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$me[e])?!!t[e]:!1}function n8(){return Ume}var Vme=ha({},FN,{key:function(e){if(e.key){var t=Bme[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=a_(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hme[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:n8,charCode:function(e){return e.type==="keypress"?a_(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?a_(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qme=Al(Vme),Wme=ha({},u4,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C9=Al(Wme),Yme=ha({},FN,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:n8}),Gme=Al(Yme),Kme=ha({},mx,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xme=Al(Kme),Jme=ha({},u4,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qme=Al(Jme),Zme=ha({},mx,{newState:0,oldState:0}),e0e=Al(Zme),t0e=[9,13,27,32],a8=Th&&"CompositionEvent"in window,S2=null;Th&&"documentMode"in document&&(S2=document.documentMode);var r0e=Th&&"TextEvent"in window&&!S2,nJ=Th&&(!a8||S2&&8<S2&&11>=S2),A9=" ",E9=!1;function aJ(e,t){switch(e){case"keyup":return t0e.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sJ(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dy=!1;function n0e(e,t){switch(e){case"compositionend":return sJ(t);case"keypress":return t.which!==32?null:(E9=!0,A9);case"textInput":return e=t.data,e===A9&&E9?null:e;default:return null}}function a0e(e,t){if(Dy)return e==="compositionend"||!a8&&aJ(e,t)?(e=rJ(),n_=r8=Gp=null,Dy=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nJ&&t.locale!=="ko"?null:t.data;default:return null}}var s0e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T9(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!s0e[e.type]:t==="textarea"}function iJ(e,t,r,n){Ty?Ky?Ky.push(n):Ky=[n]:Ty=n,t=wk(t,"onChange"),0<t.length&&(r=new d4("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var j2=null,ww=null;function i0e(e){tZ(e,0)}function f4(e){var t=r2(e);if(XX(t))return e}function D9(e,t){if(e==="change")return t}var oJ=!1;if(Th){var dT;if(Th){var uT="oninput"in document;if(!uT){var M9=document.createElement("div");M9.setAttribute("oninput","return;"),uT=typeof M9.oninput=="function"}dT=uT}else dT=!1;oJ=dT&&(!document.documentMode||9<document.documentMode)}function O9(){j2&&(j2.detachEvent("onpropertychange",lJ),ww=j2=null)}function lJ(e){if(e.propertyName==="value"&&f4(ww)){var t=[];iJ(t,ww,e,t8(e)),tJ(i0e,t)}}function o0e(e,t,r){e==="focusin"?(O9(),j2=t,ww=r,j2.attachEvent("onpropertychange",lJ)):e==="focusout"&&O9()}function l0e(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return f4(ww)}function c0e(e,t){if(e==="click")return f4(t)}function d0e(e,t){if(e==="input"||e==="change")return f4(t)}function u0e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kc=typeof Object.is=="function"?Object.is:u0e;function Nw(e,t){if(kc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!lO.call(t,a)||!kc(e[a],t[a]))return!1}return!0}function P9(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function R9(e,t){var r=P9(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=P9(r)}}function cJ(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cJ(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dJ(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=nk(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=nk(e.document)}return t}function s8(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var f0e=Th&&"documentMode"in document&&11>=document.documentMode,My=null,mO=null,_2=null,gO=!1;function L9(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gO||My==null||My!==nk(n)||(n=My,"selectionStart"in n&&s8(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_2&&Nw(_2,n)||(_2=n,n=wk(mO,"onSelect"),0<n.length&&(t=new d4("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=My)))}function k0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Oy={animationend:k0("Animation","AnimationEnd"),animationiteration:k0("Animation","AnimationIteration"),animationstart:k0("Animation","AnimationStart"),transitionrun:k0("Transition","TransitionRun"),transitionstart:k0("Transition","TransitionStart"),transitioncancel:k0("Transition","TransitionCancel"),transitionend:k0("Transition","TransitionEnd")},fT={},uJ={};Th&&(uJ=document.createElement("div").style,"AnimationEvent"in window||(delete Oy.animationend.animation,delete Oy.animationiteration.animation,delete Oy.animationstart.animation),"TransitionEvent"in window||delete Oy.transitionend.transition);function gx(e){if(fT[e])return fT[e];if(!Oy[e])return e;var t=Oy[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in uJ)return fT[e]=t[r];return e}var fJ=gx("animationend"),hJ=gx("animationiteration"),pJ=gx("animationstart"),h0e=gx("transitionrun"),p0e=gx("transitionstart"),m0e=gx("transitioncancel"),mJ=gx("transitionend"),gJ=new Map,xO="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xO.push("scrollEnd");function ou(e,t){gJ.set(e,t),px(t,[e])}var ak=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yc=[],Py=0,i8=0;function h4(){for(var e=Py,t=i8=Py=0;t<e;){var r=Yc[t];Yc[t++]=null;var n=Yc[t];Yc[t++]=null;var a=Yc[t];Yc[t++]=null;var s=Yc[t];if(Yc[t++]=null,n!==null&&a!==null){var i=n.pending;i===null?a.next=a:(a.next=i.next,i.next=a),n.pending=a}s!==0&&xJ(r,a,s)}}function p4(e,t,r,n){Yc[Py++]=e,Yc[Py++]=t,Yc[Py++]=r,Yc[Py++]=n,i8|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function o8(e,t,r,n){return p4(e,t,r,n),sk(e)}function xx(e,t){return p4(e,null,null,t),sk(e)}function xJ(e,t,r){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r);for(var a=!1,s=e.return;s!==null;)s.childLanes|=r,n=s.alternate,n!==null&&(n.childLanes|=r),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(a=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,a&&t!==null&&(a=31-xc(r),e=s.hiddenUpdates,n=e[a],n===null?e[a]=[t]:n.push(t),t.lane=r|536870912),s):null}function sk(e){if(50<P2)throw P2=0,FO=null,Error(ot(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ry={};function g0e(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ac(e,t,r,n){return new g0e(e,t,r,n)}function l8(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fh(e,t){var r=e.alternate;return r===null?(r=ac(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function yJ(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function s_(e,t,r,n,a,s){var i=0;if(n=e,typeof e=="function")l8(e)&&(i=1);else if(typeof e=="string")i=wge(e,r,Vu.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case aO:return e=ac(31,r,t,a),e.elementType=aO,e.lanes=s,e;case Cy:return fg(r.children,a,s,t);case IX:i=8,a|=24;break;case tO:return e=ac(12,r,t,a|2),e.elementType=tO,e.lanes=s,e;case rO:return e=ac(13,r,t,a),e.elementType=rO,e.lanes=s,e;case nO:return e=ac(19,r,t,a),e.elementType=nO,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nh:i=10;break e;case FX:i=9;break e;case GR:i=11;break e;case KR:i=14;break e;case Op:i=16,n=null;break e}i=29,r=Error(ot(130,e===null?"null":typeof e,"")),n=null}return t=ac(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function fg(e,t,r,n){return e=ac(7,e,n,t),e.lanes=r,e}function hT(e,t,r){return e=ac(6,e,null,t),e.lanes=r,e}function vJ(e){var t=ac(18,null,null,0);return t.stateNode=e,t}function pT(e,t,r){return t=ac(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var I9=new WeakMap;function nd(e,t){if(typeof e=="object"&&e!==null){var r=I9.get(e);return r!==void 0?r:(t={value:e,source:t,stack:x9(t)},I9.set(e,t),t)}return{value:e,source:t,stack:x9(t)}}var Ly=[],Iy=0,ik=null,Sw=0,Jc=[],Qc=0,Pm=null,Pu=1,Ru="";function Kf(e,t){Ly[Iy++]=Sw,Ly[Iy++]=ik,ik=e,Sw=t}function bJ(e,t,r){Jc[Qc++]=Pu,Jc[Qc++]=Ru,Jc[Qc++]=Pm,Pm=e;var n=Pu;e=Ru;var a=32-xc(n)-1;n&=~(1<<a),r+=1;var s=32-xc(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Pu=1<<32-xc(t)+a|r<<a|n,Ru=s+e}else Pu=1<<s|r<<a|n,Ru=e}function c8(e){e.return!==null&&(Kf(e,1),bJ(e,1,0))}function d8(e){for(;e===ik;)ik=Ly[--Iy],Ly[Iy]=null,Sw=Ly[--Iy],Ly[Iy]=null;for(;e===Pm;)Pm=Jc[--Qc],Jc[Qc]=null,Ru=Jc[--Qc],Jc[Qc]=null,Pu=Jc[--Qc],Jc[Qc]=null}function wJ(e,t){Jc[Qc++]=Pu,Jc[Qc++]=Ru,Jc[Qc++]=Pm,Pu=t.id,Ru=t.overflow,Pm=e}var Ui=null,la=null,Jr=!1,pm=null,ad=!1,yO=Error(ot(519));function Rm(e){var t=Error(ot(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jw(nd(t,e)),yO}function F9(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[$i]=e,t[Nl]=n,r){case"dialog":qr("cancel",t),qr("close",t);break;case"iframe":case"object":case"embed":qr("load",t);break;case"video":case"audio":for(r=0;r<Aw.length;r++)qr(Aw[r],t);break;case"source":qr("error",t);break;case"img":case"image":case"link":qr("error",t),qr("load",t);break;case"details":qr("toggle",t);break;case"input":qr("invalid",t),JX(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":qr("invalid",t);break;case"textarea":qr("invalid",t),ZX(t,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||n.suppressHydrationWarning===!0||nZ(t.textContent,r)?(n.popover!=null&&(qr("beforetoggle",t),qr("toggle",t)),n.onScroll!=null&&qr("scroll",t),n.onScrollEnd!=null&&qr("scrollend",t),n.onClick!=null&&(t.onclick=ah),t=!0):t=!1,t||Rm(e,!0)}function z9(e){for(Ui=e.return;Ui;)switch(Ui.tag){case 5:case 31:case 13:ad=!1;return;case 27:case 3:ad=!0;return;default:Ui=Ui.return}}function qx(e){if(e!==Ui)return!1;if(!Jr)return z9(e),Jr=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||UO(e.type,e.memoizedProps)),r=!r),r&&la&&Rm(e),z9(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ot(317));la=_B(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ot(317));la=_B(e)}else t===27?(t=la,t0(e.type)?(e=YO,YO=null,la=e):la=t):la=Ui?fd(e.stateNode.nextSibling):null;return!0}function Rg(){la=Ui=null,Jr=!1}function mT(){var e=pm;return e!==null&&(il===null?il=e:il.push.apply(il,e),pm=null),e}function jw(e){pm===null?pm=[e]:pm.push(e)}var vO=sf(null),yx=null,sh=null;function Bp(e,t,r){ea(vO,t._currentValue),t._currentValue=r}function hh(e){e._currentValue=vO.current,bi(vO)}function bO(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function wO(e,t,r,n){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){var i=a.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),bO(s.return,r,e),n||(i=null);break e}s=l.next}}else if(a.tag===18){if(i=a.return,i===null)throw Error(ot(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),bO(i,r,e),i=null}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===e){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}}function vb(e,t,r,n){e=null;for(var a=t,s=!1;a!==null;){if(!s){if(a.flags&524288)s=!0;else if(a.flags&262144)break}if(a.tag===10){var i=a.alternate;if(i===null)throw Error(ot(387));if(i=i.memoizedProps,i!==null){var l=a.type;kc(a.pendingProps.value,i.value)||(e!==null?e.push(l):e=[l])}}else if(a===Z_.current){if(i=a.alternate,i===null)throw Error(ot(387));i.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Tw):e=[Tw])}a=a.return}e!==null&&wO(t,e,r,n),t.flags|=262144}function ok(e){for(e=e.firstContext;e!==null;){if(!kc(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Lg(e){yx=e,sh=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Wi(e){return NJ(yx,e)}function jj(e,t){return yx===null&&Lg(e),NJ(e,t)}function NJ(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},sh===null){if(e===null)throw Error(ot(308));sh=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sh=sh.next=t;return r}var x0e=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},y0e=Zs.unstable_scheduleCallback,v0e=Zs.unstable_NormalPriority,Ts={$$typeof:nh,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function u8(){return{controller:new x0e,data:new Map,refCount:0}}function zN(e){e.refCount--,e.refCount===0&&y0e(v0e,function(){e.controller.abort()})}var k2=null,NO=0,_v=0,Xy=null;function b0e(e,t){if(k2===null){var r=k2=[];NO=0,_v=L8(),Xy={status:"pending",value:void 0,then:function(n){r.push(n)}}}return NO++,t.then(B9,B9),t}function B9(){if(--NO===0&&k2!==null){Xy!==null&&(Xy.status="fulfilled");var e=k2;k2=null,_v=0,Xy=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function w0e(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(a){r.push(a)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var a=0;a<r.length;a++)(0,r[a])(t)},function(a){for(n.status="rejected",n.reason=a,a=0;a<r.length;a++)(0,r[a])(void 0)}),n}var H9=mr.S;mr.S=function(e,t){LQ=mc(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&b0e(e,t),H9!==null&&H9(e,t)};var hg=sf(null);function f8(){var e=hg.current;return e!==null?e:Yn.pooledCache}function i_(e,t){t===null?ea(hg,hg.current):ea(hg,t.pool)}function SJ(){var e=f8();return e===null?null:{parent:Ts._currentValue,pool:e}}var bb=Error(ot(460)),h8=Error(ot(474)),m4=Error(ot(542)),lk={then:function(){}};function $9(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jJ(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(ah,ah),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,V9(e),e;default:if(typeof t.status=="string")t.then(ah,ah);else{if(e=Yn,e!==null&&100<e.shellSuspendCounter)throw Error(ot(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=n}},function(n){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,V9(e),e}throw pg=t,bb}}function P0(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(pg=r,bb):r}}var pg=null;function U9(){if(pg===null)throw Error(ot(459));var e=pg;return pg=null,e}function V9(e){if(e===bb||e===m4)throw Error(ot(483))}var Jy=null,_w=0;function _j(e){var t=_w;return _w+=1,Jy===null&&(Jy=[]),jJ(Jy,e,t)}function N1(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function kj(e,t){throw t.$$typeof===ome?Error(ot(525)):(e=Object.prototype.toString.call(t),Error(ot(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function _J(e){function t(y,v){if(e){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y){for(var v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function a(y,v){return y=fh(y,v),y.index=0,y.sibling=null,y}function s(y,v,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=67108866,v):w):(y.flags|=67108866,v)):(y.flags|=1048576,v)}function i(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function l(y,v,w,N){return v===null||v.tag!==6?(v=hT(w,y.mode,N),v.return=y,v):(v=a(v,w),v.return=y,v)}function c(y,v,w,N){var C=w.type;return C===Cy?u(y,v,w.props.children,N,w.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Op&&P0(C)===v.type)?(v=a(v,w.props),N1(v,w),v.return=y,v):(v=s_(w.type,w.key,w.props,null,y.mode,N),N1(v,w),v.return=y,v)}function d(y,v,w,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=pT(w,y.mode,N),v.return=y,v):(v=a(v,w.children||[]),v.return=y,v)}function u(y,v,w,N,C){return v===null||v.tag!==7?(v=fg(w,y.mode,N,C),v.return=y,v):(v=a(v,w),v.return=y,v)}function f(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=hT(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case yj:return w=s_(v.type,v.key,v.props,null,y.mode,w),N1(w,v),w.return=y,w;case e2:return v=pT(v,y.mode,w),v.return=y,v;case Op:return v=P0(v),f(y,v,w)}if(t2(v)||v1(v))return v=fg(v,y.mode,w,null),v.return=y,v;if(typeof v.then=="function")return f(y,_j(v),w);if(v.$$typeof===nh)return f(y,jj(y,v),w);kj(y,v)}return null}function p(y,v,w,N){var C=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return C!==null?null:l(y,v,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yj:return w.key===C?c(y,v,w,N):null;case e2:return w.key===C?d(y,v,w,N):null;case Op:return w=P0(w),p(y,v,w,N)}if(t2(w)||v1(w))return C!==null?null:u(y,v,w,N,null);if(typeof w.then=="function")return p(y,v,_j(w),N);if(w.$$typeof===nh)return p(y,v,jj(y,w),N);kj(y,w)}return null}function h(y,v,w,N,C){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return y=y.get(w)||null,l(v,y,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case yj:return y=y.get(N.key===null?w:N.key)||null,c(v,y,N,C);case e2:return y=y.get(N.key===null?w:N.key)||null,d(v,y,N,C);case Op:return N=P0(N),h(y,v,w,N,C)}if(t2(N)||v1(N))return y=y.get(w)||null,u(v,y,N,C,null);if(typeof N.then=="function")return h(y,v,w,_j(N),C);if(N.$$typeof===nh)return h(y,v,w,jj(v,N),C);kj(v,N)}return null}function m(y,v,w,N){for(var C=null,_=null,S=v,k=v=0,A=null;S!==null&&k<w.length;k++){S.index>k?(A=S,S=null):A=S.sibling;var O=p(y,S,w[k],N);if(O===null){S===null&&(S=A);break}e&&S&&O.alternate===null&&t(y,S),v=s(O,v,k),_===null?C=O:_.sibling=O,_=O,S=A}if(k===w.length)return r(y,S),Jr&&Kf(y,k),C;if(S===null){for(;k<w.length;k++)S=f(y,w[k],N),S!==null&&(v=s(S,v,k),_===null?C=S:_.sibling=S,_=S);return Jr&&Kf(y,k),C}for(S=n(S);k<w.length;k++)A=h(S,y,k,w[k],N),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?k:A.key),v=s(A,v,k),_===null?C=A:_.sibling=A,_=A);return e&&S.forEach(function(D){return t(y,D)}),Jr&&Kf(y,k),C}function g(y,v,w,N){if(w==null)throw Error(ot(151));for(var C=null,_=null,S=v,k=v=0,A=null,O=w.next();S!==null&&!O.done;k++,O=w.next()){S.index>k?(A=S,S=null):A=S.sibling;var D=p(y,S,O.value,N);if(D===null){S===null&&(S=A);break}e&&S&&D.alternate===null&&t(y,S),v=s(D,v,k),_===null?C=D:_.sibling=D,_=D,S=A}if(O.done)return r(y,S),Jr&&Kf(y,k),C;if(S===null){for(;!O.done;k++,O=w.next())O=f(y,O.value,N),O!==null&&(v=s(O,v,k),_===null?C=O:_.sibling=O,_=O);return Jr&&Kf(y,k),C}for(S=n(S);!O.done;k++,O=w.next())O=h(S,y,k,O.value,N),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?k:O.key),v=s(O,v,k),_===null?C=O:_.sibling=O,_=O);return e&&S.forEach(function(M){return t(y,M)}),Jr&&Kf(y,k),C}function x(y,v,w,N){if(typeof w=="object"&&w!==null&&w.type===Cy&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case yj:e:{for(var C=w.key;v!==null;){if(v.key===C){if(C=w.type,C===Cy){if(v.tag===7){r(y,v.sibling),N=a(v,w.props.children),N.return=y,y=N;break e}}else if(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Op&&P0(C)===v.type){r(y,v.sibling),N=a(v,w.props),N1(N,w),N.return=y,y=N;break e}r(y,v);break}else t(y,v);v=v.sibling}w.type===Cy?(N=fg(w.props.children,y.mode,N,w.key),N.return=y,y=N):(N=s_(w.type,w.key,w.props,null,y.mode,N),N1(N,w),N.return=y,y=N)}return i(y);case e2:e:{for(C=w.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(y,v.sibling),N=a(v,w.children||[]),N.return=y,y=N;break e}else{r(y,v);break}else t(y,v);v=v.sibling}N=pT(w,y.mode,N),N.return=y,y=N}return i(y);case Op:return w=P0(w),x(y,v,w,N)}if(t2(w))return m(y,v,w,N);if(v1(w)){if(C=v1(w),typeof C!="function")throw Error(ot(150));return w=C.call(w),g(y,v,w,N)}if(typeof w.then=="function")return x(y,v,_j(w),N);if(w.$$typeof===nh)return x(y,v,jj(y,w),N);kj(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,v!==null&&v.tag===6?(r(y,v.sibling),N=a(v,w),N.return=y,y=N):(r(y,v),N=hT(w,y.mode,N),N.return=y,y=N),i(y)):r(y,v)}return function(y,v,w,N){try{_w=0;var C=x(y,v,w,N);return Jy=null,C}catch(S){if(S===bb||S===m4)throw S;var _=ac(29,S,null,y.mode);return _.lanes=N,_.return=y,_}finally{}}}var Ig=_J(!0),kJ=_J(!1),Pp=!1;function p8(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function SO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function mm(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function gm(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,un&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=sk(e),xJ(e,null,r),t}return p4(e,n,t,r),sk(e)}function C2(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,VX(e,r)}}function gT(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,callbacks:n.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var jO=!1;function A2(){if(jO){var e=Xy;if(e!==null)throw e}}function E2(e,t,r,n){jO=!1;var a=e.updateQueue;Pp=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?s=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,u=d=c=null,l=s;do{var p=l.lane&-536870913,h=p!==l.lane;if(h?(Kr&p)===p:(n&p)===p){p!==0&&p===_v&&(jO=!0),u!==null&&(u=u.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var m=e,g=l;p=t;var x=r;switch(g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(x,f,p);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,p=typeof m=="function"?m.call(x,f,p):m,p==null)break e;f=ha({},f,p);break e;case 2:Pp=!0}}p=l.callback,p!==null&&(e.flags|=64,h&&(e.flags|=8192),h=a.callbacks,h===null?a.callbacks=[p]:h.push(p))}else h={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=h,c=f):u=u.next=h,i|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,s===null&&(a.shared.lanes=0),Im|=i,e.lanes=i,e.memoizedState=f}}function CJ(e,t){if(typeof e!="function")throw Error(ot(191,e));e.call(t)}function AJ(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)CJ(r[e],t)}var kv=sf(null),ck=sf(0);function q9(e,t){e=Ph,ea(ck,e),ea(kv,t),Ph=e|t.baseLanes}function _O(){ea(ck,Ph),ea(kv,kv.current)}function m8(){Ph=ck.current,bi(kv),bi(ck)}var Cc=sf(null),ud=null;function Hp(e){var t=e.alternate;ea(hs,hs.current&1),ea(Cc,e),ud===null&&(t===null||kv.current!==null||t.memoizedState!==null)&&(ud=e)}function kO(e){ea(hs,hs.current),ea(Cc,e),ud===null&&(ud=e)}function EJ(e){e.tag===22?(ea(hs,hs.current),ea(Cc,e),ud===null&&(ud=e)):$p()}function $p(){ea(hs,hs.current),ea(Cc,Cc.current)}function ec(e){bi(Cc),ud===e&&(ud=null),bi(hs)}var hs=sf(0);function dk(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||qO(r)||WO(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dh=0,Tr=null,Ln=null,Cs=null,uk=!1,Qy=!1,Fg=!1,fk=0,kw=0,Zy=null,N0e=0;function $a(){throw Error(ot(321))}function g8(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!kc(e[r],t[r]))return!1;return!0}function x8(e,t,r,n,a,s){return Dh=s,Tr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mr.H=e===null||e.memoizedState===null?iQ:A8,Fg=!1,s=r(n,a),Fg=!1,Qy&&(s=DJ(t,r,n,a)),TJ(e),s}function TJ(e){mr.H=Cw;var t=Ln!==null&&Ln.next!==null;if(Dh=0,Cs=Ln=Tr=null,uk=!1,kw=0,Zy=null,t)throw Error(ot(300));e===null||Ds||(e=e.dependencies,e!==null&&ok(e)&&(Ds=!0))}function DJ(e,t,r,n){Tr=e;var a=0;do{if(Qy&&(Zy=null),kw=0,Qy=!1,25<=a)throw Error(ot(301));if(a+=1,Cs=Ln=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}mr.H=oQ,s=t(r,n)}while(Qy);return s}function S0e(){var e=mr.H,t=e.useState()[0];return t=typeof t.then=="function"?BN(t):t,e=e.useState()[0],(Ln!==null?Ln.memoizedState:null)!==e&&(Tr.flags|=1024),t}function y8(){var e=fk!==0;return fk=0,e}function v8(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function b8(e){if(uk){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}uk=!1}Dh=0,Cs=Ln=Tr=null,Qy=!1,kw=fk=0,Zy=null}function Do(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cs===null?Tr.memoizedState=Cs=e:Cs=Cs.next=e,Cs}function ys(){if(Ln===null){var e=Tr.alternate;e=e!==null?e.memoizedState:null}else e=Ln.next;var t=Cs===null?Tr.memoizedState:Cs.next;if(t!==null)Cs=t,Ln=e;else{if(e===null)throw Tr.alternate===null?Error(ot(467)):Error(ot(310));Ln=e,e={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Cs===null?Tr.memoizedState=Cs=e:Cs=Cs.next=e}return Cs}function g4(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function BN(e){var t=kw;return kw+=1,Zy===null&&(Zy=[]),e=jJ(Zy,e,t),t=Tr,(Cs===null?t.memoizedState:Cs.next)===null&&(t=t.alternate,mr.H=t===null||t.memoizedState===null?iQ:A8),e}function x4(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return BN(e);if(e.$$typeof===nh)return Wi(e)}throw Error(ot(438,String(e)))}function w8(e){var t=null,r=Tr.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var n=Tr.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=g4(),Tr.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=lme;return t.index++,r}function Mh(e,t){return typeof t=="function"?t(e):t}function o_(e){var t=ys();return N8(t,Ln,e)}function N8(e,t,r){var n=e.queue;if(n===null)throw Error(ot(311));n.lastRenderedReducer=r;var a=e.baseQueue,s=n.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}t.baseQueue=a=s,n.pending=null}if(s=e.baseState,a===null)e.memoizedState=s;else{t=a.next;var l=i=null,c=null,d=t,u=!1;do{var f=d.lane&-536870913;if(f!==d.lane?(Kr&f)===f:(Dh&f)===f){var p=d.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),f===_v&&(u=!0);else if((Dh&p)===p){d=d.next,p===_v&&(u=!0);continue}else f={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},c===null?(l=c=f,i=s):c=c.next=f,Tr.lanes|=p,Im|=p;f=d.action,Fg&&r(s,f),s=d.hasEagerState?d.eagerState:r(s,f)}else p={lane:f,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},c===null?(l=c=p,i=s):c=c.next=p,Tr.lanes|=f,Im|=f;d=d.next}while(d!==null&&d!==t);if(c===null?i=s:c.next=l,!kc(s,e.memoizedState)&&(Ds=!0,u&&(r=Xy,r!==null)))throw r;e.memoizedState=s,e.baseState=i,e.baseQueue=c,n.lastRenderedState=s}return a===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function xT(e){var t=ys(),r=t.queue;if(r===null)throw Error(ot(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);kc(s,t.memoizedState)||(Ds=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function MJ(e,t,r){var n=Tr,a=ys(),s=Jr;if(s){if(r===void 0)throw Error(ot(407));r=r()}else r=t();var i=!kc((Ln||a).memoizedState,r);if(i&&(a.memoizedState=r,Ds=!0),a=a.queue,S8(RJ.bind(null,n,a,e),[e]),a.getSnapshot!==t||i||Cs!==null&&Cs.memoizedState.tag&1){if(n.flags|=2048,Cv(9,{destroy:void 0},PJ.bind(null,n,a,r,t),null),Yn===null)throw Error(ot(349));s||Dh&127||OJ(n,t,r)}return r}function OJ(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Tr.updateQueue,t===null?(t=g4(),Tr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function PJ(e,t,r,n){t.value=r,t.getSnapshot=n,LJ(t)&&IJ(e)}function RJ(e,t,r){return r(function(){LJ(t)&&IJ(e)})}function LJ(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!kc(e,r)}catch{return!0}}function IJ(e){var t=xx(e,2);t!==null&&hl(t,e,2)}function CO(e){var t=Do();if(typeof e=="function"){var r=e;if(e=r(),Fg){Yp(!0);try{r()}finally{Yp(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mh,lastRenderedState:e},t}function FJ(e,t,r,n){return e.baseState=r,N8(e,Ln,typeof n=="function"?n:Mh)}function j0e(e,t,r,n,a){if(v4(e))throw Error(ot(485));if(e=t.action,e!==null){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){s.listeners.push(i)}};mr.T!==null?r(!0):s.isTransition=!1,n(s),r=t.pending,r===null?(s.next=t.pending=s,zJ(t,s)):(s.next=r.next,t.pending=r.next=s)}}function zJ(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var s=mr.T,i={};mr.T=i;try{var l=r(a,n),c=mr.S;c!==null&&c(i,l),W9(e,t,l)}catch(d){AO(e,t,d)}finally{s!==null&&i.types!==null&&(s.types=i.types),mr.T=s}}else try{s=r(a,n),W9(e,t,s)}catch(d){AO(e,t,d)}}function W9(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){Y9(e,t,n)},function(n){return AO(e,t,n)}):Y9(e,t,r)}function Y9(e,t,r){t.status="fulfilled",t.value=r,BJ(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,zJ(e,r)))}function AO(e,t,r){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=r,BJ(t),t=t.next;while(t!==n)}e.action=null}function BJ(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function HJ(e,t){return t}function G9(e,t){if(Jr){var r=Yn.formState;if(r!==null){e:{var n=Tr;if(Jr){if(la){t:{for(var a=la,s=ad;a.nodeType!==8;){if(!s){a=null;break t}if(a=fd(a.nextSibling),a===null){a=null;break t}}s=a.data,a=s==="F!"||s==="F"?a:null}if(a){la=fd(a.nextSibling),n=a.data==="F!";break e}}Rm(n)}n=!1}n&&(t=r[0])}}return r=Do(),r.memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:HJ,lastRenderedState:t},r.queue=n,r=nQ.bind(null,Tr,n),n.dispatch=r,n=CO(!1),s=C8.bind(null,Tr,!1,n.queue),n=Do(),a={state:t,dispatch:null,action:e,pending:null},n.queue=a,r=j0e.bind(null,Tr,a,s,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function K9(e){var t=ys();return $J(t,Ln,e)}function $J(e,t,r){if(t=N8(e,t,HJ)[0],e=o_(Mh)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=BN(t)}catch(i){throw i===bb?m4:i}else n=t;t=ys();var a=t.queue,s=a.dispatch;return r!==t.memoizedState&&(Tr.flags|=2048,Cv(9,{destroy:void 0},_0e.bind(null,a,r),null)),[n,s,e]}function _0e(e,t){e.action=t}function X9(e){var t=ys(),r=Ln;if(r!==null)return $J(t,r,e);ys(),t=t.memoizedState,r=ys();var n=r.queue.dispatch;return r.memoizedState=e,[t,n,!1]}function Cv(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},t=Tr.updateQueue,t===null&&(t=g4(),Tr.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function UJ(){return ys().memoizedState}function l_(e,t,r,n){var a=Do();Tr.flags|=e,a.memoizedState=Cv(1|t,{destroy:void 0},r,n===void 0?null:n)}function y4(e,t,r,n){var a=ys();n=n===void 0?null:n;var s=a.memoizedState.inst;Ln!==null&&n!==null&&g8(n,Ln.memoizedState.deps)?a.memoizedState=Cv(t,s,r,n):(Tr.flags|=e,a.memoizedState=Cv(1|t,s,r,n))}function J9(e,t){l_(8390656,8,e,t)}function S8(e,t){y4(2048,8,e,t)}function k0e(e){Tr.flags|=4;var t=Tr.updateQueue;if(t===null)t=g4(),Tr.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function VJ(e){var t=ys().memoizedState;return k0e({ref:t,nextImpl:e}),function(){if(un&2)throw Error(ot(440));return t.impl.apply(void 0,arguments)}}function qJ(e,t){return y4(4,2,e,t)}function WJ(e,t){return y4(4,4,e,t)}function YJ(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function GJ(e,t,r){r=r!=null?r.concat([e]):null,y4(4,4,YJ.bind(null,t,e),r)}function j8(){}function KJ(e,t){var r=ys();t=t===void 0?null:t;var n=r.memoizedState;return t!==null&&g8(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function XJ(e,t){var r=ys();t=t===void 0?null:t;var n=r.memoizedState;if(t!==null&&g8(t,n[1]))return n[0];if(n=e(),Fg){Yp(!0);try{e()}finally{Yp(!1)}}return r.memoizedState=[n,t],n}function _8(e,t,r){return r===void 0||Dh&1073741824&&!(Kr&261930)?e.memoizedState=t:(e.memoizedState=r,e=FQ(),Tr.lanes|=e,Im|=e,r)}function JJ(e,t,r,n){return kc(r,t)?r:kv.current!==null?(e=_8(e,r,n),kc(e,t)||(Ds=!0),e):!(Dh&42)||Dh&1073741824&&!(Kr&261930)?(Ds=!0,e.memoizedState=r):(e=FQ(),Tr.lanes|=e,Im|=e,t)}function QJ(e,t,r,n,a){var s=fn.p;fn.p=s!==0&&8>s?s:8;var i=mr.T,l={};mr.T=l,C8(e,!1,t,r);try{var c=a(),d=mr.S;if(d!==null&&d(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=w0e(c,n);T2(e,t,u,yc(e))}else T2(e,t,n,yc(e))}catch(f){T2(e,t,{then:function(){},status:"rejected",reason:f},yc())}finally{fn.p=s,i!==null&&l.types!==null&&(i.types=l.types),mr.T=i}}function C0e(){}function EO(e,t,r,n){if(e.tag!==5)throw Error(ot(476));var a=ZJ(e).queue;QJ(e,a,t,ug,r===null?C0e:function(){return eQ(e),r(n)})}function ZJ(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ug,baseState:ug,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mh,lastRenderedState:ug},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mh,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function eQ(e){var t=ZJ(e);t.next===null&&(t=e.alternate.memoizedState),T2(e,t.next.queue,{},yc())}function k8(){return Wi(Tw)}function tQ(){return ys().memoizedState}function rQ(){return ys().memoizedState}function A0e(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=yc();e=mm(r);var n=gm(t,e,r);n!==null&&(hl(n,t,r),C2(n,t,r)),t={cache:u8()},e.payload=t;return}t=t.return}}function E0e(e,t,r){var n=yc();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},v4(e)?aQ(t,r):(r=o8(e,t,r,n),r!==null&&(hl(r,e,n),sQ(r,t,n)))}function nQ(e,t,r){var n=yc();T2(e,t,r,n)}function T2(e,t,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(v4(e))aQ(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,kc(l,i))return p4(e,t,a,0),Yn===null&&h4(),!1}catch{}finally{}if(r=o8(e,t,a,n),r!==null)return hl(r,e,n),sQ(r,t,n),!0}return!1}function C8(e,t,r,n){if(n={lane:2,revertLane:L8(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},v4(e)){if(t)throw Error(ot(479))}else t=o8(e,r,n,2),t!==null&&hl(t,e,2)}function v4(e){var t=e.alternate;return e===Tr||t!==null&&t===Tr}function aQ(e,t){Qy=uk=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function sQ(e,t,r){if(r&4194048){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,VX(e,r)}}var Cw={readContext:Wi,use:x4,useCallback:$a,useContext:$a,useEffect:$a,useImperativeHandle:$a,useLayoutEffect:$a,useInsertionEffect:$a,useMemo:$a,useReducer:$a,useRef:$a,useState:$a,useDebugValue:$a,useDeferredValue:$a,useTransition:$a,useSyncExternalStore:$a,useId:$a,useHostTransitionStatus:$a,useFormState:$a,useActionState:$a,useOptimistic:$a,useMemoCache:$a,useCacheRefresh:$a};Cw.useEffectEvent=$a;var iQ={readContext:Wi,use:x4,useCallback:function(e,t){return Do().memoizedState=[e,t===void 0?null:t],e},useContext:Wi,useEffect:J9,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,l_(4194308,4,YJ.bind(null,t,e),r)},useLayoutEffect:function(e,t){return l_(4194308,4,e,t)},useInsertionEffect:function(e,t){l_(4,2,e,t)},useMemo:function(e,t){var r=Do();t=t===void 0?null:t;var n=e();if(Fg){Yp(!0);try{e()}finally{Yp(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Do();if(r!==void 0){var a=r(t);if(Fg){Yp(!0);try{r(t)}finally{Yp(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=E0e.bind(null,Tr,e),[n.memoizedState,e]},useRef:function(e){var t=Do();return e={current:e},t.memoizedState=e},useState:function(e){e=CO(e);var t=e.queue,r=nQ.bind(null,Tr,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:j8,useDeferredValue:function(e,t){var r=Do();return _8(r,e,t)},useTransition:function(){var e=CO(!1);return e=QJ.bind(null,Tr,e.queue,!0,!1),Do().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=Tr,a=Do();if(Jr){if(r===void 0)throw Error(ot(407));r=r()}else{if(r=t(),Yn===null)throw Error(ot(349));Kr&127||OJ(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,J9(RJ.bind(null,n,s,e),[e]),n.flags|=2048,Cv(9,{destroy:void 0},PJ.bind(null,n,s,r,t),null),r},useId:function(){var e=Do(),t=Yn.identifierPrefix;if(Jr){var r=Ru,n=Pu;r=(n&~(1<<32-xc(n)-1)).toString(32)+r,t="_"+t+"R_"+r,r=fk++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=N0e++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:k8,useFormState:G9,useActionState:G9,useOptimistic:function(e){var t=Do();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=C8.bind(null,Tr,!0,r),r.dispatch=t,[e,t]},useMemoCache:w8,useCacheRefresh:function(){return Do().memoizedState=A0e.bind(null,Tr)},useEffectEvent:function(e){var t=Do(),r={impl:e};return t.memoizedState=r,function(){if(un&2)throw Error(ot(440));return r.impl.apply(void 0,arguments)}}},A8={readContext:Wi,use:x4,useCallback:KJ,useContext:Wi,useEffect:S8,useImperativeHandle:GJ,useInsertionEffect:qJ,useLayoutEffect:WJ,useMemo:XJ,useReducer:o_,useRef:UJ,useState:function(){return o_(Mh)},useDebugValue:j8,useDeferredValue:function(e,t){var r=ys();return JJ(r,Ln.memoizedState,e,t)},useTransition:function(){var e=o_(Mh)[0],t=ys().memoizedState;return[typeof e=="boolean"?e:BN(e),t]},useSyncExternalStore:MJ,useId:tQ,useHostTransitionStatus:k8,useFormState:K9,useActionState:K9,useOptimistic:function(e,t){var r=ys();return FJ(r,Ln,e,t)},useMemoCache:w8,useCacheRefresh:rQ};A8.useEffectEvent=VJ;var oQ={readContext:Wi,use:x4,useCallback:KJ,useContext:Wi,useEffect:S8,useImperativeHandle:GJ,useInsertionEffect:qJ,useLayoutEffect:WJ,useMemo:XJ,useReducer:xT,useRef:UJ,useState:function(){return xT(Mh)},useDebugValue:j8,useDeferredValue:function(e,t){var r=ys();return Ln===null?_8(r,e,t):JJ(r,Ln.memoizedState,e,t)},useTransition:function(){var e=xT(Mh)[0],t=ys().memoizedState;return[typeof e=="boolean"?e:BN(e),t]},useSyncExternalStore:MJ,useId:tQ,useHostTransitionStatus:k8,useFormState:X9,useActionState:X9,useOptimistic:function(e,t){var r=ys();return Ln!==null?FJ(r,Ln,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:w8,useCacheRefresh:rQ};oQ.useEffectEvent=VJ;function yT(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ha({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var TO={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=yc(),a=mm(n);a.payload=t,r!=null&&(a.callback=r),t=gm(e,a,n),t!==null&&(hl(t,e,n),C2(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=yc(),a=mm(n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=gm(e,a,n),t!==null&&(hl(t,e,n),C2(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=yc(),n=mm(r);n.tag=2,t!=null&&(n.callback=t),t=gm(e,n,r),t!==null&&(hl(t,e,r),C2(t,e,r))}};function Q9(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!Nw(r,n)||!Nw(a,s):!0}function Z9(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&TO.enqueueReplaceState(t,t.state,null)}function zg(e,t){var r=t;if("ref"in t){r={};for(var n in t)n!=="ref"&&(r[n]=t[n])}if(e=e.defaultProps){r===t&&(r=ha({},r));for(var a in e)r[a]===void 0&&(r[a]=e[a])}return r}function lQ(e){ak(e)}function cQ(e){console.error(e)}function dQ(e){ak(e)}function hk(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function eB(e,t,r){try{var n=e.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function DO(e,t,r){return r=mm(r),r.tag=3,r.payload={element:null},r.callback=function(){hk(e,t)},r}function uQ(e){return e=mm(e),e.tag=3,e}function fQ(e,t,r,n){var a=r.type.getDerivedStateFromError;if(typeof a=="function"){var s=n.value;e.payload=function(){return a(s)},e.callback=function(){eB(t,r,n)}}var i=r.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){eB(t,r,n),typeof a!="function"&&(xm===null?xm=new Set([this]):xm.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})})}function T0e(e,t,r,n,a){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=r.alternate,t!==null&&vb(t,r,a,!0),r=Cc.current,r!==null){switch(r.tag){case 31:case 13:return ud===null?yk():r.alternate===null&&Ka===0&&(Ka=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===lk?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([n]):t.add(n),ET(e,n,a)),!1;case 22:return r.flags|=65536,n===lk?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([n]):r.add(n)),ET(e,n,a)),!1}throw Error(ot(435,r.tag))}return ET(e,n,a),yk(),!1}if(Jr)return t=Cc.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==yO&&(e=Error(ot(422),{cause:n}),jw(nd(e,r)))):(n!==yO&&(t=Error(ot(423),{cause:n}),jw(nd(t,r))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,n=nd(n,r),a=DO(e.stateNode,n,a),gT(e,a),Ka!==4&&(Ka=2)),!1;var s=Error(ot(520),{cause:n});if(s=nd(s,r),O2===null?O2=[s]:O2.push(s),Ka!==4&&(Ka=2),t===null)return!0;n=nd(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,e=DO(r.stateNode,n,e),gT(r,e),!1;case 1:if(t=r.type,s=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(xm===null||!xm.has(s))))return r.flags|=65536,a&=-a,r.lanes|=a,a=uQ(a),fQ(a,e,r,n),gT(r,a),!1}r=r.return}while(r!==null);return!1}var E8=Error(ot(461)),Ds=!1;function Ii(e,t,r,n){t.child=e===null?kJ(t,null,r,n):Ig(t,e.child,r,n)}function tB(e,t,r,n,a){r=r.render;var s=t.ref;if("ref"in n){var i={};for(var l in n)l!=="ref"&&(i[l]=n[l])}else i=n;return Lg(t),n=x8(e,t,r,i,s,a),l=y8(),e!==null&&!Ds?(v8(e,t,a),Oh(e,t,a)):(Jr&&l&&c8(t),t.flags|=1,Ii(e,t,n,a),t.child)}function rB(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!l8(s)&&s.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=s,hQ(e,t,s,n,a)):(e=s_(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!T8(e,a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Nw,r(i,n)&&e.ref===t.ref)return Oh(e,t,a)}return t.flags|=1,e=fh(s,n),e.ref=t.ref,e.return=t,t.child=e}function hQ(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Nw(s,n)&&e.ref===t.ref)if(Ds=!1,t.pendingProps=n=s,T8(e,a))e.flags&131072&&(Ds=!0);else return t.lanes=e.lanes,Oh(e,t,a)}return MO(e,t,r,n,a)}function pQ(e,t,r,n){var a=n.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|r:r,e!==null){for(n=t.child=e.child,a=0;n!==null;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~s}else n=0,t.child=null;return nB(e,t,s,r,n)}if(r&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&i_(t,s!==null?s.cachePool:null),s!==null?q9(t,s):_O(),EJ(t);else return n=t.lanes=536870912,nB(e,t,s!==null?s.baseLanes|r:r,r,n)}else s!==null?(i_(t,s.cachePool),q9(t,s),$p(),t.memoizedState=null):(e!==null&&i_(t,null),_O(),$p());return Ii(e,t,a,r),t.child}function n2(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function nB(e,t,r,n,a){var s=f8();return s=s===null?null:{parent:Ts._currentValue,pool:s},t.memoizedState={baseLanes:r,cachePool:s},e!==null&&i_(t,null),_O(),EJ(t),e!==null&&vb(e,t,n,!0),t.childLanes=a,null}function c_(e,t){return t=pk({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function aB(e,t,r){return Ig(t,e.child,null,r),e=c_(t,t.pendingProps),e.flags|=2,ec(t),t.memoizedState=null,e}function D0e(e,t,r){var n=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Jr){if(n.mode==="hidden")return e=c_(t,n),t.lanes=536870912,n2(null,e);if(kO(t),(e=la)?(e=iZ(e,ad),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Pm!==null?{id:Pu,overflow:Ru}:null,retryLane:536870912,hydrationErrors:null},r=vJ(e),r.return=t,t.child=r,Ui=t,la=null)):e=null,e===null)throw Rm(t);return t.lanes=536870912,null}return c_(t,n)}var s=e.memoizedState;if(s!==null){var i=s.dehydrated;if(kO(t),a)if(t.flags&256)t.flags&=-257,t=aB(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(ot(558));else if(Ds||vb(e,t,r,!1),a=(r&e.childLanes)!==0,Ds||a){if(n=Yn,n!==null&&(i=qX(n,r),i!==0&&i!==s.retryLane))throw s.retryLane=i,xx(e,i),hl(n,e,i),E8;yk(),t=aB(e,t,r)}else e=s.treeContext,la=fd(i.nextSibling),Ui=t,Jr=!0,pm=null,ad=!1,e!==null&&wJ(t,e),t=c_(t,n),t.flags|=4096;return t}return e=fh(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function d_(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(ot(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function MO(e,t,r,n,a){return Lg(t),r=x8(e,t,r,n,void 0,a),n=y8(),e!==null&&!Ds?(v8(e,t,a),Oh(e,t,a)):(Jr&&n&&c8(t),t.flags|=1,Ii(e,t,r,a),t.child)}function sB(e,t,r,n,a,s){return Lg(t),t.updateQueue=null,r=DJ(t,n,r,a),TJ(e),n=y8(),e!==null&&!Ds?(v8(e,t,s),Oh(e,t,s)):(Jr&&n&&c8(t),t.flags|=1,Ii(e,t,r,s),t.child)}function iB(e,t,r,n,a){if(Lg(t),t.stateNode===null){var s=Ry,i=r.contextType;typeof i=="object"&&i!==null&&(s=Wi(i)),s=new r(n,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=TO,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=n,s.state=t.memoizedState,s.refs={},p8(t),i=r.contextType,s.context=typeof i=="object"&&i!==null?Wi(i):Ry,s.state=t.memoizedState,i=r.getDerivedStateFromProps,typeof i=="function"&&(yT(t,r,i,n),s.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(i=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),i!==s.state&&TO.enqueueReplaceState(s,s.state,null),E2(t,n,s,a),A2(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,c=zg(r,l);s.props=c;var d=s.context,u=r.contextType;i=Ry,typeof u=="object"&&u!==null&&(i=Wi(u));var f=r.getDerivedStateFromProps;u=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,u||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||d!==i)&&Z9(t,s,n,i),Pp=!1;var p=t.memoizedState;s.state=p,E2(t,n,s,a),A2(),d=t.memoizedState,l||p!==d||Pp?(typeof f=="function"&&(yT(t,r,f,n),d=t.memoizedState),(c=Pp||Q9(t,r,c,n,p,d,i))?(u||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),s.props=n,s.state=d,s.context=i,n=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,SO(e,t),i=t.memoizedProps,u=zg(r,i),s.props=u,f=t.pendingProps,p=s.context,d=r.contextType,c=Ry,typeof d=="object"&&d!==null&&(c=Wi(d)),l=r.getDerivedStateFromProps,(d=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==f||p!==c)&&Z9(t,s,n,c),Pp=!1,p=t.memoizedState,s.state=p,E2(t,n,s,a),A2();var h=t.memoizedState;i!==f||p!==h||Pp||e!==null&&e.dependencies!==null&&ok(e.dependencies)?(typeof l=="function"&&(yT(t,r,l,n),h=t.memoizedState),(u=Pp||Q9(t,r,u,n,p,h,c)||e!==null&&e.dependencies!==null&&ok(e.dependencies))?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,h,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,h,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),s.props=n,s.state=h,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return s=n,d_(e,t),n=(t.flags&128)!==0,s||n?(s=t.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&n?(t.child=Ig(t,e.child,null,a),t.child=Ig(t,null,r,a)):Ii(e,t,r,a),t.memoizedState=s.state,e=t.child):e=Oh(e,t,a),e}function oB(e,t,r,n){return Rg(),t.flags|=256,Ii(e,t,r,n),t.child}var vT={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bT(e){return{baseLanes:e,cachePool:SJ()}}function wT(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=dc),e}function mQ(e,t,r){var n=t.pendingProps,a=!1,s=(t.flags&128)!==0,i;if((i=s)||(i=e!==null&&e.memoizedState===null?!1:(hs.current&2)!==0),i&&(a=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(Jr){if(a?Hp(t):$p(),(e=la)?(e=iZ(e,ad),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Pm!==null?{id:Pu,overflow:Ru}:null,retryLane:536870912,hydrationErrors:null},r=vJ(e),r.return=t,t.child=r,Ui=t,la=null)):e=null,e===null)throw Rm(t);return WO(e)?t.lanes=32:t.lanes=536870912,null}var l=n.children;return n=n.fallback,a?($p(),a=t.mode,l=pk({mode:"hidden",children:l},a),n=fg(n,a,r,null),l.return=t,n.return=t,l.sibling=n,t.child=l,n=t.child,n.memoizedState=bT(r),n.childLanes=wT(e,i,r),t.memoizedState=vT,n2(null,n)):(Hp(t),OO(t,l))}var c=e.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(s)t.flags&256?(Hp(t),t.flags&=-257,t=NT(e,t,r)):t.memoizedState!==null?($p(),t.child=e.child,t.flags|=128,t=null):($p(),l=n.fallback,a=t.mode,n=pk({mode:"visible",children:n.children},a),l=fg(l,a,r,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,Ig(t,e.child,null,r),n=t.child,n.memoizedState=bT(r),n.childLanes=wT(e,i,r),t.memoizedState=vT,t=n2(null,n));else if(Hp(t),WO(l)){if(i=l.nextSibling&&l.nextSibling.dataset,i)var d=i.dgst;i=d,n=Error(ot(419)),n.stack="",n.digest=i,jw({value:n,source:null,stack:null}),t=NT(e,t,r)}else if(Ds||vb(e,t,r,!1),i=(r&e.childLanes)!==0,Ds||i){if(i=Yn,i!==null&&(n=qX(i,r),n!==0&&n!==c.retryLane))throw c.retryLane=n,xx(e,n),hl(i,e,n),E8;qO(l)||yk(),t=NT(e,t,r)}else qO(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,la=fd(l.nextSibling),Ui=t,Jr=!0,pm=null,ad=!1,e!==null&&wJ(t,e),t=OO(t,n.children),t.flags|=4096);return t}return a?($p(),l=n.fallback,a=t.mode,c=e.child,d=c.sibling,n=fh(c,{mode:"hidden",children:n.children}),n.subtreeFlags=c.subtreeFlags&65011712,d!==null?l=fh(d,l):(l=fg(l,a,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n2(null,n),n=t.child,l=e.child.memoizedState,l===null?l=bT(r):(a=l.cachePool,a!==null?(c=Ts._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=SJ(),l={baseLanes:l.baseLanes|r,cachePool:a}),n.memoizedState=l,n.childLanes=wT(e,i,r),t.memoizedState=vT,n2(e.child,n)):(Hp(t),r=e.child,e=r.sibling,r=fh(r,{mode:"visible",children:n.children}),r.return=t,r.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=r,t.memoizedState=null,r)}function OO(e,t){return t=pk({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function pk(e,t){return e=ac(22,e,null,t),e.lanes=0,e}function NT(e,t,r){return Ig(t,e.child,null,r),e=OO(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lB(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),bO(e.return,t,r)}function ST(e,t,r,n,a,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a,i.treeForkCount=s)}function gQ(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;n=n.children;var i=hs.current,l=(i&2)!==0;if(l?(i=i&1|2,t.flags|=128):i&=1,ea(hs,i),Ii(e,t,n,r),n=Jr?Sw:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lB(e,r,t);else if(e.tag===19)lB(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&dk(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ST(t,!1,a,r,s,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&dk(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ST(t,!0,r,null,s,n);break;case"together":ST(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Oh(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Im|=t.lanes,!(r&t.childLanes))if(e!==null){if(vb(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(ot(153));if(t.child!==null){for(e=t.child,r=fh(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fh(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function T8(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ok(e)))}function M0e(e,t,r){switch(t.tag){case 3:ek(t,t.stateNode.containerInfo),Bp(t,Ts,e.memoizedState.cache),Rg();break;case 27:case 5:oO(t);break;case 4:ek(t,t.stateNode.containerInfo);break;case 10:Bp(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,kO(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Hp(t),t.flags|=128,null):r&t.child.childLanes?mQ(e,t,r):(Hp(t),e=Oh(e,t,r),e!==null?e.sibling:null);Hp(t);break;case 19:var a=(e.flags&128)!==0;if(n=(r&t.childLanes)!==0,n||(vb(e,t,r,!1),n=(r&t.childLanes)!==0),a){if(n)return gQ(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ea(hs,hs.current),n)break;return null;case 22:return t.lanes=0,pQ(e,t,r,t.pendingProps);case 24:Bp(t,Ts,e.memoizedState.cache)}return Oh(e,t,r)}function xQ(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ds=!0;else{if(!T8(e,r)&&!(t.flags&128))return Ds=!1,M0e(e,t,r);Ds=!!(e.flags&131072)}else Ds=!1,Jr&&t.flags&1048576&&bJ(t,Sw,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=P0(t.elementType),t.type=e,typeof e=="function")l8(e)?(n=zg(e,n),t.tag=1,t=iB(null,t,e,n,r)):(t.tag=0,t=MO(null,t,e,n,r));else{if(e!=null){var a=e.$$typeof;if(a===GR){t.tag=11,t=tB(null,t,e,n,r);break e}else if(a===KR){t.tag=14,t=rB(null,t,e,n,r);break e}}throw t=sO(e)||e,Error(ot(306,t,""))}}return t;case 0:return MO(e,t,t.type,t.pendingProps,r);case 1:return n=t.type,a=zg(n,t.pendingProps),iB(e,t,n,a,r);case 3:e:{if(ek(t,t.stateNode.containerInfo),e===null)throw Error(ot(387));n=t.pendingProps;var s=t.memoizedState;a=s.element,SO(e,t),E2(t,n,null,r);var i=t.memoizedState;if(n=i.cache,Bp(t,Ts,n),n!==s.cache&&wO(t,[Ts],r,!0),A2(),n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=oB(e,t,n,r);break e}else if(n!==a){a=nd(Error(ot(424)),t),jw(a),t=oB(e,t,n,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(la=fd(e.firstChild),Ui=t,Jr=!0,pm=null,ad=!0,r=kJ(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Rg(),n===a){t=Oh(e,t,r);break e}Ii(e,t,n,r)}t=t.child}return t;case 26:return d_(e,t),e===null?(r=AB(t.type,null,t.pendingProps,null))?t.memoizedState=r:Jr||(r=t.type,e=t.pendingProps,n=Nk(hm.current).createElement(r),n[$i]=t,n[Nl]=e,Ki(n,r,e),hi(n),t.stateNode=n):t.memoizedState=AB(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return oO(t),e===null&&Jr&&(n=t.stateNode=oZ(t.type,t.pendingProps,hm.current),Ui=t,ad=!0,a=la,t0(t.type)?(YO=a,la=fd(n.firstChild)):la=a),Ii(e,t,t.pendingProps.children,r),d_(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Jr&&((a=n=la)&&(n=lge(n,t.type,t.pendingProps,ad),n!==null?(t.stateNode=n,Ui=t,la=fd(n.firstChild),ad=!1,a=!0):a=!1),a||Rm(t)),oO(t),a=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,n=s.children,UO(a,s)?n=null:i!==null&&UO(a,i)&&(t.flags|=32),t.memoizedState!==null&&(a=x8(e,t,S0e,null,null,r),Tw._currentValue=a),d_(e,t),Ii(e,t,n,r),t.child;case 6:return e===null&&Jr&&((e=r=la)&&(r=cge(r,t.pendingProps,ad),r!==null?(t.stateNode=r,Ui=t,la=null,e=!0):e=!1),e||Rm(t)),null;case 13:return mQ(e,t,r);case 4:return ek(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ig(t,null,n,r):Ii(e,t,n,r),t.child;case 11:return tB(e,t,t.type,t.pendingProps,r);case 7:return Ii(e,t,t.pendingProps,r),t.child;case 8:return Ii(e,t,t.pendingProps.children,r),t.child;case 12:return Ii(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,Bp(t,t.type,n.value),Ii(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,Lg(t),a=Wi(a),n=n(a),t.flags|=1,Ii(e,t,n,r),t.child;case 14:return rB(e,t,t.type,t.pendingProps,r);case 15:return hQ(e,t,t.type,t.pendingProps,r);case 19:return gQ(e,t,r);case 31:return D0e(e,t,r);case 22:return pQ(e,t,r,t.pendingProps);case 24:return Lg(t),n=Wi(Ts),e===null?(a=f8(),a===null&&(a=Yn,s=u8(),a.pooledCache=s,s.refCount++,s!==null&&(a.pooledCacheLanes|=r),a=s),t.memoizedState={parent:n,cache:a},p8(t),Bp(t,Ts,a)):(e.lanes&r&&(SO(e,t),E2(t,null,null,r),A2()),a=e.memoizedState,s=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Bp(t,Ts,n)):(n=s.cache,Bp(t,Ts,n),n!==a.cache&&wO(t,[Ts],r,!0))),Ii(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(ot(156,t.tag))}function Ef(e){e.flags|=4}function jT(e,t,r,n,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(HQ())e.flags|=8192;else throw pg=lk,h8}else e.flags&=-16777217}function cB(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!dZ(t))if(HQ())e.flags|=8192;else throw pg=lk,h8}function Cj(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?$X():536870912,e.lanes|=t,Av|=t)}function S1(e,t){if(!Jr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function aa(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function O0e(e,t,r){var n=t.pendingProps;switch(d8(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return aa(t),null;case 1:return aa(t),null;case 3:return r=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),hh(Ts),Nv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(qx(t)?Ef(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mT())),aa(t),null;case 26:var a=t.type,s=t.memoizedState;return e===null?(Ef(t),s!==null?(aa(t),cB(t,s)):(aa(t),jT(t,a,null,n,r))):s?s!==e.memoizedState?(Ef(t),aa(t),cB(t,s)):(aa(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Ef(t),aa(t),jT(t,a,e,n,r)),null;case 27:if(tk(t),r=hm.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Ef(t);else{if(!n){if(t.stateNode===null)throw Error(ot(166));return aa(t),null}e=Vu.current,qx(t)?F9(t):(e=oZ(a,n,r),t.stateNode=e,Ef(t))}return aa(t),null;case 5:if(tk(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Ef(t);else{if(!n){if(t.stateNode===null)throw Error(ot(166));return aa(t),null}if(s=Vu.current,qx(t))F9(t);else{var i=Nk(hm.current);switch(s){case 1:s=i.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=i.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":s=i.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof n.is=="string"?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?s.multiple=!0:n.size&&(s.size=n.size);break;default:s=typeof n.is=="string"?i.createElement(a,{is:n.is}):i.createElement(a)}}s[$i]=t,s[Nl]=n;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)s.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=s;e:switch(Ki(s,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ef(t)}}return aa(t),jT(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Ef(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ot(166));if(e=hm.current,qx(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,a=Ui,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}e[$i]=t,e=!!(e.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||nZ(e.nodeValue,r)),e||Rm(t,!0)}else e=Nk(e).createTextNode(n),e[$i]=t,t.stateNode=e}return aa(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(n=qx(t),r!==null){if(e===null){if(!n)throw Error(ot(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ot(557));e[$i]=t}else Rg(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;aa(t),e=!1}else r=mT(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(ec(t),t):(ec(t),null);if(t.flags&128)throw Error(ot(558))}return aa(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=qx(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ot(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ot(317));a[$i]=t}else Rg(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;aa(t),a=!1}else a=mT(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(ec(t),t):(ec(t),null)}return ec(t),t.flags&128?(t.lanes=r,t):(r=n!==null,e=e!==null&&e.memoizedState!==null,r&&(n=t.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==a&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),Cj(t,t.updateQueue),aa(t),null);case 4:return Nv(),e===null&&I8(t.stateNode.containerInfo),aa(t),null;case 10:return hh(t.type),aa(t),null;case 19:if(bi(hs),n=t.memoizedState,n===null)return aa(t),null;if(a=(t.flags&128)!==0,s=n.rendering,s===null)if(a)S1(n,!1);else{if(Ka!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=dk(e),s!==null){for(t.flags|=128,S1(n,!1),e=s.updateQueue,t.updateQueue=e,Cj(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)yJ(r,e),r=r.sibling;return ea(hs,hs.current&1|2),Jr&&Kf(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&mc()>gk&&(t.flags|=128,a=!0,S1(n,!1),t.lanes=4194304)}else{if(!a)if(e=dk(s),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Cj(t,e),S1(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!Jr)return aa(t),null}else 2*mc()-n.renderingStartTime>gk&&r!==536870912&&(t.flags|=128,a=!0,S1(n,!1),t.lanes=4194304);n.isBackwards?(s.sibling=t.child,t.child=s):(e=n.last,e!==null?e.sibling=s:t.child=s,n.last=s)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=mc(),e.sibling=null,r=hs.current,ea(hs,a?r&1|2:r&1),Jr&&Kf(t,n.treeForkCount),e):(aa(t),null);case 22:case 23:return ec(t),m8(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?r&536870912&&!(t.flags&128)&&(aa(t),t.subtreeFlags&6&&(t.flags|=8192)):aa(t),r=t.updateQueue,r!==null&&Cj(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),e!==null&&bi(hg),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),hh(Ts),aa(t),null;case 25:return null;case 30:return null}throw Error(ot(156,t.tag))}function P0e(e,t){switch(d8(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hh(Ts),Nv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return tk(t),null;case 31:if(t.memoizedState!==null){if(ec(t),t.alternate===null)throw Error(ot(340));Rg()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ec(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ot(340));Rg()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return bi(hs),null;case 4:return Nv(),null;case 10:return hh(t.type),null;case 22:case 23:return ec(t),m8(),e!==null&&bi(hg),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return hh(Ts),null;case 25:return null;default:return null}}function yQ(e,t){switch(d8(t),t.tag){case 3:hh(Ts),Nv();break;case 26:case 27:case 5:tk(t);break;case 4:Nv();break;case 31:t.memoizedState!==null&&ec(t);break;case 13:ec(t);break;case 19:bi(hs);break;case 10:hh(t.type);break;case 22:case 23:ec(t),m8(),e!==null&&bi(hg);break;case 24:hh(Ts)}}function HN(e,t){try{var r=t.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var s=r.create,i=r.inst;n=s(),i.destroy=n}r=r.next}while(r!==a)}}catch(l){Tn(t,t.return,l)}}function Lm(e,t,r){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var s=a.next;n=s;do{if((n.tag&e)===e){var i=n.inst,l=i.destroy;if(l!==void 0){i.destroy=void 0,a=t;var c=r,d=l;try{d()}catch(u){Tn(a,c,u)}}}n=n.next}while(n!==s)}}catch(u){Tn(t,t.return,u)}}function vQ(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{AJ(t,r)}catch(n){Tn(e,e.return,n)}}}function bQ(e,t,r){r.props=zg(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){Tn(e,t,n)}}function D2(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof r=="function"?e.refCleanup=r(n):r.current=n}}catch(a){Tn(e,t,a)}}function Lu(e,t){var r=e.ref,n=e.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(a){Tn(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(a){Tn(e,t,a)}else r.current=null}function wQ(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){Tn(e,e.return,a)}}function _T(e,t,r){try{var n=e.stateNode;rge(n,e.type,r,t),n[Nl]=t}catch(a){Tn(e,e.return,a)}}function NQ(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&t0(e.type)||e.tag===4}function kT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||NQ(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&t0(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function PO(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ah));else if(n!==4&&(n===27&&t0(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(PO(e,t,r),e=e.sibling;e!==null;)PO(e,t,r),e=e.sibling}function mk(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(n===27&&t0(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(mk(e,t,r),e=e.sibling;e!==null;)mk(e,t,r),e=e.sibling}function SQ(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ki(t,n,r),t[$i]=e,t[Nl]=r}catch(s){Tn(e,e.return,s)}}var Zf=!1,As=!1,CT=!1,dB=typeof WeakSet=="function"?WeakSet:Set,ui=null;function R0e(e,t){if(e=e.containerInfo,HO=kk,e=dJ(e),s8(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,d=0,u=0,f=e,p=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===r&&++d===a&&(l=i),p===s&&++u===n&&(c=i),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for($O={focusedElem:e,selectionRange:r},kk=!1,ui=t;ui!==null;)if(t=ui,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ui=e;else for(;ui!==null;){switch(t=ui,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)a=e[r],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,r=t,a=s.memoizedProps,s=s.memoizedState,n=r.stateNode;try{var m=zg(r.type,a);e=n.getSnapshotBeforeUpdate(m,s),n.__reactInternalSnapshotBeforeUpdate=e}catch(g){Tn(r,r.return,g)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)VO(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":VO(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(ot(163))}if(e=t.sibling,e!==null){e.return=t.return,ui=e;break}ui=t.return}}function jQ(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Df(e,r),n&4&&HN(5,r);break;case 1:if(Df(e,r),n&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(i){Tn(r,r.return,i)}else{var a=zg(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){Tn(r,r.return,i)}}n&64&&vQ(r),n&512&&D2(r,r.return);break;case 3:if(Df(e,r),n&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{AJ(e,t)}catch(i){Tn(r,r.return,i)}}break;case 27:t===null&&n&4&&SQ(r);case 26:case 5:Df(e,r),t===null&&n&4&&wQ(r),n&512&&D2(r,r.return);break;case 12:Df(e,r);break;case 31:Df(e,r),n&4&&CQ(e,r);break;case 13:Df(e,r),n&4&&AQ(e,r),n&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=V0e.bind(null,r),dge(e,r))));break;case 22:if(n=r.memoizedState!==null||Zf,!n){t=t!==null&&t.memoizedState!==null||As,a=Zf;var s=As;Zf=n,(As=t)&&!s?Vf(e,r,(r.subtreeFlags&8772)!==0):Df(e,r),Zf=a,As=s}break;case 30:break;default:Df(e,r)}}function _Q(e){var t=e.alternate;t!==null&&(e.alternate=null,_Q(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ZR(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xa=null,nl=!1;function Tf(e,t,r){for(r=r.child;r!==null;)kQ(e,t,r),r=r.sibling}function kQ(e,t,r){if(gc&&typeof gc.onCommitFiberUnmount=="function")try{gc.onCommitFiberUnmount(PN,r)}catch{}switch(r.tag){case 26:As||Lu(r,t),Tf(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:As||Lu(r,t);var n=xa,a=nl;t0(r.type)&&(xa=r.stateNode,nl=!1),Tf(e,t,r),R2(r.stateNode),xa=n,nl=a;break;case 5:As||Lu(r,t);case 6:if(n=xa,a=nl,xa=null,Tf(e,t,r),xa=n,nl=a,xa!==null)if(nl)try{(xa.nodeType===9?xa.body:xa.nodeName==="HTML"?xa.ownerDocument.body:xa).removeChild(r.stateNode)}catch(s){Tn(r,t,s)}else try{xa.removeChild(r.stateNode)}catch(s){Tn(r,t,s)}break;case 18:xa!==null&&(nl?(e=xa,SB(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Mv(e)):SB(xa,r.stateNode));break;case 4:n=xa,a=nl,xa=r.stateNode.containerInfo,nl=!0,Tf(e,t,r),xa=n,nl=a;break;case 0:case 11:case 14:case 15:Lm(2,r,t),As||Lm(4,r,t),Tf(e,t,r);break;case 1:As||(Lu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"&&bQ(r,t,n)),Tf(e,t,r);break;case 21:Tf(e,t,r);break;case 22:As=(n=As)||r.memoizedState!==null,Tf(e,t,r),As=n;break;default:Tf(e,t,r)}}function CQ(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Mv(e)}catch(r){Tn(t,t.return,r)}}}function AQ(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Mv(e)}catch(r){Tn(t,t.return,r)}}function L0e(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new dB),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new dB),t;default:throw Error(ot(435,e.tag))}}function Aj(e,t){var r=L0e(e);t.forEach(function(n){if(!r.has(n)){r.add(n);var a=q0e.bind(null,e,n);n.then(a,a)}})}function tl(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n],s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 27:if(t0(l.type)){xa=l.stateNode,nl=!1;break e}break;case 5:xa=l.stateNode,nl=!1;break e;case 3:case 4:xa=l.stateNode.containerInfo,nl=!0;break e}l=l.return}if(xa===null)throw Error(ot(160));kQ(s,i,a),xa=null,nl=!1,s=a.alternate,s!==null&&(s.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)EQ(t,e),t=t.sibling}var Fd=null;function EQ(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:tl(t,e),rl(e),n&4&&(Lm(3,e,e.return),HN(3,e),Lm(5,e,e.return));break;case 1:tl(t,e),rl(e),n&512&&(As||r===null||Lu(r,r.return)),n&64&&Zf&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var a=Fd;if(tl(t,e),rl(e),n&512&&(As||r===null||Lu(r,r.return)),n&4){var s=r!==null?r.memoizedState:null;if(n=e.memoizedState,r===null)if(n===null)if(e.stateNode===null){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":s=a.getElementsByTagName("title")[0],(!s||s[IN]||s[$i]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=a.createElement(n),a.head.insertBefore(s,a.querySelector("head > title"))),Ki(s,n,r),s[$i]=e,hi(s),n=s;break e;case"link":var i=TB("link","href",a).get(n+(r.href||""));if(i){for(var l=0;l<i.length;l++)if(s=i[l],s.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&s.getAttribute("rel")===(r.rel==null?null:r.rel)&&s.getAttribute("title")===(r.title==null?null:r.title)&&s.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){i.splice(l,1);break t}}s=a.createElement(n),Ki(s,n,r),a.head.appendChild(s);break;case"meta":if(i=TB("meta","content",a).get(n+(r.content||""))){for(l=0;l<i.length;l++)if(s=i[l],s.getAttribute("content")===(r.content==null?null:""+r.content)&&s.getAttribute("name")===(r.name==null?null:r.name)&&s.getAttribute("property")===(r.property==null?null:r.property)&&s.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&s.getAttribute("charset")===(r.charSet==null?null:r.charSet)){i.splice(l,1);break t}}s=a.createElement(n),Ki(s,n,r),a.head.appendChild(s);break;default:throw Error(ot(468,n))}s[$i]=e,hi(s),n=s}e.stateNode=n}else DB(a,e.type,e.stateNode);else e.stateNode=EB(a,n,e.memoizedProps);else s!==n?(s===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):s.count--,n===null?DB(a,e.type,e.stateNode):EB(a,n,e.memoizedProps)):n===null&&e.stateNode!==null&&_T(e,e.memoizedProps,r.memoizedProps)}break;case 27:tl(t,e),rl(e),n&512&&(As||r===null||Lu(r,r.return)),r!==null&&n&4&&_T(e,e.memoizedProps,r.memoizedProps);break;case 5:if(tl(t,e),rl(e),n&512&&(As||r===null||Lu(r,r.return)),e.flags&32){a=e.stateNode;try{jv(a,"")}catch(m){Tn(e,e.return,m)}}n&4&&e.stateNode!=null&&(a=e.memoizedProps,_T(e,a,r!==null?r.memoizedProps:a)),n&1024&&(CT=!0);break;case 6:if(tl(t,e),rl(e),n&4){if(e.stateNode===null)throw Error(ot(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(m){Tn(e,e.return,m)}}break;case 3:if(h_=null,a=Fd,Fd=Sk(t.containerInfo),tl(t,e),Fd=a,rl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Mv(t.containerInfo)}catch(m){Tn(e,e.return,m)}CT&&(CT=!1,TQ(e));break;case 4:n=Fd,Fd=Sk(e.stateNode.containerInfo),tl(t,e),rl(e),Fd=n;break;case 12:tl(t,e),rl(e);break;case 31:tl(t,e),rl(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Aj(e,n)));break;case 13:tl(t,e),rl(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(b4=mc()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Aj(e,n)));break;case 22:a=e.memoizedState!==null;var c=r!==null&&r.memoizedState!==null,d=Zf,u=As;if(Zf=d||a,As=u||c,tl(t,e),As=u,Zf=d,rl(e),n&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(r===null||c||Zf||As||R0(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){c=r=t;try{if(s=c.stateNode,a)i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,p=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(m){Tn(c,c.return,m)}}}else if(t.tag===6){if(r===null){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(m){Tn(c,c.return,m)}}}else if(t.tag===18){if(r===null){c=t;try{var h=c.stateNode;a?jB(h,!0):jB(c.stateNode,!1)}catch(m){Tn(c,c.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,Aj(e,r))));break;case 19:tl(t,e),rl(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Aj(e,n)));break;case 30:break;case 21:break;default:tl(t,e),rl(e)}}function rl(e){var t=e.flags;if(t&2){try{for(var r,n=e.return;n!==null;){if(NQ(n)){r=n;break}n=n.return}if(r==null)throw Error(ot(160));switch(r.tag){case 27:var a=r.stateNode,s=kT(e);mk(e,s,a);break;case 5:var i=r.stateNode;r.flags&32&&(jv(i,""),r.flags&=-33);var l=kT(e);mk(e,l,i);break;case 3:case 4:var c=r.stateNode.containerInfo,d=kT(e);PO(e,d,c);break;default:throw Error(ot(161))}}catch(u){Tn(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function TQ(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;TQ(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Df(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)jQ(e,t.alternate,t),t=t.sibling}function R0(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Lm(4,t,t.return),R0(t);break;case 1:Lu(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&bQ(t,t.return,r),R0(t);break;case 27:R2(t.stateNode);case 26:case 5:Lu(t,t.return),R0(t);break;case 22:t.memoizedState===null&&R0(t);break;case 30:R0(t);break;default:R0(t)}e=e.sibling}}function Vf(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,a=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Vf(a,s,r),HN(4,s);break;case 1:if(Vf(a,s,r),n=s,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(d){Tn(n,n.return,d)}if(n=s,a=n.updateQueue,a!==null){var l=n.stateNode;try{var c=a.shared.hiddenCallbacks;if(c!==null)for(a.shared.hiddenCallbacks=null,a=0;a<c.length;a++)CJ(c[a],l)}catch(d){Tn(n,n.return,d)}}r&&i&64&&vQ(s),D2(s,s.return);break;case 27:SQ(s);case 26:case 5:Vf(a,s,r),r&&n===null&&i&4&&wQ(s),D2(s,s.return);break;case 12:Vf(a,s,r);break;case 31:Vf(a,s,r),r&&i&4&&CQ(a,s);break;case 13:Vf(a,s,r),r&&i&4&&AQ(a,s);break;case 22:s.memoizedState===null&&Vf(a,s,r),D2(s,s.return);break;case 30:break;default:Vf(a,s,r)}t=t.sibling}}function D8(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&zN(r))}function M8(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zN(e))}function Od(e,t,r,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)DQ(e,t,r,n),t=t.sibling}function DQ(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Od(e,t,r,n),a&2048&&HN(9,t);break;case 1:Od(e,t,r,n);break;case 3:Od(e,t,r,n),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zN(e)));break;case 12:if(a&2048){Od(e,t,r,n),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,l=s.onPostCommit;typeof l=="function"&&l(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){Tn(t,t.return,c)}}else Od(e,t,r,n);break;case 31:Od(e,t,r,n);break;case 13:Od(e,t,r,n);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,t.memoizedState!==null?s._visibility&2?Od(e,t,r,n):M2(e,t):s._visibility&2?Od(e,t,r,n):(s._visibility|=2,hy(e,t,r,n,(t.subtreeFlags&10256)!==0||!1)),a&2048&&D8(i,t);break;case 24:Od(e,t,r,n),a&2048&&M8(t.alternate,t);break;default:Od(e,t,r,n)}}function hy(e,t,r,n,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,i=t,l=r,c=n,d=i.flags;switch(i.tag){case 0:case 11:case 15:hy(s,i,l,c,a),HN(8,i);break;case 23:break;case 22:var u=i.stateNode;i.memoizedState!==null?u._visibility&2?hy(s,i,l,c,a):M2(s,i):(u._visibility|=2,hy(s,i,l,c,a)),a&&d&2048&&D8(i.alternate,i);break;case 24:hy(s,i,l,c,a),a&&d&2048&&M8(i.alternate,i);break;default:hy(s,i,l,c,a)}t=t.sibling}}function M2(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:M2(r,n),a&2048&&D8(n.alternate,n);break;case 24:M2(r,n),a&2048&&M8(n.alternate,n);break;default:M2(r,n)}t=t.sibling}}var a2=8192;function Wx(e,t,r){if(e.subtreeFlags&a2)for(e=e.child;e!==null;)MQ(e,t,r),e=e.sibling}function MQ(e,t,r){switch(e.tag){case 26:Wx(e,t,r),e.flags&a2&&e.memoizedState!==null&&Nge(r,Fd,e.memoizedState,e.memoizedProps);break;case 5:Wx(e,t,r);break;case 3:case 4:var n=Fd;Fd=Sk(e.stateNode.containerInfo),Wx(e,t,r),Fd=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=a2,a2=16777216,Wx(e,t,r),a2=n):Wx(e,t,r));break;default:Wx(e,t,r)}}function OQ(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function j1(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];ui=n,RQ(n,e)}OQ(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)PQ(e),e=e.sibling}function PQ(e){switch(e.tag){case 0:case 11:case 15:j1(e),e.flags&2048&&Lm(9,e,e.return);break;case 3:j1(e);break;case 12:j1(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,u_(e)):j1(e);break;default:j1(e)}}function u_(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];ui=n,RQ(n,e)}OQ(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Lm(8,t,t.return),u_(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,u_(t));break;default:u_(t)}e=e.sibling}}function RQ(e,t){for(;ui!==null;){var r=ui;switch(r.tag){case 0:case 11:case 15:Lm(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:zN(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,ui=n;else e:for(r=e;ui!==null;){n=ui;var a=n.sibling,s=n.return;if(_Q(n),n===r){ui=null;break e}if(a!==null){a.return=s,ui=a;break e}ui=s}}}var I0e={getCacheForType:function(e){var t=Wi(Ts),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Wi(Ts).controller.signal}},F0e=typeof WeakMap=="function"?WeakMap:Map,un=0,Yn=null,Wr=null,Kr=0,_n=0,Wl=null,Kp=!1,wb=!1,O8=!1,Ph=0,Ka=0,Im=0,mg=0,P8=0,dc=0,Av=0,O2=null,il=null,RO=!1,b4=0,LQ=0,gk=1/0,xk=null,xm=null,Qs=0,ym=null,Ev=null,ph=0,LO=0,IO=null,IQ=null,P2=0,FO=null;function yc(){return un&2&&Kr!==0?Kr&-Kr:mr.T!==null?L8():WX()}function FQ(){if(dc===0)if(!(Kr&536870912)||Jr){var e=bj;bj<<=1,!(bj&3932160)&&(bj=262144),dc=e}else dc=536870912;return e=Cc.current,e!==null&&(e.flags|=32),dc}function hl(e,t,r){(e===Yn&&(_n===2||_n===9)||e.cancelPendingCommit!==null)&&(Tv(e,0),Xp(e,Kr,dc,!1)),LN(e,r),(!(un&2)||e!==Yn)&&(e===Yn&&(!(un&2)&&(mg|=r),Ka===4&&Xp(e,Kr,dc,!1)),of(e))}function zQ(e,t,r){if(un&6)throw Error(ot(327));var n=!r&&(t&127)===0&&(t&e.expiredLanes)===0||RN(e,t),a=n?H0e(e,t):AT(e,t,!0),s=n;do{if(a===0){wb&&!n&&Xp(e,t,0,!1);break}else{if(r=e.current.alternate,s&&!z0e(r)){a=AT(e,t,!1),s=!1;continue}if(a===2){if(s=t,e.errorRecoveryDisabledLanes&s)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var l=e;a=O2;var c=l.current.memoizedState.isDehydrated;if(c&&(Tv(l,i).flags|=256),i=AT(l,i,!1),i!==2){if(O8&&!c){l.errorRecoveryDisabledLanes|=s,mg|=s,a=4;break e}s=il,il=a,s!==null&&(il===null?il=s:il.push.apply(il,s))}a=i}if(s=!1,a!==2)continue}}if(a===1){Tv(e,0),Xp(e,t,0,!0);break}e:{switch(n=e,s=a,s){case 0:case 1:throw Error(ot(345));case 4:if((t&4194048)!==t)break;case 6:Xp(n,t,dc,!Kp);break e;case 2:il=null;break;case 3:case 5:break;default:throw Error(ot(329))}if((t&62914560)===t&&(a=b4+300-mc(),10<a)){if(Xp(n,t,dc,!Kp),c4(n,0,!0)!==0)break e;ph=t,n.timeoutHandle=sZ(uB.bind(null,n,r,il,xk,RO,t,dc,mg,Av,Kp,s,"Throttled",-0,0),a);break e}uB(n,r,il,xk,RO,t,dc,mg,Av,Kp,s,null,-0,0)}}break}while(!0);of(e)}function uB(e,t,r,n,a,s,i,l,c,d,u,f,p,h){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ah},MQ(t,s,f);var m=(s&62914560)===s?b4-mc():(s&4194048)===s?LQ-mc():0;if(m=Sge(f,m),m!==null){ph=s,e.cancelPendingCommit=m(hB.bind(null,e,t,s,r,n,a,i,l,c,u,f,null,p,h)),Xp(e,s,i,!d);return}}hB(e,t,s,r,n,a,i,l,c)}function z0e(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!kc(s(),a))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xp(e,t,r,n){t&=~P8,t&=~mg,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var s=31-xc(a),i=1<<s;n[s]=-1,a&=~i}r!==0&&UX(e,r,t)}function w4(){return un&6?!0:($N(0),!1)}function R8(){if(Wr!==null){if(_n===0)var e=Wr.return;else e=Wr,sh=yx=null,b8(e),Jy=null,_w=0,e=Wr;for(;e!==null;)yQ(e.alternate,e),e=e.return;Wr=null}}function Tv(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,sge(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ph=0,R8(),Yn=e,Wr=r=fh(e.current,null),Kr=t,_n=0,Wl=null,Kp=!1,wb=RN(e,t),O8=!1,Av=dc=P8=mg=Im=Ka=0,il=O2=null,RO=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var a=31-xc(n),s=1<<a;t|=e[a],n&=~s}return Ph=t,h4(),r}function BQ(e,t){Tr=null,mr.H=Cw,t===bb||t===m4?(t=U9(),_n=3):t===h8?(t=U9(),_n=4):_n=t===E8?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Wl=t,Wr===null&&(Ka=1,hk(e,nd(t,e.current)))}function HQ(){var e=Cc.current;return e===null?!0:(Kr&4194048)===Kr?ud===null:(Kr&62914560)===Kr||Kr&536870912?e===ud:!1}function $Q(){var e=mr.H;return mr.H=Cw,e===null?Cw:e}function UQ(){var e=mr.A;return mr.A=I0e,e}function yk(){Ka=4,Kp||(Kr&4194048)!==Kr&&Cc.current!==null||(wb=!0),!(Im&134217727)&&!(mg&134217727)||Yn===null||Xp(Yn,Kr,dc,!1)}function AT(e,t,r){var n=un;un|=2;var a=$Q(),s=UQ();(Yn!==e||Kr!==t)&&(xk=null,Tv(e,t)),t=!1;var i=Ka;e:do try{if(_n!==0&&Wr!==null){var l=Wr,c=Wl;switch(_n){case 8:R8(),i=6;break e;case 3:case 2:case 9:case 6:Cc.current===null&&(t=!0);var d=_n;if(_n=0,Wl=null,Fy(e,l,c,d),r&&wb){i=0;break e}break;default:d=_n,_n=0,Wl=null,Fy(e,l,c,d)}}B0e(),i=Ka;break}catch(u){BQ(e,u)}while(!0);return t&&e.shellSuspendCounter++,sh=yx=null,un=n,mr.H=a,mr.A=s,Wr===null&&(Yn=null,Kr=0,h4()),i}function B0e(){for(;Wr!==null;)VQ(Wr)}function H0e(e,t){var r=un;un|=2;var n=$Q(),a=UQ();Yn!==e||Kr!==t?(xk=null,gk=mc()+500,Tv(e,t)):wb=RN(e,t);e:do try{if(_n!==0&&Wr!==null){t=Wr;var s=Wl;t:switch(_n){case 1:_n=0,Wl=null,Fy(e,t,s,1);break;case 2:case 9:if($9(s)){_n=0,Wl=null,fB(t);break}t=function(){_n!==2&&_n!==9||Yn!==e||(_n=7),of(e)},s.then(t,t);break e;case 3:_n=7;break e;case 4:_n=5;break e;case 7:$9(s)?(_n=0,Wl=null,fB(t)):(_n=0,Wl=null,Fy(e,t,s,7));break;case 5:var i=null;switch(Wr.tag){case 26:i=Wr.memoizedState;case 5:case 27:var l=Wr;if(i?dZ(i):l.stateNode.complete){_n=0,Wl=null;var c=l.sibling;if(c!==null)Wr=c;else{var d=l.return;d!==null?(Wr=d,N4(d)):Wr=null}break t}}_n=0,Wl=null,Fy(e,t,s,5);break;case 6:_n=0,Wl=null,Fy(e,t,s,6);break;case 8:R8(),Ka=6;break e;default:throw Error(ot(462))}}$0e();break}catch(u){BQ(e,u)}while(!0);return sh=yx=null,mr.H=n,mr.A=a,un=r,Wr!==null?0:(Yn=null,Kr=0,h4(),Ka)}function $0e(){for(;Wr!==null&&!ume();)VQ(Wr)}function VQ(e){var t=xQ(e.alternate,e,Ph);e.memoizedProps=e.pendingProps,t===null?N4(e):Wr=t}function fB(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=sB(r,t,t.pendingProps,t.type,void 0,Kr);break;case 11:t=sB(r,t,t.pendingProps,t.type.render,t.ref,Kr);break;case 5:b8(t);default:yQ(r,t),t=Wr=yJ(t,Ph),t=xQ(r,t,Ph)}e.memoizedProps=e.pendingProps,t===null?N4(e):Wr=t}function Fy(e,t,r,n){sh=yx=null,b8(t),Jy=null,_w=0;var a=t.return;try{if(T0e(e,a,t,r,Kr)){Ka=1,hk(e,nd(r,e.current)),Wr=null;return}}catch(s){if(a!==null)throw Wr=a,s;Ka=1,hk(e,nd(r,e.current)),Wr=null;return}t.flags&32768?(Jr||n===1?e=!0:wb||Kr&536870912?e=!1:(Kp=e=!0,(n===2||n===9||n===3||n===6)&&(n=Cc.current,n!==null&&n.tag===13&&(n.flags|=16384))),qQ(t,e)):N4(t)}function N4(e){var t=e;do{if(t.flags&32768){qQ(t,Kp);return}e=t.return;var r=O0e(t.alternate,t,Ph);if(r!==null){Wr=r;return}if(t=t.sibling,t!==null){Wr=t;return}Wr=t=e}while(t!==null);Ka===0&&(Ka=5)}function qQ(e,t){do{var r=P0e(e.alternate,e);if(r!==null){r.flags&=32767,Wr=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){Wr=e;return}Wr=e=r}while(e!==null);Ka=6,Wr=null}function hB(e,t,r,n,a,s,i,l,c){e.cancelPendingCommit=null;do S4();while(Qs!==0);if(un&6)throw Error(ot(327));if(t!==null){if(t===e.current)throw Error(ot(177));if(s=t.lanes|t.childLanes,s|=i8,wme(e,r,s,i,l,c),e===Yn&&(Wr=Yn=null,Kr=0),Ev=t,ym=e,ph=r,LO=s,IO=a,IQ=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,W0e(rk,function(){return XQ(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=mr.T,mr.T=null,a=fn.p,fn.p=2,i=un,un|=4;try{R0e(e,t,r)}finally{un=i,fn.p=a,mr.T=n}}Qs=1,WQ(),YQ(),GQ()}}function WQ(){if(Qs===1){Qs=0;var e=ym,t=Ev,r=(t.flags&13878)!==0;if(t.subtreeFlags&13878||r){r=mr.T,mr.T=null;var n=fn.p;fn.p=2;var a=un;un|=4;try{EQ(t,e);var s=$O,i=dJ(e.containerInfo),l=s.focusedElem,c=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&cJ(l.ownerDocument.documentElement,l)){if(c!==null&&s8(l)){var d=c.start,u=c.end;if(u===void 0&&(u=d),"selectionStart"in l)l.selectionStart=d,l.selectionEnd=Math.min(u,l.value.length);else{var f=l.ownerDocument||document,p=f&&f.defaultView||window;if(p.getSelection){var h=p.getSelection(),m=l.textContent.length,g=Math.min(c.start,m),x=c.end===void 0?g:Math.min(c.end,m);!h.extend&&g>x&&(i=x,x=g,g=i);var y=R9(l,g),v=R9(l,x);if(y&&v&&(h.rangeCount!==1||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==v.node||h.focusOffset!==v.offset)){var w=f.createRange();w.setStart(y.node,y.offset),h.removeAllRanges(),g>x?(h.addRange(w),h.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),h.addRange(w))}}}}for(f=[],h=l;h=h.parentNode;)h.nodeType===1&&f.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var N=f[l];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}kk=!!HO,$O=HO=null}finally{un=a,fn.p=n,mr.T=r}}e.current=t,Qs=2}}function YQ(){if(Qs===2){Qs=0;var e=ym,t=Ev,r=(t.flags&8772)!==0;if(t.subtreeFlags&8772||r){r=mr.T,mr.T=null;var n=fn.p;fn.p=2;var a=un;un|=4;try{jQ(e,t.alternate,t)}finally{un=a,fn.p=n,mr.T=r}}Qs=3}}function GQ(){if(Qs===4||Qs===3){Qs=0,fme();var e=ym,t=Ev,r=ph,n=IQ;t.subtreeFlags&10256||t.flags&10256?Qs=5:(Qs=0,Ev=ym=null,KQ(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(xm=null),QR(r),t=t.stateNode,gc&&typeof gc.onCommitFiberRoot=="function")try{gc.onCommitFiberRoot(PN,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=mr.T,a=fn.p,fn.p=2,mr.T=null;try{for(var s=e.onRecoverableError,i=0;i<n.length;i++){var l=n[i];s(l.value,{componentStack:l.stack})}}finally{mr.T=t,fn.p=a}}ph&3&&S4(),of(e),a=e.pendingLanes,r&261930&&a&42?e===FO?P2++:(P2=0,FO=e):P2=0,$N(0)}}function KQ(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,zN(t)))}function S4(){return WQ(),YQ(),GQ(),XQ()}function XQ(){if(Qs!==5)return!1;var e=ym,t=LO;LO=0;var r=QR(ph),n=mr.T,a=fn.p;try{fn.p=32>r?32:r,mr.T=null,r=IO,IO=null;var s=ym,i=ph;if(Qs=0,Ev=ym=null,ph=0,un&6)throw Error(ot(331));var l=un;if(un|=4,PQ(s.current),DQ(s,s.current,i,r),un=l,$N(0,!1),gc&&typeof gc.onPostCommitFiberRoot=="function")try{gc.onPostCommitFiberRoot(PN,s)}catch{}return!0}finally{fn.p=a,mr.T=n,KQ(e,t)}}function pB(e,t,r){t=nd(r,t),t=DO(e.stateNode,t,2),e=gm(e,t,2),e!==null&&(LN(e,2),of(e))}function Tn(e,t,r){if(e.tag===3)pB(e,e,r);else for(;t!==null;){if(t.tag===3){pB(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xm===null||!xm.has(n))){e=nd(r,e),r=uQ(2),n=gm(t,r,2),n!==null&&(fQ(r,n,t,e),LN(n,2),of(n));break}}t=t.return}}function ET(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new F0e;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(O8=!0,a.add(r),e=U0e.bind(null,e,t,r),t.then(e,e))}function U0e(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Yn===e&&(Kr&r)===r&&(Ka===4||Ka===3&&(Kr&62914560)===Kr&&300>mc()-b4?!(un&2)&&Tv(e,0):P8|=r,Av===Kr&&(Av=0)),of(e)}function JQ(e,t){t===0&&(t=$X()),e=xx(e,t),e!==null&&(LN(e,t),of(e))}function V0e(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),JQ(e,r)}function q0e(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(ot(314))}n!==null&&n.delete(t),JQ(e,r)}function W0e(e,t){return XR(e,t)}var vk=null,py=null,zO=!1,bk=!1,TT=!1,Jp=0;function of(e){e!==py&&e.next===null&&(py===null?vk=py=e:py=py.next=e),bk=!0,zO||(zO=!0,G0e())}function $N(e,t){if(!TT&&bk){TT=!0;do for(var r=!1,n=vk;n!==null;){if(e!==0){var a=n.pendingLanes;if(a===0)var s=0;else{var i=n.suspendedLanes,l=n.pingedLanes;s=(1<<31-xc(42|e)+1)-1,s&=a&~(i&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(r=!0,mB(n,s))}else s=Kr,s=c4(n,n===Yn?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(s&3)||RN(n,s)||(r=!0,mB(n,s));n=n.next}while(r);TT=!1}}function Y0e(){QQ()}function QQ(){bk=zO=!1;var e=0;Jp!==0&&age()&&(e=Jp);for(var t=mc(),r=null,n=vk;n!==null;){var a=n.next,s=ZQ(n,t);s===0?(n.next=null,r===null?vk=a:r.next=a,a===null&&(py=r)):(r=n,(e!==0||s&3)&&(bk=!0)),n=a}Qs!==0&&Qs!==5||$N(e),Jp!==0&&(Jp=0)}function ZQ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var i=31-xc(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=bme(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}if(t=Yn,r=Kr,r=c4(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,r===0||e===t&&(_n===2||_n===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&aT(n),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||RN(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(n!==null&&aT(n),QR(r)){case 2:case 8:r=BX;break;case 32:r=rk;break;case 268435456:r=HX;break;default:r=rk}return n=eZ.bind(null,e),r=XR(r,n),e.callbackPriority=t,e.callbackNode=r,t}return n!==null&&n!==null&&aT(n),e.callbackPriority=2,e.callbackNode=null,2}function eZ(e,t){if(Qs!==0&&Qs!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(S4()&&e.callbackNode!==r)return null;var n=Kr;return n=c4(e,e===Yn?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(zQ(e,n,t),ZQ(e,mc()),e.callbackNode!=null&&e.callbackNode===r?eZ.bind(null,e):null)}function mB(e,t){if(S4())return null;zQ(e,t,!0)}function G0e(){ige(function(){un&6?XR(zX,Y0e):QQ()})}function L8(){if(Jp===0){var e=_v;e===0&&(e=vj,vj<<=1,!(vj&261888)&&(vj=256)),Jp=e}return Jp}function gB(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:r_(""+e)}function xB(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function K0e(e,t,r,n,a){if(t==="submit"&&r&&r.stateNode===a){var s=gB((a[Nl]||null).action),i=n.submitter;i&&(t=(t=i[Nl]||null)?gB(t.formAction):i.getAttribute("formAction"),t!==null&&(s=t,i=null));var l=new d4("action","action",null,n,a);e.push({event:l,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Jp!==0){var c=i?xB(a,i):new FormData(a);EO(r,{pending:!0,data:c,method:a.method,action:s},null,c)}}else typeof s=="function"&&(l.preventDefault(),c=i?xB(a,i):new FormData(a),EO(r,{pending:!0,data:c,method:a.method,action:s},s,c))},currentTarget:a}]})}}for(var DT=0;DT<xO.length;DT++){var MT=xO[DT],X0e=MT.toLowerCase(),J0e=MT[0].toUpperCase()+MT.slice(1);ou(X0e,"on"+J0e)}ou(fJ,"onAnimationEnd");ou(hJ,"onAnimationIteration");ou(pJ,"onAnimationStart");ou("dblclick","onDoubleClick");ou("focusin","onFocus");ou("focusout","onBlur");ou(h0e,"onTransitionRun");ou(p0e,"onTransitionStart");ou(m0e,"onTransitionCancel");ou(mJ,"onTransitionEnd");Sv("onMouseEnter",["mouseout","mouseover"]);Sv("onMouseLeave",["mouseout","mouseover"]);Sv("onPointerEnter",["pointerout","pointerover"]);Sv("onPointerLeave",["pointerout","pointerover"]);px("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));px("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));px("onBeforeInput",["compositionend","keypress","textInput","paste"]);px("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));px("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));px("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q0e=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Aw));function tZ(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;s=l,a.currentTarget=d;try{s(a)}catch(u){ak(u)}a.currentTarget=null,s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;s=l,a.currentTarget=d;try{s(a)}catch(u){ak(u)}a.currentTarget=null,s=c}}}}function qr(e,t){var r=t[cO];r===void 0&&(r=t[cO]=new Set);var n=e+"__bubble";r.has(n)||(rZ(t,e,2,!1),r.add(n))}function OT(e,t,r){var n=0;t&&(n|=4),rZ(r,e,n,t)}var Ej="_reactListening"+Math.random().toString(36).slice(2);function I8(e){if(!e[Ej]){e[Ej]=!0,YX.forEach(function(r){r!=="selectionchange"&&(Q0e.has(r)||OT(r,!1,e),OT(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ej]||(t[Ej]=!0,OT("selectionchange",!1,t))}}function rZ(e,t,r,n){switch(mZ(t)){case 2:var a=kge;break;case 8:a=Cge;break;default:a=H8}r=a.bind(null,t,r,e),a=void 0,!pO||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function PT(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&i.stateNode.containerInfo===a)return;i=i.return}for(;l!==null;){if(i=Ey(l),i===null)return;if(c=i.tag,c===5||c===6||c===26||c===27){n=s=i;continue e}l=l.parentNode}}n=n.return}tJ(function(){var d=s,u=t8(r),f=[];e:{var p=gJ.get(e);if(p!==void 0){var h=d4,m=e;switch(e){case"keypress":if(a_(r)===0)break e;case"keydown":case"keyup":h=qme;break;case"focusin":m="focus",h=cT;break;case"focusout":m="blur",h=cT;break;case"beforeblur":case"afterblur":h=cT;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=_9;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Ome;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Gme;break;case fJ:case hJ:case pJ:h=Lme;break;case mJ:h=Xme;break;case"scroll":case"scrollend":h=Dme;break;case"wheel":h=Qme;break;case"copy":case"cut":case"paste":h=Fme;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=C9;break;case"toggle":case"beforetoggle":h=e0e}var g=(t&4)!==0,x=!g&&(e==="scroll"||e==="scrollend"),y=g?p!==null?p+"Capture":null:p;g=[];for(var v=d,w;v!==null;){var N=v;if(w=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||w===null||y===null||(N=bw(v,y),N!=null&&g.push(Ew(v,N,w))),x)break;v=v.return}0<g.length&&(p=new h(p,m,null,r,u),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&r!==hO&&(m=r.relatedTarget||r.fromElement)&&(Ey(m)||m[xb]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(m=r.relatedTarget||r.toElement,h=d,m=m?Ey(m):null,m!==null&&(x=ON(m),g=m.tag,m!==x||g!==5&&g!==27&&g!==6)&&(m=null)):(h=null,m=d),h!==m)){if(g=_9,N="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=C9,N="onPointerLeave",y="onPointerEnter",v="pointer"),x=h==null?p:r2(h),w=m==null?p:r2(m),p=new g(N,v+"leave",h,r,u),p.target=x,p.relatedTarget=w,N=null,Ey(u)===d&&(g=new g(y,v+"enter",m,r,u),g.target=w,g.relatedTarget=x,N=g),x=N,h&&m)t:{for(g=Z0e,y=h,v=m,w=0,N=y;N;N=g(N))w++;N=0;for(var C=v;C;C=g(C))N++;for(;0<w-N;)y=g(y),w--;for(;0<N-w;)v=g(v),N--;for(;w--;){if(y===v||v!==null&&y===v.alternate){g=y;break t}y=g(y),v=g(v)}g=null}else g=null;h!==null&&yB(f,p,h,g,!1),m!==null&&x!==null&&yB(f,x,m,g,!0)}}e:{if(p=d?r2(d):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var _=D9;else if(T9(p))if(oJ)_=d0e;else{_=l0e;var S=o0e}else h=p.nodeName,!h||h.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?d&&e8(d.elementType)&&(_=D9):_=c0e;if(_&&(_=_(e,d))){iJ(f,_,r,u);break e}S&&S(e,p,d),e==="focusout"&&d&&p.type==="number"&&d.memoizedProps.value!=null&&fO(p,"number",p.value)}switch(S=d?r2(d):window,e){case"focusin":(T9(S)||S.contentEditable==="true")&&(My=S,mO=d,_2=null);break;case"focusout":_2=mO=My=null;break;case"mousedown":gO=!0;break;case"contextmenu":case"mouseup":case"dragend":gO=!1,L9(f,r,u);break;case"selectionchange":if(f0e)break;case"keydown":case"keyup":L9(f,r,u)}var k;if(a8)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Dy?aJ(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(nJ&&r.locale!=="ko"&&(Dy||A!=="onCompositionStart"?A==="onCompositionEnd"&&Dy&&(k=rJ()):(Gp=u,r8="value"in Gp?Gp.value:Gp.textContent,Dy=!0)),S=wk(d,A),0<S.length&&(A=new k9(A,e,null,r,u),f.push({event:A,listeners:S}),k?A.data=k:(k=sJ(r),k!==null&&(A.data=k)))),(k=r0e?n0e(e,r):a0e(e,r))&&(A=wk(d,"onBeforeInput"),0<A.length&&(S=new k9("onBeforeInput","beforeinput",null,r,u),f.push({event:S,listeners:A}),S.data=k)),K0e(f,e,d,r,u)}tZ(f,t)})}function Ew(e,t,r){return{instance:e,listener:t,currentTarget:r}}function wk(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||s===null||(a=bw(e,r),a!=null&&n.unshift(Ew(e,a,s)),a=bw(e,t),a!=null&&n.push(Ew(e,a,s))),e.tag===3)return n;e=e.return}return[]}function Z0e(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function yB(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(l=l.tag,c!==null&&c===n)break;l!==5&&l!==26&&l!==27||d===null||(c=d,a?(d=bw(r,s),d!=null&&i.unshift(Ew(r,d,c))):a||(d=bw(r,s),d!=null&&i.push(Ew(r,d,c)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var ege=/\r\n?/g,tge=/\u0000|\uFFFD/g;function vB(e){return(typeof e=="string"?e:""+e).replace(ege,`
`).replace(tge,"")}function nZ(e,t){return t=vB(t),vB(e)===t}function Pn(e,t,r,n,a,s){switch(r){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||jv(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&jv(e,""+n);break;case"className":Nj(e,"class",n);break;case"tabIndex":Nj(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Nj(e,r,n);break;case"style":eJ(e,n,s);break;case"data":if(t!=="object"){Nj(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=r_(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(r==="formAction"?(t!=="input"&&Pn(e,t,"name",a.name,a,null),Pn(e,t,"formEncType",a.formEncType,a,null),Pn(e,t,"formMethod",a.formMethod,a,null),Pn(e,t,"formTarget",a.formTarget,a,null)):(Pn(e,t,"encType",a.encType,a,null),Pn(e,t,"method",a.method,a,null),Pn(e,t,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=r_(""+n),e.setAttribute(r,n);break;case"onClick":n!=null&&(e.onclick=ah);break;case"onScroll":n!=null&&qr("scroll",e);break;case"onScrollEnd":n!=null&&qr("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(ot(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(ot(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}r=r_(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":n===!0?e.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":qr("beforetoggle",e),qr("toggle",e),t_(e,"popover",n);break;case"xlinkActuate":Af(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Af(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Af(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Af(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Af(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Af(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Af(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Af(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Af(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":t_(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Eme.get(r)||r,t_(e,r,n))}}function BO(e,t,r,n,a,s){switch(r){case"style":eJ(e,n,s);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(ot(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(ot(60));e.innerHTML=r}}break;case"children":typeof n=="string"?jv(e,n):(typeof n=="number"||typeof n=="bigint")&&jv(e,""+n);break;case"onScroll":n!=null&&qr("scroll",e);break;case"onScrollEnd":n!=null&&qr("scrollend",e);break;case"onClick":n!=null&&(e.onclick=ah);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!GX.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),s=e[Nl]||null,s=s!=null?s[r]:null,typeof s=="function"&&e.removeEventListener(t,s,a),typeof n=="function")){typeof s!="function"&&s!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a);break e}r in e?e[r]=n:n===!0?e.setAttribute(r,""):t_(e,r,n)}}}function Ki(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qr("error",e),qr("load",e);var n=!1,a=!1,s;for(s in r)if(r.hasOwnProperty(s)){var i=r[s];if(i!=null)switch(s){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ot(137,t));default:Pn(e,t,s,i,r,null)}}a&&Pn(e,t,"srcSet",r.srcSet,r,null),n&&Pn(e,t,"src",r.src,r,null);return;case"input":qr("invalid",e);var l=s=i=a=null,c=null,d=null;for(n in r)if(r.hasOwnProperty(n)){var u=r[n];if(u!=null)switch(n){case"name":a=u;break;case"type":i=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":s=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(ot(137,t));break;default:Pn(e,t,n,u,r,null)}}JX(e,s,l,c,d,i,a,!1);return;case"select":qr("invalid",e),n=i=s=null;for(a in r)if(r.hasOwnProperty(a)&&(l=r[a],l!=null))switch(a){case"value":s=l;break;case"defaultValue":i=l;break;case"multiple":n=l;default:Pn(e,t,a,l,r,null)}t=s,r=i,e.multiple=!!n,t!=null?Gy(e,!!n,t,!1):r!=null&&Gy(e,!!n,r,!0);return;case"textarea":qr("invalid",e),s=a=n=null;for(i in r)if(r.hasOwnProperty(i)&&(l=r[i],l!=null))switch(i){case"value":n=l;break;case"defaultValue":a=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(ot(91));break;default:Pn(e,t,i,l,r,null)}ZX(e,n,a,s);return;case"option":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Pn(e,t,c,n,r,null)}return;case"dialog":qr("beforetoggle",e),qr("toggle",e),qr("cancel",e),qr("close",e);break;case"iframe":case"object":qr("load",e);break;case"video":case"audio":for(n=0;n<Aw.length;n++)qr(Aw[n],e);break;case"image":qr("error",e),qr("load",e);break;case"details":qr("toggle",e);break;case"embed":case"source":case"link":qr("error",e),qr("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in r)if(r.hasOwnProperty(d)&&(n=r[d],n!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(ot(137,t));default:Pn(e,t,d,n,r,null)}return;default:if(e8(t)){for(u in r)r.hasOwnProperty(u)&&(n=r[u],n!==void 0&&BO(e,t,u,n,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(n=r[l],n!=null&&Pn(e,t,l,n,r,null))}function rge(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,i=null,l=null,c=null,d=null,u=null;for(h in r){var f=r[h];if(r.hasOwnProperty(h)&&f!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":c=f;default:n.hasOwnProperty(h)||Pn(e,t,h,null,n,f)}}for(var p in n){var h=n[p];if(f=r[p],n.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"type":s=h;break;case"name":a=h;break;case"checked":d=h;break;case"defaultChecked":u=h;break;case"value":i=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(ot(137,t));break;default:h!==f&&Pn(e,t,p,h,n,f)}}uO(e,i,l,c,d,u,s,a);return;case"select":h=i=l=p=null;for(s in r)if(c=r[s],r.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":h=c;default:n.hasOwnProperty(s)||Pn(e,t,s,null,n,c)}for(a in n)if(s=n[a],c=r[a],n.hasOwnProperty(a)&&(s!=null||c!=null))switch(a){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":i=s;default:s!==c&&Pn(e,t,a,s,n,c)}t=l,r=i,n=h,p!=null?Gy(e,!!r,p,!1):!!n!=!!r&&(t!=null?Gy(e,!!r,t,!0):Gy(e,!!r,r?[]:"",!1));return;case"textarea":h=p=null;for(l in r)if(a=r[l],r.hasOwnProperty(l)&&a!=null&&!n.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Pn(e,t,l,null,n,a)}for(i in n)if(a=n[i],s=r[i],n.hasOwnProperty(i)&&(a!=null||s!=null))switch(i){case"value":p=a;break;case"defaultValue":h=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(ot(91));break;default:a!==s&&Pn(e,t,i,a,n,s)}QX(e,p,h);return;case"option":for(var m in r)if(p=r[m],r.hasOwnProperty(m)&&p!=null&&!n.hasOwnProperty(m))switch(m){case"selected":e.selected=!1;break;default:Pn(e,t,m,null,n,p)}for(c in n)if(p=n[c],h=r[c],n.hasOwnProperty(c)&&p!==h&&(p!=null||h!=null))switch(c){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Pn(e,t,c,p,n,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)p=r[g],r.hasOwnProperty(g)&&p!=null&&!n.hasOwnProperty(g)&&Pn(e,t,g,null,n,p);for(d in n)if(p=n[d],h=r[d],n.hasOwnProperty(d)&&p!==h&&(p!=null||h!=null))switch(d){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(ot(137,t));break;default:Pn(e,t,d,p,n,h)}return;default:if(e8(t)){for(var x in r)p=r[x],r.hasOwnProperty(x)&&p!==void 0&&!n.hasOwnProperty(x)&&BO(e,t,x,void 0,n,p);for(u in n)p=n[u],h=r[u],!n.hasOwnProperty(u)||p===h||p===void 0&&h===void 0||BO(e,t,u,p,n,h);return}}for(var y in r)p=r[y],r.hasOwnProperty(y)&&p!=null&&!n.hasOwnProperty(y)&&Pn(e,t,y,null,n,p);for(f in n)p=n[f],h=r[f],!n.hasOwnProperty(f)||p===h||p==null&&h==null||Pn(e,t,f,p,n,h)}function bB(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nge(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],s=a.transferSize,i=a.initiatorType,l=a.duration;if(s&&l&&bB(i)){for(i=0,l=a.responseEnd,n+=1;n<r.length;n++){var c=r[n],d=c.startTime;if(d>l)break;var u=c.transferSize,f=c.initiatorType;u&&bB(f)&&(c=c.responseEnd,i+=u*(c<l?1:(l-d)/(c-d)))}if(--n,t+=8*(s+i)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var HO=null,$O=null;function Nk(e){return e.nodeType===9?e:e.ownerDocument}function wB(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aZ(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function UO(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var RT=null;function age(){var e=window.event;return e&&e.type==="popstate"?e===RT?!1:(RT=e,!0):(RT=null,!1)}var sZ=typeof setTimeout=="function"?setTimeout:void 0,sge=typeof clearTimeout=="function"?clearTimeout:void 0,NB=typeof Promise=="function"?Promise:void 0,ige=typeof queueMicrotask=="function"?queueMicrotask:typeof NB<"u"?function(e){return NB.resolve(null).then(e).catch(oge)}:sZ;function oge(e){setTimeout(function(){throw e})}function t0(e){return e==="head"}function SB(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"||r==="/&"){if(n===0){e.removeChild(a),Mv(t);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")R2(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,R2(r);for(var s=r.firstChild;s;){var i=s.nextSibling,l=s.nodeName;s[IN]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||r.removeChild(s),s=i}}else r==="body"&&R2(e.ownerDocument.body);r=a}while(r);Mv(t)}function jB(e,t){var r=e;e=0;do{var n=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=n}while(r)}function VO(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":VO(r),ZR(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function lge(e,t,r,n){for(;e.nodeType===1;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[IN])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=fd(e.nextSibling),e===null)break}return null}function cge(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=fd(e.nextSibling),e===null))return null;return e}function iZ(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=fd(e.nextSibling),e===null))return null;return e}function qO(e){return e.data==="$?"||e.data==="$~"}function WO(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function dge(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function fd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var YO=null;function _B(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return fd(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function kB(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function oZ(e,t,r){switch(t=Nk(r),e){case"html":if(e=t.documentElement,!e)throw Error(ot(452));return e;case"head":if(e=t.head,!e)throw Error(ot(453));return e;case"body":if(e=t.body,!e)throw Error(ot(454));return e;default:throw Error(ot(451))}}function R2(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ZR(e)}var yd=new Map,CB=new Set;function Sk(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xh=fn.d;fn.d={f:uge,r:fge,D:hge,C:pge,L:mge,m:gge,X:yge,S:xge,M:vge};function uge(){var e=Xh.f(),t=w4();return e||t}function fge(e){var t=yb(e);t!==null&&t.tag===5&&t.type==="form"?eQ(t):Xh.r(e)}var Nb=typeof document>"u"?null:document;function lZ(e,t,r){var n=Nb;if(n&&typeof t=="string"&&t){var a=rd(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof r=="string"&&(a+='[crossorigin="'+r+'"]'),CB.has(a)||(CB.add(a),e={rel:e,crossOrigin:r,href:t},n.querySelector(a)===null&&(t=n.createElement("link"),Ki(t,"link",e),hi(t),n.head.appendChild(t)))}}function hge(e){Xh.D(e),lZ("dns-prefetch",e,null)}function pge(e,t){Xh.C(e,t),lZ("preconnect",e,t)}function mge(e,t,r){Xh.L(e,t,r);var n=Nb;if(n&&e&&t){var a='link[rel="preload"][as="'+rd(t)+'"]';t==="image"&&r&&r.imageSrcSet?(a+='[imagesrcset="'+rd(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(a+='[imagesizes="'+rd(r.imageSizes)+'"]')):a+='[href="'+rd(e)+'"]';var s=a;switch(t){case"style":s=Dv(e);break;case"script":s=Sb(e)}yd.has(s)||(e=ha({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),yd.set(s,e),n.querySelector(a)!==null||t==="style"&&n.querySelector(UN(s))||t==="script"&&n.querySelector(VN(s))||(t=n.createElement("link"),Ki(t,"link",e),hi(t),n.head.appendChild(t)))}}function gge(e,t){Xh.m(e,t);var r=Nb;if(r&&e){var n=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+rd(n)+'"][href="'+rd(e)+'"]',s=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Sb(e)}if(!yd.has(s)&&(e=ha({rel:"modulepreload",href:e},t),yd.set(s,e),r.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(VN(s)))return}n=r.createElement("link"),Ki(n,"link",e),hi(n),r.head.appendChild(n)}}}function xge(e,t,r){Xh.S(e,t,r);var n=Nb;if(n&&e){var a=Yy(n).hoistableStyles,s=Dv(e);t=t||"default";var i=a.get(s);if(!i){var l={loading:0,preload:null};if(i=n.querySelector(UN(s)))l.loading=5;else{e=ha({rel:"stylesheet",href:e,"data-precedence":t},r),(r=yd.get(s))&&F8(e,r);var c=i=n.createElement("link");hi(c),Ki(c,"link",e),c._p=new Promise(function(d,u){c.onload=d,c.onerror=u}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,f_(i,t,n)}i={type:"stylesheet",instance:i,count:1,state:l},a.set(s,i)}}}function yge(e,t){Xh.X(e,t);var r=Nb;if(r&&e){var n=Yy(r).hoistableScripts,a=Sb(e),s=n.get(a);s||(s=r.querySelector(VN(a)),s||(e=ha({src:e,async:!0},t),(t=yd.get(a))&&z8(e,t),s=r.createElement("script"),hi(s),Ki(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(a,s))}}function vge(e,t){Xh.M(e,t);var r=Nb;if(r&&e){var n=Yy(r).hoistableScripts,a=Sb(e),s=n.get(a);s||(s=r.querySelector(VN(a)),s||(e=ha({src:e,async:!0,type:"module"},t),(t=yd.get(a))&&z8(e,t),s=r.createElement("script"),hi(s),Ki(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(a,s))}}function AB(e,t,r,n){var a=(a=hm.current)?Sk(a):null;if(!a)throw Error(ot(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=Dv(r.href),r=Yy(a).hoistableStyles,n=r.get(t),n||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Dv(r.href);var s=Yy(a).hoistableStyles,i=s.get(e);if(i||(a=a.ownerDocument||a,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,i),(s=a.querySelector(UN(e)))&&!s._p&&(i.instance=s,i.state.loading=5),yd.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},yd.set(e,r),s||bge(a,e,r,i.state))),t&&n===null)throw Error(ot(528,""));return i}if(t&&n!==null)throw Error(ot(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Sb(r),r=Yy(a).hoistableScripts,n=r.get(t),n||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(ot(444,e))}}function Dv(e){return'href="'+rd(e)+'"'}function UN(e){return'link[rel="stylesheet"]['+e+"]"}function cZ(e){return ha({},e,{"data-precedence":e.precedence,precedence:null})}function bge(e,t,r,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ki(t,"link",r),hi(t),e.head.appendChild(t))}function Sb(e){return'[src="'+rd(e)+'"]'}function VN(e){return"script[async]"+e}function EB(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+rd(r.href)+'"]');if(n)return t.instance=n,hi(n),n;var a=ha({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),hi(n),Ki(n,"style",a),f_(n,r.precedence,e),t.instance=n;case"stylesheet":a=Dv(r.href);var s=e.querySelector(UN(a));if(s)return t.state.loading|=4,t.instance=s,hi(s),s;n=cZ(r),(a=yd.get(a))&&F8(n,a),s=(e.ownerDocument||e).createElement("link"),hi(s);var i=s;return i._p=new Promise(function(l,c){i.onload=l,i.onerror=c}),Ki(s,"link",n),t.state.loading|=4,f_(s,r.precedence,e),t.instance=s;case"script":return s=Sb(r.src),(a=e.querySelector(VN(s)))?(t.instance=a,hi(a),a):(n=r,(a=yd.get(s))&&(n=ha({},r),z8(n,a)),e=e.ownerDocument||e,a=e.createElement("script"),hi(a),Ki(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(ot(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,f_(n,r.precedence,e));return t.instance}function f_(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,s=a,i=0;i<n.length;i++){var l=n[i];if(l.dataset.precedence===t)s=l;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function F8(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function z8(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var h_=null;function TB(e,t,r){if(h_===null){var n=new Map,a=h_=new Map;a.set(r,n)}else a=h_,n=a.get(r),n||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var s=r[a];if(!(s[IN]||s[$i]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var i=s.getAttribute(t)||"";i=e+i;var l=n.get(i);l?l.push(s):n.set(i,[s])}}return n}function DB(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function wge(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function dZ(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Nge(e,t,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var a=Dv(n.href),s=t.querySelector(UN(a));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=jk.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=s,hi(s);return}s=t.ownerDocument||t,n=cZ(n),(a=yd.get(a))&&F8(n,a),s=s.createElement("link"),hi(s);var i=s;i._p=new Promise(function(l,c){i.onload=l,i.onerror=c}),Ki(s,"link",n),r.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(e.count++,r=jk.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var LT=0;function Sge(e,t){return e.stylesheets&&e.count===0&&p_(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&p_(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&LT===0&&(LT=62500*nge());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&p_(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>LT?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}function jk(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)p_(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _k=null;function p_(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_k=new Map,t.forEach(jge,e),_k=null,jk.call(e))}function jge(e,t){if(!(t.state.loading&4)){var r=_k.get(e);if(r)var n=r.get(null);else{r=new Map,_k.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var i=a[s];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(r.set(i.dataset.precedence,i),n=i)}n&&r.set(null,n)}a=t.instance,i=a.getAttribute("data-precedence"),s=r.get(i)||n,s===n&&r.set(null,a),r.set(i,a),this.count++,n=jk.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),s?s.parentNode.insertBefore(a,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Tw={$$typeof:nh,Provider:null,Consumer:null,_currentValue:ug,_currentValue2:ug,_threadCount:0};function _ge(e,t,r,n,a,s,i,l,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sT(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sT(0),this.hiddenUpdates=sT(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function uZ(e,t,r,n,a,s,i,l,c,d,u,f){return e=new _ge(e,t,r,i,c,d,u,f,l),t=1,s===!0&&(t|=24),s=ac(3,null,null,t),e.current=s,s.stateNode=e,t=u8(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:n,isDehydrated:r,cache:t},p8(s),e}function fZ(e){return e?(e=Ry,e):Ry}function hZ(e,t,r,n,a,s){a=fZ(a),n.context===null?n.context=a:n.pendingContext=a,n=mm(t),n.payload={element:r},s=s===void 0?null:s,s!==null&&(n.callback=s),r=gm(e,n,t),r!==null&&(hl(r,e,t),C2(r,e,t))}function MB(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function B8(e,t){MB(e,t),(e=e.alternate)&&MB(e,t)}function pZ(e){if(e.tag===13||e.tag===31){var t=xx(e,67108864);t!==null&&hl(t,e,67108864),B8(e,67108864)}}function OB(e){if(e.tag===13||e.tag===31){var t=yc();t=JR(t);var r=xx(e,t);r!==null&&hl(r,e,t),B8(e,t)}}var kk=!0;function kge(e,t,r,n){var a=mr.T;mr.T=null;var s=fn.p;try{fn.p=2,H8(e,t,r,n)}finally{fn.p=s,mr.T=a}}function Cge(e,t,r,n){var a=mr.T;mr.T=null;var s=fn.p;try{fn.p=8,H8(e,t,r,n)}finally{fn.p=s,mr.T=a}}function H8(e,t,r,n){if(kk){var a=GO(n);if(a===null)PT(e,t,n,Ck,r),PB(e,n);else if(Ege(a,e,t,r,n))n.stopPropagation();else if(PB(e,n),t&4&&-1<Age.indexOf(e)){for(;a!==null;){var s=yb(a);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var i=O0(s.pendingLanes);if(i!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;i;){var c=1<<31-xc(i);l.entanglements[1]|=c,i&=~c}of(s),!(un&6)&&(gk=mc()+500,$N(0))}}break;case 31:case 13:l=xx(s,2),l!==null&&hl(l,s,2),w4(),B8(s,2)}if(s=GO(n),s===null&&PT(e,t,n,Ck,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else PT(e,t,n,null,r)}}function GO(e){return e=t8(e),$8(e)}var Ck=null;function $8(e){if(Ck=null,e=Ey(e),e!==null){var t=ON(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=PX(t),e!==null)return e;e=null}else if(r===31){if(e=RX(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ck=e,null}function mZ(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hme()){case zX:return 2;case BX:return 8;case rk:case pme:return 32;case HX:return 268435456;default:return 32}default:return 32}}var KO=!1,vm=null,bm=null,wm=null,Dw=new Map,Mw=new Map,Up=[],Age="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PB(e,t){switch(e){case"focusin":case"focusout":vm=null;break;case"dragenter":case"dragleave":bm=null;break;case"mouseover":case"mouseout":wm=null;break;case"pointerover":case"pointerout":Dw.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mw.delete(t.pointerId)}}function _1(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=yb(t),t!==null&&pZ(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Ege(e,t,r,n,a){switch(t){case"focusin":return vm=_1(vm,e,t,r,n,a),!0;case"dragenter":return bm=_1(bm,e,t,r,n,a),!0;case"mouseover":return wm=_1(wm,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Dw.set(s,_1(Dw.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Mw.set(s,_1(Mw.get(s)||null,e,t,r,n,a)),!0}return!1}function gZ(e){var t=Ey(e.target);if(t!==null){var r=ON(t);if(r!==null){if(t=r.tag,t===13){if(t=PX(r),t!==null){e.blockedOn=t,y9(e.priority,function(){OB(r)});return}}else if(t===31){if(t=RX(r),t!==null){e.blockedOn=t,y9(e.priority,function(){OB(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function m_(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=GO(e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);hO=n,r.target.dispatchEvent(n),hO=null}else return t=yb(r),t!==null&&pZ(t),e.blockedOn=r,!1;t.shift()}return!0}function RB(e,t,r){m_(e)&&r.delete(t)}function Tge(){KO=!1,vm!==null&&m_(vm)&&(vm=null),bm!==null&&m_(bm)&&(bm=null),wm!==null&&m_(wm)&&(wm=null),Dw.forEach(RB),Mw.forEach(RB)}function Tj(e,t){e.blockedOn===t&&(e.blockedOn=null,KO||(KO=!0,Zs.unstable_scheduleCallback(Zs.unstable_NormalPriority,Tge)))}var Dj=null;function LB(e){Dj!==e&&(Dj=e,Zs.unstable_scheduleCallback(Zs.unstable_NormalPriority,function(){Dj===e&&(Dj=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if(typeof n!="function"){if($8(n||r)===null)continue;break}var s=yb(r);s!==null&&(e.splice(t,3),t-=3,EO(s,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function Mv(e){function t(c){return Tj(c,e)}vm!==null&&Tj(vm,e),bm!==null&&Tj(bm,e),wm!==null&&Tj(wm,e),Dw.forEach(t),Mw.forEach(t);for(var r=0;r<Up.length;r++){var n=Up[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Up.length&&(r=Up[0],r.blockedOn===null);)gZ(r),r.blockedOn===null&&Up.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var a=r[n],s=r[n+1],i=a[Nl]||null;if(typeof s=="function")i||LB(r);else if(i){var l=null;if(s&&s.hasAttribute("formAction")){if(a=s,i=s[Nl]||null)l=i.formAction;else if($8(a)!==null)continue}else l=i.action;typeof l=="function"?r[n+1]=l:(r.splice(n,3),n-=3),LB(r)}}}function xZ(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(i){return a=i})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function U8(e){this._internalRoot=e}j4.prototype.render=U8.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ot(409));var r=t.current,n=yc();hZ(r,n,e,t,null,null)};j4.prototype.unmount=U8.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hZ(e.current,2,null,e,null,null),w4(),t[xb]=null}};function j4(e){this._internalRoot=e}j4.prototype.unstable_scheduleHydration=function(e){if(e){var t=WX();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Up.length&&t!==0&&t<Up[r].priority;r++);Up.splice(r,0,e),r===0&&gZ(e)}};var IB=MX.version;if(IB!=="19.2.0")throw Error(ot(527,IB,"19.2.0"));fn.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ot(188)):(e=Object.keys(e).join(","),Error(ot(268,e)));return e=ime(t),e=e!==null?LX(e):null,e=e===null?null:e.stateNode,e};var Dge={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:mr,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mj=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mj.isDisabled&&Mj.supportsFiber)try{PN=Mj.inject(Dge),gc=Mj}catch{}}o4.createRoot=function(e,t){if(!OX(e))throw Error(ot(299));var r=!1,n="",a=lQ,s=cQ,i=dQ;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=uZ(e,1,!1,null,null,r,n,null,a,s,i,xZ),e[xb]=t.current,I8(e),new U8(t)};o4.hydrateRoot=function(e,t,r){if(!OX(e))throw Error(ot(299));var n=!1,a="",s=lQ,i=cQ,l=dQ,c=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onUncaughtError!==void 0&&(s=r.onUncaughtError),r.onCaughtError!==void 0&&(i=r.onCaughtError),r.onRecoverableError!==void 0&&(l=r.onRecoverableError),r.formState!==void 0&&(c=r.formState)),t=uZ(e,1,!0,t,r??null,n,a,c,s,i,l,xZ),t.context=fZ(null),r=t.current,n=yc(),n=JR(n),a=mm(n),a.callback=null,gm(r,a,n),r=n,t.current.lanes=r,LN(t,r),of(t),e[xb]=t.current,I8(e),new j4(t)};o4.version="19.2.0";function yZ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yZ)}catch(e){console.error(e)}}yZ(),kX.exports=o4;var Mge=kX.exports;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ya.apply(this,arguments)}var js;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(js||(js={}));const FB="popstate";function Oge(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:i,hash:l}=n.location;return Ow("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Hg(a)}return Rge(t,r,null,e)}function Hr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Pge(){return Math.random().toString(36).substr(2,8)}function zB(e,t){return{usr:e.state,key:e.key,idx:t}}function Ow(e,t,r,n){return r===void 0&&(r=null),ya({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?r0(t):t,{state:r,key:t&&t.key||n||Pge()})}function Hg(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function r0(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Rge(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=js.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(ya({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function f(){l=js.Pop;let x=u(),y=x==null?null:x-d;d=x,c&&c({action:l,location:g.location,delta:y})}function p(x,y){l=js.Push;let v=Ow(g.location,x,y);d=u()+1;let w=zB(v,d),N=g.createHref(v);try{i.pushState(w,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(N)}s&&c&&c({action:l,location:g.location,delta:1})}function h(x,y){l=js.Replace;let v=Ow(g.location,x,y);d=u();let w=zB(v,d),N=g.createHref(v);i.replaceState(w,"",N),s&&c&&c({action:l,location:g.location,delta:0})}function m(x){let y=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof x=="string"?x:Hg(x);return v=v.replace(/ $/,"%20"),Hr(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return l},get location(){return e(a,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(FB,f),c=x,()=>{a.removeEventListener(FB,f),c=null}},createHref(x){return t(a,x)},createURL:m,encodeLocation(x){let y=m(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:h,go(x){return i.go(x)}};return g}var Cn;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cn||(Cn={}));const Lge=new Set(["lazy","caseSensitive","path","id","index","children"]);function Ige(e){return e.index===!0}function Ak(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((a,s)=>{let i=[...r,String(s)],l=typeof a.id=="string"?a.id:i.join("-");if(Hr(a.index!==!0||!a.children,"Cannot specify children on an index route"),Hr(!n[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),Ige(a)){let c=ya({},a,t(a),{id:l});return n[l]=c,c}else{let c=ya({},a,t(a),{id:l,children:void 0});return n[l]=c,a.children&&(c.children=Ak(a.children,t,i,n)),c}})}function q0(e,t,r){return r===void 0&&(r="/"),g_(e,t,r,!1)}function g_(e,t,r,n){let a=typeof t=="string"?r0(t):t,s=Rh(a.pathname||"/",r);if(s==null)return null;let i=vZ(e);zge(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=Xge(s);l=Gge(i[c],d,n)}return l}function Fge(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],handle:r.handle}}function vZ(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(Hr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=mh([n,c.relativePath]),u=r.concat(c);s.children&&s.children.length>0&&(Hr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),vZ(s.children,t,u,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:Wge(d,s.index),routesMeta:u})};return e.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of bZ(s.path))a(s,i,c)}),t}function bZ(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=bZ(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function zge(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Yge(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Bge=/^:[\w-]+$/,Hge=3,$ge=2,Uge=1,Vge=10,qge=-2,BB=e=>e==="*";function Wge(e,t){let r=e.split("/"),n=r.length;return r.some(BB)&&(n+=qge),t&&(n+=$ge),r.filter(a=>!BB(a)).reduce((a,s)=>a+(Bge.test(s)?Hge:s===""?Uge:Vge),n)}function Yge(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Gge(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=s==="/"?t:t.slice(s.length)||"/",f=Ek({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!f&&d&&r&&!n[n.length-1].route.index&&(f=Ek({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:mh([s,f.pathname]),pathnameBase:exe(mh([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=mh([s,f.pathnameBase]))}return i}function Ek(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Kge(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:p,isOptional:h}=u;if(p==="*"){let g=l[f]||"";i=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=l[f];return h&&!m?d[p]=void 0:d[p]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:i,pattern:e}}function Kge(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Bg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Xge(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Jge=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qge=e=>Jge.test(e);function Zge(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?r0(e):e,s;if(r)if(Qge(r))s=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),Bg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?s=HB(r.substring(1),"/"):s=HB(r,t)}else s=t;return{pathname:s,search:txe(n),hash:rxe(a)}}function HB(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function IT(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wZ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function _4(e,t){let r=wZ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function k4(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=r0(e):(a=ya({},e),Hr(!a.pathname||!a.pathname.includes("?"),IT("?","pathname","search",a)),Hr(!a.pathname||!a.pathname.includes("#"),IT("#","pathname","hash",a)),Hr(!a.search||!a.search.includes("#"),IT("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;a.pathname=p.join("/")}l=f>=0?t[f]:"/"}let c=Zge(a,l),d=i&&i!=="/"&&i.endsWith("/"),u=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const mh=e=>e.join("/").replace(/\/\/+/g,"/"),exe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),txe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rxe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Tk{constructor(t,r,n,a){a===void 0&&(a=!1),this.status=t,this.statusText=r||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Pw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const NZ=["post","put","patch","delete"],nxe=new Set(NZ),axe=["get",...NZ],sxe=new Set(axe),ixe=new Set([301,302,303,307,308]),oxe=new Set([307,308]),FT={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lxe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},k1={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},V8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cxe=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),SZ="remix-router-transitions";function dxe(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;Hr(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let ge=e.detectErrorBoundary;a=_e=>({hasErrorBoundary:ge(_e)})}else a=cxe;let s={},i=Ak(e.routes,a,void 0,s),l,c=e.basename||"/",d=e.dataStrategy||pxe,u=e.patchRoutesOnNavigation,f=ya({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),p=null,h=new Set,m=null,g=null,x=null,y=e.hydrationData!=null,v=q0(i,e.history.location,c),w=!1,N=null;if(v==null&&!u){let ge=al(404,{pathname:e.history.location.pathname}),{matches:_e,route:Ae}=QB(i);v=_e,N={[Ae.id]:ge}}v&&!e.hydrationData&&La(v,i,e.history.location.pathname).active&&(v=null);let C;if(v)if(v.some(ge=>ge.route.lazy))C=!1;else if(!v.some(ge=>ge.route.loader))C=!0;else if(f.v7_partialHydration){let ge=e.hydrationData?e.hydrationData.loaderData:null,_e=e.hydrationData?e.hydrationData.errors:null;if(_e){let Ae=v.findIndex($e=>_e[$e.route.id]!==void 0);C=v.slice(0,Ae+1).every($e=>!JO($e.route,ge,_e))}else C=v.every(Ae=>!JO(Ae.route,ge,_e))}else C=e.hydrationData!=null;else if(C=!1,v=[],f.v7_partialHydration){let ge=La(null,i,e.history.location.pathname);ge.active&&ge.matches&&(w=!0,v=ge.matches)}let _,S={historyAction:e.history.action,location:e.history.location,matches:v,initialized:C,navigation:FT,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||N,fetchers:new Map,blockers:new Map},k=js.Pop,A=!1,O,D=!1,M=new Map,I=null,z=!1,Y=!1,X=[],V=new Set,G=new Map,J=0,B=-1,q=new Map,T=new Set,R=new Map,F=new Map,H=new Set,W=new Map,te=new Map,pe;function se(){if(p=e.history.listen(ge=>{let{action:_e,location:Ae,delta:$e}=ge;if(pe){pe(),pe=void 0;return}Bg(te.size===0||$e!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let it=Rt({currentLocation:S.location,nextLocation:Ae,historyAction:_e});if(it&&$e!=null){let K=new Promise(de=>{pe=de});e.history.go($e*-1),ct(it,{state:"blocked",location:Ae,proceed(){ct(it,{state:"proceeding",proceed:void 0,reset:void 0,location:Ae}),K.then(()=>e.history.go($e))},reset(){let de=new Map(S.blockers);de.set(it,k1),he({blockers:de})}});return}return We(_e,Ae)}),r){Axe(t,M);let ge=()=>Exe(t,M);t.addEventListener("pagehide",ge),I=()=>t.removeEventListener("pagehide",ge)}return S.initialized||We(js.Pop,S.location,{initialHydration:!0}),_}function ce(){p&&p(),I&&I(),h.clear(),O&&O.abort(),S.fetchers.forEach((ge,_e)=>At(_e)),S.blockers.forEach((ge,_e)=>It(_e))}function Ne(ge){return h.add(ge),()=>h.delete(ge)}function he(ge,_e){_e===void 0&&(_e={}),S=ya({},S,ge);let Ae=[],$e=[];f.v7_fetcherPersist&&S.fetchers.forEach((it,K)=>{it.state==="idle"&&(H.has(K)?$e.push(K):Ae.push(K))}),H.forEach(it=>{!S.fetchers.has(it)&&!G.has(it)&&$e.push(it)}),[...h].forEach(it=>it(S,{deletedFetchers:$e,viewTransitionOpts:_e.viewTransitionOpts,flushSync:_e.flushSync===!0})),f.v7_fetcherPersist?(Ae.forEach(it=>S.fetchers.delete(it)),$e.forEach(it=>At(it))):$e.forEach(it=>H.delete(it))}function ze(ge,_e,Ae){var $e,it;let{flushSync:K}=Ae===void 0?{}:Ae,de=S.actionData!=null&&S.navigation.formMethod!=null&&zd(S.navigation.formMethod)&&S.navigation.state==="loading"&&(($e=ge.state)==null?void 0:$e._isRedirect)!==!0,re;_e.actionData?Object.keys(_e.actionData).length>0?re=_e.actionData:re=null:de?re=S.actionData:re=null;let ne=_e.loaderData?XB(S.loaderData,_e.loaderData,_e.matches||[],_e.errors):S.loaderData,ie=S.blockers;ie.size>0&&(ie=new Map(ie),ie.forEach((Re,Le)=>ie.set(Le,k1)));let le=A===!0||S.navigation.formMethod!=null&&zd(S.navigation.formMethod)&&((it=ge.state)==null?void 0:it._isRedirect)!==!0;l&&(i=l,l=void 0),z||k===js.Pop||(k===js.Push?e.history.push(ge,ge.state):k===js.Replace&&e.history.replace(ge,ge.state));let ke;if(k===js.Pop){let Re=M.get(S.location.pathname);Re&&Re.has(ge.pathname)?ke={currentLocation:S.location,nextLocation:ge}:M.has(ge.pathname)&&(ke={currentLocation:ge,nextLocation:S.location})}else if(D){let Re=M.get(S.location.pathname);Re?Re.add(ge.pathname):(Re=new Set([ge.pathname]),M.set(S.location.pathname,Re)),ke={currentLocation:S.location,nextLocation:ge}}he(ya({},_e,{actionData:re,loaderData:ne,historyAction:k,location:ge,initialized:!0,navigation:FT,revalidation:"idle",restoreScrollPosition:cn(ge,_e.matches||S.matches),preventScrollReset:le,blockers:ie}),{viewTransitionOpts:ke,flushSync:K===!0}),k=js.Pop,A=!1,D=!1,z=!1,Y=!1,X=[]}async function Pe(ge,_e){if(typeof ge=="number"){e.history.go(ge);return}let Ae=XO(S.location,S.matches,c,f.v7_prependBasename,ge,f.v7_relativeSplatPath,_e==null?void 0:_e.fromRouteId,_e==null?void 0:_e.relative),{path:$e,submission:it,error:K}=$B(f.v7_normalizeFormMethod,!1,Ae,_e),de=S.location,re=Ow(S.location,$e,_e&&_e.state);re=ya({},re,e.history.encodeLocation(re));let ne=_e&&_e.replace!=null?_e.replace:void 0,ie=js.Push;ne===!0?ie=js.Replace:ne===!1||it!=null&&zd(it.formMethod)&&it.formAction===S.location.pathname+S.location.search&&(ie=js.Replace);let le=_e&&"preventScrollReset"in _e?_e.preventScrollReset===!0:void 0,ke=(_e&&_e.flushSync)===!0,Re=Rt({currentLocation:de,nextLocation:re,historyAction:ie});if(Re){ct(Re,{state:"blocked",location:re,proceed(){ct(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),Pe(ge,_e)},reset(){let Le=new Map(S.blockers);Le.set(Re,k1),he({blockers:Le})}});return}return await We(ie,re,{submission:it,pendingError:K,preventScrollReset:le,replace:_e&&_e.replace,enableViewTransition:_e&&_e.viewTransition,flushSync:ke})}function ee(){if(Nt(),he({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){We(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}We(k||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:D===!0})}}async function We(ge,_e,Ae){O&&O.abort(),O=null,k=ge,z=(Ae&&Ae.startUninterruptedRevalidation)===!0,si(S.location,S.matches),A=(Ae&&Ae.preventScrollReset)===!0,D=(Ae&&Ae.enableViewTransition)===!0;let $e=l||i,it=Ae&&Ae.overrideNavigation,K=Ae!=null&&Ae.initialHydration&&S.matches&&S.matches.length>0&&!w?S.matches:q0($e,_e,c),de=(Ae&&Ae.flushSync)===!0;if(K&&S.initialized&&!Y&&bxe(S.location,_e)&&!(Ae&&Ae.submission&&zd(Ae.submission.formMethod))){ze(_e,{matches:K},{flushSync:de});return}let re=La(K,$e,_e.pathname);if(re.active&&re.matches&&(K=re.matches),!K){let{error:De,notFoundMatches:Ee,route:Je}=vr(_e.pathname);ze(_e,{matches:Ee,loaderData:{},errors:{[Je.id]:De}},{flushSync:de});return}O=new AbortController;let ne=Yx(e.history,_e,O.signal,Ae&&Ae.submission),ie;if(Ae&&Ae.pendingError)ie=[W0(K).route.id,{type:Cn.error,error:Ae.pendingError}];else if(Ae&&Ae.submission&&zd(Ae.submission.formMethod)){let De=await be(ne,_e,Ae.submission,K,re.active,{replace:Ae.replace,flushSync:de});if(De.shortCircuited)return;if(De.pendingActionResult){let[Ee,Je]=De.pendingActionResult;if(Kl(Je)&&Pw(Je.error)&&Je.error.status===404){O=null,ze(_e,{matches:De.matches,loaderData:{},errors:{[Ee]:Je.error}});return}}K=De.matches||K,ie=De.pendingActionResult,it=zT(_e,Ae.submission),de=!1,re.active=!1,ne=Yx(e.history,ne.url,ne.signal)}let{shortCircuited:le,matches:ke,loaderData:Re,errors:Le}=await wt(ne,_e,K,re.active,it,Ae&&Ae.submission,Ae&&Ae.fetcherSubmission,Ae&&Ae.replace,Ae&&Ae.initialHydration===!0,de,ie);le||(O=null,ze(_e,ya({matches:ke||K},JB(ie),{loaderData:Re,errors:Le})))}async function be(ge,_e,Ae,$e,it,K){K===void 0&&(K={}),Nt();let de=kxe(_e,Ae);if(he({navigation:de},{flushSync:K.flushSync===!0}),it){let ie=await Zt($e,_e.pathname,ge.signal);if(ie.type==="aborted")return{shortCircuited:!0};if(ie.type==="error"){let le=W0(ie.partialMatches).route.id;return{matches:ie.partialMatches,pendingActionResult:[le,{type:Cn.error,error:ie.error}]}}else if(ie.matches)$e=ie.matches;else{let{notFoundMatches:le,error:ke,route:Re}=vr(_e.pathname);return{matches:le,pendingActionResult:[Re.id,{type:Cn.error,error:ke}]}}}let re,ne=s2($e,_e);if(!ne.route.action&&!ne.route.lazy)re={type:Cn.error,error:al(405,{method:ge.method,pathname:_e.pathname,routeId:ne.route.id})};else if(re=(await Ve("action",S,ge,[ne],$e,null))[ne.route.id],ge.signal.aborted)return{shortCircuited:!0};if(X0(re)){let ie;return K&&K.replace!=null?ie=K.replace:ie=YB(re.response.headers.get("Location"),new URL(ge.url),c)===S.location.pathname+S.location.search,await Xe(ge,re,!0,{submission:Ae,replace:ie}),{shortCircuited:!0}}if(Qp(re))throw al(400,{type:"defer-action"});if(Kl(re)){let ie=W0($e,ne.route.id);return(K&&K.replace)!==!0&&(k=js.Push),{matches:$e,pendingActionResult:[ie.route.id,re]}}return{matches:$e,pendingActionResult:[ne.route.id,re]}}async function wt(ge,_e,Ae,$e,it,K,de,re,ne,ie,le){let ke=it||zT(_e,K),Re=K||de||eH(ke),Le=!z&&(!f.v7_partialHydration||!ne);if($e){if(Le){let Ir=Qe(le);he(ya({navigation:ke},Ir!==void 0?{actionData:Ir}:{}),{flushSync:ie})}let or=await Zt(Ae,_e.pathname,ge.signal);if(or.type==="aborted")return{shortCircuited:!0};if(or.type==="error"){let Ir=W0(or.partialMatches).route.id;return{matches:or.partialMatches,loaderData:{},errors:{[Ir]:or.error}}}else if(or.matches)Ae=or.matches;else{let{error:Ir,notFoundMatches:ma,route:ja}=vr(_e.pathname);return{matches:ma,loaderData:{},errors:{[ja.id]:Ir}}}}let De=l||i,[Ee,Je]=VB(e.history,S,Ae,Re,_e,f.v7_partialHydration&&ne===!0,f.v7_skipActionErrorRevalidation,Y,X,V,H,R,T,De,c,le);if(ir(or=>!(Ae&&Ae.some(Ir=>Ir.route.id===or))||Ee&&Ee.some(Ir=>Ir.route.id===or)),B=++J,Ee.length===0&&Je.length===0){let or=ar();return ze(_e,ya({matches:Ae,loaderData:{},errors:le&&Kl(le[1])?{[le[0]]:le[1].error}:null},JB(le),or?{fetchers:new Map(S.fetchers)}:{}),{flushSync:ie}),{shortCircuited:!0}}if(Le){let or={};if(!$e){or.navigation=ke;let Ir=Qe(le);Ir!==void 0&&(or.actionData=Ir)}Je.length>0&&(or.fetchers=me(Je)),he(or,{flushSync:ie})}Je.forEach(or=>{er(or.key),or.controller&&G.set(or.key,or.controller)});let ut=()=>Je.forEach(or=>er(or.key));O&&O.signal.addEventListener("abort",ut);let{loaderResults:Ct,fetcherResults:pt}=await st(S,Ae,Ee,Je,ge);if(ge.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",ut),Je.forEach(or=>G.delete(or.key));let xt=Oj(Ct);if(xt)return await Xe(ge,xt.result,!0,{replace:re}),{shortCircuited:!0};if(xt=Oj(pt),xt)return T.add(xt.key),await Xe(ge,xt.result,!0,{replace:re}),{shortCircuited:!0};let{loaderData:Pt,errors:wr}=KB(S,Ae,Ct,le,Je,pt,W);W.forEach((or,Ir)=>{or.subscribe(ma=>{(ma||or.done)&&W.delete(Ir)})}),f.v7_partialHydration&&ne&&S.errors&&(wr=ya({},S.errors,wr));let pr=ar(),pn=Ke(B),rs=pr||pn||Je.length>0;return ya({matches:Ae,loaderData:Pt,errors:wr},rs?{fetchers:new Map(S.fetchers)}:{})}function Qe(ge){if(ge&&!Kl(ge[1]))return{[ge[0]]:ge[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function me(ge){return ge.forEach(_e=>{let Ae=S.fetchers.get(_e.key),$e=C1(void 0,Ae?Ae.data:void 0);S.fetchers.set(_e.key,$e)}),new Map(S.fetchers)}function we(ge,_e,Ae,$e){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");er(ge);let it=($e&&$e.flushSync)===!0,K=l||i,de=XO(S.location,S.matches,c,f.v7_prependBasename,Ae,f.v7_relativeSplatPath,_e,$e==null?void 0:$e.relative),re=q0(K,de,c),ne=La(re,K,de);if(ne.active&&ne.matches&&(re=ne.matches),!re){vt(ge,_e,al(404,{pathname:de}),{flushSync:it});return}let{path:ie,submission:le,error:ke}=$B(f.v7_normalizeFormMethod,!0,de,$e);if(ke){vt(ge,_e,ke,{flushSync:it});return}let Re=s2(re,ie),Le=($e&&$e.preventScrollReset)===!0;if(le&&zd(le.formMethod)){Me(ge,_e,ie,Re,re,ne.active,it,Le,le);return}R.set(ge,{routeId:_e,path:ie}),Ge(ge,_e,ie,Re,re,ne.active,it,Le,le)}async function Me(ge,_e,Ae,$e,it,K,de,re,ne){Nt(),R.delete(ge);function ie(Dr){if(!Dr.route.action&&!Dr.route.lazy){let Ol=al(405,{method:ne.formMethod,pathname:Ae,routeId:_e});return vt(ge,_e,Ol,{flushSync:de}),!0}return!1}if(!K&&ie($e))return;let le=S.fetchers.get(ge);_t(ge,Cxe(ne,le),{flushSync:de});let ke=new AbortController,Re=Yx(e.history,Ae,ke.signal,ne);if(K){let Dr=await Zt(it,new URL(Re.url).pathname,Re.signal,ge);if(Dr.type==="aborted")return;if(Dr.type==="error"){vt(ge,_e,Dr.error,{flushSync:de});return}else if(Dr.matches){if(it=Dr.matches,$e=s2(it,Ae),ie($e))return}else{vt(ge,_e,al(404,{pathname:Ae}),{flushSync:de});return}}G.set(ge,ke);let Le=J,Ee=(await Ve("action",S,Re,[$e],it,ge))[$e.route.id];if(Re.signal.aborted){G.get(ge)===ke&&G.delete(ge);return}if(f.v7_fetcherPersist&&H.has(ge)){if(X0(Ee)||Kl(Ee)){_t(ge,Tp(void 0));return}}else{if(X0(Ee))if(G.delete(ge),B>Le){_t(ge,Tp(void 0));return}else return T.add(ge),_t(ge,C1(ne)),Xe(Re,Ee,!1,{fetcherSubmission:ne,preventScrollReset:re});if(Kl(Ee)){vt(ge,_e,Ee.error);return}}if(Qp(Ee))throw al(400,{type:"defer-action"});let Je=S.navigation.location||S.location,ut=Yx(e.history,Je,ke.signal),Ct=l||i,pt=S.navigation.state!=="idle"?q0(Ct,S.navigation.location,c):S.matches;Hr(pt,"Didn't find any matches after fetcher action");let xt=++J;q.set(ge,xt);let Pt=C1(ne,Ee.data);S.fetchers.set(ge,Pt);let[wr,pr]=VB(e.history,S,pt,ne,Je,!1,f.v7_skipActionErrorRevalidation,Y,X,V,H,R,T,Ct,c,[$e.route.id,Ee]);pr.filter(Dr=>Dr.key!==ge).forEach(Dr=>{let Ol=Dr.key,Rx=S.fetchers.get(Ol),Ia=C1(void 0,Rx?Rx.data:void 0);S.fetchers.set(Ol,Ia),er(Ol),Dr.controller&&G.set(Ol,Dr.controller)}),he({fetchers:new Map(S.fetchers)});let pn=()=>pr.forEach(Dr=>er(Dr.key));ke.signal.addEventListener("abort",pn);let{loaderResults:rs,fetcherResults:or}=await st(S,pt,wr,pr,ut);if(ke.signal.aborted)return;ke.signal.removeEventListener("abort",pn),q.delete(ge),G.delete(ge),pr.forEach(Dr=>G.delete(Dr.key));let Ir=Oj(rs);if(Ir)return Xe(ut,Ir.result,!1,{preventScrollReset:re});if(Ir=Oj(or),Ir)return T.add(Ir.key),Xe(ut,Ir.result,!1,{preventScrollReset:re});let{loaderData:ma,errors:ja}=KB(S,pt,rs,void 0,pr,or,W);if(S.fetchers.has(ge)){let Dr=Tp(Ee.data);S.fetchers.set(ge,Dr)}Ke(xt),S.navigation.state==="loading"&&xt>B?(Hr(k,"Expected pending action"),O&&O.abort(),ze(S.navigation.location,{matches:pt,loaderData:ma,errors:ja,fetchers:new Map(S.fetchers)})):(he({errors:ja,loaderData:XB(S.loaderData,ma,pt,ja),fetchers:new Map(S.fetchers)}),Y=!1)}async function Ge(ge,_e,Ae,$e,it,K,de,re,ne){let ie=S.fetchers.get(ge);_t(ge,C1(ne,ie?ie.data:void 0),{flushSync:de});let le=new AbortController,ke=Yx(e.history,Ae,le.signal);if(K){let Ee=await Zt(it,new URL(ke.url).pathname,ke.signal,ge);if(Ee.type==="aborted")return;if(Ee.type==="error"){vt(ge,_e,Ee.error,{flushSync:de});return}else if(Ee.matches)it=Ee.matches,$e=s2(it,Ae);else{vt(ge,_e,al(404,{pathname:Ae}),{flushSync:de});return}}G.set(ge,le);let Re=J,De=(await Ve("loader",S,ke,[$e],it,ge))[$e.route.id];if(Qp(De)&&(De=await q8(De,ke.signal,!0)||De),G.get(ge)===le&&G.delete(ge),!ke.signal.aborted){if(H.has(ge)){_t(ge,Tp(void 0));return}if(X0(De))if(B>Re){_t(ge,Tp(void 0));return}else{T.add(ge),await Xe(ke,De,!1,{preventScrollReset:re});return}if(Kl(De)){vt(ge,_e,De.error);return}Hr(!Qp(De),"Unhandled fetcher deferred data"),_t(ge,Tp(De.data))}}async function Xe(ge,_e,Ae,$e){let{submission:it,fetcherSubmission:K,preventScrollReset:de,replace:re}=$e===void 0?{}:$e;_e.response.headers.has("X-Remix-Revalidate")&&(Y=!0);let ne=_e.response.headers.get("Location");Hr(ne,"Expected a Location header on the redirect Response"),ne=YB(ne,new URL(ge.url),c);let ie=Ow(S.location,ne,{_isRedirect:!0});if(r){let Ee=!1;if(_e.response.headers.has("X-Remix-Reload-Document"))Ee=!0;else if(V8.test(ne)){const Je=e.history.createURL(ne);Ee=Je.origin!==t.location.origin||Rh(Je.pathname,c)==null}if(Ee){re?t.location.replace(ne):t.location.assign(ne);return}}O=null;let le=re===!0||_e.response.headers.has("X-Remix-Replace")?js.Replace:js.Push,{formMethod:ke,formAction:Re,formEncType:Le}=S.navigation;!it&&!K&&ke&&Re&&Le&&(it=eH(S.navigation));let De=it||K;if(oxe.has(_e.response.status)&&De&&zd(De.formMethod))await We(le,ie,{submission:ya({},De,{formAction:ne}),preventScrollReset:de||A,enableViewTransition:Ae?D:void 0});else{let Ee=zT(ie,it);await We(le,ie,{overrideNavigation:Ee,fetcherSubmission:K,preventScrollReset:de||A,enableViewTransition:Ae?D:void 0})}}async function Ve(ge,_e,Ae,$e,it,K){let de,re={};try{de=await mxe(d,ge,_e,Ae,$e,it,K,s,a)}catch(ne){return $e.forEach(ie=>{re[ie.route.id]={type:Cn.error,error:ne}}),re}for(let[ne,ie]of Object.entries(de))if(wxe(ie)){let le=ie.result;re[ne]={type:Cn.redirect,response:yxe(le,Ae,ne,it,c,f.v7_relativeSplatPath)}}else re[ne]=await xxe(ie);return re}async function st(ge,_e,Ae,$e,it){let K=ge.matches,de=Ve("loader",ge,it,Ae,_e,null),re=Promise.all($e.map(async le=>{if(le.matches&&le.match&&le.controller){let Re=(await Ve("loader",ge,Yx(e.history,le.path,le.controller.signal),[le.match],le.matches,le.key))[le.match.route.id];return{[le.key]:Re}}else return Promise.resolve({[le.key]:{type:Cn.error,error:al(404,{pathname:le.path})}})})),ne=await de,ie=(await re).reduce((le,ke)=>Object.assign(le,ke),{});return await Promise.all([jxe(_e,ne,it.signal,K,ge.loaderData),_xe(_e,ie,$e)]),{loaderResults:ne,fetcherResults:ie}}function Nt(){Y=!0,X.push(...ir()),R.forEach((ge,_e)=>{G.has(_e)&&V.add(_e),er(_e)})}function _t(ge,_e,Ae){Ae===void 0&&(Ae={}),S.fetchers.set(ge,_e),he({fetchers:new Map(S.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function vt(ge,_e,Ae,$e){$e===void 0&&($e={});let it=W0(S.matches,_e);At(ge),he({errors:{[it.route.id]:Ae},fetchers:new Map(S.fetchers)},{flushSync:($e&&$e.flushSync)===!0})}function zt(ge){return F.set(ge,(F.get(ge)||0)+1),H.has(ge)&&H.delete(ge),S.fetchers.get(ge)||lxe}function At(ge){let _e=S.fetchers.get(ge);G.has(ge)&&!(_e&&_e.state==="loading"&&q.has(ge))&&er(ge),R.delete(ge),q.delete(ge),T.delete(ge),f.v7_fetcherPersist&&H.delete(ge),V.delete(ge),S.fetchers.delete(ge)}function cr(ge){let _e=(F.get(ge)||0)-1;_e<=0?(F.delete(ge),H.add(ge),f.v7_fetcherPersist||At(ge)):F.set(ge,_e),he({fetchers:new Map(S.fetchers)})}function er(ge){let _e=G.get(ge);_e&&(_e.abort(),G.delete(ge))}function Gt(ge){for(let _e of ge){let Ae=zt(_e),$e=Tp(Ae.data);S.fetchers.set(_e,$e)}}function ar(){let ge=[],_e=!1;for(let Ae of T){let $e=S.fetchers.get(Ae);Hr($e,"Expected fetcher: "+Ae),$e.state==="loading"&&(T.delete(Ae),ge.push(Ae),_e=!0)}return Gt(ge),_e}function Ke(ge){let _e=[];for(let[Ae,$e]of q)if($e<ge){let it=S.fetchers.get(Ae);Hr(it,"Expected fetcher: "+Ae),it.state==="loading"&&(er(Ae),q.delete(Ae),_e.push(Ae))}return Gt(_e),_e.length>0}function lt(ge,_e){let Ae=S.blockers.get(ge)||k1;return te.get(ge)!==_e&&te.set(ge,_e),Ae}function It(ge){S.blockers.delete(ge),te.delete(ge)}function ct(ge,_e){let Ae=S.blockers.get(ge)||k1;Hr(Ae.state==="unblocked"&&_e.state==="blocked"||Ae.state==="blocked"&&_e.state==="blocked"||Ae.state==="blocked"&&_e.state==="proceeding"||Ae.state==="blocked"&&_e.state==="unblocked"||Ae.state==="proceeding"&&_e.state==="unblocked","Invalid blocker state transition: "+Ae.state+" -> "+_e.state);let $e=new Map(S.blockers);$e.set(ge,_e),he({blockers:$e})}function Rt(ge){let{currentLocation:_e,nextLocation:Ae,historyAction:$e}=ge;if(te.size===0)return;te.size>1&&Bg(!1,"A router only supports one blocker at a time");let it=Array.from(te.entries()),[K,de]=it[it.length-1],re=S.blockers.get(K);if(!(re&&re.state==="proceeding")&&de({currentLocation:_e,nextLocation:Ae,historyAction:$e}))return K}function vr(ge){let _e=al(404,{pathname:ge}),Ae=l||i,{matches:$e,route:it}=QB(Ae);return ir(),{notFoundMatches:$e,route:it,error:_e}}function ir(ge){let _e=[];return W.forEach((Ae,$e)=>{(!ge||ge($e))&&(Ae.cancel(),_e.push($e),W.delete($e))}),_e}function Ft(ge,_e,Ae){if(m=ge,x=_e,g=Ae||null,!y&&S.navigation===FT){y=!0;let $e=cn(S.location,S.matches);$e!=null&&he({restoreScrollPosition:$e})}return()=>{m=null,x=null,g=null}}function kr(ge,_e){return g&&g(ge,_e.map($e=>Fge($e,S.loaderData)))||ge.key}function si(ge,_e){if(m&&x){let Ae=kr(ge,_e);m[Ae]=x()}}function cn(ge,_e){if(m){let Ae=kr(ge,_e),$e=m[Ae];if(typeof $e=="number")return $e}return null}function La(ge,_e,Ae){if(u)if(ge){if(Object.keys(ge[0].params).length>0)return{active:!0,matches:g_(_e,Ae,c,!0)}}else return{active:!0,matches:g_(_e,Ae,c,!0)||[]};return{active:!1,matches:null}}async function Zt(ge,_e,Ae,$e){if(!u)return{type:"success",matches:ge};let it=ge;for(;;){let K=l==null,de=l||i,re=s;try{await u({signal:Ae,path:_e,matches:it,fetcherKey:$e,patch:(le,ke)=>{Ae.aborted||WB(le,ke,de,re,a)}})}catch(le){return{type:"error",error:le,partialMatches:it}}finally{K&&!Ae.aborted&&(i=[...i])}if(Ae.aborted)return{type:"aborted"};let ne=q0(de,_e,c);if(ne)return{type:"success",matches:ne};let ie=g_(de,_e,c,!0);if(!ie||it.length===ie.length&&it.every((le,ke)=>le.route.id===ie[ke].route.id))return{type:"success",matches:null};it=ie}}function yt(ge){s={},l=Ak(ge,a,void 0,s)}function br(ge,_e){let Ae=l==null;WB(ge,_e,l||i,s,a),Ae&&(i=[...i],he({}))}return _={get basename(){return c},get future(){return f},get state(){return S},get routes(){return i},get window(){return t},initialize:se,subscribe:Ne,enableScrollRestoration:Ft,navigate:Pe,fetch:we,revalidate:ee,createHref:ge=>e.history.createHref(ge),encodeLocation:ge=>e.history.encodeLocation(ge),getFetcher:zt,deleteFetcher:cr,dispose:ce,getBlocker:lt,deleteBlocker:It,patchRoutes:br,_internalFetchControllers:G,_internalActiveDeferreds:W,_internalSetRoutes:yt},_}function uxe(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function XO(e,t,r,n,a,s,i,l){let c,d;if(i){c=[];for(let f of t)if(c.push(f),f.route.id===i){d=f;break}}else c=t,d=t[t.length-1];let u=k4(a||".",_4(c,s),Rh(e.pathname,r)||e.pathname,l==="path");if(a==null&&(u.search=e.search,u.hash=e.hash),(a==null||a===""||a===".")&&d){let f=W8(u.search);if(d.route.index&&!f)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&f){let p=new URLSearchParams(u.search),h=p.getAll("index");p.delete("index"),h.filter(g=>g).forEach(g=>p.append("index",g));let m=p.toString();u.search=m?"?"+m:""}}return n&&r!=="/"&&(u.pathname=u.pathname==="/"?r:mh([r,u.pathname])),Hg(u)}function $B(e,t,r,n){if(!n||!uxe(n))return{path:r};if(n.formMethod&&!Sxe(n.formMethod))return{path:r,error:al(405,{method:n.formMethod})};let a=()=>({path:r,error:al(400,{type:"invalid-body"})}),s=n.formMethod||"get",i=e?s.toUpperCase():s.toLowerCase(),l=kZ(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!zd(i))return a();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((h,m)=>{let[g,x]=m;return""+h+g+"="+x+`
`},""):String(n.body);return{path:r,submission:{formMethod:i,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!zd(i))return a();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:i,formAction:l,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return a()}}}Hr(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=QO(n.formData),d=n.formData;else if(n.body instanceof FormData)c=QO(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=GB(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=GB(c)}catch{return a()}let u={formMethod:i,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(zd(u.formMethod))return{path:r,submission:u};let f=r0(r);return t&&f.search&&W8(f.search)&&c.append("index",""),f.search="?"+c,{path:Hg(f),submission:u}}function UB(e,t,r){r===void 0&&(r=!1);let n=e.findIndex(a=>a.route.id===t);return n>=0?e.slice(0,r?n+1:n):e}function VB(e,t,r,n,a,s,i,l,c,d,u,f,p,h,m,g){let x=g?Kl(g[1])?g[1].error:g[1].data:void 0,y=e.createURL(t.location),v=e.createURL(a),w=r;s&&t.errors?w=UB(r,Object.keys(t.errors)[0],!0):g&&Kl(g[1])&&(w=UB(r,g[0]));let N=g?g[1].statusCode:void 0,C=i&&N&&N>=400,_=w.filter((k,A)=>{let{route:O}=k;if(O.lazy)return!0;if(O.loader==null)return!1;if(s)return JO(O,t.loaderData,t.errors);if(fxe(t.loaderData,t.matches[A],k)||c.some(I=>I===k.route.id))return!0;let D=t.matches[A],M=k;return qB(k,ya({currentUrl:y,currentParams:D.params,nextUrl:v,nextParams:M.params},n,{actionResult:x,actionStatus:N,defaultShouldRevalidate:C?!1:l||y.pathname+y.search===v.pathname+v.search||y.search!==v.search||jZ(D,M)}))}),S=[];return f.forEach((k,A)=>{if(s||!r.some(z=>z.route.id===k.routeId)||u.has(A))return;let O=q0(h,k.path,m);if(!O){S.push({key:A,routeId:k.routeId,path:k.path,matches:null,match:null,controller:null});return}let D=t.fetchers.get(A),M=s2(O,k.path),I=!1;p.has(A)?I=!1:d.has(A)?(d.delete(A),I=!0):D&&D.state!=="idle"&&D.data===void 0?I=l:I=qB(M,ya({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:r[r.length-1].params},n,{actionResult:x,actionStatus:N,defaultShouldRevalidate:C?!1:l})),I&&S.push({key:A,routeId:k.routeId,path:k.path,matches:O,match:M,controller:new AbortController})}),[_,S]}function JO(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&t[e.id]!==void 0,a=r!=null&&r[e.id]!==void 0;return!n&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!a}function fxe(e,t,r){let n=!t||r.route.id!==t.route.id,a=e[r.route.id]===void 0;return n||a}function jZ(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function qB(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function WB(e,t,r,n,a){var s;let i;if(e){let d=n[e];Hr(d,"No route found to patch children into: routeId = "+e),d.children||(d.children=[]),i=d.children}else i=r;let l=t.filter(d=>!i.some(u=>_Z(d,u))),c=Ak(l,a,[e||"_","patch",String(((s=i)==null?void 0:s.length)||"0")],n);i.push(...c)}function _Z(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var a;return(a=t.children)==null?void 0:a.some(s=>_Z(r,s))}):!1}async function hxe(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let a=r[e.id];Hr(a,"No route found in manifest");let s={};for(let i in n){let c=a[i]!==void 0&&i!=="hasErrorBoundary";Bg(!c,'Route "'+a.id+'" has a static property "'+i+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+i+'" will be ignored.')),!c&&!Lge.has(i)&&(s[i]=n[i])}Object.assign(a,s),Object.assign(a,ya({},t(a),{lazy:void 0}))}async function pxe(e){let{matches:t}=e,r=t.filter(a=>a.shouldLoad);return(await Promise.all(r.map(a=>a.resolve()))).reduce((a,s,i)=>Object.assign(a,{[r[i].route.id]:s}),{})}async function mxe(e,t,r,n,a,s,i,l,c,d){let u=s.map(h=>h.route.lazy?hxe(h.route,c,l):void 0),f=s.map((h,m)=>{let g=u[m],x=a.some(v=>v.route.id===h.route.id);return ya({},h,{shouldLoad:x,resolve:async v=>(v&&n.method==="GET"&&(h.route.lazy||h.route.loader)&&(x=!0),x?gxe(t,n,h,g,v,d):Promise.resolve({type:Cn.data,result:void 0}))})}),p=await e({matches:f,request:n,params:s[0].params,fetcherKey:i,context:d});try{await Promise.all(u)}catch{}return p}async function gxe(e,t,r,n,a,s){let i,l,c=d=>{let u,f=new Promise((m,g)=>u=g);l=()=>u(),t.signal.addEventListener("abort",l);let p=m=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+r.route.id+"]"))):d({request:t,params:r.params,context:s},...m!==void 0?[m]:[]),h=(async()=>{try{return{type:"data",result:await(a?a(g=>p(g)):p())}}catch(m){return{type:"error",result:m}}})();return Promise.race([h,f])};try{let d=r.route[e];if(n)if(d){let u,[f]=await Promise.all([c(d).catch(p=>{u=p}),n]);if(u!==void 0)throw u;i=f}else if(await n,d=r.route[e],d)i=await c(d);else if(e==="action"){let u=new URL(t.url),f=u.pathname+u.search;throw al(405,{method:t.method,pathname:f,routeId:r.route.id})}else return{type:Cn.data,result:void 0};else if(d)i=await c(d);else{let u=new URL(t.url),f=u.pathname+u.search;throw al(404,{pathname:f})}Hr(i.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:Cn.error,result:d}}finally{l&&t.signal.removeEventListener("abort",l)}return i}async function xxe(e){let{result:t,type:r}=e;if(CZ(t)){let f;try{let p=t.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?t.body==null?f=null:f=await t.json():f=await t.text()}catch(p){return{type:Cn.error,error:p}}return r===Cn.error?{type:Cn.error,error:new Tk(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:Cn.data,data:f,statusCode:t.status,headers:t.headers}}if(r===Cn.error){if(ZB(t)){var n,a;if(t.data instanceof Error){var s,i;return{type:Cn.error,error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}}return{type:Cn.error,error:new Tk(((n=t.init)==null?void 0:n.status)||500,void 0,t.data),statusCode:Pw(t)?t.status:void 0,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}}return{type:Cn.error,error:t,statusCode:Pw(t)?t.status:void 0}}if(Nxe(t)){var l,c;return{type:Cn.deferred,deferredData:t,statusCode:(l=t.init)==null?void 0:l.status,headers:((c=t.init)==null?void 0:c.headers)&&new Headers(t.init.headers)}}if(ZB(t)){var d,u;return{type:Cn.data,data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}}return{type:Cn.data,data:t}}function yxe(e,t,r,n,a,s){let i=e.headers.get("Location");if(Hr(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!V8.test(i)){let l=n.slice(0,n.findIndex(c=>c.route.id===r)+1);i=XO(new URL(t.url),l,a,!0,i,s),e.headers.set("Location",i)}return e}function YB(e,t,r){if(V8.test(e)){let n=e,a=n.startsWith("//")?new URL(t.protocol+n):new URL(n),s=Rh(a.pathname,r)!=null;if(a.origin===t.origin&&s)return a.pathname+a.search+a.hash}return e}function Yx(e,t,r,n){let a=e.createURL(kZ(t)).toString(),s={signal:r};if(n&&zd(n.formMethod)){let{formMethod:i,formEncType:l}=n;s.method=i.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(n.json)):l==="text/plain"?s.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?s.body=QO(n.formData):s.body=n.formData}return new Request(a,s)}function QO(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function GB(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function vxe(e,t,r,n,a){let s={},i=null,l,c=!1,d={},u=r&&Kl(r[1])?r[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let p=f.route.id,h=t[p];if(Hr(!X0(h),"Cannot handle redirect results in processLoaderData"),Kl(h)){let m=h.error;u!==void 0&&(m=u,u=void 0),i=i||{};{let g=W0(e,p);i[g.route.id]==null&&(i[g.route.id]=m)}s[p]=void 0,c||(c=!0,l=Pw(h.error)?h.error.status:500),h.headers&&(d[p]=h.headers)}else Qp(h)?(n.set(p,h.deferredData),s[p]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!c&&(l=h.statusCode),h.headers&&(d[p]=h.headers)):(s[p]=h.data,h.statusCode&&h.statusCode!==200&&!c&&(l=h.statusCode),h.headers&&(d[p]=h.headers))}),u!==void 0&&r&&(i={[r[0]]:u},s[r[0]]=void 0),{loaderData:s,errors:i,statusCode:l||200,loaderHeaders:d}}function KB(e,t,r,n,a,s,i){let{loaderData:l,errors:c}=vxe(t,r,n,i);return a.forEach(d=>{let{key:u,match:f,controller:p}=d,h=s[u];if(Hr(h,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(Kl(h)){let m=W0(e.matches,f==null?void 0:f.route.id);c&&c[m.route.id]||(c=ya({},c,{[m.route.id]:h.error})),e.fetchers.delete(u)}else if(X0(h))Hr(!1,"Unhandled fetcher revalidation redirect");else if(Qp(h))Hr(!1,"Unhandled fetcher deferred data");else{let m=Tp(h.data);e.fetchers.set(u,m)}}),{loaderData:l,errors:c}}function XB(e,t,r,n){let a=ya({},t);for(let s of r){let i=s.route.id;if(t.hasOwnProperty(i)?t[i]!==void 0&&(a[i]=t[i]):e[i]!==void 0&&s.route.loader&&(a[i]=e[i]),n&&n.hasOwnProperty(i))break}return a}function JB(e){return e?Kl(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function W0(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function QB(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function al(e,t){let{pathname:r,routeId:n,method:a,type:s,message:i}=t===void 0?{}:t,l="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(l="Bad Request",a&&r&&n?c="You made a "+a+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?c="defer() is not supported in actions":s==="invalid-body"&&(c="Unable to encode submission body")):e===403?(l="Forbidden",c='Route "'+n+'" does not match URL "'+r+'"'):e===404?(l="Not Found",c='No route matches URL "'+r+'"'):e===405&&(l="Method Not Allowed",a&&r&&n?c="You made a "+a.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":a&&(c='Invalid request method "'+a.toUpperCase()+'"')),new Tk(e||500,l,new Error(c),!0)}function Oj(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,a]=t[r];if(X0(a))return{key:n,result:a}}}function kZ(e){let t=typeof e=="string"?r0(e):e;return Hg(ya({},t,{hash:""}))}function bxe(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function wxe(e){return CZ(e.result)&&ixe.has(e.result.status)}function Qp(e){return e.type===Cn.deferred}function Kl(e){return e.type===Cn.error}function X0(e){return(e&&e.type)===Cn.redirect}function ZB(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Nxe(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function CZ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Sxe(e){return sxe.has(e.toLowerCase())}function zd(e){return nxe.has(e.toLowerCase())}async function jxe(e,t,r,n,a){let s=Object.entries(t);for(let i=0;i<s.length;i++){let[l,c]=s[i],d=e.find(p=>(p==null?void 0:p.route.id)===l);if(!d)continue;let u=n.find(p=>p.route.id===d.route.id),f=u!=null&&!jZ(u,d)&&(a&&a[d.route.id])!==void 0;Qp(c)&&f&&await q8(c,r,!1).then(p=>{p&&(t[l]=p)})}}async function _xe(e,t,r){for(let n=0;n<r.length;n++){let{key:a,routeId:s,controller:i}=r[n],l=t[a];e.find(d=>(d==null?void 0:d.route.id)===s)&&Qp(l)&&(Hr(i,"Expected an AbortController for revalidating fetcher deferred result"),await q8(l,i.signal,!0).then(d=>{d&&(t[a]=d)}))}}async function q8(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:Cn.data,data:e.deferredData.unwrappedData}}catch(a){return{type:Cn.error,error:a}}return{type:Cn.data,data:e.deferredData.data}}}function W8(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function s2(e,t){let r=typeof t=="string"?r0(t).search:t.search;if(e[e.length-1].route.index&&W8(r||""))return e[e.length-1];let n=wZ(e);return n[n.length-1]}function eH(e){let{formMethod:t,formAction:r,formEncType:n,text:a,formData:s,json:i}=e;if(!(!t||!r||!n)){if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a};if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(i!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:i,text:void 0}}}function zT(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function kxe(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function C1(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Cxe(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Tp(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Axe(e,t){try{let r=e.sessionStorage.getItem(SZ);if(r){let n=JSON.parse(r);for(let[a,s]of Object.entries(n||{}))s&&Array.isArray(s)&&t.set(a,new Set(s||[]))}}catch{}}function Exe(e,t){if(t.size>0){let r={};for(let[n,a]of t)r[n]=[...a];try{e.sessionStorage.setItem(SZ,JSON.stringify(r))}catch(n){Bg(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dk(){return Dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dk.apply(this,arguments)}const qN=b.createContext(null),Y8=b.createContext(null),Jh=b.createContext(null),G8=b.createContext(null),lf=b.createContext({outlet:null,matches:[],isDataRoute:!1}),AZ=b.createContext(null);function Txe(e,t){let{relative:r}=t===void 0?{}:t;jb()||Hr(!1);let{basename:n,navigator:a}=b.useContext(Jh),{hash:s,pathname:i,search:l}=A4(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:mh([n,i])),a.createHref({pathname:c,search:l,hash:s})}function jb(){return b.useContext(G8)!=null}function lu(){return jb()||Hr(!1),b.useContext(G8).location}function EZ(e){b.useContext(Jh).static||b.useLayoutEffect(e)}function vs(){let{isDataRoute:e}=b.useContext(lf);return e?Vxe():Dxe()}function Dxe(){jb()||Hr(!1);let e=b.useContext(qN),{basename:t,future:r,navigator:n}=b.useContext(Jh),{matches:a}=b.useContext(lf),{pathname:s}=lu(),i=JSON.stringify(_4(a,r.v7_relativeSplatPath)),l=b.useRef(!1);return EZ(()=>{l.current=!0}),b.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=k4(d,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:mh([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,i,s,e])}const Mxe=b.createContext(null);function Oxe(e){let t=b.useContext(lf).outlet;return t&&b.createElement(Mxe.Provider,{value:e},t)}function C4(){let{matches:e}=b.useContext(lf),t=e[e.length-1];return t?t.params:{}}function A4(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(Jh),{matches:a}=b.useContext(lf),{pathname:s}=lu(),i=JSON.stringify(_4(a,n.v7_relativeSplatPath));return b.useMemo(()=>k4(e,JSON.parse(i),s,r==="path"),[e,i,s,r])}function Pxe(e,t,r,n){jb()||Hr(!1);let{navigator:a}=b.useContext(Jh),{matches:s}=b.useContext(lf),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=lu(),u;u=d;let f=u.pathname||"/",p=f;if(c!=="/"){let g=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let h=q0(e,{pathname:p});return zxe(h&&h.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:mh([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:mh([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r,n)}function Rxe(){let e=Uxe(),t=Pw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:a},r):null,null)}const Lxe=b.createElement(Rxe,null);class Ixe extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(lf.Provider,{value:this.props.routeContext},b.createElement(AZ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fxe(e){let{routeContext:t,match:r,children:n}=e,a=b.useContext(qN);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(lf.Provider,{value:t},n)}function zxe(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||Hr(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:p,errors:h}=r,m=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||m){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,f,p)=>{let h,m=!1,g=null,x=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||Lxe,c&&(d<0&&p===0?(qxe("route-fallback"),m=!0,x=null):d===p&&(m=!0,x=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,p+1)),v=()=>{let w;return h?w=g:m?w=x:f.route.Component?w=b.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,b.createElement(Fxe,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?b.createElement(Ixe,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var TZ=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(TZ||{}),DZ=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(DZ||{});function Bxe(e){let t=b.useContext(qN);return t||Hr(!1),t}function Hxe(e){let t=b.useContext(Y8);return t||Hr(!1),t}function $xe(e){let t=b.useContext(lf);return t||Hr(!1),t}function MZ(e){let t=$xe(),r=t.matches[t.matches.length-1];return r.route.id||Hr(!1),r.route.id}function Uxe(){var e;let t=b.useContext(AZ),r=Hxe(DZ.UseRouteError),n=MZ();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Vxe(){let{router:e}=Bxe(TZ.UseNavigateStable),t=MZ(),r=b.useRef(!1);return EZ(()=>{r.current=!0}),b.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Dk({fromRouteId:t},s)))},[e,t])}const tH={};function qxe(e,t,r){tH[e]||(tH[e]=!0)}function Wxe(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Ov(e){let{to:t,replace:r,state:n,relative:a}=e;jb()||Hr(!1);let{future:s,static:i}=b.useContext(Jh),{matches:l}=b.useContext(lf),{pathname:c}=lu(),d=vs(),u=k4(t,_4(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(u);return b.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:a}),[d,f,a,r,n]),null}function OZ(e){return Oxe(e.context)}function Yxe(e){let{basename:t="/",children:r=null,location:n,navigationType:a=js.Pop,navigator:s,static:i=!1,future:l}=e;jb()&&Hr(!1);let c=t.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:c,navigator:s,static:i,future:Dk({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=r0(n));let{pathname:u="/",search:f="",hash:p="",state:h=null,key:m="default"}=n,g=b.useMemo(()=>{let x=Rh(u,c);return x==null?null:{location:{pathname:x,search:f,hash:p,state:h,key:m},navigationType:a}},[c,u,f,p,h,m,a]);return g==null?null:b.createElement(Jh.Provider,{value:d},b.createElement(G8.Provider,{children:r,value:g}))}new Promise(()=>{});function Gxe(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:b.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pv.apply(this,arguments)}function PZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Kxe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Xxe(e,t){return e.button===0&&(!t||t==="_self")&&!Kxe(e)}function ZO(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Jxe(e,t){let r=ZO(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}const Qxe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Zxe=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],eye="6";try{window.__reactRouterVersion=eye}catch{}function tye(e,t){return dxe({basename:void 0,future:Pv({},void 0,{v7_prependBasename:!0}),history:Oge({window:void 0}),hydrationData:rye(),routes:e,mapRouteProperties:Gxe,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function rye(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Pv({},t,{errors:nye(t.errors)})),t}function nye(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,a]of t)if(a&&a.__type==="RouteErrorResponse")r[n]=new Tk(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let s=window[a.__subType];if(typeof s=="function")try{let i=new s(a.message);i.stack="",r[n]=i}catch{}}if(r[n]==null){let s=new Error(a.message);s.stack="",r[n]=s}}else r[n]=a;return r}const RZ=b.createContext({isTransitioning:!1}),aye=b.createContext(new Map),sye="startTransition",rH=i4[sye],iye="flushSync",nH=ame[iye];function oye(e){rH?rH(e):e()}function A1(e){nH?nH(e):e()}class lye{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function cye(e){let{fallbackElement:t,router:r,future:n}=e,[a,s]=b.useState(r.state),[i,l]=b.useState(),[c,d]=b.useState({isTransitioning:!1}),[u,f]=b.useState(),[p,h]=b.useState(),[m,g]=b.useState(),x=b.useRef(new Map),{v7_startTransition:y}=n||{},v=b.useCallback(k=>{y?oye(k):k()},[y]),w=b.useCallback((k,A)=>{let{deletedFetchers:O,flushSync:D,viewTransitionOpts:M}=A;k.fetchers.forEach((z,Y)=>{z.data!==void 0&&x.current.set(Y,z.data)}),O.forEach(z=>x.current.delete(z));let I=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!M||I){D?A1(()=>s(k)):v(()=>s(k));return}if(D){A1(()=>{p&&(u&&u.resolve(),p.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let z=r.window.document.startViewTransition(()=>{A1(()=>s(k))});z.finished.finally(()=>{A1(()=>{f(void 0),h(void 0),l(void 0),d({isTransitioning:!1})})}),A1(()=>h(z));return}p?(u&&u.resolve(),p.skipTransition(),g({state:k,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(l(k),d({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[r.window,p,u,x,v]);b.useLayoutEffect(()=>r.subscribe(w),[r,w]),b.useEffect(()=>{c.isTransitioning&&!c.flushSync&&f(new lye)},[c]),b.useEffect(()=>{if(u&&i&&r.window){let k=i,A=u.promise,O=r.window.document.startViewTransition(async()=>{v(()=>s(k)),await A});O.finished.finally(()=>{f(void 0),h(void 0),l(void 0),d({isTransitioning:!1})}),h(O)}},[v,i,u,r.window]),b.useEffect(()=>{u&&i&&a.location.key===i.location.key&&u.resolve()},[u,p,a.location,i]),b.useEffect(()=>{!c.isTransitioning&&m&&(l(m.state),d({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))},[c.isTransitioning,m]),b.useEffect(()=>{},[]);let N=b.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:k=>r.navigate(k),push:(k,A,O)=>r.navigate(k,{state:A,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(k,A,O)=>r.navigate(k,{replace:!0,state:A,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[r]),C=r.basename||"/",_=b.useMemo(()=>({router:r,navigator:N,static:!1,basename:C}),[r,N,C]),S=b.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return b.useEffect(()=>Wxe(n,r.future),[n,r.future]),b.createElement(b.Fragment,null,b.createElement(qN.Provider,{value:_},b.createElement(Y8.Provider,{value:a},b.createElement(aye.Provider,{value:x.current},b.createElement(RZ.Provider,{value:c},b.createElement(Yxe,{basename:C,location:a.location,navigationType:a.historyAction,navigator:N,future:S},a.initialized||r.future.v7_partialHydration?b.createElement(dye,{routes:r.routes,future:r.future,state:a}):t))))),null)}const dye=b.memo(uye);function uye(e){let{routes:t,future:r,state:n}=e;return Pxe(t,void 0,n,r)}const fye=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_b=b.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,p=PZ(t,Qxe),{basename:h}=b.useContext(Jh),m,g=!1;if(typeof d=="string"&&hye.test(d)&&(m=d,fye))try{let w=new URL(window.location.href),N=d.startsWith("//")?new URL(w.protocol+d):new URL(d),C=Rh(N.pathname,h);N.origin===w.origin&&C!=null?d=C+N.search+N.hash:g=!0}catch{}let x=Txe(d,{relative:a}),y=gye(d,{replace:i,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function v(w){n&&n(w),w.defaultPrevented||y(w)}return b.createElement("a",Pv({},p,{href:m||x,onClick:g||s?n:v,ref:r,target:c}))}),pye=b.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:i=!1,style:l,to:c,viewTransition:d,children:u}=t,f=PZ(t,Zxe),p=A4(c,{relative:f.relative}),h=lu(),m=b.useContext(Y8),{navigator:g,basename:x}=b.useContext(Jh),y=m!=null&&yye(p)&&d===!0,v=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,w=h.pathname,N=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(w=w.toLowerCase(),N=N?N.toLowerCase():null,v=v.toLowerCase()),N&&x&&(N=Rh(N,x)||N);const C=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let _=w===v||!i&&w.startsWith(v)&&w.charAt(C)==="/",S=N!=null&&(N===v||!i&&N.startsWith(v)&&N.charAt(v.length)==="/"),k={isActive:_,isPending:S,isTransitioning:y},A=_?n:void 0,O;typeof s=="function"?O=s(k):O=[s,_?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(k):l;return b.createElement(_b,Pv({},f,{"aria-current":A,className:O,ref:r,style:D,to:c,viewTransition:d}),typeof u=="function"?u(k):u)});var e6;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(e6||(e6={}));var aH;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(aH||(aH={}));function mye(e){let t=b.useContext(qN);return t||Hr(!1),t}function gye(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}=t===void 0?{}:t,c=vs(),d=lu(),u=A4(e,{relative:i});return b.useCallback(f=>{if(Xxe(f,r)){f.preventDefault();let p=n!==void 0?n:Hg(d)===Hg(u);c(e,{replace:p,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[d,c,u,n,a,r,e,s,i,l])}function xye(e){let t=b.useRef(ZO(e)),r=b.useRef(!1),n=lu(),a=b.useMemo(()=>Jxe(n.search,r.current?null:t.current),[n.search]),s=vs(),i=b.useCallback((l,c)=>{const d=ZO(typeof l=="function"?l(a):l);r.current=!0,s("?"+d,c)},[s,a]);return[a,i]}function yye(e,t){t===void 0&&(t={});let r=b.useContext(RZ);r==null&&Hr(!1);let{basename:n}=mye(e6.useViewTransitionState),a=A4(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=Rh(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=Rh(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ek(a.pathname,i)!=null||Ek(a.pathname,s)!=null}/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vye=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bye=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),sH=e=>{const t=bye(e);return t.charAt(0).toUpperCase()+t.slice(1)},LZ=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),wye=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sye=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>b.createElement("svg",{ref:c,...Nye,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:LZ("lucide",a),...!s&&!wye(l)&&{"aria-hidden":"true"},...l},[...i.map(([d,u])=>b.createElement(d,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(e,t)=>{const r=b.forwardRef(({className:n,...a},s)=>b.createElement(Sye,{ref:s,iconNode:t,className:LZ(`lucide-${vye(sH(e))}`,`lucide-${e}`,n),...a}));return r.displayName=sH(e),r};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jye=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Nm=Ze("activity",jye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ye=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],E4=Ze("arrow-left",_ye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kye=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Cye=Ze("arrow-right-left",kye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aye=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],BT=Ze("arrow-up-down",Aye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],od=Ze("award",Eye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tye=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]],IZ=Ze("badge",Tye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dye=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mye=Ze("ban",Dye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oye=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],FZ=Ze("banknote",Oye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pye=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],iH=Ze("bell",Pye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rye=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Lye=Ze("bold",Rye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iye=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],t6=Ze("book-open",Iye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fye=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],zye=Ze("book",Fye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bye=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],x_=Ze("bot",Bye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hye=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],$ye=Ze("box",Hye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uye=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],cu=Ze("briefcase",Uye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vye=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],$g=Ze("building-2",Vye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qye=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],vc=Ze("building",qye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wye=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],Pj=Ze("cake",Wye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yye=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],zZ=Ze("calendar-clock",Yye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gye=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Gd=Ze("calendar-days",Gye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kye=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Xa=Ze("calendar",Kye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xye=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Jye=Ze("camera",Xye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qye=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Zye=Ze("chart-column",Qye);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eve=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],tve=Ze("chart-no-axes-column",eve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rve=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],nve=Ze("chart-pie",rve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ave=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],pl=Ze("check",ave);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sve=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],K8=Ze("chevron-down",sve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ive=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Wo=Ze("chevron-right",ive);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ove=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],wi=Ze("chevron-left",ove);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lve=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],cve=Ze("chevron-up",lve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dve=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ta=Ze("circle-alert",dve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uve=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],In=Ze("circle-check-big",uve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fve=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],BZ=Ze("circle-check",fve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hve=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pve=Ze("circle-play",hve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mve=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],HZ=Ze("circle-question-mark",mve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gve=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oH=Ze("circle-user-round",gve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xve=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],yve=Ze("circle-user",xve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vve=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],vx=Ze("circle-x",vve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bve=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],y_=Ze("clipboard-list",bve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wve=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mn=Ze("clock",wve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nve=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],lH=Ze("cloud-upload",Nve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sve=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],jve=Ze("code",Sve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ve=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],J0=Ze("coffee",_ve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kve=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],X8=Ze("credit-card",kve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cve=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],J8=Ze("database",Cve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ave=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Rv=Ze("dollar-sign",Ave);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eve=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],cf=Ze("download",Eve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tve=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Dve=Ze("ellipsis-vertical",Tve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mve=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ove=Ze("eye-off",Mve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pve=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Lv=Ze("eye",Pve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rve=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Lve=Ze("factory",Rve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ive=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xn=Ze("file-text",Ive);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fve=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],zve=Ze("fingerprint-pattern",Fve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bve=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Hve=Ze("funnel",Bve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ve=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["line",{x1:"6",x2:"6",y1:"9",y2:"21",key:"rroup"}]],cH=Ze("git-pull-request",$ve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uve=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Lh=Ze("globe",Uve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vve=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],$Z=Ze("grid-3x3",Vve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qve=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],v_=Ze("hash",qve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wve=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],UZ=Ze("heart",Wve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yve=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Gve=Ze("history",Yve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kve=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],dH=Ze("id-card",Kve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xve=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ug=Ze("image",Xve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jve=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Qve=Ze("indian-rupee",Jve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zve=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Q8=Ze("info",Zve);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ebe=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],tbe=Ze("italic",ebe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rbe=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],VZ=Ze("landmark",rbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nbe=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],abe=Ze("laptop",nbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sbe=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],qZ=Ze("layers",sbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ibe=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],obe=Ze("layout-dashboard",ibe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lbe=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],WZ=Ze("layout-grid",lbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cbe=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],dbe=Ze("list-ordered",cbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ube=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],YZ=Ze("list",ube);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fbe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Vn=Ze("loader-circle",fbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hbe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Qd=Ze("lock",hbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pbe=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],mbe=Ze("log-in",pbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gbe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Iu=Ze("log-out",gbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xbe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],bc=Ze("mail",xbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ybe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],b_=Ze("map-pin",ybe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vbe=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],bbe=Ze("menu",vbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wbe=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Nbe=Ze("message-circle",wbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sbe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 8v6",key:"1ib9pf"}],["path",{d:"M9 11h6",key:"1fldmi"}]],GZ=Ze("message-square-plus",Sbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jbe=[["path",{d:"M14 14a2 2 0 0 0 2-2V8h-2",key:"1r06pg"}],["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M8 14a2 2 0 0 0 2-2V8H8",key:"1jzu5j"}]],Mk=Ze("message-square-quote",jbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _be=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],KZ=Ze("message-square",_be);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kbe=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],Cbe=Ze("messages-square",kbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Abe=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Iv=Ze("monitor",Abe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ebe=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Tbe=Ze("moon",Ebe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dbe=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Z8=Ze("network",Dbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mbe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Kd=Ze("package",Mbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Obe=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],XZ=Ze("party-popper",Obe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pbe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],WN=Ze("pen",Pbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rbe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],r6=Ze("pencil",Rbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lbe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Rw=Ze("phone",Lbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ibe=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],JZ=Ze("pill",Ibe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fbe=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],QZ=Ze("plane",Fbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zbe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],n6=Ze("play",zbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bbe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Na=Ze("plus",Bbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hbe=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],$be=Ze("redo",Hbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ube=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],eL=Ze("rocket",Ube);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vbe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Fm=Ze("save",Vbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qbe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],df=Ze("search",qbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wbe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],zm=Ze("send",Wbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ybe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ok=Ze("settings",Ybe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gbe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Kbe=Ze("shield-alert",Gbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xbe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],gh=Ze("shield",Xbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jbe=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],Qbe=Ze("sliders-horizontal",Jbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zbe=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],tL=Ze("smartphone",Zbe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1e=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],w_=Ze("sparkles",e1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1e=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],L2=Ze("square-check-big",t1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1e=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],YN=Ze("square-pen",r1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1e=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],a1e=Ze("star",n1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1e=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ZZ=Ze("sun",s1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1e=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],o1e=Ze("text-align-center",i1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1e=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],c1e=Ze("text-align-end",l1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1e=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],u1e=Ze("text-align-start",d1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1e=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],h1e=Ze("timer",f1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1e=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],yn=Ze("trash-2",p1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1e=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],wc=Ze("trending-up",m1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1e=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Pk=Ze("triangle-alert",g1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1e=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],eee=Ze("trophy",x1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1e=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],v1e=Ze("undo",y1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1e=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Sl=Ze("upload",b1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1e=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tee=Ze("user-check",w1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ree=Ze("user-plus",N1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],nee=Ze("user-x",S1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1e=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yo=Ze("user",j1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1e=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],Rj=Ze("users-round",_1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Da=Ze("users",k1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1e=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qi=Ze("x",C1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1e=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],HT=Ze("zap",A1e),Oe="http://localhost:5001/api",Ma="http://localhost:5001";class E1e{getAuthHeaders(){const t=localStorage.getItem("authToken");return console.log("[ApiService Debug] getAuthHeaders. Token found:",!!t),{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}}}async registerUser(t){const r=await fetch(`${Oe}/auth/register`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to register user")}return r.json()}async registerCompany(t){const r=await fetch(`${Oe}/registration/register-company`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to register company")}return r.json()}async login(t,r,n){const a=await fetch(`${Oe}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:r,location:n})});if(!a.ok){const i=await a.json();throw new Error(i.message||"Login failed")}const s=await a.json();return s.token&&localStorage.setItem("authToken",s.token),s}async forgotPassword(t){const r=await fetch(`${Oe}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to send reset email")}return r.json()}async resetPassword(t,r){const n=await fetch(`${Oe}/auth/reset-password/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:r})});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to reset password")}return n.json()}async getCurrentUser(){const t=await fetch(`${Oe}/auth/me`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to fetch user")}return t.json()}async updateCurrentUser(t){const r=await fetch(`${Oe}/auth/me`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to update profile")}return r.json()}async getMyEmployeeProfile(){const t=await fetch(`${Oe}/employees/me`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok){if(t.status===404)return null;const r=await t.json();throw new Error(r.message||"Failed to fetch employee profile")}return t.json()}async getAllEmployees(){const t=await fetch(`${Oe}/employees`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to fetch employees")}return t.json()}async getEmployeesOnLeave(){const t=await fetch(`${Oe}/leave/active`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch employees on leave");return t.json()}async getAllTenants(t){const r=t?`?${new URLSearchParams(t).toString()}`:"",n=await fetch(`${Oe}/superadmin/tenants${r}`,{headers:this.getAuthHeaders()});if(!n.ok)throw new Error("Failed to fetch tenants");return n.json()}async createTenant(t){const r=t instanceof FormData,n=r?t:JSON.stringify(t),a=this.getAuthHeaders();r&&delete a["Content-Type"];const s=await fetch(`${Oe}/superadmin/tenants`,{method:"POST",headers:a,body:n});if(!s.ok){const i=await s.json();throw new Error(i.message||"Failed to create tenant")}return s.json()}async updateTenant(t,r){const n=r instanceof FormData,a=n?r:JSON.stringify(r),s=this.getAuthHeaders();n&&delete s["Content-Type"];const i=await fetch(`${Oe}/superadmin/tenants/${t}`,{method:"PATCH",headers:s,body:a});if(!i.ok){const l=await i.json();throw new Error(l.message||"Failed to update tenant")}return i.json()}async deleteTenant(t){const r=await fetch(`${Oe}/superadmin/tenants/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!r.ok)throw new Error("Failed to delete tenant");return r.json()}async updateTenantStatus(t,r){const n=await fetch(`${Oe}/superadmin/tenants/${t}/status`,{method:"PATCH",headers:this.getAuthHeaders(),body:JSON.stringify({status:r})});if(!n.ok)throw new Error("Failed to update tenant status");return n.json()}async getPayrollStats(){const t=await fetch(`${Oe}/payroll/structure/stats/tenant`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch payroll stats");return t.json()}async getPlatformAnalytics(){const t=await fetch(`${Oe}/superadmin/analytics/overview`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch analytics");return t.json()}async getCompanySettings(){const t=await fetch(`${Oe}/settings/company`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch company settings");return t.json()}async getSubscriptionDetails(){const t=await fetch(`${Oe}/settings/subscription`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch subscription");return t.json()}async getUsageAnalytics(){const t=await fetch(`${Oe}/settings/usage`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch usage analytics");return t.json()}async getAllGlobalUsers(t){const r=new URLSearchParams(t).toString(),n=await fetch(`${Oe}/superadmin/users?${r}`,{headers:this.getAuthHeaders()});if(!n.ok)throw new Error("Failed to fetch global users");return n.json()}async updateGlobalUserStatus(t,r){const n=await fetch(`${Oe}/superadmin/users/${t}/status`,{method:"PATCH",headers:this.getAuthHeaders(),body:JSON.stringify({status:r})});if(!n.ok)throw new Error("Failed to update user status");return n.json()}async deleteGlobalUser(t){const r=await fetch(`${Oe}/superadmin/users/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json().catch(()=>({}));throw new Error(n.message||"Failed to delete user")}return r.json()}async updateProfile(t){const r=await fetch(`${Oe}/auth/me`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to update profile")}return r.json()}async getAllUsers(){const t=await fetch(`${Oe}/admin/users`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to fetch users")}return t.json()}async getAIConfig(){const t=await fetch(`${Oe}/ai/config`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch AI config");return t.json()}async getMyFeedbacks(){const t=await fetch(`${Oe}/feedback/my`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch feedbacks");return t.json()}async createFeedback(t){const r=await fetch(`${Oe}/feedback`,{method:"POST",headers:{...this.getAuthHeaders(),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to send feedback")}return r.json()}async createFeedbackForm(t){const r=await fetch(`${Oe}/feedback/forms`,{method:"POST",headers:{...this.getAuthHeaders(),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to create feedback form")}return r.json()}async getFeedbackForms(){const t=await fetch(`${Oe}/feedback/forms`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch feedback forms");return t.json()}async updateFeedbackForm(t,r){const n=await fetch(`${Oe}/feedback/forms/${t}`,{method:"PUT",headers:{...this.getAuthHeaders(),"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to update feedback form")}return n.json()}async deleteFeedbackForm(t){const r=await fetch(`${Oe}/feedback/forms/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete feedback form")}return r.json()}async submitFeedbackResponse(t){const r=await fetch(`${Oe}/feedback/forms/submit`,{method:"POST",headers:{...this.getAuthHeaders(),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to submit feedback response")}return r.json()}async getFormResponses(t){const r=await fetch(`${Oe}/feedback/forms/${t}/responses`,{method:"GET",headers:this.getAuthHeaders()});if(!r.ok)throw new Error("Failed to fetch form responses");return r.json()}async getRoles(){const t=await fetch(`${Oe}/admin/roles`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch roles");return t.json()}async createUser(t){const r=await fetch(`${Oe}/admin/users`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to create user")}return r.json()}async deleteUser(t){const r=await fetch(`${Oe}/admin/users/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete user")}return r.json()}async getDesignations(){const t=await fetch(`${Oe}/designations`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to fetch designations")}return t.json()}async createDesignation(t){const r=await fetch(`${Oe}/designations`,{method:"POST",headers:{...this.getAuthHeaders(),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to create designation")}return r.json()}async updateDesignation(t,r){const n=await fetch(`${Oe}/designations/${t}`,{method:"PUT",headers:{...this.getAuthHeaders(),"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to update designation")}return n.json()}async deleteDesignation(t){const r=await fetch(`${Oe}/designations/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete designation")}return r.json()}async getShifts(){const t=await fetch(`${Oe}/shifts`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to fetch shifts")}return t.json()}async createShift(t){const r=await fetch(`${Oe}/shifts`,{method:"POST",headers:{...this.getAuthHeaders(),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to create shift")}return r.json()}async updateShift(t,r){const n=await fetch(`${Oe}/shifts/${t}`,{method:"PUT",headers:{...this.getAuthHeaders(),"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to update shift")}return n.json()}async deleteShift(t){const r=await fetch(`${Oe}/shifts/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete shift")}return r.json()}async createRole(t){const r=await fetch(`${Oe}/admin/roles`,{method:"POST",headers:{"Content-Type":"application/json",...this.getAuthHeaders()},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to create role")}return r.json()}async updateRole(t,r){const n=await fetch(`${Oe}/admin/roles/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",...this.getAuthHeaders()},body:JSON.stringify(r)});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to update role")}return n.json()}async deleteRole(t){const r=await fetch(`${Oe}/admin/roles/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete role")}return r.json()}async updateUserStatus(t,r){const n=await fetch(`${Oe}/admin/users/${t}/status`,{method:"PATCH",headers:this.getAuthHeaders(),body:JSON.stringify({status:r})});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to update user status")}return n.json()}async resetUserPassword(t){const r=await fetch(`${Oe}/admin/users/${t}/reset-password`,{method:"POST",headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to reset password")}return r.json()}async getPermissions(){const t=await fetch(`${Oe}/admin/permissions`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to fetch permissions")}return t.json()}async inviteEmployee(t){const r=await fetch(`${Oe}/onboarding/invite`,{method:"POST",headers:{...this.getAuthHeaders(),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to invite employee")}return r.json()}async getAssetCategories(t=!1){const r=await fetch(`${Oe}/asset-categories?includeInactive=${t}`,{method:"GET",headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to fetch asset categories")}return r.json()}async createAssetCategory(t){const r=await fetch(`${Oe}/asset-categories`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to create asset category")}return r.json()}async updateAssetCategory(t,r){const n=await fetch(`${Oe}/asset-categories/${t}`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(r)});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to update asset category")}return n.json()}async deleteAssetCategory(t){const r=await fetch(`${Oe}/asset-categories/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete asset category")}return r.json()}async toggleAssetCategoryStatus(t){const r=await fetch(`${Oe}/asset-categories/${t}/toggle-status`,{method:"PATCH",headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to toggle asset category status")}return r.json()}async getAssets(t){const r=t?"?"+new URLSearchParams(t).toString():"",n=await fetch(`${Oe}/assets${r}`,{method:"GET",headers:this.getAuthHeaders()});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to fetch assets")}return n.json()}async createAsset(t){const r=t instanceof FormData,n=this.getAuthHeaders();r&&delete n["Content-Type"];const a=await fetch(`${Oe}/assets`,{method:"POST",headers:n,body:r?t:JSON.stringify(t)});if(!a.ok){const s=await a.json();throw new Error(s.message||"Failed to create asset")}return a.json()}async acknowledgeWelcome(){const t=await fetch(`${Oe}/auth/acknowledge-welcome`,{method:"POST",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to acknowledge welcome")}}async updateAsset(t,r){const n=r instanceof FormData,a=this.getAuthHeaders();n&&delete a["Content-Type"];const s=await fetch(`${Oe}/assets/${t}`,{method:"PUT",headers:a,body:n?r:JSON.stringify(r)});if(!s.ok){const i=await s.json();throw new Error(i.message||"Failed to update asset")}return s.json()}async deleteAsset(t){const r=await fetch(`${Oe}/assets/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete asset")}return r.json()}async getAssetStats(){const t=await fetch(`${Oe}/assets/stats`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to fetch asset statistics")}return t.json()}async submitResignation(t){const r=await fetch(`${Oe}/resignations`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to submit resignation")}return r.json()}async getMyResignation(){const t=await fetch(`${Oe}/resignations/me`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to fetch resignation status")}return t.json()}async getPendingResignations(t){const r=t?`?status=${t}`:"",n=await fetch(`${Oe}/resignations/pending${r}`,{method:"GET",headers:this.getAuthHeaders()});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to fetch resignations")}return n.json()}async updateResignationStatus(t,r){const n=await fetch(`${Oe}/resignations/${t}/status`,{method:"PATCH",headers:{...this.getAuthHeaders(),"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to update resignation status")}return n.json()}async getClearance(t){const r=await fetch(`${Oe}/clearance/resignation/${t}`,{method:"GET",headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to fetch clearance data")}return r.json()}async updateClearanceItem(t,r){const n=await fetch(`${Oe}/clearance/${t}/item`,{method:"PATCH",headers:this.getAuthHeaders(),body:JSON.stringify(r)});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to update clearance item")}return n.json()}async uploadAssetInvoice(t,r){const n=new FormData;n.append("invoice",r);const a=localStorage.getItem("authToken"),s=await fetch(`${Oe}/assets/${t}/upload-invoice`,{method:"POST",headers:{...a&&{Authorization:`Bearer ${a}`}},body:n});if(!s.ok){const i=await s.json();throw new Error(i.message||"Failed to upload invoice")}return s.json()}async disposeAsset(t,r){const n=await fetch(`${Oe}/assets/${t}/dispose`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(r)});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to dispose asset")}return n.json()}async assignAsset(t){const r=await fetch(`${Oe}/asset-assignments/assign`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to assign asset")}return r.json()}async acknowledgeAsset(t){const r=await fetch(`${Oe}/asset-assignments/${t}/acknowledge`,{method:"POST",headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to acknowledge asset")}return r.json()}async returnAsset(t,r){const n=await fetch(`${Oe}/asset-assignments/${t}/return`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(r)});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to return asset")}return n.json()}async getMyAssets(){const t=await fetch(`${Oe}/asset-assignments/employee`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to fetch assigned assets")}return t.json()}async getEmployeeAssets(t){const r=await fetch(`${Oe}/asset-assignments/employee/${t}`,{method:"GET",headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to fetch employee assets")}return r.json()}async getAssetAssignments(t){const r=t?"?"+new URLSearchParams(t).toString():"",n=await fetch(`${Oe}/asset-assignments${r}`,{method:"GET",headers:this.getAuthHeaders()});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to fetch asset assignments")}return n.json()}async reportAssetIncident(t,r){const n=new FormData;Object.keys(t).forEach(i=>{t[i]!==void 0&&t[i]!==null&&n.append(i,t[i])}),r&&r.length>0&&r.forEach(i=>{n.append("photos",i)});const a=localStorage.getItem("authToken"),s=await fetch(`${Oe}/asset-incidents/report`,{method:"POST",headers:{...a&&{Authorization:`Bearer ${a}`}},body:n});if(!s.ok){const i=await s.json();throw new Error(i.message||"Failed to report incident")}return s.json()}async getAssetIncidents(t){const r=t?"?"+new URLSearchParams(t).toString():"",n=await fetch(`${Oe}/asset-incidents${r}`,{method:"GET",headers:this.getAuthHeaders()});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to fetch incidents")}return n.json()}async resolveAssetIncident(t,r){const n=await fetch(`${Oe}/asset-incidents/${t}/resolve`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(r)});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to resolve incident")}return n.json()}async getAssetHistory(t){const r=await fetch(`${Oe}/asset-history/asset/${t}`,{method:"GET",headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to fetch asset history")}return r.json()}async getAllAssetHistory(t){const r=t?"?"+new URLSearchParams(t).toString():"",n=await fetch(`${Oe}/asset-history${r}`,{method:"GET",headers:this.getAuthHeaders()});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to fetch history logs")}return n.json()}async createLeavePolicy(t){const r=t instanceof FormData,n=await fetch(`${Oe}/leave-policies`,{method:"POST",headers:r?{Authorization:`Bearer ${localStorage.getItem("authToken")}`}:this.getAuthHeaders(),body:r?t:JSON.stringify(t)});if(!n.ok){const a=await n.json();throw new Error(a.message||a.error||"Failed to create leave policy")}return n.json()}async getLeavePolicies(){const t=await fetch(`${Oe}/leave-policies`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch leave policies");return t.json()}async getLeavePolicy(t){const r=await fetch(`${Oe}/leave-policies/${t}`,{method:"GET",headers:this.getAuthHeaders()});if(!r.ok)throw new Error("Failed to fetch leave policy");return r.json()}async updateLeavePolicy(t,r){const n=r instanceof FormData,a=await fetch(`${Oe}/leave-policies/${t}`,{method:"PUT",headers:n?{Authorization:`Bearer ${localStorage.getItem("token")}`}:this.getAuthHeaders(),body:n?r:JSON.stringify(r)});if(!a.ok)throw new Error("Failed to update leave policy");return a.json()}async deleteLeavePolicy(t){const r=await fetch(`${Oe}/leave-policies/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!r.ok)throw new Error("Failed to delete leave policy");return r.json()}async getLeaveStats(){const t=await fetch(`${Oe}/leave/stats`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch leave stats");return t.json()}async applyLeave(t){const r=await fetch(`${Oe}/leave/apply`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to apply for leave")}return r.json()}async getMyLeaves(){const t=await fetch(`${Oe}/leave/my-leaves`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch my leaves");return t.json()}async getPendingLeaveApprovals(){const t=await fetch(`${Oe}/leave/pending-approvals`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch pending leave approvals");return t.json()}async approveLeave(t,r){const n=await fetch(`${Oe}/leave/${t}/approve`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify({comments:r})});if(!n.ok)throw new Error("Failed to approve leave");return n.json()}async rejectLeave(t,r){const n=await fetch(`${Oe}/leave/${t}/reject`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify({comments:r})});if(!n.ok)throw new Error("Failed to reject leave");return n.json()}async upsertSalaryStructure(t){const r=await fetch(`${Oe}/payroll/structure`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to save salary structure");return r.json()}async getSalaryStructure(t){const r=await fetch(`${Oe}/payroll/structure/${t}`,{headers:this.getAuthHeaders()});if(!r.ok){if(r.status===404)return{structure:null};throw new Error("Failed to fetch salary structure")}return r.json()}async calculatePayroll(t){const r=await fetch(`${Oe}/payroll/calculate`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to calculate payroll")}return r.json()}async getPayrollList(t){const r=new URLSearchParams(t).toString(),n=await fetch(`${Oe}/payroll/list?${r}`,{headers:this.getAuthHeaders()});if(!n.ok)throw new Error("Failed to fetch payroll list");return n.json()}async updatePayrollStatus(t,r){const n=await fetch(`${Oe}/payroll/${t}/status`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify({status:r})});if(!n.ok)throw new Error("Failed to update payroll status");return n.json()}async getMyPayslips(){const t=await fetch(`${Oe}/payroll/my-payslips`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch payslips");return t.json()}async getProjects(t){const r=new URLSearchParams(t).toString(),n=await fetch(`${Oe}/projects?${r}`,{headers:this.getAuthHeaders()});if(!n.ok)throw new Error("Failed to fetch projects");return n.json()}async getProjectById(t){const r=await fetch(`${Oe}/projects/${t}`,{headers:this.getAuthHeaders()});if(!r.ok)throw new Error("Failed to fetch project");return r.json()}async createProject(t){const r=await fetch(`${Oe}/projects`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to create project");return r.json()}async updateProject(t,r){const n=await fetch(`${Oe}/projects/${t}`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(r)});if(!n.ok)throw new Error("Failed to update project");return n.json()}async addProjectComment(t,r){const n=await fetch(`${Oe}/projects/${t}/comments`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({content:r})});if(!n.ok)throw new Error("Failed to add comment");return n.json()}async getClients(){const t=await fetch(`${Oe}/clients`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch clients");return t.json()}async createClient(t){const r=await fetch(`${Oe}/clients`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to create client")}return r.json()}async updateClient(t,r){const n=await fetch(`${Oe}/clients/${t}`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(r)});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to update client")}return n.json()}async deleteClient(t){const r=await fetch(`${Oe}/clients/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!r.ok)throw new Error("Failed to delete client");return r.json()}async clearAuditLogs(){if(!(await fetch(`${Oe}/audit`,{method:"DELETE",headers:this.getAuthHeaders()})).ok)throw new Error("Failed to clear audit logs")}async deleteProject(t){const r=await fetch(`${Oe}/projects/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!r.ok)throw new Error("Failed to delete project");return r.json()}async getTasks(t){const r=new URLSearchParams(t).toString(),n=await fetch(`${Oe}/tasks?${r}`,{headers:this.getAuthHeaders()});if(!n.ok)throw new Error("Failed to fetch tasks");return n.json()}async createTask(t){const r=await fetch(`${Oe}/tasks`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to create task");return r.json()}async updateTask(t,r){const n=await fetch(`${Oe}/tasks/${t}`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(r)});if(!n.ok)throw new Error("Failed to update task");return n.json()}async updateCompanySettings(t){const r=t instanceof FormData,n=this.getAuthHeaders();r&&delete n["Content-Type"];const a=await fetch(`${Oe}/settings/company`,{method:"PUT",headers:n,body:r?t:JSON.stringify(t)});if(!a.ok)throw new Error("Failed to update settings");return a.json()}async getCEOStats(){const t=await fetch(`${Oe}/dashboard/ceo-stats`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch CEO stats");return t.json()}async getEmployees(){const t=await fetch(`${Oe}/employees`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to fetch employees")}return t.json()}async getDirectory(){const t=await fetch(`${Oe}/employees/directory`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to fetch directory")}return t.json()}async getEmployeeById(t){const r=await fetch(`${Oe}/employees/${t}`,{method:"GET",headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to fetch employee")}return r.json()}async createEmployee(t){const r=t instanceof FormData,n=this.getAuthHeaders();r&&delete n["Content-Type"];const a=await fetch(`${Oe}/employees`,{method:"POST",headers:n,body:r?t:JSON.stringify(t)});if(!a.ok){const s=await a.json();throw new Error(s.message||"Failed to create employee")}return a.json()}async updateEmployee(t,r){const n=r instanceof FormData,a=this.getAuthHeaders();n&&delete a["Content-Type"];const s=await fetch(`${Oe}/employees/${t}`,{method:"PUT",headers:a,body:n?r:JSON.stringify(r)});if(!s.ok){const i=await s.json();throw new Error(i.message||"Failed to update employee")}return s.json()}async getUpcomingEvents(){const t=await fetch(`${Oe}/employees/upcoming-events`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to fetch upcoming events")}return t.json()}async getHierarchy(){const t=await fetch(`${Oe}/employees/hierarchy`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to fetch hierarchy")}return t.json()}async clockIn(){const t=await fetch(`${Oe}/attendance/clock-in`,{method:"POST",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to clock in")}return t.json()}async clockOut(t){const r=await fetch(`${Oe}/attendance/clock-out`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({completedTasks:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to clock out")}return r.json()}async startBreak(){const t=await fetch(`${Oe}/attendance/break-start`,{method:"POST",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to start break")}return t.json()}async endBreak(){const t=await fetch(`${Oe}/attendance/break-end`,{method:"POST",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to end break")}return t.json()}async getAttendanceStatus(){const t=await fetch(`${Oe}/attendance/status`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch status");return t.json()}async getAttendanceHistory(t){const r=new URLSearchParams(t).toString(),n=await fetch(`${Oe}/attendance/history?${r}`,{headers:this.getAuthHeaders()});if(!n.ok)throw new Error("Failed to fetch history");return n.json()}async getHolidays(t){const r=t?`?year=${t}`:"",n=await fetch(`${Oe}/holidays${r}`,{headers:this.getAuthHeaders()});if(!n.ok)throw new Error("Failed to fetch holidays");return n.json()}async addHoliday(t){const r=await fetch(`${Oe}/holidays`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to add holiday")}return r.json()}async deleteHoliday(t){const r=await fetch(`${Oe}/holidays/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!r.ok)throw new Error("Failed to delete holiday");return r.json()}async createTimesheetEntry(t){const r=await fetch(`${Oe}/timesheet/entry`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to create timesheet entry")}return r.json()}async getTimesheetEntries(t){const r=new URLSearchParams(t).toString(),n=await fetch(`${Oe}/timesheet/entries?${r}`,{headers:this.getAuthHeaders()});if(!n.ok)throw new Error("Failed to fetch timesheet entries");return n.json()}async updateTimesheetEntry(t,r){const n=await fetch(`${Oe}/timesheet/entry/${t}`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(r)});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to update timesheet entry")}return n.json()}async deleteTimesheetEntry(t){const r=await fetch(`${Oe}/timesheet/entry/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!r.ok)throw new Error("Failed to delete timesheet entry");return r.json()}async requestTimeCorrection(t){const r=await fetch(`${Oe}/time-correction/request`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to request correction")}return r.json()}async getMyCorrections(){const t=await fetch(`${Oe}/time-correction/my-requests`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch corrections");return t.json()}async getPendingCorrections(){const t=await fetch(`${Oe}/time-correction/pending`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch pending corrections");return t.json()}async approveCorrection(t,r){const n=await fetch(`${Oe}/time-correction/${t}/approve`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify({comments:r})});if(!n.ok)throw new Error("Failed to approve correction");return n.json()}async getNotifications(){const t=await fetch(`${Oe}/notifications`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch notifications");return t.json()}async markNotificationRead(t){const r=await fetch(`${Oe}/notifications/${t}/read`,{method:"PUT",headers:this.getAuthHeaders()});if(!r.ok)throw new Error("Failed to mark notification as read");return r.json()}async rejectCorrection(t,r){const n=await fetch(`${Oe}/time-correction/${t}/reject`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify({comments:r})});if(!n.ok)throw new Error("Failed to reject correction");return n.json()}async getTeamStatus(){const t=await fetch(`${Oe}/attendance/team-status`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch team status");return t.json()}async submitTimesheets(t){const r=await fetch(`${Oe}/timesheet/submit`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({weekEnding:t})});if(!r.ok)throw new Error("Failed to submit timesheets");return r.json()}async getPendingTimesheetApprovals(){const t=await fetch(`${Oe}/timesheet/pending-approvals`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch pending approvals");return t.json()}async approveTimesheet(t,r){const n=await fetch(`${Oe}/timesheet/${t}/approve`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify({comments:r})});if(!n.ok)throw new Error("Failed to approve timesheet");return n.json()}async rejectTimesheet(t,r){const n=await fetch(`${Oe}/timesheet/${t}/reject`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify({comments:r})});if(!n.ok)throw new Error("Failed to reject timesheet");return n.json()}async getAuditLogs(t){const r=new URLSearchParams(t).toString(),n=await fetch(`${Oe}/audit?${r}`,{method:"GET",headers:this.getAuthHeaders()});if(!n.ok)throw new Error("Failed to fetch audit logs");return n.json()}async deleteAuditLog(t){if(!(await fetch(`${Oe}/audit/${t}`,{method:"DELETE",headers:this.getAuthHeaders()})).ok)throw new Error("Failed to delete audit log")}async getEntityAuditLogs(t,r){const n=await fetch(`${Oe}/audit/${t}/${r}`,{headers:this.getAuthHeaders()});if(!n.ok)throw new Error("Failed to fetch entity audit logs");return n.json()}async getPolicyStatus(){const t=await fetch(`${Oe}/ai/policy-status`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch policy status");return t.json()}async uploadPolicy(t){const r=new FormData;Array.from(t).forEach(i=>{r.append("policyFiles",i)});const a=this.getAuthHeaders();delete a["Content-Type"];const s=await fetch(`${Oe}/ai/upload-policy`,{method:"POST",headers:a,body:r});if(!s.ok){const i=await s.json();throw new Error(i.message||"Failed to upload policy")}return s.json()}async deletePolicy(t){const r=await fetch(`${Oe}/ai/policy/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete policy")}return r.json()}async askAi(t){const r=await fetch(`${Oe}/ai/chat`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({question:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to get AI response")}return r.json()}async getBadges(){const t=await fetch(`${Oe}/badges`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch badges");return t.json()}async createBadge(t){const r=this.getAuthHeaders();delete r["Content-Type"];const n=await fetch(`${Oe}/badges`,{method:"POST",headers:r,body:t});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to create badge")}return n.json()}async deleteBadge(t){const r=await fetch(`${Oe}/badges/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!r.ok)throw new Error("Failed to delete badge");return r.json()}async getAppreciations(t){const r=t&&t.recipientId?`?recipientId=${t.recipientId}`:"",n=await fetch(`${Oe}/appreciation${r}`,{method:"GET",headers:this.getAuthHeaders()});if(!n.ok)throw new Error("Failed to fetch appreciations");return n.json()}async createAppreciation(t){const r=await fetch(`${Oe}/appreciation`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to send appreciation")}return r.json()}async markAppreciationsAsSeen(t){const r=await fetch(`${Oe}/appreciation/mark-seen`,{method:"POST",headers:{...this.getAuthHeaders(),"Content-Type":"application/json"},body:JSON.stringify({ids:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to mark appreciations as seen")}return r.json()}async updateBadge(t,r){const n=localStorage.getItem("authToken"),a=await fetch(`${Oe}/badges/${t}`,{method:"PUT",headers:{...n&&{Authorization:`Bearer ${n}`}},body:r});if(!a.ok){const s=await a.json();throw new Error(s.message||"Failed to update badge")}return a.json()}async getHRLeaveOverview(t){const r=new URLSearchParams;Object.keys(t).forEach(a=>{t[a]&&r.append(a,t[a])});const n=await fetch(`${Oe}/leave/hr-overview?${r.toString()}`,{headers:this.getAuthHeaders()});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to fetch HR leave overview")}return n.json()}async getEmailSettings(){const t=await fetch(`${Oe}/email-automation/settings`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.text();throw new Error(`Failed to fetch email settings: ${t.status} ${r}`)}return t.json()}async updateEmailSettings(t){const r=await fetch(`${Oe}/email-automation/settings`,{method:"PUT",headers:{...this.getAuthHeaders(),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to update email settings");return r.json()}async triggerEmailAutomation(){const t=await fetch(`${Oe}/email-automation/trigger`,{method:"POST",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to trigger email automation");return t.json()}async getEmailAuditLogs(){const t=await fetch(`${Oe}/email-automation/audit-logs`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch audit logs");return t.json()}async getSocialFeed(t){const r=t?"?"+new URLSearchParams(t).toString():"",n=await fetch(`${Oe}/social/feed${r}`,{headers:this.getAuthHeaders()});if(!n.ok)throw new Error("Failed to fetch social feed");return n.json()}async createPost(t){const r=await fetch(`${Oe}/social/posts`,{method:"POST",headers:{...this.getAuthHeaders(),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to create post");return r.json()}async updatePost(t,r){const n=await fetch(`${Oe}/social/posts/${t}`,{method:"PUT",headers:{...this.getAuthHeaders(),"Content-Type":"application/json"},body:JSON.stringify({content:r})});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to update post")}return n.json()}async deletePost(t){const r=await fetch(`${Oe}/social/posts/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!r.ok)throw new Error("Failed to delete post");return r.json()}async toggleReaction(t,r){const n=await fetch(`${Oe}/social/posts/${t}/react`,{method:"POST",headers:{...this.getAuthHeaders(),"Content-Type":"application/json"},body:JSON.stringify({type:r})});if(!n.ok)throw new Error("Failed to toggle reaction");return n.json()}async votePoll(t,r){const n=await fetch(`${Oe}/social/posts/${t}/vote`,{method:"POST",headers:{...this.getAuthHeaders(),"Content-Type":"application/json"},body:JSON.stringify({optionIndex:r})});if(!n.ok)throw new Error("Failed to vote");return n.json()}async getComments(t){const r=await fetch(`${Oe}/social/posts/${t}/comments`,{headers:this.getAuthHeaders()});if(!r.ok)throw new Error("Failed to fetch comments");return r.json()}async addComment(t,r,n){const a=await fetch(`${Oe}/social/posts/${t}/comments`,{method:"POST",headers:{...this.getAuthHeaders(),"Content-Type":"application/json"},body:JSON.stringify({content:r,parentId:n})});if(!a.ok)throw new Error("Failed to add comment");return a.json()}async toggleCommentReaction(t,r){const n=await fetch(`${Oe}/social/comments/${t}/react`,{method:"POST",headers:{...this.getAuthHeaders(),"Content-Type":"application/json"},body:JSON.stringify({type:r})});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to toggle comment reaction")}return n.json()}async uploadSocialMedia(t){const r=new FormData;r.append("file",t);const n=localStorage.getItem("authToken"),a=await fetch(`${Oe}/social/upload-media`,{method:"POST",headers:{...n&&{Authorization:`Bearer ${n}`}},body:r});if(!a.ok)throw new Error("Failed to upload media");return a.json()}async checkNewSocialPosts(t){const r=await fetch(`${Oe}/social/check-new?lastChecked=${t}`,{headers:this.getAuthHeaders()});if(!r.ok)throw new Error("Failed to check new posts");return r.json()}async createDocumentType(t){const r=await fetch(`${Oe}/documents/types`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to create document type")}return r.json()}async getAllDocumentTypes(){const t=await fetch(`${Oe}/documents/types`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch document types");return t.json()}async updateDocumentType(t,r){const n=await fetch(`${Oe}/documents/types/${t}`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(r)});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to update document type")}return n.json()}async deleteDocumentType(t){const r=await fetch(`${Oe}/documents/types/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!r.ok)throw new Error("Failed to delete document type");return r.json()}async uploadEmployeeDocument(t){const r=localStorage.getItem("authToken"),n=await fetch(`${Oe}/documents/employee/upload`,{method:"POST",headers:{...r&&{Authorization:`Bearer ${r}`}},body:t});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to upload document")}return n.json()}async getEmployeeDocuments(t){const r=await fetch(`${Oe}/documents/employee/${t}`,{method:"GET",headers:this.getAuthHeaders()});if(!r.ok)throw new Error("Failed to fetch employee documents");return r.json()}async restoreDocumentVersion(t,r){const n=await fetch(`${Oe}/documents/employee/restore/${t}/${r}`,{method:"POST",headers:this.getAuthHeaders()});if(!n.ok)throw new Error("Failed to restore document version");return n.json()}async getEmployeePublicProfile(t){const r=await fetch(`${Oe}/employees/public/${t}`,{method:"GET",headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to fetch employee")}return r.json()}async getEmployeeTimeline(t){const r=await fetch(`${Oe}/employees/${t}/timeline`,{headers:this.getAuthHeaders()});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to fetch timeline")}return r.json()}}const je=new E1e,T1e=Object.freeze(Object.defineProperty({__proto__:null,API_BASE_URL:Oe,ASSET_BASE_URL:Ma,apiService:je},Symbol.toStringTag,{value:"Module"}));function D1e(e,t=!1){const[r,n]=b.useState(()=>{const s=localStorage.getItem("theme");return s==="light"||s==="dark"?s:window.matchMedia("(prefers-color-scheme: light)").matches?"dark":"light"});return b.useEffect(()=>{t&&(e!=null&&e.theme)&&n(e.theme)},[t,e==null?void 0:e.theme]),b.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(r),localStorage.setItem("theme",r)},[r]),{theme:r,toggleTheme:async()=>{const s=r==="light"?"dark":"light";if(n(s),t)try{await je.updateProfile({theme:s})}catch(i){console.error("Failed to persist theme preference:",i)}}}}function aee(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=aee(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ur(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=aee(e))&&(n&&(n+=" "),n+=t);return n}const M1e=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},O1e=(e,t)=>({classGroupId:e,validator:t}),see=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Rk="-",uH=[],P1e="arbitrary..",R1e=e=>{const t=I1e(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{if(i.startsWith("[")&&i.endsWith("]"))return L1e(i);const l=i.split(Rk),c=l[0]===""&&l.length>1?1:0;return iee(l,c,t)},getConflictingClassGroupIds:(i,l)=>{if(l){const c=n[i],d=r[i];return c?d?M1e(d,c):c:d||uH}return r[i]||uH}}},iee=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],s=r.nextPart.get(a);if(s){const d=iee(e,t+1,s);if(d)return d}const i=r.validators;if(i===null)return;const l=t===0?e.join(Rk):e.slice(t).join(Rk),c=i.length;for(let d=0;d<c;d++){const u=i[d];if(u.validator(l))return u.classGroupId}},L1e=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?P1e+n:void 0})(),I1e=e=>{const{theme:t,classGroups:r}=e;return F1e(r,t)},F1e=(e,t)=>{const r=see();for(const n in e){const a=e[n];rL(a,r,n,t)}return r},rL=(e,t,r,n)=>{const a=e.length;for(let s=0;s<a;s++){const i=e[s];z1e(i,t,r,n)}},z1e=(e,t,r,n)=>{if(typeof e=="string"){B1e(e,t,r);return}if(typeof e=="function"){H1e(e,t,r,n);return}$1e(e,t,r,n)},B1e=(e,t,r)=>{const n=e===""?t:oee(t,e);n.classGroupId=r},H1e=(e,t,r,n)=>{if(U1e(e)){rL(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(O1e(r,e))},$1e=(e,t,r,n)=>{const a=Object.entries(e),s=a.length;for(let i=0;i<s;i++){const[l,c]=a[i];rL(c,oee(t,l),r,n)}},oee=(e,t)=>{let r=e;const n=t.split(Rk),a=n.length;for(let s=0;s<a;s++){const i=n[s];let l=r.nextPart.get(i);l||(l=see(),r.nextPart.set(i,l)),r=l}return r},U1e=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,V1e=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(s,i)=>{r[s]=i,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(s){let i=r[s];if(i!==void 0)return i;if((i=n[s])!==void 0)return a(s,i),i},set(s,i){s in r?r[s]=i:a(s,i)}}},a6="!",fH=":",q1e=[],hH=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),W1e=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const s=[];let i=0,l=0,c=0,d;const u=a.length;for(let g=0;g<u;g++){const x=a[g];if(i===0&&l===0){if(x===fH){s.push(a.slice(c,g)),c=g+1;continue}if(x==="/"){d=g;continue}}x==="["?i++:x==="]"?i--:x==="("?l++:x===")"&&l--}const f=s.length===0?a:a.slice(c);let p=f,h=!1;f.endsWith(a6)?(p=f.slice(0,-1),h=!0):f.startsWith(a6)&&(p=f.slice(1),h=!0);const m=d&&d>c?d-c:void 0;return hH(s,h,p,m)};if(t){const a=t+fH,s=n;n=i=>i.startsWith(a)?s(i.slice(a.length)):hH(q1e,!1,i,void 0,!0)}if(r){const a=n;n=s=>r({className:s,parseClassName:a})}return n},Y1e=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let s=0;s<r.length;s++){const i=r[s],l=i[0]==="[",c=t.has(i);l||c?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(i)):a.push(i)}return a.length>0&&(a.sort(),n.push(...a)),n}},G1e=e=>({cache:V1e(e.cacheSize),parseClassName:W1e(e),sortModifiers:Y1e(e),...R1e(e)}),K1e=/\s+/,X1e=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:s}=t,i=[],l=e.trim().split(K1e);let c="";for(let d=l.length-1;d>=0;d-=1){const u=l[d],{isExternal:f,modifiers:p,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}=r(u);if(f){c=u+(c.length>0?" "+c:c);continue}let x=!!g,y=n(x?m.substring(0,g):m);if(!y){if(!x){c=u+(c.length>0?" "+c:c);continue}if(y=n(m),!y){c=u+(c.length>0?" "+c:c);continue}x=!1}const v=p.length===0?"":p.length===1?p[0]:s(p).join(":"),w=h?v+a6:v,N=w+y;if(i.indexOf(N)>-1)continue;i.push(N);const C=a(y,x);for(let _=0;_<C.length;++_){const S=C[_];i.push(w+S)}c=u+(c.length>0?" "+c:c)}return c},J1e=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=lee(r))&&(a&&(a+=" "),a+=n);return a},lee=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=lee(e[n]))&&(r&&(r+=" "),r+=t);return r},Q1e=(e,...t)=>{let r,n,a,s;const i=c=>{const d=t.reduce((u,f)=>f(u),e());return r=G1e(d),n=r.cache.get,a=r.cache.set,s=l,l(c)},l=c=>{const d=n(c);if(d)return d;const u=X1e(c,r);return a(c,u),u};return s=i,(...c)=>s(J1e(...c))},Z1e=[],qs=e=>{const t=r=>r[e]||Z1e;return t.isThemeGetter=!0,t},cee=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,dee=/^\((?:(\w[\w-]*):)?(.+)\)$/i,e2e=/^\d+\/\d+$/,t2e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,r2e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,n2e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,a2e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,s2e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gx=e=>e2e.test(e),Fr=e=>!!e&&!Number.isNaN(Number(e)),Sp=e=>!!e&&Number.isInteger(Number(e)),$T=e=>e.endsWith("%")&&Fr(e.slice(0,-1)),Mf=e=>t2e.test(e),i2e=()=>!0,o2e=e=>r2e.test(e)&&!n2e.test(e),uee=()=>!1,l2e=e=>a2e.test(e),c2e=e=>s2e.test(e),d2e=e=>!Vt(e)&&!qt(e),u2e=e=>kb(e,pee,uee),Vt=e=>cee.test(e),C0=e=>kb(e,mee,o2e),UT=e=>kb(e,g2e,Fr),pH=e=>kb(e,fee,uee),f2e=e=>kb(e,hee,c2e),Lj=e=>kb(e,gee,l2e),qt=e=>dee.test(e),E1=e=>Cb(e,mee),h2e=e=>Cb(e,x2e),mH=e=>Cb(e,fee),p2e=e=>Cb(e,pee),m2e=e=>Cb(e,hee),Ij=e=>Cb(e,gee,!0),kb=(e,t,r)=>{const n=cee.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Cb=(e,t,r=!1)=>{const n=dee.exec(e);return n?n[1]?t(n[1]):r:!1},fee=e=>e==="position"||e==="percentage",hee=e=>e==="image"||e==="url",pee=e=>e==="length"||e==="size"||e==="bg-size",mee=e=>e==="length",g2e=e=>e==="number",x2e=e=>e==="family-name",gee=e=>e==="shadow",y2e=()=>{const e=qs("color"),t=qs("font"),r=qs("text"),n=qs("font-weight"),a=qs("tracking"),s=qs("leading"),i=qs("breakpoint"),l=qs("container"),c=qs("spacing"),d=qs("radius"),u=qs("shadow"),f=qs("inset-shadow"),p=qs("text-shadow"),h=qs("drop-shadow"),m=qs("blur"),g=qs("perspective"),x=qs("aspect"),y=qs("ease"),v=qs("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...N(),qt,Vt],_=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],k=()=>[qt,Vt,c],A=()=>[Gx,"full","auto",...k()],O=()=>[Sp,"none","subgrid",qt,Vt],D=()=>["auto",{span:["full",Sp,qt,Vt]},Sp,qt,Vt],M=()=>[Sp,"auto",qt,Vt],I=()=>["auto","min","max","fr",qt,Vt],z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...k()],V=()=>[Gx,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],G=()=>[e,qt,Vt],J=()=>[...N(),mH,pH,{position:[qt,Vt]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",p2e,u2e,{size:[qt,Vt]}],T=()=>[$T,E1,C0],R=()=>["","none","full",d,qt,Vt],F=()=>["",Fr,E1,C0],H=()=>["solid","dashed","dotted","double"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[Fr,$T,mH,pH],pe=()=>["","none",m,qt,Vt],se=()=>["none",Fr,qt,Vt],ce=()=>["none",Fr,qt,Vt],Ne=()=>[Fr,qt,Vt],he=()=>[Gx,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Mf],breakpoint:[Mf],color:[i2e],container:[Mf],"drop-shadow":[Mf],ease:["in","out","in-out"],font:[d2e],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Mf],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Mf],shadow:[Mf],spacing:["px",Fr],text:[Mf],"text-shadow":[Mf],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Gx,Vt,qt,x]}],container:["container"],columns:[{columns:[Fr,Vt,qt,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[Sp,"auto",qt,Vt]}],basis:[{basis:[Gx,"full","auto",l,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Fr,Gx,"auto","initial","none",Vt]}],grow:[{grow:["",Fr,qt,Vt]}],shrink:[{shrink:["",Fr,qt,Vt]}],order:[{order:[Sp,"first","last","none",qt,Vt]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[l,"screen",...V()]}],"min-w":[{"min-w":[l,"screen","none",...V()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",r,E1,C0]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,qt,UT]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",$T,Vt]}],"font-family":[{font:[h2e,Vt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,qt,Vt]}],"line-clamp":[{"line-clamp":[Fr,"none",qt,UT]}],leading:[{leading:[s,...k()]}],"list-image":[{"list-image":["none",qt,Vt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",qt,Vt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[Fr,"from-font","auto",qt,C0]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[Fr,"auto",qt,Vt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qt,Vt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qt,Vt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Sp,qt,Vt],radial:["",qt,Vt],conic:[Sp,qt,Vt]},m2e,f2e]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:T()}],"gradient-via-pos":[{via:T()}],"gradient-to-pos":[{to:T()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:R()}],"rounded-s":[{"rounded-s":R()}],"rounded-e":[{"rounded-e":R()}],"rounded-t":[{"rounded-t":R()}],"rounded-r":[{"rounded-r":R()}],"rounded-b":[{"rounded-b":R()}],"rounded-l":[{"rounded-l":R()}],"rounded-ss":[{"rounded-ss":R()}],"rounded-se":[{"rounded-se":R()}],"rounded-ee":[{"rounded-ee":R()}],"rounded-es":[{"rounded-es":R()}],"rounded-tl":[{"rounded-tl":R()}],"rounded-tr":[{"rounded-tr":R()}],"rounded-br":[{"rounded-br":R()}],"rounded-bl":[{"rounded-bl":R()}],"border-w":[{border:F()}],"border-w-x":[{"border-x":F()}],"border-w-y":[{"border-y":F()}],"border-w-s":[{"border-s":F()}],"border-w-e":[{"border-e":F()}],"border-w-t":[{"border-t":F()}],"border-w-r":[{"border-r":F()}],"border-w-b":[{"border-b":F()}],"border-w-l":[{"border-l":F()}],"divide-x":[{"divide-x":F()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":F()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Fr,qt,Vt]}],"outline-w":[{outline:["",Fr,E1,C0]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",u,Ij,Lj]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",f,Ij,Lj]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[Fr,C0]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":F()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",p,Ij,Lj]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[Fr,qt,Vt]}],"mix-blend":[{"mix-blend":[...W(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":W()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Fr]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[qt,Vt]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[Fr]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",qt,Vt]}],filter:[{filter:["","none",qt,Vt]}],blur:[{blur:pe()}],brightness:[{brightness:[Fr,qt,Vt]}],contrast:[{contrast:[Fr,qt,Vt]}],"drop-shadow":[{"drop-shadow":["","none",h,Ij,Lj]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",Fr,qt,Vt]}],"hue-rotate":[{"hue-rotate":[Fr,qt,Vt]}],invert:[{invert:["",Fr,qt,Vt]}],saturate:[{saturate:[Fr,qt,Vt]}],sepia:[{sepia:["",Fr,qt,Vt]}],"backdrop-filter":[{"backdrop-filter":["","none",qt,Vt]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[Fr,qt,Vt]}],"backdrop-contrast":[{"backdrop-contrast":[Fr,qt,Vt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Fr,qt,Vt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Fr,qt,Vt]}],"backdrop-invert":[{"backdrop-invert":["",Fr,qt,Vt]}],"backdrop-opacity":[{"backdrop-opacity":[Fr,qt,Vt]}],"backdrop-saturate":[{"backdrop-saturate":[Fr,qt,Vt]}],"backdrop-sepia":[{"backdrop-sepia":["",Fr,qt,Vt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",qt,Vt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Fr,"initial",qt,Vt]}],ease:[{ease:["linear","initial",y,qt,Vt]}],delay:[{delay:[Fr,qt,Vt]}],animate:[{animate:["none",v,qt,Vt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,qt,Vt]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:ce()}],"scale-x":[{"scale-x":ce()}],"scale-y":[{"scale-y":ce()}],"scale-z":[{"scale-z":ce()}],"scale-3d":["scale-3d"],skew:[{skew:Ne()}],"skew-x":[{"skew-x":Ne()}],"skew-y":[{"skew-y":Ne()}],transform:[{transform:[qt,Vt,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:he()}],"translate-x":[{"translate-x":he()}],"translate-y":[{"translate-y":he()}],"translate-z":[{"translate-z":he()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qt,Vt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qt,Vt]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[Fr,E1,C0,UT]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},nL=Q1e(y2e);function ia(...e){return nL(ur(e))}const xee=b.createContext(void 0);function v2e({children:e}){const[t,r]=b.useState(null),[n,a]=b.useState(!1),[s,i]=b.useState(!0);b.useEffect(()=>{const h=localStorage.getItem("hrms_user"),m=localStorage.getItem("authToken");if(h&&m)try{const g=JSON.parse(h);g&&(g.id||g._id)?(r(g),a(!0)):(console.warn("[AuthContext] Stored user missing ID. Clearing session."),localStorage.removeItem("hrms_user"),localStorage.removeItem("authToken"))}catch(g){console.error("Failed to parse stored user",g),localStorage.removeItem("hrms_user"),localStorage.removeItem("authToken")}i(!1)},[]);const l=h=>{const m=typeof h=="object"&&(h!=null&&h.name)?h.name:h;if(typeof m!="string")return"Employee";const g={admin:"Admin",hr:"HR",accountant:"Accountant",pm:"Project Manager",employee:"Employee",intern:"Intern",contractor:"Consultant",consultant:"Consultant",ceo:"CEO","human resources":"HR","hr executive":"HR"};return Object.values(g).includes(m)?m:g[m.toLowerCase()]||"Employee"},c=()=>{r(null),a(!1),localStorage.removeItem("hrms_user"),localStorage.removeItem("authToken")};b.useEffect(()=>{localStorage.getItem("authToken")&&d()},[]);const d=async()=>{var h,m;try{const g=await je.getCurrentUser(),x=g.user,y={id:x.id||x._id,email:x.email,name:x.name||x.email.split("@")[0],employeeId:x.employeeId,department:x.department,designation:x.designation,role:x.isSuperAdmin?"Super Admin":(h=x.roles)!=null&&h[0]?l(x.roles[0]):"Employee",roles:((m=x.roles)==null?void 0:m.map(l))||["Employee"],avatar:x.avatar,tenantId:x.tenantId,isSuperAdmin:x.isSuperAdmin||!1,isCompanyAdmin:x.isCompanyAdmin||!1,doj:x.doj,pan:x.pan,bankName:x.bankName,bankAccountNo:x.bankAccountNo,accessibleModules:x.accessibleModules||[],theme:x.theme,permissions:g.permissions,isFirstLogin:x.isFirstLogin};return y.id||console.error("[AuthContext] CRITICAL: Missing ID in updated user!"),r(y),localStorage.setItem("hrms_user",JSON.stringify(y)),y}catch(g){return console.error("Failed to refresh user data",g),c(),null}},u=async(h,m,g)=>{var x;i(!0);try{const y=await je.login(h,m,g);y.token&&localStorage.setItem("authToken",y.token);const v=await je.getCurrentUser(),w={id:v.user.id||v.user._id,email:v.user.email,name:v.user.name||v.user.email.split("@")[0],role:v.user.isSuperAdmin?"Super Admin":l(((x=v.user.roles[0])==null?void 0:x.name)||v.user.roles[0]||"employee"),department:v.user.department,designation:v.user.designation,avatar:v.user.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(v.user.name||v.user.email)}&background=random`,employeeId:v.user.employeeId,doj:v.user.doj,pan:v.user.pan,bankName:v.user.bankName,bankAccountNo:v.user.bankAccountNo,tenantId:v.user.tenantId,isSuperAdmin:v.user.isSuperAdmin||!1,isCompanyAdmin:v.user.isCompanyAdmin||!1,accessibleModules:v.user.accessibleModules,theme:v.user.theme,permissions:v.permissions,isFirstLogin:v.user.isFirstLogin};return r(w),a(!0),localStorage.setItem("hrms_user",JSON.stringify(w)),w}catch(y){console.error("API login failed, trying dummy credentials...",y);const v=f(h);if(v)return r(v),a(!0),localStorage.setItem("hrms_user",JSON.stringify(v)),localStorage.setItem("authToken","dummy-token"),v;throw y}finally{i(!1)}};console.log(t,"user");const f=(h,m)=>({"admin@sys.com":{id:"admin-1",email:"admin@sys.com",name:"System Admin",role:"Admin",department:"IT",designation:"System Administrator",avatar:"SA",employeeId:"EMP-001",doj:"2023-01-01",pan:"ABCDE1234F",bankName:"HDFC Bank",bankAccountNo:"1234567890"},"hr@company.com":{id:"hr-1",email:"hr@company.com",name:"HR Executive",role:"HR",department:"Human Resources",designation:"HR Executive",avatar:"HR",employeeId:"EMP-002",doj:"2023-02-01",pan:"FGHIJ5678K",bankName:"ICICI Bank",bankAccountNo:"0987654321"},"pm@company.com":{id:"pm-1",email:"pm@company.com",name:"Project Manager",role:"Project Manager",department:"Engineering",designation:"Project Manager",avatar:"PM",employeeId:"EMP-003",doj:"2023-03-01",pan:"LMNOP9012Q",bankName:"SBI",bankAccountNo:"1122334455"},"employee@company.com":{id:"emp-1",email:"employee@company.com",name:"John Employee",role:"Employee",department:"Engineering",designation:"Software Engineer",avatar:"JE",employeeId:"EMP-004",doj:"2023-04-01",pan:"RSTUV3456W",bankName:"Axis Bank",bankAccountNo:"5566778899"},"acc@company.com":{id:"acc-1",email:"acc@company.com",name:"Accountant",role:"Accountant",department:"Finance",designation:"Senior Accountant",avatar:"AC",employeeId:"EMP-005",doj:"2023-05-01",pan:"XYZAB7890C",bankName:"Kotak Bank",bankAccountNo:"9988776655"},"intern@company.com":{id:"int-1",email:"intern@company.com",name:"Intern",role:"Intern",department:"Engineering",designation:"Software Intern",avatar:"IN",employeeId:"EMP-006",doj:"2024-01-01",pan:"DEFGH1234I",bankName:"Canara Bank",bankAccountNo:"6655443322"},"contract@company.com":{id:"con-1",email:"contract@company.com",name:"Contractor",role:"Consultant",department:"Engineering",designation:"Contract Developer",avatar:"CO",employeeId:"EMP-007",doj:"2023-06-01",pan:"JKLMN5678O",bankName:"Union Bank",bankAccountNo:"2233445566"}})[h.toLowerCase()]||null,p=h=>{var m;return t?t.isSuperAdmin?!0:((m=t.permissions)==null?void 0:m.includes(h))||!1:!1};return o.jsx(xee.Provider,{value:{user:t,isAuthenticated:n,isLoading:s,login:u,logout:c,refreshUser:d,hasPermission:p},children:e})}function Sr(){const e=b.useContext(xee);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const s6=[{to:"/",label:"Dashboard"},{to:"/my-journey",label:"My Journey",module:"my_journey"},{to:"/employee-management",label:"Employee Management",module:"employees"},{to:"/roles",label:"Role Management",module:"roles"},{to:"/designations",label:"Designation Management",module:"designations"},{to:"/shifts",label:"Shift Management",module:"shifts"},{to:"/settings/documents",label:"Document Management",module:"documents"},{to:"/assets",label:"Asset Management",module:"assets"},{to:"/my-assets",label:"My Assets",module:"assets"},{to:"/ai-configuration",label:"AI Chatbot Configuration",module:"ai_chatbot"},{to:"/attendance",label:"Attendance & Time Tracking",module:"attendance"},{to:"/audit",label:"Audit Trail",module:"audit"},{to:"/leave",label:"Leave Management",module:"leave"},{to:"/payroll",label:"Payroll & Finance",module:"payroll"},{to:"/clients",label:"Client Management",module:"clients"},{to:"/projects",label:"Project Management",module:"projects"},{to:"/organization",label:"Hierarchy",module:"organization"},{to:"/superadmin/analytics",label:"Platform Analytics",roles:["Super Admin"]},{to:"/superadmin/tenants",label:"Tenant Management",roles:["Super Admin"]},{to:"/superadmin/users",label:"User Management",roles:["Super Admin"]},{to:"/superadmin/settings",label:"Platform Settings",roles:["Super Admin"]},{to:"/settings",label:"System Settings",roles:["Admin"]},{to:"/miscellaneous",label:"Miscellaneous",anyOfModules:["feedback","appreciation","email_automation"]},{to:"/social",label:"Social Wall",module:"social"},{to:"/resignation/submit",label:"My Resignation",module:"employees"},{to:"/resignation/manage",label:"Exit Management",module:"exit_management"},{to:"/help",label:"Help"}];function b2e(e){var r;return e.role==="Super Admin"?"/superadmin/analytics":((r=aL(e)[0])==null?void 0:r.to)||"/"}function aL(e){return e?e.role==="Super Admin"?s6:s6.filter(t=>!(t.module&&e.accessibleModules&&!e.accessibleModules.includes(t.module)||t.anyOfModules&&t.anyOfModules.length>0&&(!e.accessibleModules||!t.anyOfModules.some(n=>e.accessibleModules.includes(n)))||t.permissions&&t.permissions.length>0&&(!e.permissions||!t.permissions.some(n=>e.permissions.includes(n)))||t.roles&&t.roles.length>0&&!t.roles.includes(e.role))):[]}function en({content:e,children:t,position:r="bottom",trigger:n="hover"}){const[a,s]=b.useState(!1),i=b.useRef(null),l=b.useRef(null),[c,d]=b.useState({top:0,left:0}),[u,f]=b.useState(0),p=b.useRef(null),h=()=>{if(!i.current)return;const v=i.current.getBoundingClientRect(),w=window.scrollX,N=window.scrollY,C=window.innerWidth;let _=0,S=0,k=0;switch(r){case"top":_=v.top+N-8,S=v.left+w+v.width/2;break;case"bottom":_=v.bottom+N+8,S=v.left+w+v.width/2;break;case"left":_=v.top+N+v.height/2,S=v.left+w-8;break;case"right":_=v.top+N+v.height/2,S=v.right+w+8;break}if((r==="top"||r==="bottom")&&l.current){const O=l.current.getBoundingClientRect().width/2,D=10,M=S-w;let I=M;M+O>C-D&&(I=C-D-O),M-O<D&&(I=D+O);const z=I+w;k=S-z,S=z}d({top:_,left:S}),f(k)},m=()=>{h(),n==="hover"?p.current=setTimeout(()=>s(!0),200):s(!0)},g=()=>{p.current&&clearTimeout(p.current),s(!1)},x=v=>{v.stopPropagation(),a?g():m()};b.useEffect(()=>{if(n==="click"&&a){const v=w=>{i.current&&!i.current.contains(w.target)&&l.current&&!l.current.contains(w.target)&&g()};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}}},[n,a]),b.useLayoutEffect(()=>{a&&h()},[a]),b.useEffect(()=>{if(a)return window.addEventListener("scroll",h),window.addEventListener("resize",h),()=>{window.removeEventListener("scroll",h),window.removeEventListener("resize",h)}},[a]);const y=o.jsxs("div",{ref:l,className:"fixed z-[9999] px-3 py-1.5 text-xs font-medium text-text-primary bg-bg-card border border-border rounded shadow-lg animate-in fade-in zoom-in-95 duration-200 whitespace-nowrap",style:{top:c.top,left:c.left,transform:r==="top"?"translate(-50%, -100%)":r==="bottom"?"translate(-50%, 0)":r==="left"?"translate(-100%, -50%)":"translate(0, -50%)"},children:[e,o.jsx("div",{className:`absolute w-2 h-2 bg-bg-card border-l border-t border-border transform rotate-45 ${r==="top"?"bottom-[-5px] left-1/2 -translate-x-1/2 -rotate-135 border-l-0 border-t-0 border-r border-b":r==="bottom"?"top-[-5px] left-1/2 -translate-x-1/2 border-l border-t":r==="left"?"right-[-5px] top-1/2 -translate-y-1/2 rotate-135 border-l-0 border-t-0 border-r border-b":"left-[-5px] top-1/2 -translate-y-1/2 -rotate-45"}`,style:{marginLeft:u?`${u}px`:void 0}})]});return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:i,className:"relative flex items-center justify-center cursor-pointer",onMouseEnter:n==="hover"?m:void 0,onMouseLeave:n==="hover"?g:void 0,onClick:n==="click"?x:void 0,children:t}),a&&af.createPortal(y,document.body)]})}const gH=e=>{let t;const r=new Set,n=(d,u)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const p=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(h=>h(t,p))}},a=()=>t,l={setState:n,getState:a,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=t=e(n,a,l);return l},w2e=e=>e?gH(e):gH,N2e=e=>e;function S2e(e,t=N2e){const r=Fe.useSyncExternalStore(e.subscribe,Fe.useCallback(()=>t(e.getState()),[e,t]),Fe.useCallback(()=>t(e.getInitialState()),[e,t]));return Fe.useDebugValue(r),r}const xH=e=>{const t=w2e(e),r=n=>S2e(t,n);return Object.assign(r,t),r},j2e=e=>e?xH(e):xH,sL=j2e((e,t)=>({leaveStats:null,workStats:null,holidays:null,widgetAnimationPlayed:!1,notifications:[],unreadCount:0,setWidgetAnimationPlayed:()=>e({widgetAnimationPlayed:!0}),fetchDashboardData:async()=>{await Promise.all([t().fetchLeaveStats(),t().fetchHolidays()]);try{const r=new Date,n=new Date(r.getFullYear(),r.getMonth(),1).toISOString(),a=new Date(r.getFullYear(),r.getMonth()+1,0).toISOString(),[s,i]=await Promise.all([je.getTimesheetEntries({startDate:n,endDate:a}),je.getAttendanceHistory({startDate:n,endDate:a})]),c=(Array.isArray(s)?s:s.data||[]).reduce((h,m)=>h+(Number(m.duration)||0),0),d=Array.isArray(i)?i:i.data||i.history||[];let u=0,f=0;d.forEach(h=>{if(h.clockIn){f++;const m=new Date(h.clockIn),g=m.getHours(),x=m.getMinutes();(g<9||g===9&&x<=30)&&u++}});const p=f>0?Math.round(u/f*100):0;e({workStats:{totalHours:Math.round(c),onTimePercentage:p}})}catch(r){console.error("Failed to fetch dashboard work stats",r)}},fetchLeaveStats:async()=>{try{if(t().leaveStats)return;const r=await je.getLeaveStats();e({leaveStats:r.stats})}catch(r){console.error("Failed to fetch leave stats:",r)}},fetchHolidays:async()=>{try{if(t().holidays)return;const r=await je.getHolidays();e({holidays:r.data||[]})}catch(r){console.error("Failed to fetch holidays:",r)}},fetchNotifications:async()=>{try{const r=await je.getNotifications(),n=Array.isArray(r)?r:[],a=n.filter(s=>!s.read).length;e({notifications:n,unreadCount:a})}catch(r){console.error("Failed to fetch notifications",r)}},markNotificationRead:async r=>{try{const{notifications:n}=t();if(r==="all"){const a=n.map(s=>({...s,read:!0}));e({notifications:a,unreadCount:0}),await je.markNotificationRead("all")}else{const a=n.map(i=>i._id===r?{...i,read:!0}:i),s=a.filter(i=>!i.read).length;e({notifications:a,unreadCount:s}),await je.markNotificationRead(r)}}catch(n){console.error("Failed to mark notification read",n),t().fetchNotifications()}},resetStore:()=>{e({leaveStats:null,workStats:null,holidays:null,notifications:[],unreadCount:0})}}));function yH(){const{notifications:e,unreadCount:t,fetchNotifications:r,markNotificationRead:n}=sL(),[a,s]=b.useState(!1),i=b.useRef(null),l=vs();b.useEffect(()=>{r();const f=setInterval(()=>{r()},6e4);return()=>clearInterval(f)},[]),b.useEffect(()=>{const f=p=>{i.current&&!i.current.contains(p.target)&&s(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const c=f=>{f.stopPropagation(),n("all")},d=f=>{f.read||n(f._id),s(!1),f.type==="LEAVE"?l("/leave"):f.type==="TIMESHEET"?l("/attendance"):f.type==="PAYROLL"&&l("/payroll")},u=f=>{switch(f){case"LEAVE":return"text-orange-500 bg-orange-50";case"TIMESHEET":return"text-blue-500 bg-blue-50";case"PAYROLL":return"text-green-500 bg-green-50";default:return"text-gray-500 bg-gray-50"}};return o.jsxs("div",{className:"relative",ref:i,children:[o.jsx(en,{content:"Notifications",children:o.jsxs("button",{onClick:()=>s(!a),className:"relative p-2 text-text-secondary hover:text-text-primary hover:bg-bg-hover rounded-lg transition-colors",children:[o.jsx(iH,{size:20}),t>0&&o.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-status-error rounded-full ring-2 ring-white animate-pulse"})]})}),a&&o.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-bg-card rounded-lg shadow-lg border border-border animate-in fade-in slide-in-from-top-2 duration-200",style:{zIndex:99999},children:[o.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[o.jsx("h3",{className:"font-semibold text-text-primary",children:"Notifications"}),t>0&&o.jsxs("button",{onClick:c,className:"text-xs text-brand-primary hover:text-brand-dark flex items-center gap-1",children:[o.jsx(pl,{size:12})," Mark all read"]})]}),o.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:e.length===0?o.jsx("div",{className:"p-8 text-center text-text-secondary text-sm",children:"No notifications yet"}):e.map(f=>o.jsx("div",{onClick:()=>d(f),className:`p-4 border-b border-border last:border-0 cursor-pointer hover:bg-bg-hover transition-colors ${f.read?"":"bg-brand-primary/5"}`,children:o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{className:`p-2 rounded-lg h-fit ${u(f.type)}`,children:[o.jsx(iH,{size:16})," "]}),o.jsxs("div",{children:[o.jsx("p",{className:`text-sm ${f.read?"font-medium":"font-semibold"} text-text-primary`,children:f.title}),o.jsx("p",{className:"text-xs text-text-secondary mt-1 line-clamp-2",children:f.message}),o.jsx("p",{className:"text-[10px] text-text-tertiary mt-2",children:new Date(f.createdAt).toLocaleString()})]})]})},f._id))})]})]})}const ft=b.forwardRef(({label:e,error:t,helperText:r,className:n="",leftIcon:a,rightIcon:s,id:i,required:l,...c},d)=>{const u=i||c.name||Math.random().toString(36).substr(2,9);return o.jsxs("div",{className:"w-full",children:[e&&o.jsxs("label",{htmlFor:u,className:"block text-sm font-medium text-text-secondary mb-1",children:[e," ",l&&o.jsx("span",{className:"text-status-error",children:"*"})]}),o.jsxs("div",{className:"relative",children:[a&&o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-text-muted",children:a}),o.jsx("input",{ref:d,id:u,disabled:c.disabled,required:l,className:`
            w-full rounded-lg border bg-bg-card
            ${t?"border-status-error focus:ring-status-error":"border-border focus:ring-brand-primary"}
            ${a?"pl-10":"px-3"}
            ${s?"pr-10":"px-3"}
            py-2 text-sm placeholder-text-muted text-text-primary
            focus:outline-none focus:ring-2 focus:border-transparent
            disabled:bg-bg-main disabled:text-text-muted
            h-[38px]
            ${n}
          `,...c}),s&&o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-text-muted",children:s})]}),t&&o.jsx("p",{className:"mt-1 text-xs text-status-error",children:t}),!t&&r&&o.jsx("p",{className:"mt-1 text-xs text-text-muted",children:r})]})});ft.displayName="Input";function _2e(){const{user:e}=Sr(),[t,r]=b.useState(!1),[n,a]=b.useState([{id:"welcome",sender:"bot",text:"Hello! I am your HR AI Assistant. How can I help you regarding company policies today?",timestamp:new Date}]),[s,i]=b.useState(""),[l,c]=b.useState(!1),d=b.useRef(null),u=()=>{var p;(p=d.current)==null||p.scrollIntoView({behavior:"smooth"})};if(b.useEffect(()=>{u()},[n,t]),!e)return null;const f=async p=>{if(p==null||p.preventDefault(),!s.trim()||l)return;const h={id:Date.now().toString(),sender:"user",text:s,timestamp:new Date};a(m=>[...m,h]),i(""),c(!0);try{const m=await je.askAi(h.text),g={id:(Date.now()+1).toString(),sender:"bot",text:m.answer,timestamp:new Date};a(x=>[...x,g])}catch{const g={id:(Date.now()+1).toString(),sender:"bot",text:"Sorry, I encountered an error while processing your request. Please try again later.",timestamp:new Date};a(x=>[...x,g])}finally{c(!1)}};return o.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end",children:[t&&o.jsxs("div",{className:"mb-4 w-[350px] md:w-[400px] h-[500px] bg-bg-card rounded-2xl shadow-xl border border-border flex flex-col overflow-hidden animate-in slide-in-from-bottom-5 fade-in duration-200",children:[o.jsxs("div",{className:"bg-brand-primary p-4 flex justify-between items-center text-white",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-1.5 bg-white/20 rounded-full",children:o.jsx(x_,{size:20})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-sm",children:"HR Assistant"}),o.jsxs("p",{className:"text-xs text-brand-primary-foreground/80 flex items-center gap-1",children:[o.jsx("span",{className:"w-1.5 h-1.5 bg-status-success rounded-full"}),"Online"]})]})]}),o.jsx("button",{onClick:()=>r(!1),className:"text-white/80 hover:text-white transition-colors",children:o.jsx(Qi,{size:20})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-bg-main/50",children:[n.map(p=>o.jsxs("div",{className:`flex gap-3 ${p.sender==="user"?"flex-row-reverse":"flex-row"}`,children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${p.sender==="user"?"bg-brand-secondary text-white":"bg-brand-primary/10 text-brand-primary"}`,children:p.sender==="user"?o.jsx(yo,{size:14}):o.jsx(x_,{size:14})}),o.jsxs("div",{className:`max-w-[80%] px-4 py-2.5 rounded-2xl text-sm ${p.sender==="user"?"bg-brand-primary text-white rounded-tr-none":"bg-bg-card border border-border text-text-primary rounded-tl-none shadow-sm"}`,children:[o.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:p.text}),o.jsx("span",{className:`text-[10px] block mt-1 ${p.sender==="user"?"text-white/70":"text-text-muted"}`,children:p.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},p.id)),l&&o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-primary/10 text-brand-primary flex items-center justify-center shrink-0",children:o.jsx(x_,{size:14})}),o.jsx("div",{className:"bg-bg-card border border-border px-4 py-3 rounded-2xl rounded-tl-none shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex gap-1",children:[o.jsx("span",{className:"w-2 h-2 bg-brand-primary rounded-full animate-bounce [animation-delay:-0.3s]"}),o.jsx("span",{className:"w-2 h-2 bg-brand-primary rounded-full animate-bounce [animation-delay:-0.15s]"}),o.jsx("span",{className:"w-2 h-2 bg-brand-primary rounded-full animate-bounce"})]}),o.jsx("span",{className:"text-xs text-text-muted animate-pulse font-medium",children:"Thinking..."})]})})]}),o.jsx("div",{ref:d})]}),o.jsxs("form",{onSubmit:f,className:"p-4 bg-bg-card border-t border-border",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex-1",children:o.jsx(ft,{value:s,onChange:p=>i(p.target.value),placeholder:"Ask about HR policies...",className:"bg-bg-main rounded-full px-4 py-2.5 text-sm"})}),o.jsx("button",{type:"submit",disabled:!s.trim()||l,className:"p-2.5 bg-brand-primary text-white rounded-full hover:bg-brand-secondary disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm",children:o.jsx(zm,{size:18})})]}),o.jsx("p",{className:"text-[10px] text-text-muted mt-2 ml-2",children:"AI can make mistakes. Please verify important info with HR."})]})]}),!t&&o.jsx("button",{onClick:()=>r(!0),className:"bg-brand-primary hover:bg-brand-secondary text-white h-14 w-14 rounded-full shadow-lg transition-all duration-200 hover:scale-110 flex items-center justify-center",children:o.jsx(Cbe,{size:22})})]})}class k2e{getAuthHeaders(){const t=localStorage.getItem("authToken");return{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}}}async executeCommand(t){const r=await fetch(`${Oe}/ai/agent`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({command:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to execute agent command")}return r.json()}}const C2e=new k2e,A2e=()=>{const[e,t]=b.useState(!1),[r,n]=b.useState(""),[a,s]=b.useState(!1),[i,l]=b.useState([{id:"welcome",role:"agent",text:"Hello! I am your AI HR Assistant. I can help you onboard employees, approve leaves, and more. How can I assist you today?",timestamp:new Date}]),c=b.useRef(null),d=()=>{var f;(f=c.current)==null||f.scrollIntoView({behavior:"smooth"})};b.useEffect(()=>{d()},[i,e]);const u=async f=>{if(f.preventDefault(),!r.trim()||a)return;const p={id:Date.now().toString(),role:"user",text:r,timestamp:new Date};l(h=>[...h,p]),n(""),s(!0);try{const h=await C2e.executeCommand(p.text),m={id:(Date.now()+1).toString(),role:"agent",text:h.answer||"I completed the task but didn't have anything to say.",actions:h.actions,timestamp:new Date};l(g=>[...g,m])}catch(h){const m={id:(Date.now()+1).toString(),role:"agent",text:`Sorry, I encountered an error: ${h.message}`,timestamp:new Date};l(g=>[...g,m])}finally{s(!1)}};return o.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end",children:[e&&o.jsxs("div",{className:"mb-4 w-[400px] h-[600px] bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 flex flex-col overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-300",children:[o.jsxs("div",{className:"bg-gradient-to-r from-violet-600 to-indigo-600 p-4 flex justify-between items-center text-white",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(x_,{className:"w-6 h-6"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-sm",children:"HR Assistant"}),o.jsxs("div",{className:"flex items-center gap-1.5 opacity-80",children:[o.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-xs",children:"Online"})]})]})]}),o.jsx("button",{onClick:()=>t(!1),className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:o.jsx(Qi,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900/50",children:[i.map(f=>o.jsx("div",{className:`flex flex-col ${f.role==="user"?"items-end":"items-start"}`,children:o.jsxs("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 text-sm shadow-sm ${f.role==="user"?"bg-violet-600 text-white rounded-br-none":"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 border border-gray-100 dark:border-gray-700 rounded-bl-none"}`,children:[o.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:f.text}),f.actions&&f.actions.length>0&&o.jsx("div",{className:"mt-3 space-y-2",children:f.actions.map((p,h)=>o.jsxs("div",{className:`p-3 rounded-lg border text-xs flex items-start gap-2 ${p.status==="success"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"}`,children:[p.status==="success"?o.jsx(BZ,{className:"w-4 h-4 text-green-600 dark:text-green-400 shrink-0 mt-0.5"}):o.jsx(ta,{className:"w-4 h-4 text-red-600 dark:text-red-400 shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1 overflow-hidden",children:[o.jsx("p",{className:`font-medium mb-1 ${p.status==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:p.tool==="get_employee_details"?"Found Employee":p.tool==="create_employee"?"Employee Created":p.tool==="approve_leave"?"Leave Approved":"Task Completed"}),o.jsx("pre",{className:"opacity-80 overflow-x-auto",children:typeof p.output=="object"?JSON.stringify(p.output,null,2):String(p.output).substring(0,100)+(String(p.output).length>100?"...":"")})]})]},h))}),o.jsx("span",{className:`text-[10px] mt-1 block opacity-60 ${f.role==="user"?"text-violet-100":"text-gray-400"}`,children:f.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},f.id)),a&&o.jsx("div",{className:"flex items-start",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl rounded-bl-none px-4 py-3 border border-gray-100 dark:border-gray-700 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vn,{className:"w-4 h-4 text-violet-600 animate-spin"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Processing request..."})]})})}),o.jsx("div",{ref:c})]}),o.jsx("form",{onSubmit:u,className:"p-4 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",value:r,onChange:f=>n(f.target.value),placeholder:"Type a command (e.g., 'Onboard John')...",className:"flex-1 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-violet-500 transition-all dark:text-white placeholder:text-gray-400",disabled:a}),o.jsx("button",{type:"submit",disabled:!r.trim()||a,className:"p-2.5 bg-violet-600 text-white rounded-xl hover:bg-violet-700 disabled:opacity-50 disabled:hover:bg-violet-600 transition-colors shadow-lg shadow-violet-200 dark:shadow-none",children:o.jsx(zm,{className:"w-4 h-4"})})]})})]}),o.jsx("button",{onClick:()=>t(!e),className:`p-4 rounded-full shadow-2xl transition-all duration-300 hover:scale-105 active:scale-95 ${e?"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300":"bg-gradient-to-r from-violet-600 to-indigo-600 text-white animate-bounce-slow"}`,children:e?o.jsx(Qi,{className:"w-6 h-6"}):o.jsx(KZ,{className:"w-6 h-6"})})]})};function Ac({src:e,alt:t,name:r,className:n,size:a="md",fallbackColor:s="bg-brand-secondary"}){const[i,l]=b.useState(!1);b.useEffect(()=>{l(!1)},[e]);const c=u=>u?u.split(" ").map(f=>f[0]).slice(0,2).join("").toUpperCase():"",d=()=>{switch(a){case"sm":return"w-8 h-8 text-xs";case"md":return"w-10 h-10 text-sm";case"lg":return"w-16 h-16 text-lg";case"xl":return"w-24 h-24 text-2xl";default:return"w-10 h-10 text-sm"}};return!e||i?o.jsx("div",{className:ia("rounded-full flex items-center justify-center text-white font-bold overflow-hidden",s,d(),n),children:r?c(r):o.jsx(yo,{size:16})}):o.jsx("div",{className:ia("rounded-full overflow-hidden",d(),n),children:o.jsx("img",{src:e,alt:t||r||"Avatar",className:"w-full h-full object-cover",onError:()=>l(!0)})})}const E2e={success:o.jsx(In,{className:"w-5 h-5 text-green-500"}),error:o.jsx(ta,{className:"w-5 h-5 text-red-500"}),warning:o.jsx(ta,{className:"w-5 h-5 text-yellow-500"}),info:o.jsx(Q8,{className:"w-5 h-5 text-blue-500"})},T2e={success:"border-l-4 border-green-500",error:"border-l-4 border-red-500",warning:"border-l-4 border-yellow-500",info:"border-l-4 border-blue-500"};function D2e({id:e,message:t,type:r="info",onClose:n,duration:a=5e3}){return b.useEffect(()=>{const s=setTimeout(()=>{n(e)},a);return()=>clearTimeout(s)},[e,a,n]),o.jsxs("div",{className:`flex items-center w-full max-w-sm p-4 text-gray-800 bg-white rounded-lg shadow-lg dark:text-gray-400 dark:bg-gray-800 transition-all transform translate-x-0 ${T2e[r]}`,role:"alert",children:[o.jsx("div",{className:"flex-shrink-0",children:E2e[r]}),o.jsx("div",{className:"ml-3 text-sm font-normal mr-2 flex-1",children:t}),o.jsxs("button",{type:"button",className:"ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700",onClick:()=>n(e),"aria-label":"Close",children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx(Qi,{className:"w-4 h-4"})]})]})}const yee=b.createContext(void 0);function M2e({children:e}){const{user:t}=Sr(),[r,n]=b.useState(0),a=b.useRef(new Date().toISOString()),[s,i]=b.useState([]),l=()=>{try{const f=window.AudioContext||window.webkitAudioContext;if(!f)return;const p=new f,h=p.createOscillator(),m=p.createGain();h.connect(m),m.connect(p.destination),h.type="sine",h.frequency.setValueAtTime(500,p.currentTime),m.gain.setValueAtTime(.1,p.currentTime),m.gain.exponentialRampToValueAtTime(1e-5,p.currentTime+.5),h.start(),h.stop(p.currentTime+.5)}catch(f){console.error("Audio play failed",f)}};b.useEffect(()=>{if(!t)return;console.log("Starting Social Wall polling...");const f=setInterval(async()=>{var p,h;try{const m=a.current,g=new Date().toISOString(),x=await je.checkNewSocialPosts(m);if(a.current=g,x.count>0&&(console.log("New posts found:",x.count),n(y=>y+x.count),x.latestPost)){const y=`${(p=x.latestPost.author)==null?void 0:p.firstName} ${((h=x.latestPost.author)==null?void 0:h.lastName)||""}`.trim();if(x.latestPost.author._id!==t.employeeId&&x.latestPost.author!==t.employeeId){let v=`New post from ${y}`;if(x.latestPost.content){const w=x.latestPost.content,N=w.length>50?w.substring(0,50)+"...":w;v+=`: "${N}"`}c(v,"info"),l()}}}catch(m){console.error("Polling error",m)}},15e3);return()=>clearInterval(f)},[t]);const c=(f,p)=>{const h=Date.now().toString();i(m=>[...m,{id:h,message:f,type:p}])},d=f=>{i(p=>p.filter(h=>h.id!==f))},u=()=>{n(0)};return o.jsxs(yee.Provider,{value:{unreadSocialCount:r,clearSocialNotifications:u,showToast:c},children:[e,o.jsx("div",{className:"fixed top-24 right-4 z-50 space-y-2",children:s.map(f=>o.jsx(D2e,{id:f.id,message:f.message,type:f.type,onClose:d},f.id))})]})}function GN(){const e=b.useContext(yee);if(e===void 0)throw new Error("useNotification must be used within a NotificationProvider");return e}function vH(e,t){b.useEffect(()=>{const r=n=>{const a=e==null?void 0:e.current;!a||a.contains((n==null?void 0:n.target)||null)||t(n)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[e,t])}var iL={};(function e(t,r,n,a){var s=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),i=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!t.OffscreenCanvas)return!1;try{var B=new OffscreenCanvas(1,1),q=B.getContext("2d");q.fillRect(0,0,1,1);var T=B.transferToImageBitmap();q.createPattern(T,"no-repeat")}catch{return!1}return!0}();function c(){}function d(B){var q=r.exports.Promise,T=q!==void 0?q:t.Promise;return typeof T=="function"?new T(B):(B(c,c),null)}var u=function(B,q){return{transform:function(T){if(B)return T;if(q.has(T))return q.get(T);var R=new OffscreenCanvas(T.width,T.height),F=R.getContext("2d");return F.drawImage(T,0,0),q.set(T,R),R},clear:function(){q.clear()}}}(l,new Map),f=function(){var B=Math.floor(16.666666666666668),q,T,R={},F=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(q=function(H){var W=Math.random();return R[W]=requestAnimationFrame(function te(pe){F===pe||F+B-1<pe?(F=pe,delete R[W],H()):R[W]=requestAnimationFrame(te)}),W},T=function(H){R[H]&&cancelAnimationFrame(R[H])}):(q=function(H){return setTimeout(H,B)},T=function(H){return clearTimeout(H)}),{frame:q,cancel:T}}(),p=function(){var B,q,T={};function R(F){function H(W,te){F.postMessage({options:W||{},callback:te})}F.init=function(te){var pe=te.transferControlToOffscreen();F.postMessage({canvas:pe},[pe])},F.fire=function(te,pe,se){if(q)return H(te,null),q;var ce=Math.random().toString(36).slice(2);return q=d(function(Ne){function he(ze){ze.data.callback===ce&&(delete T[ce],F.removeEventListener("message",he),q=null,u.clear(),se(),Ne())}F.addEventListener("message",he),H(te,ce),T[ce]=he.bind(null,{data:{callback:ce}})}),q},F.reset=function(){F.postMessage({reset:!0});for(var te in T)T[te](),delete T[te]}}return function(){if(B)return B;if(!n&&s){var F=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{B=new Worker(URL.createObjectURL(new Blob([F])))}catch(H){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",H),null}R(B)}return B}}(),h={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function m(B,q){return q?q(B):B}function g(B){return B!=null}function x(B,q,T){return m(B&&g(B[q])?B[q]:h[q],T)}function y(B){return B<0?0:Math.floor(B)}function v(B,q){return Math.floor(Math.random()*(q-B))+B}function w(B){return parseInt(B,16)}function N(B){return B.map(C)}function C(B){var q=String(B).replace(/[^0-9a-f]/gi,"");return q.length<6&&(q=q[0]+q[0]+q[1]+q[1]+q[2]+q[2]),{r:w(q.substring(0,2)),g:w(q.substring(2,4)),b:w(q.substring(4,6))}}function _(B){var q=x(B,"origin",Object);return q.x=x(q,"x",Number),q.y=x(q,"y",Number),q}function S(B){B.width=document.documentElement.clientWidth,B.height=document.documentElement.clientHeight}function k(B){var q=B.getBoundingClientRect();B.width=q.width,B.height=q.height}function A(B){var q=document.createElement("canvas");return q.style.position="fixed",q.style.top="0px",q.style.left="0px",q.style.pointerEvents="none",q.style.zIndex=B,q}function O(B,q,T,R,F,H,W,te,pe){B.save(),B.translate(q,T),B.rotate(H),B.scale(R,F),B.arc(0,0,1,W,te,pe),B.restore()}function D(B){var q=B.angle*(Math.PI/180),T=B.spread*(Math.PI/180);return{x:B.x,y:B.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:B.startVelocity*.5+Math.random()*B.startVelocity,angle2D:-q+(.5*T-Math.random()*T),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:B.color,shape:B.shape,tick:0,totalTicks:B.ticks,decay:B.decay,drift:B.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:B.gravity*3,ovalScalar:.6,scalar:B.scalar,flat:B.flat}}function M(B,q){q.x+=Math.cos(q.angle2D)*q.velocity+q.drift,q.y+=Math.sin(q.angle2D)*q.velocity+q.gravity,q.velocity*=q.decay,q.flat?(q.wobble=0,q.wobbleX=q.x+10*q.scalar,q.wobbleY=q.y+10*q.scalar,q.tiltSin=0,q.tiltCos=0,q.random=1):(q.wobble+=q.wobbleSpeed,q.wobbleX=q.x+10*q.scalar*Math.cos(q.wobble),q.wobbleY=q.y+10*q.scalar*Math.sin(q.wobble),q.tiltAngle+=.1,q.tiltSin=Math.sin(q.tiltAngle),q.tiltCos=Math.cos(q.tiltAngle),q.random=Math.random()+2);var T=q.tick++/q.totalTicks,R=q.x+q.random*q.tiltCos,F=q.y+q.random*q.tiltSin,H=q.wobbleX+q.random*q.tiltCos,W=q.wobbleY+q.random*q.tiltSin;if(B.fillStyle="rgba("+q.color.r+", "+q.color.g+", "+q.color.b+", "+(1-T)+")",B.beginPath(),i&&q.shape.type==="path"&&typeof q.shape.path=="string"&&Array.isArray(q.shape.matrix))B.fill(V(q.shape.path,q.shape.matrix,q.x,q.y,Math.abs(H-R)*.1,Math.abs(W-F)*.1,Math.PI/10*q.wobble));else if(q.shape.type==="bitmap"){var te=Math.PI/10*q.wobble,pe=Math.abs(H-R)*.1,se=Math.abs(W-F)*.1,ce=q.shape.bitmap.width*q.scalar,Ne=q.shape.bitmap.height*q.scalar,he=new DOMMatrix([Math.cos(te)*pe,Math.sin(te)*pe,-Math.sin(te)*se,Math.cos(te)*se,q.x,q.y]);he.multiplySelf(new DOMMatrix(q.shape.matrix));var ze=B.createPattern(u.transform(q.shape.bitmap),"no-repeat");ze.setTransform(he),B.globalAlpha=1-T,B.fillStyle=ze,B.fillRect(q.x-ce/2,q.y-Ne/2,ce,Ne),B.globalAlpha=1}else if(q.shape==="circle")B.ellipse?B.ellipse(q.x,q.y,Math.abs(H-R)*q.ovalScalar,Math.abs(W-F)*q.ovalScalar,Math.PI/10*q.wobble,0,2*Math.PI):O(B,q.x,q.y,Math.abs(H-R)*q.ovalScalar,Math.abs(W-F)*q.ovalScalar,Math.PI/10*q.wobble,0,2*Math.PI);else if(q.shape==="star")for(var Pe=Math.PI/2*3,ee=4*q.scalar,We=8*q.scalar,be=q.x,wt=q.y,Qe=5,me=Math.PI/Qe;Qe--;)be=q.x+Math.cos(Pe)*We,wt=q.y+Math.sin(Pe)*We,B.lineTo(be,wt),Pe+=me,be=q.x+Math.cos(Pe)*ee,wt=q.y+Math.sin(Pe)*ee,B.lineTo(be,wt),Pe+=me;else B.moveTo(Math.floor(q.x),Math.floor(q.y)),B.lineTo(Math.floor(q.wobbleX),Math.floor(F)),B.lineTo(Math.floor(H),Math.floor(W)),B.lineTo(Math.floor(R),Math.floor(q.wobbleY));return B.closePath(),B.fill(),q.tick<q.totalTicks}function I(B,q,T,R,F){var H=q.slice(),W=B.getContext("2d"),te,pe,se=d(function(ce){function Ne(){te=pe=null,W.clearRect(0,0,R.width,R.height),u.clear(),F(),ce()}function he(){n&&!(R.width===a.width&&R.height===a.height)&&(R.width=B.width=a.width,R.height=B.height=a.height),!R.width&&!R.height&&(T(B),R.width=B.width,R.height=B.height),W.clearRect(0,0,R.width,R.height),H=H.filter(function(ze){return M(W,ze)}),H.length?te=f.frame(he):Ne()}te=f.frame(he),pe=Ne});return{addFettis:function(ce){return H=H.concat(ce),se},canvas:B,promise:se,reset:function(){te&&f.cancel(te),pe&&pe()}}}function z(B,q){var T=!B,R=!!x(q||{},"resize"),F=!1,H=x(q,"disableForReducedMotion",Boolean),W=s&&!!x(q||{},"useWorker"),te=W?p():null,pe=T?S:k,se=B&&te?!!B.__confetti_initialized:!1,ce=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ne;function he(Pe,ee,We){for(var be=x(Pe,"particleCount",y),wt=x(Pe,"angle",Number),Qe=x(Pe,"spread",Number),me=x(Pe,"startVelocity",Number),we=x(Pe,"decay",Number),Me=x(Pe,"gravity",Number),Ge=x(Pe,"drift",Number),Xe=x(Pe,"colors",N),Ve=x(Pe,"ticks",Number),st=x(Pe,"shapes"),Nt=x(Pe,"scalar"),_t=!!x(Pe,"flat"),vt=_(Pe),zt=be,At=[],cr=B.width*vt.x,er=B.height*vt.y;zt--;)At.push(D({x:cr,y:er,angle:wt,spread:Qe,startVelocity:me,color:Xe[zt%Xe.length],shape:st[v(0,st.length)],ticks:Ve,decay:we,gravity:Me,drift:Ge,scalar:Nt,flat:_t}));return Ne?Ne.addFettis(At):(Ne=I(B,At,pe,ee,We),Ne.promise)}function ze(Pe){var ee=H||x(Pe,"disableForReducedMotion",Boolean),We=x(Pe,"zIndex",Number);if(ee&&ce)return d(function(me){me()});T&&Ne?B=Ne.canvas:T&&!B&&(B=A(We),document.body.appendChild(B)),R&&!se&&pe(B);var be={width:B.width,height:B.height};te&&!se&&te.init(B),se=!0,te&&(B.__confetti_initialized=!0);function wt(){if(te){var me={getBoundingClientRect:function(){if(!T)return B.getBoundingClientRect()}};pe(me),te.postMessage({resize:{width:me.width,height:me.height}});return}be.width=be.height=null}function Qe(){Ne=null,R&&(F=!1,t.removeEventListener("resize",wt)),T&&B&&(document.body.contains(B)&&document.body.removeChild(B),B=null,se=!1)}return R&&!F&&(F=!0,t.addEventListener("resize",wt,!1)),te?te.fire(Pe,be,Qe):he(Pe,be,Qe)}return ze.reset=function(){te&&te.reset(),Ne&&Ne.reset()},ze}var Y;function X(){return Y||(Y=z(null,{useWorker:!0,resize:!0})),Y}function V(B,q,T,R,F,H,W){var te=new Path2D(B),pe=new Path2D;pe.addPath(te,new DOMMatrix(q));var se=new Path2D;return se.addPath(pe,new DOMMatrix([Math.cos(W)*F,Math.sin(W)*F,-Math.sin(W)*H,Math.cos(W)*H,T,R])),se}function G(B){if(!i)throw new Error("path confetti are not supported in this browser");var q,T;typeof B=="string"?q=B:(q=B.path,T=B.matrix);var R=new Path2D(q),F=document.createElement("canvas"),H=F.getContext("2d");if(!T){for(var W=1e3,te=W,pe=W,se=0,ce=0,Ne,he,ze=0;ze<W;ze+=2)for(var Pe=0;Pe<W;Pe+=2)H.isPointInPath(R,ze,Pe,"nonzero")&&(te=Math.min(te,ze),pe=Math.min(pe,Pe),se=Math.max(se,ze),ce=Math.max(ce,Pe));Ne=se-te,he=ce-pe;var ee=10,We=Math.min(ee/Ne,ee/he);T=[We,0,0,We,-Math.round(Ne/2+te)*We,-Math.round(he/2+pe)*We]}return{type:"path",path:q,matrix:T}}function J(B){var q,T=1,R="#000000",F='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof B=="string"?q=B:(q=B.text,T="scalar"in B?B.scalar:T,F="fontFamily"in B?B.fontFamily:F,R="color"in B?B.color:R);var H=10*T,W=""+H+"px "+F,te=new OffscreenCanvas(H,H),pe=te.getContext("2d");pe.font=W;var se=pe.measureText(q),ce=Math.ceil(se.actualBoundingBoxRight+se.actualBoundingBoxLeft),Ne=Math.ceil(se.actualBoundingBoxAscent+se.actualBoundingBoxDescent),he=2,ze=se.actualBoundingBoxLeft+he,Pe=se.actualBoundingBoxAscent+he;ce+=he+he,Ne+=he+he,te=new OffscreenCanvas(ce,Ne),pe=te.getContext("2d"),pe.font=W,pe.fillStyle=R,pe.fillText(q,ze,Pe);var ee=1/T;return{type:"bitmap",bitmap:te.transferToImageBitmap(),matrix:[ee,0,0,ee,-ce*ee/2,-Ne*ee/2]}}r.exports=function(){return X().apply(this,arguments)},r.exports.reset=function(){X().reset()},r.exports.create=z,r.exports.shapeFromPath=G,r.exports.shapeFromText=J})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),iL,!1);const i6=iL.exports;iL.exports.create;function _r({isOpen:e,onClose:t,title:r,children:n,footer:a,maxWidth:s="max-w-md",hideHeader:i=!1,padding:l="p-6",bodyClassName:c}){return e?af.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] backdrop-blur-sm",children:o.jsxs("div",{className:`bg-bg-card rounded-xl shadow-2xl w-full ${s} mx-4 animate-in fade-in zoom-in-95 duration-300 ease-out border border-border flex flex-col max-h-[90vh]`,children:[!i&&o.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-border shrink-0",children:[o.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:r}),o.jsx("button",{onClick:t,className:"text-text-muted hover:text-text-primary p-1 rounded hover:bg-bg-hover transition-colors",children:o.jsx(Qi,{size:20})})]}),o.jsx("div",{className:c||`${l} space-y-4 overflow-y-auto`,children:n}),a&&o.jsx("div",{className:"p-3 bg-bg-main/50 rounded-b-xl shrink-0",children:a})]})}),document.body):null}function O2e(){const{user:e,refreshUser:t}=Sr(),[r,n]=b.useState(!1);b.useEffect(()=>{if(console.log("WelcomeModal Check:",{user:e,isFirstLogin:e==null?void 0:e.isFirstLogin}),e!=null&&e.isFirstLogin){n(!0);const s=3*1e3,i=Date.now()+s,l={startVelocity:30,spread:360,ticks:60,zIndex:9999},c=(u,f)=>Math.random()*(f-u)+u,d=setInterval(function(){const u=i-Date.now();if(u<=0)return clearInterval(d);const f=50*(u/s);i6({...l,particleCount:f,origin:{x:c(.1,.3),y:Math.random()-.2}}),i6({...l,particleCount:f,origin:{x:c(.7,.9),y:Math.random()-.2}})},250)}},[e==null?void 0:e.isFirstLogin]);const a=async()=>{try{await je.acknowledgeWelcome(),n(!1),await t()}catch(s){console.error("Failed to dismiss welcome screen",s),n(!1)}};return!r||!e?null:o.jsx(_r,{isOpen:r,onClose:()=>{},title:"Welcome Verification",hideHeader:!0,maxWidth:"max-w-md",children:o.jsxs("div",{className:"text-center p-4",children:[o.jsx("div",{className:"mx-auto w-20 h-20 bg-violet-100 rounded-full flex items-center justify-center mb-6 animate-bounce",children:o.jsx(XZ,{size:40,className:"text-violet-600"})}),o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Welcome to the team, ",e.name.split(" ")[0],"! "]}),o.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"We're thrilled to have you onboard. Your account is fully set up and ready to go. Explore your dashboard to get started!"}),o.jsxs("button",{onClick:a,className:"w-full py-3 bg-violet-600 text-white rounded-xl font-medium shadow-lg shadow-violet-200 hover:bg-violet-700 hover:scale-[1.02] transition-all flex items-center justify-center gap-2",children:["Let's Get Started ",o.jsx(pl,{size:18})]})]})})}function P2e(){var k,A,O,D,M,I,z,Y,X;const{user:e,logout:t,isAuthenticated:r}=Sr(),{theme:n,toggleTheme:a}=D1e(e,r),{unreadSocialCount:s,clearSocialNotifications:i}=GN(),[l,c]=b.useState(!1),[d,u]=b.useState(!1),f=lu(),p=vs(),h=b.useRef(null);vH(h,()=>u(!1)),b.useEffect(()=>{if(e!=null&&e.tenantId&&typeof e.tenantId=="object"){const V=e.tenantId.settings;if(V!=null&&V.favicon){const G=document.querySelector("link[rel~='icon']");if(G)G.href=V.favicon;else{const J=document.createElement("link");J.rel="icon",J.href=V.favicon,document.head.appendChild(J)}}}},[e]);const m=()=>c(!l),g=[{to:"/",icon:obe,label:"Dashboard"},{to:"/my-journey",icon:eL,label:"My Journey"},{to:"/employee-management",icon:Da,label:"Employee Management"},{to:"/roles",icon:gh,label:"Role Management"},{to:"/settings/documents",icon:xn,label:"Document Management"},{to:"/attendance",icon:Mn,label:"Attendance & Time Tracking"},{to:"/shifts",icon:zZ,label:"Shift Management"},{to:"/designations",icon:IZ,label:"Designation Management"},{to:"/audit",icon:y_,label:"Audit Trail"},{to:"/leave",icon:Gd,label:"Leave Management"},{to:"/payroll",icon:FZ,label:"Payroll & Finance"},{to:"/projects",icon:cu,label:"Project Management"},{to:"/clients",icon:Da,label:"Client Management"},{to:"/organization",icon:Z8,label:"Hierarchy"},{to:"/social",icon:v_,label:"Social Wall"},{to:"/ai-configuration",icon:w_,label:"AI Chatbot Configuration"},{to:"/superadmin/tenants",icon:$g,label:"Tenant Management"},{to:"/superadmin/analytics",icon:Zye,label:"Platform Analytics"},{to:"/superadmin/users",icon:Da,label:"User Management"},{to:"/superadmin/settings",icon:Ok,label:"Platform Settings"},{to:"/miscellaneous",icon:$Z,label:"Miscellaneous"},{to:"/assets",icon:Kd,label:"Asset Management"},{to:"/my-assets",icon:Kd,label:"My Assets"},{to:"/settings",icon:Ok,label:"System Settings"},{to:"/resignation/submit",icon:Iu,label:"My Resignation"},{to:"/resignation/manage",icon:Iu,label:"Exit Management"},{to:"/help",icon:HZ,label:"Help"}],x=[{title:"Overview",items:["/","/my-journey"]},{title:"People Management",items:["/employee-management","/roles","/designations","/resignation/manage"]},{title:"Time & Attendance",items:["/attendance","/shifts","/leave"]},{title:"Work & Payroll",items:["/projects","/clients","/payroll"]},{title:"Resources",items:["/settings/documents","/assets"]},{title:"Intelligence & Monitoring",items:["/ai-configuration","/audit"]},{title:"Organization Structure",items:["/organization"]},{title:"System",items:["/settings","/miscellaneous","/help"]},{title:"Platform Administration",items:["/superadmin/analytics","/superadmin/tenants","/superadmin/users","/superadmin/settings"]}],y=e!=null&&e.isSuperAdmin?[{title:"Platform Administration",items:["/superadmin/analytics","/superadmin/tenants","/superadmin/users","/superadmin/settings"]}]:x,v=e?aL(e):[],w=v,N=()=>{const V=f.pathname,G={"/":[{label:"Dashboard",to:"/"}],"/miscellaneous":[{label:"Miscellaneous",to:"/miscellaneous"}],"/miscellaneous/feedback":[{label:"Miscellaneous",to:"/miscellaneous"},{label:"Feedback"}],"/miscellaneous/appreciation":[{label:"Miscellaneous",to:"/miscellaneous"},{label:"Appreciation"}],"/miscellaneous/email-automation":[{label:"Miscellaneous",to:"/miscellaneous"},{label:"Email Automation"}],"/miscellaneous/asset-categories":[{label:"Miscellaneous",to:"/miscellaneous"},{label:"Asset Categories"}],"/assets":[{label:"Asset Management",to:"/assets"},{label:"Dashboard"}],"/assets/inventory":[{label:"Asset Management",to:"/assets"},{label:"Inventory"}],"/my-assets":[{label:"My Assets"}],"/my-journey":[{label:"My Journey"}],"/social":[{label:"Social Wall"}],"/shifts":[{label:"Shift Management"}],"/ai-configuration":[{label:"AI Chatbot Configuration"}]};if(G[V])return G[V];if(V.startsWith("/projects/")&&V.split("/").length===3)return[{label:"Project Management",to:"/projects"},{label:"Project Details"}];if(V.startsWith("/organization/employee/"))return[{label:"Organization",to:"/organization?tab=directory"},{label:"Employee Profile"}];const J=g.find(B=>B.to===V);return J?[{label:J.label}]:[{label:"Page"}]},[C,_]=b.useState(!1),S=b.useRef(null);return vH(S,()=>_(!1)),o.jsxs("div",{className:"min-h-screen bg-bg-main flex flex-col md:flex-row transition-colors duration-200",children:[o.jsx(O2e,{}),o.jsxs("header",{className:"md:hidden bg-bg-sidebar border-b border-border p-4 flex justify-between items-center sticky top-0 z-20",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:m,className:"text-text-primary p-1",children:l?o.jsx(Qi,{size:24}):o.jsx(bbe,{size:24})}),(A=(k=e==null?void 0:e.tenantId)==null?void 0:k.settings)!=null&&A.logo?o.jsx("img",{src:(e==null?void 0:e.tenantId).settings.logo,alt:"Company Logo",className:"h-8 w-auto object-contain"}):o.jsx("span",{className:"font-bold text-xl text-brand-primary",children:"NeointeractionHR"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[v.some(V=>V.to==="/social")&&(!(e!=null&&e.tenantId)||typeof e.tenantId=="string"||!e.tenantId.limits||((D=(O=e.tenantId.limits)==null?void 0:O.enabledModules)==null?void 0:D.includes("social")))&&o.jsxs("button",{onClick:()=>{i(),p("/social")},className:"p-1 text-text-secondary relative",children:[o.jsx(v_,{size:20}),s>0&&o.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full border border-white"})]}),o.jsx(yH,{}),o.jsxs("div",{className:"relative",ref:S,children:[o.jsx("button",{onClick:()=>_(!C),className:"focus:outline-none",children:o.jsx(Ac,{src:e==null?void 0:e.avatar,name:e==null?void 0:e.name,alt:e==null?void 0:e.name,size:"sm"})}),C&&o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-bg-card rounded-lg shadow-lg border border-border py-1 z-50",children:[o.jsxs("div",{className:"px-4 py-2 border-b border-border",children:[o.jsx("p",{className:"text-sm font-medium text-text-primary truncate",children:e==null?void 0:e.name}),o.jsx("p",{className:"text-xs text-text-muted truncate",children:e==null?void 0:e.designation})]}),(e==null?void 0:e.role)!=="Super Admin"&&(e==null?void 0:e.role)!=="CEO"&&o.jsxs("button",{onClick:()=>{_(!1),p("/profile")},className:"w-full px-4 py-2 text-left text-sm text-text-primary hover:bg-bg-hover flex items-center gap-2",children:[o.jsx(oH,{size:16}),"My Profile"]}),o.jsxs("button",{onClick:()=>{t(),_(!1),p("/login",{replace:!0})},className:"w-full px-4 py-2 text-left text-sm text-status-error hover:bg-bg-hover flex items-center gap-2",children:[o.jsx(Iu,{size:16}),"Logout"]})]})]})]})]}),o.jsxs("aside",{className:ia("fixed inset-y-0 left-0 z-50 w-[280px] bg-bg-sidebar border-r border-border transform transition-transform duration-200 ease-in-out md:translate-x-0 md:static md:h-screen flex flex-col",l?"translate-x-0":"-translate-x-full"),children:[o.jsx("div",{className:"p-6 flex items-center justify-between border-b border-border h-16",children:(I=(M=e==null?void 0:e.tenantId)==null?void 0:M.settings)!=null&&I.logo?o.jsx("img",{src:(e==null?void 0:e.tenantId).settings.logo,alt:"Company Logo",className:"h-10 w-auto object-contain"}):o.jsx("span",{className:"font-bold text-2xl text-brand-primary",children:"NeointeractionHR"})}),o.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto custom-scrollbar",children:y.map(V=>{const G=V.items.map(J=>w.some(q=>q.to===J)?g.find(q=>q.to===J):null).filter(Boolean);return G.length===0?null:o.jsxs("div",{children:[o.jsx("h3",{className:"px-4 text-[10px] font-semibold text-text-muted uppercase tracking-wider mb-2 mt-2",children:V.title}),o.jsx("div",{className:"space-y-1",children:G.map(J=>o.jsxs(pye,{to:J.to,onClick:()=>c(!1),className:({isActive:B})=>ia("flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm font-medium transition-all group",B?"bg-brand-primary/10 text-brand-primary":"text-text-secondary hover:bg-bg-hover hover:text-text-primary"),children:[o.jsx(J.icon,{size:18,className:ia("transition-colors","group-hover:text-current")}),J.label]},J.to))})]},V.title)})}),o.jsxs("div",{className:"p-4 border-t border-border space-y-4",children:[o.jsx("div",{className:"space-y-2"}),o.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary text-sm w-full px-4 py-2 rounded-lg hover:bg-bg-hover transition-colors",children:[n==="dark"?o.jsx(ZZ,{size:18}):o.jsx(Tbe,{size:18}),o.jsx("span",{children:n==="dark"?"Light Mode":"Dark Mode"})]})]})]}),l&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>c(!1)}),o.jsxs("div",{className:"flex-1 flex flex-col h-[calc(100vh-64px)] md:h-screen overflow-hidden",children:[o.jsxs("header",{className:"hidden md:flex bg-bg-sidebar border-b border-border h-16 px-8 items-center justify-between sticky top-0 z-10",style:{zIndex:999},children:[o.jsxs("div",{className:"flex items-center gap-2 text-text-secondary text-sm",children:[o.jsx("span",{className:"text-text-muted",children:"Home"}),N().map((V,G)=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wo,{size:16}),V.to&&G!==N().length-1?o.jsx(_b,{to:V.to,className:"text-text-muted hover:text-text-primary transition-colors cursor-pointer hover:underline",children:V.label}):o.jsx("span",{className:G===N().length-1?"font-medium text-text-primary":"text-text-muted",children:V.label})]},G))]}),o.jsxs("div",{className:"flex items-center gap-4",children:[v.some(V=>V.to==="/social")&&(!(e!=null&&e.tenantId)||typeof e.tenantId=="string"||!e.tenantId.limits||((Y=(z=e.tenantId.limits)==null?void 0:z.enabledModules)==null?void 0:Y.includes("social")))&&o.jsx(en,{content:"Social Wall",children:o.jsxs("button",{onClick:()=>{i(),p("/social")},className:"relative p-2 text-text-secondary hover:text-brand-primary hover:bg-bg-hover rounded-full transition-colors",children:[o.jsx(v_,{size:20}),s>0&&o.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full border border-white"})]})}),o.jsx(yH,{}),o.jsxs("div",{className:"relative",ref:h,children:[o.jsx(en,{content:"User Profile",children:o.jsxs("button",{onClick:()=>u(!d),className:"flex items-center gap-3 pl-4 border-l border-border hover:opacity-80 transition-opacity",children:[o.jsxs("div",{className:"text-right hidden md:block",children:[o.jsx("p",{className:"text-sm font-medium text-text-primary",children:e==null?void 0:e.name}),o.jsx("p",{className:"text-xs text-text-muted",children:e==null?void 0:e.designation})]}),o.jsx(Ac,{src:e==null?void 0:e.avatar,name:e==null?void 0:e.name,alt:e==null?void 0:e.name,size:"md"})]})}),d&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-bg-card rounded-lg shadow-lg border border-border py-1 z-20",children:[o.jsxs("div",{className:"px-4 py-2 border-b border-border md:hidden",children:[o.jsx("p",{className:"text-sm font-medium text-text-primary",children:e==null?void 0:e.name}),o.jsx("p",{className:"text-xs text-text-muted",children:e==null?void 0:e.designation})]}),(e==null?void 0:e.role)!=="Super Admin"&&(e==null?void 0:e.role)!=="CEO"&&o.jsxs("button",{onClick:()=>{u(!1),p("/profile")},className:"w-full px-4 py-2 text-left text-sm text-text-primary hover:bg-bg-hover flex items-center gap-2",children:[o.jsx(oH,{size:16}),"My Profile"]}),o.jsxs("button",{onClick:()=>{t(),u(!1),p("/login",{replace:!0})},className:"w-full px-4 py-2 text-left text-sm text-status-error hover:bg-bg-hover flex items-center gap-2",children:[o.jsx(Iu,{size:16}),"Logout"]})]})})]})]})]}),o.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto",children:o.jsx("div",{className:"max-w-8xl mx-auto",children:o.jsx(OZ,{})})})]}),((X=e==null?void 0:e.accessibleModules)==null?void 0:X.includes("ai_chatbot"))&&o.jsx(_2e,{}),((e==null?void 0:e.role)==="Admin"||(e==null?void 0:e.role)==="HR")&&o.jsx(A2e,{})]})}function R2e(){return o.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:[o.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:[o.jsx("header",{className:"bg-white border-b border-gray-100 p-6 flex items-center justify-center",children:o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-transparent",children:"NeointeractionHR"})}),o.jsx("main",{className:"p-0",children:o.jsx(OZ,{})})]}),o.jsxs("footer",{className:"mt-8 text-center text-sm text-gray-500",children:[" ",new Date().getFullYear()," Neointeraction Design. All rights reserved."]})]})}function Ab({size:e=24,className:t,variant:r="primary"}){const n={primary:"text-brand-primary",secondary:"text-text-secondary",white:"text-white",muted:"text-text-muted"};return o.jsx(Vn,{size:e,className:ia("animate-spin",n[r],t)})}const dt=({children:e,className:t="",variant:r="primary",size:n="md",isLoading:a=!1,leftIcon:s,rightIcon:i,disabled:l,...c})=>{const d="inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-brand-primary text-white hover:bg-brand-secondary focus:ring-brand-primary shadow-lg shadow-brand-primary/20",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500 dark:bg-gray-800 dark:text-gray-100 dark:hover:bg-gray-700",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",outline:"border border-gray-300 bg-transparent hover:bg-gray-50 text-gray-700 focus:ring-brand-primary dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800",ghost:"bg-transparent hover:bg-gray-100 text-gray-700 focus:ring-gray-500 dark:text-gray-300 dark:hover:bg-gray-800",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",warning:"bg-yellow-500 text-white hover:bg-yellow-600 focus:ring-yellow-500"},f={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return o.jsxs("button",{className:`${d} ${u[r]} ${f[n]} ${t}`,disabled:l||a,...c,children:[a&&o.jsx(Ab,{size:16,className:"mr-2",variant:"white"}),!a&&s&&o.jsx("span",{className:"mr-2",children:s}),e,!a&&i&&o.jsx("span",{className:"ml-2",children:i})]})},jl=b.forwardRef(({label:e,error:t,helperText:r,className:n="",id:a,rows:s=3,...i},l)=>{const c=a||i.name||Math.random().toString(36).substr(2,9);return o.jsxs("div",{className:"w-full",children:[e&&o.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-text-secondary mb-1",children:e}),o.jsx("textarea",{ref:l,id:c,rows:s,className:`
          w-full rounded-lg border bg-bg-card px-3 py-2 text-sm text-text-primary placeholder-text-muted
          ${t?"border-status-error focus:ring-status-error":"border-border focus:ring-brand-primary"}
          focus:outline-none focus:ring-2 focus:border-transparent
          disabled:bg-bg-main disabled:text-text-muted
          ${n}
        `,...i}),t&&o.jsx("p",{className:"mt-1 text-xs text-status-error",children:t}),!t&&r&&o.jsx("p",{className:"mt-1 text-xs text-text-muted",children:r})]})});jl.displayName="Textarea";function L2e(){const{token:e}=C4(),t=vs(),[r,n]=b.useState(!0),[a,s]=b.useState(""),[i,l]=b.useState(""),[c,d]=b.useState(1),[u,f]=b.useState(!1),[p,h]=b.useState(!1),[m,g]=b.useState([]),[x,y]=b.useState({firstName:"",lastName:"",personalEmail:"",mobile:"",dob:"",address:"",pan:"",aadhaar:"",bankDetails:{accountName:"",accountNumber:"",bankName:"",ifscCode:""}});b.useEffect(()=>{(async()=>{var _;try{const S=await fetch(`${Oe}/onboarding/validate/${e}`);if(!S.ok)throw new Error("Invalid or expired link");const k=await S.json();l(k.firstName),y(A=>{var O,D,M,I;return{...A,firstName:k.firstName,lastName:k.lastName,personalEmail:k.email,mobile:k.personalMobile||"",dob:k.dateOfBirth?new Date(k.dateOfBirth).toISOString().split("T")[0]:"",address:k.presentAddress||"",pan:k.pan||"",aadhaar:k.aadhaar||"",bankDetails:{accountName:((O=k.bankDetails)==null?void 0:O.accountName)||"",accountNumber:((D=k.bankDetails)==null?void 0:D.accountNumber)||"",bankName:((M=k.bankDetails)==null?void 0:M.bankName)||"",ifscCode:((I=k.bankDetails)==null?void 0:I.ifscCode)||""}}}),(_=k.onboarding)!=null&&_.documents&&g(k.onboarding.documents),n(!1)}catch(S){s(S.message),n(!1)}})()},[e]);const v=async(C,_)=>{var A;const S=(A=C.target.files)==null?void 0:A[0];if(!S)return;h(!0);const k=new FormData;k.append("file",S),_&&k.append("docName",_);try{const O=await fetch(`${Oe}/onboarding/upload/${e}`,{method:"POST",body:k});if(!O.ok)throw new Error("Upload failed");const D=await O.json();g(D.documents)}catch(O){alert("Upload failed: "+O.message)}finally{h(!1)}},w=async(C,_,S=!1)=>{f(!0);try{if(!(await fetch(`${Oe}/onboarding/save/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({step:C,data:_,isFinalSubmission:S})})).ok)throw new Error("Failed to save");d(S?5:A=>A+1)}catch(k){alert(k.message)}finally{f(!1)}},N=[{id:1,label:"Personal",icon:yo},{id:2,label:"Documents",icon:xn},{id:3,label:"Bank Details",icon:$g},{id:4,label:"Review",icon:In}];return r?o.jsxs("div",{className:"flex h-96 items-center justify-center flex-col gap-4",children:[o.jsx(Vn,{className:"animate-spin text-violet-600",size:40}),o.jsx("p",{className:"text-gray-500",children:"Loading your profile..."})]}):a?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"bg-red-50 text-red-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ta,{size:32})}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:a})]}):c===5?o.jsxs("div",{className:"text-center py-12 space-y-6 animate-in fade-in zoom-in duration-500",children:[o.jsx("div",{className:"bg-green-100 text-green-600 w-24 h-24 rounded-full flex items-center justify-center mx-auto shadow-lg shadow-green-100",children:o.jsx(In,{size:48})}),o.jsxs("div",{children:[o.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:["All Set, ",x.firstName,"!"]}),o.jsx("p",{className:"text-gray-500 max-w-md mx-auto text-lg",children:"Your onboarding information has been submitted securely. Our HR team will review your profile and approve your account shortly."})]}),o.jsx("div",{className:"pt-8",children:o.jsx(dt,{onClick:()=>t("/login"),variant:"outline",className:"mx-auto",children:"Go to Login Page"})})]}):o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"text-center mb-10 pt-8",children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Welcome aboard, ",i," "]}),o.jsx("p",{className:"text-gray-500",children:"Complete these few steps to set up your employee profile."})]}),o.jsxs("div",{className:"mb-12 relative px-4",children:[o.jsx("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-gray-100 -z-10 -translate-y-1/2 rounded-full"}),o.jsx("div",{className:"absolute top-1/2 left-0 h-1 bg-violet-600 -z-10 -translate-y-1/2 rounded-full transition-all duration-500 ease-in-out",style:{width:`${(c-1)/(N.length-1)*100}%`}}),o.jsx("div",{className:"flex justify-between items-center max-w-3xl mx-auto",children:N.map(C=>{const _=C.icon,S=C.id===c,k=C.id<c;return o.jsxs("div",{className:"flex flex-col items-center group cursor-default",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300 border-4 ${S?"bg-violet-600 text-white border-violet-100 shadow-lg shadow-violet-200 scale-110":k?"bg-violet-600 text-white border-white":"bg-white text-gray-400 border-gray-100"}`,children:k?o.jsx(In,{size:18}):o.jsx(_,{size:18})}),o.jsx("span",{className:`text-xs mt-2 font-medium transition-colors ${S?"text-violet-700":k?"text-gray-600":"text-gray-400"}`,children:C.label})]},C.id)})})]}),o.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-2xl p-1 md:p-4",children:[c===1&&o.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-8 duration-300",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(ft,{label:"First Name",value:x.firstName,disabled:!0,className:"bg-gray-50"}),o.jsx(ft,{label:"Last Name",value:x.lastName,disabled:!0,className:"bg-gray-50"}),o.jsx(ft,{label:"Date of Birth",type:"date",value:x.dob,onChange:C=>y({...x,dob:C.target.value})}),o.jsx(ft,{label:"Mobile Number",type:"tel",value:x.mobile,onChange:C=>y({...x,mobile:C.target.value}),placeholder:"+91 98765 43210"}),o.jsx("div",{className:"col-span-1 md:col-span-2",children:o.jsx(jl,{label:"Current Residential Address",value:x.address,onChange:C=>y({...x,address:C.target.value}),placeholder:"Street address, City, State, Zip Code",rows:3})})]}),o.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100",children:o.jsxs(dt,{onClick:()=>w(1,x),children:["Next Step ",o.jsx(Wo,{size:18,className:"ml-2"})]})})]}),c===2&&o.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-8 duration-300",children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-100 text-blue-700 p-4 rounded-xl flex gap-3 items-start",children:[o.jsx(ta,{size:20,className:"shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-semibold mb-1",children:"Required Documents"}),o.jsx("p",{children:"Please upload clear scanned copies of your Aadhar Card, PAN Card, and Highest Education Certificate."})]})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-200 hover:border-violet-400 hover:bg-violet-50/30 rounded-2xl p-10 flex flex-col items-center justify-center text-center transition-all cursor-pointer relative group",children:[o.jsx("input",{type:"file",onChange:v,className:"absolute inset-0 opacity-0 cursor-pointer z-20",disabled:p}),o.jsx("div",{className:"w-16 h-16 bg-violet-100 text-violet-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:p?o.jsx(Vn,{className:"animate-spin",size:32}):o.jsx(Sl,{size:32})}),o.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-1",children:p?"Uploading...":"Click to upload or drag files here"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Supported: PDF, JPG, PNG (Max 5MB)"})]}),m.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Uploaded Files"}),o.jsx("div",{className:"grid grid-cols-1 gap-3",children:m.map((C,_)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-100 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(xn,{size:18,className:"text-violet-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:C.name})]}),o.jsx("span",{className:"text-xs text-green-600 font-medium px-2 py-1 bg-green-100 rounded-full",children:"Uploaded"})]},_))})]}),o.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-100",children:[o.jsxs(dt,{variant:"outline",onClick:()=>d(1),children:[o.jsx(wi,{size:18,className:"mr-2"})," Back"]}),o.jsxs(dt,{onClick:()=>w(2,{documents:m}),children:["Next Step ",o.jsx(Wo,{size:18,className:"ml-2"})]})]})]}),c===3&&o.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-8 duration-300",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(ft,{label:"Bank Account Number",value:x.bankDetails.accountNumber,onChange:C=>y(_=>({..._,bankDetails:{..._.bankDetails,accountNumber:C.target.value}})),placeholder:"Enter full account number"}),o.jsx(ft,{label:"IFSC Code",value:x.bankDetails.ifscCode,onChange:C=>y(_=>({..._,bankDetails:{..._.bankDetails,ifscCode:C.target.value.toUpperCase()}})),placeholder:"e.g. HDFC0001234"}),o.jsx(ft,{label:"Bank Name",value:x.bankDetails.bankName,onChange:C=>y(_=>({..._,bankDetails:{..._.bankDetails,bankName:C.target.value}})),placeholder:"e.g. HDFC Bank"}),o.jsx(ft,{label:"Account Holder Name",value:x.bankDetails.accountName,onChange:C=>y(_=>({..._,bankDetails:{..._.bankDetails,accountName:C.target.value}})),placeholder:"As per bank records"})]}),o.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-100",children:[o.jsxs(dt,{variant:"outline",onClick:()=>d(2),children:[o.jsx(wi,{size:18,className:"mr-2"})," Back"]}),o.jsxs(dt,{onClick:()=>w(3,{bankDetails:x.bankDetails}),children:["Next Step ",o.jsx(Wo,{size:18,className:"ml-2"})]})]})]}),c===4&&o.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-8 duration-300",children:[o.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-100 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 border-b border-gray-200 pb-2 mb-3",children:"Personal Details"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 block",children:"Name"})," ",x.firstName," ",x.lastName]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 block",children:"DOB"})," ",x.dob||"-"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 block",children:"Mobile"})," ",x.mobile||"-"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 block",children:"Address"})," ",o.jsx("span",{className:"truncate block",children:x.address||"-"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 border-b border-gray-200 pb-2 mb-3",children:"Bank Details"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 block",children:"Bank"})," ",x.bankDetails.bankName||"-"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 block",children:"Account No"})," ",x.bankDetails.accountNumber||"-"]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 border-b border-gray-200 pb-2 mb-3",children:"Documents"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[m.length," files uploaded"]})]})]}),o.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-100",children:[o.jsxs(dt,{variant:"outline",onClick:()=>d(3),children:[o.jsx(wi,{size:18,className:"mr-2"})," Back"]}),o.jsxs(dt,{onClick:()=>w(4,{},!0),className:"bg-green-600 hover:bg-green-700 shadow-lg shadow-green-200",disabled:u,children:[u?o.jsx(Vn,{className:"animate-spin",size:18}):o.jsx(zm,{size:18,className:"mr-2"}),"Submit Onboarding"]})]})]})]})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function I2e(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function Zp(e,t){return typeof e=="function"?e(t):e}function Ec(e,t){return r=>{t.setState(n=>({...n,[e]:Zp(r,n[e])}))}}function T4(e){return e instanceof Function}function F2e(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function z2e(e,t){const r=[],n=a=>{a.forEach(s=>{r.push(s);const i=t(s);i!=null&&i.length&&n(i)})};return n(e),r}function fr(e,t,r){let n=[],a;return s=>{let i;r.key&&r.debug&&(i=Date.now());const l=e(s);if(!(l.length!==n.length||l.some((u,f)=>n[f]!==u)))return a;n=l;let d;if(r.key&&r.debug&&(d=Date.now()),a=t(...l),r==null||r.onChange==null||r.onChange(a),r.key&&r.debug&&r!=null&&r.debug()){const u=Math.round((Date.now()-i)*100)/100,f=Math.round((Date.now()-d)*100)/100,p=f/16,h=(m,g)=>{for(m=String(m);m.length<g;)m=" "+m;return m};console.info(`%c ${h(f,5)} /${h(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,r==null?void 0:r.key)}return a}}function hr(e,t,r,n){return{debug:()=>{var a;return(a=e==null?void 0:e.debugAll)!=null?a:e[t]},key:!1,onChange:n}}function B2e(e,t,r,n){const a=()=>{var i;return(i=s.getValue())!=null?i:e.options.renderFallbackValue},s={id:`${t.id}_${r.id}`,row:t,column:r,getValue:()=>t.getValue(n),renderValue:a,getContext:fr(()=>[e,r,t,s],(i,l,c,d)=>({table:i,column:l,row:c,cell:d,getValue:d.getValue,renderValue:d.renderValue}),hr(e.options,"debugCells"))};return e._features.forEach(i=>{i.createCell==null||i.createCell(s,r,t,e)},{}),s}function H2e(e,t,r,n){var a,s;const l={...e._getDefaultColumnDef(),...t},c=l.accessorKey;let d=(a=(s=l.id)!=null?s:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?a:typeof l.header=="string"?l.header:void 0,u;if(l.accessorFn?u=l.accessorFn:c&&(c.includes(".")?u=p=>{let h=p;for(const g of c.split(".")){var m;h=(m=h)==null?void 0:m[g]}return h}:u=p=>p[l.accessorKey]),!d)throw new Error;let f={id:`${String(d)}`,accessorFn:u,parent:n,depth:r,columnDef:l,columns:[],getFlatColumns:fr(()=>[!0],()=>{var p;return[f,...(p=f.columns)==null?void 0:p.flatMap(h=>h.getFlatColumns())]},hr(e.options,"debugColumns")),getLeafColumns:fr(()=>[e._getOrderColumnsFn()],p=>{var h;if((h=f.columns)!=null&&h.length){let m=f.columns.flatMap(g=>g.getLeafColumns());return p(m)}return[f]},hr(e.options,"debugColumns"))};for(const p of e._features)p.createColumn==null||p.createColumn(f,e);return f}const no="debugHeaders";function bH(e,t,r){var n;let s={id:(n=r.id)!=null?n:t.id,column:t,index:r.index,isPlaceholder:!!r.isPlaceholder,placeholderId:r.placeholderId,depth:r.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const i=[],l=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(l),i.push(c)};return l(s),i},getContext:()=>({table:e,header:s,column:t})};return e._features.forEach(i=>{i.createHeader==null||i.createHeader(s,e)}),s}const $2e={createTable:e=>{e.getHeaderGroups=fr(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n,a)=>{var s,i;const l=(s=n==null?void 0:n.map(f=>r.find(p=>p.id===f)).filter(Boolean))!=null?s:[],c=(i=a==null?void 0:a.map(f=>r.find(p=>p.id===f)).filter(Boolean))!=null?i:[],d=r.filter(f=>!(n!=null&&n.includes(f.id))&&!(a!=null&&a.includes(f.id)));return Fj(t,[...l,...d,...c],e)},hr(e.options,no)),e.getCenterHeaderGroups=fr(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n,a)=>(r=r.filter(s=>!(n!=null&&n.includes(s.id))&&!(a!=null&&a.includes(s.id))),Fj(t,r,e,"center")),hr(e.options,no)),e.getLeftHeaderGroups=fr(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,r,n)=>{var a;const s=(a=n==null?void 0:n.map(i=>r.find(l=>l.id===i)).filter(Boolean))!=null?a:[];return Fj(t,s,e,"left")},hr(e.options,no)),e.getRightHeaderGroups=fr(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,r,n)=>{var a;const s=(a=n==null?void 0:n.map(i=>r.find(l=>l.id===i)).filter(Boolean))!=null?a:[];return Fj(t,s,e,"right")},hr(e.options,no)),e.getFooterGroups=fr(()=>[e.getHeaderGroups()],t=>[...t].reverse(),hr(e.options,no)),e.getLeftFooterGroups=fr(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),hr(e.options,no)),e.getCenterFooterGroups=fr(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),hr(e.options,no)),e.getRightFooterGroups=fr(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),hr(e.options,no)),e.getFlatHeaders=fr(()=>[e.getHeaderGroups()],t=>t.map(r=>r.headers).flat(),hr(e.options,no)),e.getLeftFlatHeaders=fr(()=>[e.getLeftHeaderGroups()],t=>t.map(r=>r.headers).flat(),hr(e.options,no)),e.getCenterFlatHeaders=fr(()=>[e.getCenterHeaderGroups()],t=>t.map(r=>r.headers).flat(),hr(e.options,no)),e.getRightFlatHeaders=fr(()=>[e.getRightHeaderGroups()],t=>t.map(r=>r.headers).flat(),hr(e.options,no)),e.getCenterLeafHeaders=fr(()=>[e.getCenterFlatHeaders()],t=>t.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),hr(e.options,no)),e.getLeftLeafHeaders=fr(()=>[e.getLeftFlatHeaders()],t=>t.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),hr(e.options,no)),e.getRightLeafHeaders=fr(()=>[e.getRightFlatHeaders()],t=>t.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),hr(e.options,no)),e.getLeafHeaders=fr(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,r,n)=>{var a,s,i,l,c,d;return[...(a=(s=t[0])==null?void 0:s.headers)!=null?a:[],...(i=(l=r[0])==null?void 0:l.headers)!=null?i:[],...(c=(d=n[0])==null?void 0:d.headers)!=null?c:[]].map(u=>u.getLeafHeaders()).flat()},hr(e.options,no))}};function Fj(e,t,r,n){var a,s;let i=0;const l=function(p,h){h===void 0&&(h=1),i=Math.max(i,h),p.filter(m=>m.getIsVisible()).forEach(m=>{var g;(g=m.columns)!=null&&g.length&&l(m.columns,h+1)},0)};l(e);let c=[];const d=(p,h)=>{const m={depth:h,id:[n,`${h}`].filter(Boolean).join("_"),headers:[]},g=[];p.forEach(x=>{const y=[...g].reverse()[0],v=x.column.depth===m.depth;let w,N=!1;if(v&&x.column.parent?w=x.column.parent:(w=x.column,N=!0),y&&(y==null?void 0:y.column)===w)y.subHeaders.push(x);else{const C=bH(r,w,{id:[n,h,w.id,x==null?void 0:x.id].filter(Boolean).join("_"),isPlaceholder:N,placeholderId:N?`${g.filter(_=>_.column===w).length}`:void 0,depth:h,index:g.length});C.subHeaders.push(x),g.push(C)}m.headers.push(x),x.headerGroup=m}),c.push(m),h>0&&d(g,h-1)},u=t.map((p,h)=>bH(r,p,{depth:i,index:h}));d(u,i-1),c.reverse();const f=p=>p.filter(m=>m.column.getIsVisible()).map(m=>{let g=0,x=0,y=[0];m.subHeaders&&m.subHeaders.length?(y=[],f(m.subHeaders).forEach(w=>{let{colSpan:N,rowSpan:C}=w;g+=N,y.push(C)})):g=1;const v=Math.min(...y);return x=x+v,m.colSpan=g,m.rowSpan=x,{colSpan:g,rowSpan:x}});return f((a=(s=c[0])==null?void 0:s.headers)!=null?a:[]),c}const oL=(e,t,r,n,a,s,i)=>{let l={id:t,index:n,original:r,depth:a,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(l._valuesCache.hasOwnProperty(c))return l._valuesCache[c];const d=e.getColumn(c);if(d!=null&&d.accessorFn)return l._valuesCache[c]=d.accessorFn(l.original,n),l._valuesCache[c]},getUniqueValues:c=>{if(l._uniqueValuesCache.hasOwnProperty(c))return l._uniqueValuesCache[c];const d=e.getColumn(c);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(l._uniqueValuesCache[c]=d.columnDef.getUniqueValues(l.original,n),l._uniqueValuesCache[c]):(l._uniqueValuesCache[c]=[l.getValue(c)],l._uniqueValuesCache[c])},renderValue:c=>{var d;return(d=l.getValue(c))!=null?d:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>z2e(l.subRows,c=>c.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let c=[],d=l;for(;;){const u=d.getParentRow();if(!u)break;c.push(u),d=u}return c.reverse()},getAllCells:fr(()=>[e.getAllLeafColumns()],c=>c.map(d=>B2e(e,l,d,d.id)),hr(e.options,"debugRows")),_getAllCellsByColumnId:fr(()=>[l.getAllCells()],c=>c.reduce((d,u)=>(d[u.column.id]=u,d),{}),hr(e.options,"debugRows"))};for(let c=0;c<e._features.length;c++){const d=e._features[c];d==null||d.createRow==null||d.createRow(l,e)}return l},U2e={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},vee=(e,t,r)=>{var n,a;const s=r==null||(n=r.toString())==null?void 0:n.toLowerCase();return!!(!((a=e.getValue(t))==null||(a=a.toString())==null||(a=a.toLowerCase())==null)&&a.includes(s))};vee.autoRemove=e=>Zd(e);const bee=(e,t,r)=>{var n;return!!(!((n=e.getValue(t))==null||(n=n.toString())==null)&&n.includes(r))};bee.autoRemove=e=>Zd(e);const wee=(e,t,r)=>{var n;return((n=e.getValue(t))==null||(n=n.toString())==null?void 0:n.toLowerCase())===(r==null?void 0:r.toLowerCase())};wee.autoRemove=e=>Zd(e);const Nee=(e,t,r)=>{var n;return(n=e.getValue(t))==null?void 0:n.includes(r)};Nee.autoRemove=e=>Zd(e);const See=(e,t,r)=>!r.some(n=>{var a;return!((a=e.getValue(t))!=null&&a.includes(n))});See.autoRemove=e=>Zd(e)||!(e!=null&&e.length);const jee=(e,t,r)=>r.some(n=>{var a;return(a=e.getValue(t))==null?void 0:a.includes(n)});jee.autoRemove=e=>Zd(e)||!(e!=null&&e.length);const _ee=(e,t,r)=>e.getValue(t)===r;_ee.autoRemove=e=>Zd(e);const kee=(e,t,r)=>e.getValue(t)==r;kee.autoRemove=e=>Zd(e);const lL=(e,t,r)=>{let[n,a]=r;const s=e.getValue(t);return s>=n&&s<=a};lL.resolveFilterValue=e=>{let[t,r]=e,n=typeof t!="number"?parseFloat(t):t,a=typeof r!="number"?parseFloat(r):r,s=t===null||Number.isNaN(n)?-1/0:n,i=r===null||Number.isNaN(a)?1/0:a;if(s>i){const l=s;s=i,i=l}return[s,i]};lL.autoRemove=e=>Zd(e)||Zd(e[0])&&Zd(e[1]);const Wf={includesString:vee,includesStringSensitive:bee,equalsString:wee,arrIncludes:Nee,arrIncludesAll:See,arrIncludesSome:jee,equals:_ee,weakEquals:kee,inNumberRange:lL};function Zd(e){return e==null||e===""}const V2e={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Ec("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const r=t.getCoreRowModel().flatRows[0],n=r==null?void 0:r.getValue(e.id);return typeof n=="string"?Wf.includesString:typeof n=="number"?Wf.inNumberRange:typeof n=="boolean"||n!==null&&typeof n=="object"?Wf.equals:Array.isArray(n)?Wf.arrIncludes:Wf.weakEquals},e.getFilterFn=()=>{var r,n;return T4(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(r=(n=t.options.filterFns)==null?void 0:n[e.columnDef.filterFn])!=null?r:Wf[e.columnDef.filterFn]},e.getCanFilter=()=>{var r,n,a;return((r=e.columnDef.enableColumnFilter)!=null?r:!0)&&((n=t.options.enableColumnFilters)!=null?n:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var r;return(r=t.getState().columnFilters)==null||(r=r.find(n=>n.id===e.id))==null?void 0:r.value},e.getFilterIndex=()=>{var r,n;return(r=(n=t.getState().columnFilters)==null?void 0:n.findIndex(a=>a.id===e.id))!=null?r:-1},e.setFilterValue=r=>{t.setColumnFilters(n=>{const a=e.getFilterFn(),s=n==null?void 0:n.find(u=>u.id===e.id),i=Zp(r,s?s.value:void 0);if(wH(a,i,e)){var l;return(l=n==null?void 0:n.filter(u=>u.id!==e.id))!=null?l:[]}const c={id:e.id,value:i};if(s){var d;return(d=n==null?void 0:n.map(u=>u.id===e.id?c:u))!=null?d:[]}return n!=null&&n.length?[...n,c]:[c]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const r=e.getAllLeafColumns(),n=a=>{var s;return(s=Zp(t,a))==null?void 0:s.filter(i=>{const l=r.find(c=>c.id===i.id);if(l){const c=l.getFilterFn();if(wH(c,i.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(n)},e.resetColumnFilters=t=>{var r,n;e.setColumnFilters(t?[]:(r=(n=e.initialState)==null?void 0:n.columnFilters)!=null?r:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function wH(e,t,r){return(e&&e.autoRemove?e.autoRemove(t,r):!1)||typeof t>"u"||typeof t=="string"&&!t}const q2e=(e,t,r)=>r.reduce((n,a)=>{const s=a.getValue(e);return n+(typeof s=="number"?s:0)},0),W2e=(e,t,r)=>{let n;return r.forEach(a=>{const s=a.getValue(e);s!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}),n},Y2e=(e,t,r)=>{let n;return r.forEach(a=>{const s=a.getValue(e);s!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}),n},G2e=(e,t,r)=>{let n,a;return r.forEach(s=>{const i=s.getValue(e);i!=null&&(n===void 0?i>=i&&(n=a=i):(n>i&&(n=i),a<i&&(a=i)))}),[n,a]},K2e=(e,t)=>{let r=0,n=0;if(t.forEach(a=>{let s=a.getValue(e);s!=null&&(s=+s)>=s&&(++r,n+=s)}),r)return n/r},X2e=(e,t)=>{if(!t.length)return;const r=t.map(s=>s.getValue(e));if(!F2e(r))return;if(r.length===1)return r[0];const n=Math.floor(r.length/2),a=r.sort((s,i)=>s-i);return r.length%2!==0?a[n]:(a[n-1]+a[n])/2},J2e=(e,t)=>Array.from(new Set(t.map(r=>r.getValue(e))).values()),Q2e=(e,t)=>new Set(t.map(r=>r.getValue(e))).size,Z2e=(e,t)=>t.length,VT={sum:q2e,min:W2e,max:Y2e,extent:G2e,mean:K2e,median:X2e,unique:J2e,uniqueCount:Q2e,count:Z2e},ewe={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,r;return(t=(r=e.getValue())==null||r.toString==null?void 0:r.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Ec("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(r=>r!=null&&r.includes(e.id)?r.filter(n=>n!==e.id):[...r??[],e.id])},e.getCanGroup=()=>{var r,n;return((r=e.columnDef.enableGrouping)!=null?r:!0)&&((n=t.options.enableGrouping)!=null?n:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var r;return(r=t.getState().grouping)==null?void 0:r.includes(e.id)},e.getGroupedIndex=()=>{var r;return(r=t.getState().grouping)==null?void 0:r.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const r=e.getCanGroup();return()=>{r&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const r=t.getCoreRowModel().flatRows[0],n=r==null?void 0:r.getValue(e.id);if(typeof n=="number")return VT.sum;if(Object.prototype.toString.call(n)==="[object Date]")return VT.extent},e.getAggregationFn=()=>{var r,n;if(!e)throw new Error;return T4(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(r=(n=t.options.aggregationFns)==null?void 0:n[e.columnDef.aggregationFn])!=null?r:VT[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var r,n;e.setGrouping(t?[]:(r=(n=e.initialState)==null?void 0:n.grouping)!=null?r:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=r=>{if(e._groupingValuesCache.hasOwnProperty(r))return e._groupingValuesCache[r];const n=t.getColumn(r);return n!=null&&n.columnDef.getGroupingValue?(e._groupingValuesCache[r]=n.columnDef.getGroupingValue(e.original),e._groupingValuesCache[r]):e.getValue(r)},e._groupingValuesCache={}},createCell:(e,t,r,n)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===r.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var a;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((a=r.subRows)!=null&&a.length)}}};function twe(e,t,r){if(!(t!=null&&t.length)||!r)return e;const n=e.filter(s=>!t.includes(s.id));return r==="remove"?n:[...t.map(s=>e.find(i=>i.id===s)).filter(Boolean),...n]}const rwe={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Ec("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=fr(r=>[I2(t,r)],r=>r.findIndex(n=>n.id===e.id),hr(t.options,"debugColumns")),e.getIsFirstColumn=r=>{var n;return((n=I2(t,r)[0])==null?void 0:n.id)===e.id},e.getIsLastColumn=r=>{var n;const a=I2(t,r);return((n=a[a.length-1])==null?void 0:n.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var r;e.setColumnOrder(t?[]:(r=e.initialState.columnOrder)!=null?r:[])},e._getOrderColumnsFn=fr(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,r,n)=>a=>{let s=[];if(!(t!=null&&t.length))s=a;else{const i=[...t],l=[...a];for(;l.length&&i.length;){const c=i.shift(),d=l.findIndex(u=>u.id===c);d>-1&&s.push(l.splice(d,1)[0])}s=[...s,...l]}return twe(s,r,n)},hr(e.options,"debugTable"))}},qT=()=>({left:[],right:[]}),nwe={getInitialState:e=>({columnPinning:qT(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Ec("columnPinning",e)}),createColumn:(e,t)=>{e.pin=r=>{const n=e.getLeafColumns().map(a=>a.id).filter(Boolean);t.setColumnPinning(a=>{var s,i;if(r==="right"){var l,c;return{left:((l=a==null?void 0:a.left)!=null?l:[]).filter(f=>!(n!=null&&n.includes(f))),right:[...((c=a==null?void 0:a.right)!=null?c:[]).filter(f=>!(n!=null&&n.includes(f))),...n]}}if(r==="left"){var d,u;return{left:[...((d=a==null?void 0:a.left)!=null?d:[]).filter(f=>!(n!=null&&n.includes(f))),...n],right:((u=a==null?void 0:a.right)!=null?u:[]).filter(f=>!(n!=null&&n.includes(f)))}}return{left:((s=a==null?void 0:a.left)!=null?s:[]).filter(f=>!(n!=null&&n.includes(f))),right:((i=a==null?void 0:a.right)!=null?i:[]).filter(f=>!(n!=null&&n.includes(f)))}})},e.getCanPin=()=>e.getLeafColumns().some(n=>{var a,s,i;return((a=n.columnDef.enablePinning)!=null?a:!0)&&((s=(i=t.options.enableColumnPinning)!=null?i:t.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const r=e.getLeafColumns().map(l=>l.id),{left:n,right:a}=t.getState().columnPinning,s=r.some(l=>n==null?void 0:n.includes(l)),i=r.some(l=>a==null?void 0:a.includes(l));return s?"left":i?"right":!1},e.getPinnedIndex=()=>{var r,n;const a=e.getIsPinned();return a?(r=(n=t.getState().columnPinning)==null||(n=n[a])==null?void 0:n.indexOf(e.id))!=null?r:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=fr(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(r,n,a)=>{const s=[...n??[],...a??[]];return r.filter(i=>!s.includes(i.column.id))},hr(t.options,"debugRows")),e.getLeftVisibleCells=fr(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(r,n)=>(n??[]).map(s=>r.find(i=>i.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),hr(t.options,"debugRows")),e.getRightVisibleCells=fr(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(r,n)=>(n??[]).map(s=>r.find(i=>i.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),hr(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var r,n;return e.setColumnPinning(t?qT():(r=(n=e.initialState)==null?void 0:n.columnPinning)!=null?r:qT())},e.getIsSomeColumnsPinned=t=>{var r;const n=e.getState().columnPinning;if(!t){var a,s;return!!((a=n.left)!=null&&a.length||(s=n.right)!=null&&s.length)}return!!((r=n[t])!=null&&r.length)},e.getLeftLeafColumns=fr(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,r)=>(r??[]).map(n=>t.find(a=>a.id===n)).filter(Boolean),hr(e.options,"debugColumns")),e.getRightLeafColumns=fr(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,r)=>(r??[]).map(n=>t.find(a=>a.id===n)).filter(Boolean),hr(e.options,"debugColumns")),e.getCenterLeafColumns=fr(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n)=>{const a=[...r??[],...n??[]];return t.filter(s=>!a.includes(s.id))},hr(e.options,"debugColumns"))}};function awe(e){return e||(typeof document<"u"?document:null)}const zj={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},WT=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),swe={getDefaultColumnDef:()=>zj,getInitialState:e=>({columnSizing:{},columnSizingInfo:WT(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ec("columnSizing",e),onColumnSizingInfoChange:Ec("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var r,n,a;const s=t.getState().columnSizing[e.id];return Math.min(Math.max((r=e.columnDef.minSize)!=null?r:zj.minSize,(n=s??e.columnDef.size)!=null?n:zj.size),(a=e.columnDef.maxSize)!=null?a:zj.maxSize)},e.getStart=fr(r=>[r,I2(t,r),t.getState().columnSizing],(r,n)=>n.slice(0,e.getIndex(r)).reduce((a,s)=>a+s.getSize(),0),hr(t.options,"debugColumns")),e.getAfter=fr(r=>[r,I2(t,r),t.getState().columnSizing],(r,n)=>n.slice(e.getIndex(r)+1).reduce((a,s)=>a+s.getSize(),0),hr(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(r=>{let{[e.id]:n,...a}=r;return a})},e.getCanResize=()=>{var r,n;return((r=e.columnDef.enableResizing)!=null?r:!0)&&((n=t.options.enableColumnResizing)!=null?n:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let r=0;const n=a=>{if(a.subHeaders.length)a.subHeaders.forEach(n);else{var s;r+=(s=a.column.getSize())!=null?s:0}};return n(e),r},e.getStart=()=>{if(e.index>0){const r=e.headerGroup.headers[e.index-1];return r.getStart()+r.getSize()}return 0},e.getResizeHandler=r=>{const n=t.getColumn(e.column.id),a=n==null?void 0:n.getCanResize();return s=>{if(!n||!a||(s.persist==null||s.persist(),YT(s)&&s.touches&&s.touches.length>1))return;const i=e.getSize(),l=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[n.id,n.getSize()]],c=YT(s)?Math.round(s.touches[0].clientX):s.clientX,d={},u=(y,v)=>{typeof v=="number"&&(t.setColumnSizingInfo(w=>{var N,C;const _=t.options.columnResizeDirection==="rtl"?-1:1,S=(v-((N=w==null?void 0:w.startOffset)!=null?N:0))*_,k=Math.max(S/((C=w==null?void 0:w.startSize)!=null?C:0),-.999999);return w.columnSizingStart.forEach(A=>{let[O,D]=A;d[O]=Math.round(Math.max(D+D*k,0)*100)/100}),{...w,deltaOffset:S,deltaPercentage:k}}),(t.options.columnResizeMode==="onChange"||y==="end")&&t.setColumnSizing(w=>({...w,...d})))},f=y=>u("move",y),p=y=>{u("end",y),t.setColumnSizingInfo(v=>({...v,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=awe(r),m={moveHandler:y=>f(y.clientX),upHandler:y=>{h==null||h.removeEventListener("mousemove",m.moveHandler),h==null||h.removeEventListener("mouseup",m.upHandler),p(y.clientX)}},g={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),f(y.touches[0].clientX),!1),upHandler:y=>{var v;h==null||h.removeEventListener("touchmove",g.moveHandler),h==null||h.removeEventListener("touchend",g.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),p((v=y.touches[0])==null?void 0:v.clientX)}},x=iwe()?{passive:!1}:!1;YT(s)?(h==null||h.addEventListener("touchmove",g.moveHandler,x),h==null||h.addEventListener("touchend",g.upHandler,x)):(h==null||h.addEventListener("mousemove",m.moveHandler,x),h==null||h.addEventListener("mouseup",m.upHandler,x)),t.setColumnSizingInfo(y=>({...y,startOffset:c,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:n.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var r;e.setColumnSizing(t?{}:(r=e.initialState.columnSizing)!=null?r:{})},e.resetHeaderSizeInfo=t=>{var r;e.setColumnSizingInfo(t?WT():(r=e.initialState.columnSizingInfo)!=null?r:WT())},e.getTotalSize=()=>{var t,r;return(t=(r=e.getHeaderGroups()[0])==null?void 0:r.headers.reduce((n,a)=>n+a.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,r;return(t=(r=e.getLeftHeaderGroups()[0])==null?void 0:r.headers.reduce((n,a)=>n+a.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,r;return(t=(r=e.getCenterHeaderGroups()[0])==null?void 0:r.headers.reduce((n,a)=>n+a.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,r;return(t=(r=e.getRightHeaderGroups()[0])==null?void 0:r.headers.reduce((n,a)=>n+a.getSize(),0))!=null?t:0}}};let Bj=null;function iwe(){if(typeof Bj=="boolean")return Bj;let e=!1;try{const t={get passive(){return e=!0,!1}},r=()=>{};window.addEventListener("test",r,t),window.removeEventListener("test",r)}catch{e=!1}return Bj=e,Bj}function YT(e){return e.type==="touchstart"}const owe={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Ec("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=r=>{e.getCanHide()&&t.setColumnVisibility(n=>({...n,[e.id]:r??!e.getIsVisible()}))},e.getIsVisible=()=>{var r,n;const a=e.columns;return(r=a.length?a.some(s=>s.getIsVisible()):(n=t.getState().columnVisibility)==null?void 0:n[e.id])!=null?r:!0},e.getCanHide=()=>{var r,n;return((r=e.columnDef.enableHiding)!=null?r:!0)&&((n=t.options.enableHiding)!=null?n:!0)},e.getToggleVisibilityHandler=()=>r=>{e.toggleVisibility==null||e.toggleVisibility(r.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=fr(()=>[e.getAllCells(),t.getState().columnVisibility],r=>r.filter(n=>n.column.getIsVisible()),hr(t.options,"debugRows")),e.getVisibleCells=fr(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(r,n,a)=>[...r,...n,...a],hr(t.options,"debugRows"))},createTable:e=>{const t=(r,n)=>fr(()=>[n(),n().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),hr(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=r=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(r),e.resetColumnVisibility=r=>{var n;e.setColumnVisibility(r?{}:(n=e.initialState.columnVisibility)!=null?n:{})},e.toggleAllColumnsVisible=r=>{var n;r=(n=r)!=null?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((a,s)=>({...a,[s.id]:r||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(r=>!(r.getIsVisible!=null&&r.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(r=>r.getIsVisible==null?void 0:r.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>r=>{var n;e.toggleAllColumnsVisible((n=r.target)==null?void 0:n.checked)}}};function I2(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const lwe={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},cwe={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Ec("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var r;const n=(r=e.getCoreRowModel().flatRows[0])==null||(r=r._getAllCellsByColumnId()[t.id])==null?void 0:r.getValue();return typeof n=="string"||typeof n=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var r,n,a,s;return((r=e.columnDef.enableGlobalFilter)!=null?r:!0)&&((n=t.options.enableGlobalFilter)!=null?n:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&((s=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Wf.includesString,e.getGlobalFilterFn=()=>{var t,r;const{globalFilterFn:n}=e.options;return T4(n)?n:n==="auto"?e.getGlobalAutoFilterFn():(t=(r=e.options.filterFns)==null?void 0:r[n])!=null?t:Wf[n]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},dwe={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Ec("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,r=!1;e._autoResetExpanded=()=>{var n,a;if(!t){e._queue(()=>{t=!0});return}if((n=(a=e.options.autoResetAll)!=null?a:e.options.autoResetExpanded)!=null?n:!e.options.manualExpanding){if(r)return;r=!0,e._queue(()=>{e.resetExpanded(),r=!1})}},e.setExpanded=n=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(n),e.toggleAllRowsExpanded=n=>{n??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=n=>{var a,s;e.setExpanded(n?{}:(a=(s=e.initialState)==null?void 0:s.expanded)!=null?a:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(n=>n.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>n=>{n.persist==null||n.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const n=e.getState().expanded;return n===!0||Object.values(n).some(Boolean)},e.getIsAllRowsExpanded=()=>{const n=e.getState().expanded;return typeof n=="boolean"?n===!0:!(!Object.keys(n).length||e.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},e.getExpandedDepth=()=>{let n=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const i=s.split(".");n=Math.max(n,i.length)}),n},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=r=>{t.setExpanded(n=>{var a;const s=n===!0?!0:!!(n!=null&&n[e.id]);let i={};if(n===!0?Object.keys(t.getRowModel().rowsById).forEach(l=>{i[l]=!0}):i=n,r=(a=r)!=null?a:!s,!s&&r)return{...i,[e.id]:!0};if(s&&!r){const{[e.id]:l,...c}=i;return c}return n})},e.getIsExpanded=()=>{var r;const n=t.getState().expanded;return!!((r=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?r:n===!0||n!=null&&n[e.id])},e.getCanExpand=()=>{var r,n,a;return(r=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?r:((n=t.options.enableExpanding)!=null?n:!0)&&!!((a=e.subRows)!=null&&a.length)},e.getIsAllParentsExpanded=()=>{let r=!0,n=e;for(;r&&n.parentId;)n=t.getRow(n.parentId,!0),r=n.getIsExpanded();return r},e.getToggleExpandedHandler=()=>{const r=e.getCanExpand();return()=>{r&&e.toggleExpanded()}}}},o6=0,l6=10,GT=()=>({pageIndex:o6,pageSize:l6}),uwe={getInitialState:e=>({...e,pagination:{...GT(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Ec("pagination",e)}),createTable:e=>{let t=!1,r=!1;e._autoResetPageIndex=()=>{var n,a;if(!t){e._queue(()=>{t=!0});return}if((n=(a=e.options.autoResetAll)!=null?a:e.options.autoResetPageIndex)!=null?n:!e.options.manualPagination){if(r)return;r=!0,e._queue(()=>{e.resetPageIndex(),r=!1})}},e.setPagination=n=>{const a=s=>Zp(n,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(a)},e.resetPagination=n=>{var a;e.setPagination(n?GT():(a=e.initialState.pagination)!=null?a:GT())},e.setPageIndex=n=>{e.setPagination(a=>{let s=Zp(n,a.pageIndex);const i=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,i)),{...a,pageIndex:s}})},e.resetPageIndex=n=>{var a,s;e.setPageIndex(n?o6:(a=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?a:o6)},e.resetPageSize=n=>{var a,s;e.setPageSize(n?l6:(a=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?a:l6)},e.setPageSize=n=>{e.setPagination(a=>{const s=Math.max(1,Zp(n,a.pageSize)),i=a.pageSize*a.pageIndex,l=Math.floor(i/s);return{...a,pageIndex:l,pageSize:s}})},e.setPageCount=n=>e.setPagination(a=>{var s;let i=Zp(n,(s=e.options.pageCount)!=null?s:-1);return typeof i=="number"&&(i=Math.max(-1,i)),{...a,pageCount:i}}),e.getPageOptions=fr(()=>[e.getPageCount()],n=>{let a=[];return n&&n>0&&(a=[...new Array(n)].fill(null).map((s,i)=>i)),a},hr(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:n}=e.getState().pagination,a=e.getPageCount();return a===-1?!0:a===0?!1:n<a-1},e.previousPage=()=>e.setPageIndex(n=>n-1),e.nextPage=()=>e.setPageIndex(n=>n+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var n;return(n=e.options.pageCount)!=null?n:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var n;return(n=e.options.rowCount)!=null?n:e.getPrePaginationRowModel().rows.length}}},KT=()=>({top:[],bottom:[]}),fwe={getInitialState:e=>({rowPinning:KT(),...e}),getDefaultOptions:e=>({onRowPinningChange:Ec("rowPinning",e)}),createRow:(e,t)=>{e.pin=(r,n,a)=>{const s=n?e.getLeafRows().map(c=>{let{id:d}=c;return d}):[],i=a?e.getParentRows().map(c=>{let{id:d}=c;return d}):[],l=new Set([...i,e.id,...s]);t.setRowPinning(c=>{var d,u;if(r==="bottom"){var f,p;return{top:((f=c==null?void 0:c.top)!=null?f:[]).filter(g=>!(l!=null&&l.has(g))),bottom:[...((p=c==null?void 0:c.bottom)!=null?p:[]).filter(g=>!(l!=null&&l.has(g))),...Array.from(l)]}}if(r==="top"){var h,m;return{top:[...((h=c==null?void 0:c.top)!=null?h:[]).filter(g=>!(l!=null&&l.has(g))),...Array.from(l)],bottom:((m=c==null?void 0:c.bottom)!=null?m:[]).filter(g=>!(l!=null&&l.has(g)))}}return{top:((d=c==null?void 0:c.top)!=null?d:[]).filter(g=>!(l!=null&&l.has(g))),bottom:((u=c==null?void 0:c.bottom)!=null?u:[]).filter(g=>!(l!=null&&l.has(g)))}})},e.getCanPin=()=>{var r;const{enableRowPinning:n,enablePinning:a}=t.options;return typeof n=="function"?n(e):(r=n??a)!=null?r:!0},e.getIsPinned=()=>{const r=[e.id],{top:n,bottom:a}=t.getState().rowPinning,s=r.some(l=>n==null?void 0:n.includes(l)),i=r.some(l=>a==null?void 0:a.includes(l));return s?"top":i?"bottom":!1},e.getPinnedIndex=()=>{var r,n;const a=e.getIsPinned();if(!a)return-1;const s=(r=a==="top"?t.getTopRows():t.getBottomRows())==null?void 0:r.map(i=>{let{id:l}=i;return l});return(n=s==null?void 0:s.indexOf(e.id))!=null?n:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var r,n;return e.setRowPinning(t?KT():(r=(n=e.initialState)==null?void 0:n.rowPinning)!=null?r:KT())},e.getIsSomeRowsPinned=t=>{var r;const n=e.getState().rowPinning;if(!t){var a,s;return!!((a=n.top)!=null&&a.length||(s=n.bottom)!=null&&s.length)}return!!((r=n[t])!=null&&r.length)},e._getPinnedRows=(t,r,n)=>{var a;return((a=e.options.keepPinnedRows)==null||a?(r??[]).map(i=>{const l=e.getRow(i,!0);return l.getIsAllParentsExpanded()?l:null}):(r??[]).map(i=>t.find(l=>l.id===i))).filter(Boolean).map(i=>({...i,position:n}))},e.getTopRows=fr(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,r)=>e._getPinnedRows(t,r,"top"),hr(e.options,"debugRows")),e.getBottomRows=fr(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,r)=>e._getPinnedRows(t,r,"bottom"),hr(e.options,"debugRows")),e.getCenterRows=fr(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,r,n)=>{const a=new Set([...r??[],...n??[]]);return t.filter(s=>!a.has(s.id))},hr(e.options,"debugRows"))}},hwe={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Ec("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var r;return e.setRowSelection(t?{}:(r=e.initialState.rowSelection)!=null?r:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(r=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const n={...r},a=e.getPreGroupedRowModel().flatRows;return t?a.forEach(s=>{s.getCanSelect()&&(n[s.id]=!0)}):a.forEach(s=>{delete n[s.id]}),n})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(r=>{const n=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),a={...r};return e.getRowModel().rows.forEach(s=>{c6(a,s.id,n,!0,e)}),a}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=fr(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,r)=>Object.keys(t).length?XT(e,r):{rows:[],flatRows:[],rowsById:{}},hr(e.options,"debugTable")),e.getFilteredSelectedRowModel=fr(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,r)=>Object.keys(t).length?XT(e,r):{rows:[],flatRows:[],rowsById:{}},hr(e.options,"debugTable")),e.getGroupedSelectedRowModel=fr(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,r)=>Object.keys(t).length?XT(e,r):{rows:[],flatRows:[],rowsById:{}},hr(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:r}=e.getState();let n=!!(t.length&&Object.keys(r).length);return n&&t.some(a=>a.getCanSelect()&&!r[a.id])&&(n=!1),n},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:r}=e.getState();let n=!!t.length;return n&&t.some(a=>!r[a.id])&&(n=!1),n},e.getIsSomeRowsSelected=()=>{var t;const r=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return r>0&&r<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(r=>r.getCanSelect()).some(r=>r.getIsSelected()||r.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(r,n)=>{const a=e.getIsSelected();t.setRowSelection(s=>{var i;if(r=typeof r<"u"?r:!a,e.getCanSelect()&&a===r)return s;const l={...s};return c6(l,e.id,r,(i=n==null?void 0:n.selectChildren)!=null?i:!0,t),l})},e.getIsSelected=()=>{const{rowSelection:r}=t.getState();return cL(e,r)},e.getIsSomeSelected=()=>{const{rowSelection:r}=t.getState();return d6(e,r)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:r}=t.getState();return d6(e,r)==="all"},e.getCanSelect=()=>{var r;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(r=t.options.enableRowSelection)!=null?r:!0},e.getCanSelectSubRows=()=>{var r;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(r=t.options.enableSubRowSelection)!=null?r:!0},e.getCanMultiSelect=()=>{var r;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(r=t.options.enableMultiRowSelection)!=null?r:!0},e.getToggleSelectedHandler=()=>{const r=e.getCanSelect();return n=>{var a;r&&e.toggleSelected((a=n.target)==null?void 0:a.checked)}}}},c6=(e,t,r,n,a)=>{var s;const i=a.getRow(t,!0);r?(i.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),i.getCanSelect()&&(e[t]=!0)):delete e[t],n&&(s=i.subRows)!=null&&s.length&&i.getCanSelectSubRows()&&i.subRows.forEach(l=>c6(e,l.id,r,n,a))};function XT(e,t){const r=e.getState().rowSelection,n=[],a={},s=function(i,l){return i.map(c=>{var d;const u=cL(c,r);if(u&&(n.push(c),a[c.id]=c),(d=c.subRows)!=null&&d.length&&(c={...c,subRows:s(c.subRows)}),u)return c}).filter(Boolean)};return{rows:s(t.rows),flatRows:n,rowsById:a}}function cL(e,t){var r;return(r=t[e.id])!=null?r:!1}function d6(e,t,r){var n;if(!((n=e.subRows)!=null&&n.length))return!1;let a=!0,s=!1;return e.subRows.forEach(i=>{if(!(s&&!a)&&(i.getCanSelect()&&(cL(i,t)?s=!0:a=!1),i.subRows&&i.subRows.length)){const l=d6(i,t);l==="all"?s=!0:(l==="some"&&(s=!0),a=!1)}}),a?"all":s?"some":!1}const u6=/([0-9]+)/gm,pwe=(e,t,r)=>Cee(Bm(e.getValue(r)).toLowerCase(),Bm(t.getValue(r)).toLowerCase()),mwe=(e,t,r)=>Cee(Bm(e.getValue(r)),Bm(t.getValue(r))),gwe=(e,t,r)=>dL(Bm(e.getValue(r)).toLowerCase(),Bm(t.getValue(r)).toLowerCase()),xwe=(e,t,r)=>dL(Bm(e.getValue(r)),Bm(t.getValue(r))),ywe=(e,t,r)=>{const n=e.getValue(r),a=t.getValue(r);return n>a?1:n<a?-1:0},vwe=(e,t,r)=>dL(e.getValue(r),t.getValue(r));function dL(e,t){return e===t?0:e>t?1:-1}function Bm(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Cee(e,t){const r=e.split(u6).filter(Boolean),n=t.split(u6).filter(Boolean);for(;r.length&&n.length;){const a=r.shift(),s=n.shift(),i=parseInt(a,10),l=parseInt(s,10),c=[i,l].sort();if(isNaN(c[0])){if(a>s)return 1;if(s>a)return-1;continue}if(isNaN(c[1]))return isNaN(i)?-1:1;if(i>l)return 1;if(l>i)return-1}return r.length-n.length}const T1={alphanumeric:pwe,alphanumericCaseSensitive:mwe,text:gwe,textCaseSensitive:xwe,datetime:ywe,basic:vwe},bwe={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Ec("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const r=t.getFilteredRowModel().flatRows.slice(10);let n=!1;for(const a of r){const s=a==null?void 0:a.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return T1.datetime;if(typeof s=="string"&&(n=!0,s.split(u6).length>1))return T1.alphanumeric}return n?T1.text:T1.basic},e.getAutoSortDir=()=>{const r=t.getFilteredRowModel().flatRows[0];return typeof(r==null?void 0:r.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var r,n;if(!e)throw new Error;return T4(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(r=(n=t.options.sortingFns)==null?void 0:n[e.columnDef.sortingFn])!=null?r:T1[e.columnDef.sortingFn]},e.toggleSorting=(r,n)=>{const a=e.getNextSortingOrder(),s=typeof r<"u"&&r!==null;t.setSorting(i=>{const l=i==null?void 0:i.find(h=>h.id===e.id),c=i==null?void 0:i.findIndex(h=>h.id===e.id);let d=[],u,f=s?r:a==="desc";if(i!=null&&i.length&&e.getCanMultiSort()&&n?l?u="toggle":u="add":i!=null&&i.length&&c!==i.length-1?u="replace":l?u="toggle":u="replace",u==="toggle"&&(s||a||(u="remove")),u==="add"){var p;d=[...i,{id:e.id,desc:f}],d.splice(0,d.length-((p=t.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else u==="toggle"?d=i.map(h=>h.id===e.id?{...h,desc:f}:h):u==="remove"?d=i.filter(h=>h.id!==e.id):d=[{id:e.id,desc:f}];return d})},e.getFirstSortDir=()=>{var r,n;return((r=(n=e.columnDef.sortDescFirst)!=null?n:t.options.sortDescFirst)!=null?r:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=r=>{var n,a;const s=e.getFirstSortDir(),i=e.getIsSorted();return i?i!==s&&((n=t.options.enableSortingRemoval)==null||n)&&(!(r&&(a=t.options.enableMultiRemove)!=null)||a)?!1:i==="desc"?"asc":"desc":s},e.getCanSort=()=>{var r,n;return((r=e.columnDef.enableSorting)!=null?r:!0)&&((n=t.options.enableSorting)!=null?n:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var r,n;return(r=(n=e.columnDef.enableMultiSort)!=null?n:t.options.enableMultiSort)!=null?r:!!e.accessorFn},e.getIsSorted=()=>{var r;const n=(r=t.getState().sorting)==null?void 0:r.find(a=>a.id===e.id);return n?n.desc?"desc":"asc":!1},e.getSortIndex=()=>{var r,n;return(r=(n=t.getState().sorting)==null?void 0:n.findIndex(a=>a.id===e.id))!=null?r:-1},e.clearSorting=()=>{t.setSorting(r=>r!=null&&r.length?r.filter(n=>n.id!==e.id):[])},e.getToggleSortingHandler=()=>{const r=e.getCanSort();return n=>{r&&(n.persist==null||n.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(n):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var r,n;e.setSorting(t?[]:(r=(n=e.initialState)==null?void 0:n.sorting)!=null?r:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},wwe=[$2e,owe,rwe,nwe,U2e,V2e,lwe,cwe,bwe,ewe,dwe,uwe,fwe,hwe,swe];function Nwe(e){var t,r;const n=[...wwe,...(t=e._features)!=null?t:[]];let a={_features:n};const s=a._features.reduce((p,h)=>Object.assign(p,h.getDefaultOptions==null?void 0:h.getDefaultOptions(a)),{}),i=p=>a.options.mergeOptions?a.options.mergeOptions(s,p):{...s,...p};let c={...{},...(r=e.initialState)!=null?r:{}};a._features.forEach(p=>{var h;c=(h=p.getInitialState==null?void 0:p.getInitialState(c))!=null?h:c});const d=[];let u=!1;const f={_features:n,options:{...s,...e},initialState:c,_queue:p=>{d.push(p),u||(u=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();u=!1}).catch(h=>setTimeout(()=>{throw h})))},reset:()=>{a.setState(a.initialState)},setOptions:p=>{const h=Zp(p,a.options);a.options=i(h)},getState:()=>a.options.state,setState:p=>{a.options.onStateChange==null||a.options.onStateChange(p)},_getRowId:(p,h,m)=>{var g;return(g=a.options.getRowId==null?void 0:a.options.getRowId(p,h,m))!=null?g:`${m?[m.id,h].join("."):h}`},getCoreRowModel:()=>(a._getCoreRowModel||(a._getCoreRowModel=a.options.getCoreRowModel(a)),a._getCoreRowModel()),getRowModel:()=>a.getPaginationRowModel(),getRow:(p,h)=>{let m=(h?a.getPrePaginationRowModel():a.getRowModel()).rowsById[p];if(!m&&(m=a.getCoreRowModel().rowsById[p],!m))throw new Error;return m},_getDefaultColumnDef:fr(()=>[a.options.defaultColumn],p=>{var h;return p=(h=p)!=null?h:{},{header:m=>{const g=m.header.column.columnDef;return g.accessorKey?g.accessorKey:g.accessorFn?g.id:null},cell:m=>{var g,x;return(g=(x=m.renderValue())==null||x.toString==null?void 0:x.toString())!=null?g:null},...a._features.reduce((m,g)=>Object.assign(m,g.getDefaultColumnDef==null?void 0:g.getDefaultColumnDef()),{}),...p}},hr(e,"debugColumns")),_getColumnDefs:()=>a.options.columns,getAllColumns:fr(()=>[a._getColumnDefs()],p=>{const h=function(m,g,x){return x===void 0&&(x=0),m.map(y=>{const v=H2e(a,y,x,g),w=y;return v.columns=w.columns?h(w.columns,v,x+1):[],v})};return h(p)},hr(e,"debugColumns")),getAllFlatColumns:fr(()=>[a.getAllColumns()],p=>p.flatMap(h=>h.getFlatColumns()),hr(e,"debugColumns")),_getAllFlatColumnsById:fr(()=>[a.getAllFlatColumns()],p=>p.reduce((h,m)=>(h[m.id]=m,h),{}),hr(e,"debugColumns")),getAllLeafColumns:fr(()=>[a.getAllColumns(),a._getOrderColumnsFn()],(p,h)=>{let m=p.flatMap(g=>g.getLeafColumns());return h(m)},hr(e,"debugColumns")),getColumn:p=>a._getAllFlatColumnsById()[p]};Object.assign(a,f);for(let p=0;p<a._features.length;p++){const h=a._features[p];h==null||h.createTable==null||h.createTable(a)}return a}function Swe(){return e=>fr(()=>[e.options.data],t=>{const r={rows:[],flatRows:[],rowsById:{}},n=function(a,s,i){s===void 0&&(s=0);const l=[];for(let d=0;d<a.length;d++){const u=oL(e,e._getRowId(a[d],d,i),a[d],d,s,void 0,i==null?void 0:i.id);if(r.flatRows.push(u),r.rowsById[u.id]=u,l.push(u),e.options.getSubRows){var c;u.originalSubRows=e.options.getSubRows(a[d],d),(c=u.originalSubRows)!=null&&c.length&&(u.subRows=n(u.originalSubRows,s+1,u))}}return l};return r.rows=n(t),r},hr(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function jwe(e){const t=[],r=n=>{var a;t.push(n),(a=n.subRows)!=null&&a.length&&n.getIsExpanded()&&n.subRows.forEach(r)};return e.rows.forEach(r),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function _we(e,t,r){return r.options.filterFromLeafRows?kwe(e,t,r):Cwe(e,t,r)}function kwe(e,t,r){var n;const a=[],s={},i=(n=r.options.maxLeafRowFilterDepth)!=null?n:100,l=function(c,d){d===void 0&&(d=0);const u=[];for(let p=0;p<c.length;p++){var f;let h=c[p];const m=oL(r,h.id,h.original,h.index,h.depth,void 0,h.parentId);if(m.columnFilters=h.columnFilters,(f=h.subRows)!=null&&f.length&&d<i){if(m.subRows=l(h.subRows,d+1),h=m,t(h)&&!m.subRows.length){u.push(h),s[h.id]=h,a.push(h);continue}if(t(h)||m.subRows.length){u.push(h),s[h.id]=h,a.push(h);continue}}else h=m,t(h)&&(u.push(h),s[h.id]=h,a.push(h))}return u};return{rows:l(e),flatRows:a,rowsById:s}}function Cwe(e,t,r){var n;const a=[],s={},i=(n=r.options.maxLeafRowFilterDepth)!=null?n:100,l=function(c,d){d===void 0&&(d=0);const u=[];for(let p=0;p<c.length;p++){let h=c[p];if(t(h)){var f;if((f=h.subRows)!=null&&f.length&&d<i){const g=oL(r,h.id,h.original,h.index,h.depth,void 0,h.parentId);g.subRows=l(h.subRows,d+1),h=g}u.push(h),a.push(h),s[h.id]=h}}return u};return{rows:l(e),flatRows:a,rowsById:s}}function Awe(){return e=>fr(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,r,n)=>{if(!t.rows.length||!(r!=null&&r.length)&&!n){for(let p=0;p<t.flatRows.length;p++)t.flatRows[p].columnFilters={},t.flatRows[p].columnFiltersMeta={};return t}const a=[],s=[];(r??[]).forEach(p=>{var h;const m=e.getColumn(p.id);if(!m)return;const g=m.getFilterFn();g&&a.push({id:p.id,filterFn:g,resolvedValue:(h=g.resolveFilterValue==null?void 0:g.resolveFilterValue(p.value))!=null?h:p.value})});const i=(r??[]).map(p=>p.id),l=e.getGlobalFilterFn(),c=e.getAllLeafColumns().filter(p=>p.getCanGlobalFilter());n&&l&&c.length&&(i.push("__global__"),c.forEach(p=>{var h;s.push({id:p.id,filterFn:l,resolvedValue:(h=l.resolveFilterValue==null?void 0:l.resolveFilterValue(n))!=null?h:n})}));let d,u;for(let p=0;p<t.flatRows.length;p++){const h=t.flatRows[p];if(h.columnFilters={},a.length)for(let m=0;m<a.length;m++){d=a[m];const g=d.id;h.columnFilters[g]=d.filterFn(h,g,d.resolvedValue,x=>{h.columnFiltersMeta[g]=x})}if(s.length){for(let m=0;m<s.length;m++){u=s[m];const g=u.id;if(u.filterFn(h,g,u.resolvedValue,x=>{h.columnFiltersMeta[g]=x})){h.columnFilters.__global__=!0;break}}h.columnFilters.__global__!==!0&&(h.columnFilters.__global__=!1)}}const f=p=>{for(let h=0;h<i.length;h++)if(p.columnFilters[i[h]]===!1)return!1;return!0};return _we(t.rows,f,e)},hr(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Ewe(e){return t=>fr(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(r,n)=>{if(!n.rows.length)return n;const{pageSize:a,pageIndex:s}=r;let{rows:i,flatRows:l,rowsById:c}=n;const d=a*s,u=d+a;i=i.slice(d,u);let f;t.options.paginateExpandedRows?f={rows:i,flatRows:l,rowsById:c}:f=jwe({rows:i,flatRows:l,rowsById:c}),f.flatRows=[];const p=h=>{f.flatRows.push(h),h.subRows.length&&h.subRows.forEach(p)};return f.rows.forEach(p),f},hr(t.options,"debugTable"))}function Twe(){return e=>fr(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,r)=>{if(!r.rows.length||!(t!=null&&t.length))return r;const n=e.getState().sorting,a=[],s=n.filter(c=>{var d;return(d=e.getColumn(c.id))==null?void 0:d.getCanSort()}),i={};s.forEach(c=>{const d=e.getColumn(c.id);d&&(i[c.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const l=c=>{const d=c.map(u=>({...u}));return d.sort((u,f)=>{for(let h=0;h<s.length;h+=1){var p;const m=s[h],g=i[m.id],x=g.sortUndefined,y=(p=m==null?void 0:m.desc)!=null?p:!1;let v=0;if(x){const w=u.getValue(m.id),N=f.getValue(m.id),C=w===void 0,_=N===void 0;if(C||_){if(x==="first")return C?-1:1;if(x==="last")return C?1:-1;v=C&&_?0:C?x:-x}}if(v===0&&(v=g.sortingFn(u,f,m.id)),v!==0)return y&&(v*=-1),g.invertSorting&&(v*=-1),v}return u.index-f.index}),d.forEach(u=>{var f;a.push(u),(f=u.subRows)!=null&&f.length&&(u.subRows=l(u.subRows))}),d};return{rows:l(r.rows),flatRows:a,rowsById:r.rowsById}},hr(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function NH(e,t){return e?Dwe(e)?b.createElement(e,t):e:null}function Dwe(e){return Mwe(e)||typeof e=="function"||Owe(e)}function Mwe(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function Owe(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function Pwe(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[r]=b.useState(()=>({current:Nwe(t)})),[n,a]=b.useState(()=>r.current.initialState);return r.current.setOptions(s=>({...s,...e,state:{...n,...e.state},onStateChange:i=>{a(i),e.onStateChange==null||e.onStateChange(i)}})),r.current}function Rwe(...e){return nL(ur(e))}function Se({className:e,...t}){return o.jsx("div",{className:Rwe("animate-pulse rounded-md bg-gray-200 dark:bg-gray-700",e),...t})}function eo({columns:e,data:t,isLoading:r,emptyMessage:n="No data found.",onRowClick:a,enableSearch:s=!0,pageSize:i=6}){const[l,c]=b.useState([]),[d,u]=b.useState(""),f=I2e(),p=b.useMemo(()=>e.map(m=>{const g=m.accessorKey||m.searchKey||m.header||"col-"+Math.random().toString(36).substr(2,9);return f.accessor(x=>m.accessorFn?m.accessorFn(x):m.accessorKey?x[m.accessorKey]:m.searchKey?x[m.searchKey]:null,{id:g,header:m.header,enableSorting:m.enableSorting??!!m.accessorKey,enableGlobalFilter:!!(m.accessorKey||m.searchKey),cell:x=>m.render?m.render(x.row.original):x.getValue()})}),[e]),h=Pwe({data:t,columns:p,state:{sorting:l,globalFilter:d},initialState:{pagination:{pageSize:i}},onSortingChange:c,onGlobalFilterChange:u,getCoreRowModel:Swe(),getSortedRowModel:Twe(),getFilteredRowModel:Awe(),getPaginationRowModel:Ewe()});return r?o.jsxs("div",{className:"bg-bg-card rounded-lg border border-border overflow-hidden",children:[s&&o.jsx("div",{className:"p-4 border-b border-border",children:o.jsx(Se,{className:"h-9 w-full max-w-sm rounded-lg"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left border-collapse",children:[o.jsx("thead",{className:"bg-bg-main",children:o.jsx("tr",{className:"border-b border-border",children:e.map((m,g)=>o.jsx("th",{className:"px-6 py-4",children:o.jsx(Se,{className:"h-4 w-24"})},g))})}),o.jsx("tbody",{className:"divide-y divide-border",children:[1,2,3,4,5].map(m=>o.jsx("tr",{children:e.map((g,x)=>o.jsx("td",{className:"px-6 py-3",children:o.jsx(Se,{className:"h-4 w-full"})},x))},m))})]})})]}):o.jsxs("div",{className:"bg-bg-card rounded-lg border border-border overflow-hidden",children:[s&&o.jsx("div",{className:"p-4 border-b border-border",children:o.jsxs("div",{className:"relative max-w-sm",children:[o.jsx(df,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted",size:18}),o.jsx("input",{type:"text",value:d??"",onChange:m=>u(m.target.value),placeholder:"Search...",className:"w-full pl-10 pr-4 py-2 text-sm border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/20 bg-bg-main text-text-primary placeholder:text-text-muted transition-all"})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left border-collapse",children:[o.jsx("thead",{className:"bg-bg-main text-text-secondary text-xs uppercase font-semibold",children:h.getHeaderGroups().map(m=>o.jsx("tr",{children:m.headers.map(g=>{const x=e.find(y=>y.accessorKey===g.id||y.header===g.id);return o.jsx("th",{className:`px-6 py-4 cursor-pointer select-none group ${(x==null?void 0:x.className)||""}`,onClick:g.column.getToggleSortingHandler(),children:o.jsxs("div",{className:"flex items-center gap-1",children:[NH(g.column.columnDef.header,g.getContext()),{asc:o.jsx(BT,{size:14,className:"opacity-100 rotate-180"}),desc:o.jsx(BT,{size:14,className:"opacity-100"})}[g.column.getIsSorted()]??(g.column.getCanSort()&&o.jsx(BT,{size:14,className:"opacity-0 group-hover:opacity-50 transition-opacity"}))]})},g.id)})},m.id))}),o.jsx("tbody",{className:"divide-y divide-border",children:h.getRowModel().rows.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:e.length,className:"px-6 py-8 text-center text-text-muted",children:n})}):h.getRowModel().rows.map(m=>o.jsx("tr",{className:`hover:bg-bg-hover transition-colors ${a?"cursor-pointer":""}`,onClick:()=>a&&a(m.original),children:m.getVisibleCells().map(g=>o.jsx("td",{className:"px-6 py-3 text-text-primary",children:NH(g.column.columnDef.cell,g.getContext())},g.id))},m.id))})]})}),h.getPageCount()>1&&o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-border bg-bg-main/50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"p-1 rounded hover:bg-bg-hover text-text-secondary disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>h.previousPage(),disabled:!h.getCanPreviousPage(),children:o.jsx(wi,{size:18})}),o.jsxs("span",{className:"text-sm text-text-secondary",children:["Page ",h.getState().pagination.pageIndex+1," of"," ",h.getPageCount()]}),o.jsx("button",{className:"p-1 rounded hover:bg-bg-hover text-text-secondary disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>h.nextPage(),disabled:!h.getCanNextPage(),children:o.jsx(Wo,{size:18})})]}),o.jsxs("div",{className:"text-sm text-text-muted",children:["Showing ",h.getRowModel().rows.length," rows"]})]})]})}function ji({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:s="Confirm",cancelText:i="Cancel",variant:l="danger",isLoading:c=!1,showCancel:d=!0}){const u=()=>{switch(l){case"danger":return o.jsx(Pk,{size:28,className:"text-status-error"});case"warning":return o.jsx(ta,{size:28,className:"text-status-warning"});case"success":return o.jsx(In,{size:28,className:"text-status-success"});case"info":default:return o.jsx(Q8,{size:28,className:"text-brand-primary"})}},f=()=>{switch(l){case"danger":return"bg-status-error/10";case"warning":return"bg-status-warning/10";case"success":return"bg-status-success/10";case"info":default:return"bg-brand-primary/10"}},p=()=>{switch(l){case"danger":return"bg-status-error hover:bg-status-error/90";case"warning":return"bg-status-warning hover:bg-status-warning/90";case"success":return"bg-status-success hover:bg-status-success/90";case"info":default:return"bg-brand-primary hover:bg-brand-primary/90"}};return o.jsx(_r,{isOpen:e,onClose:t,title:n,maxWidth:"max-w-sm",hideHeader:!0,padding:"p-4",footer:o.jsxs("div",{className:"flex justify-center gap-4 w-full",children:[d&&o.jsx("button",{onClick:t,className:"px-3 py-1.5 border border-border rounded-lg text-text-secondary hover:bg-bg-hover text-sm font-medium transition-colors",disabled:c,children:i}),o.jsx("button",{onClick:r,className:`px-3 py-1.5 text-white rounded-lg text-sm font-medium transition-colors disabled:opacity-50 ${p()}`,disabled:c,children:c?"Processing...":s})]}),children:o.jsxs("div",{className:"flex flex-col items-center text-center p-0",children:[o.jsx("div",{className:`p-3 rounded-full mb-3 ${f()} animate-in zoom-in-50 duration-300`,children:u()}),o.jsx("h3",{className:"text-lg font-bold text-text-primary mb-1",children:n}),o.jsx("p",{className:"text-base text-text-secondary leading-relaxed",children:a})]})})}function hd({className:e,icon:t=Qd,...r}){const[n,a]=b.useState(!1);return o.jsxs("div",{className:"relative",children:[t&&o.jsx(t,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted pointer-events-none",size:18}),o.jsx("input",{type:n?"text":"password",className:ia("w-full rounded-lg border border-border bg-bg-card text-text-primary placeholder-text-muted focus:outline-none focus:ring-2 focus:border-transparent focus:ring-brand-primary h-[38px]",t?"pl-10":"px-3","pr-10 py-2 text-sm",e),...r}),o.jsx("button",{type:"button",onClick:()=>a(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-primary transition-colors focus:outline-none",tabIndex:-1,children:n?o.jsx(Ove,{size:18}):o.jsx(Lv,{size:18})})]})}function D1(...e){return nL(ur(e))}const sr=({label:e,options:t,value:r,onChange:n,error:a,helperText:s,className:i="",placeholder:l="Select an option",disabled:c=!1,required:d=!1,id:u,searchable:f=!1,triggerClassName:p=""})=>{const[h,m]=b.useState(!1),[g,x]=b.useState(""),y=b.useRef(null),v=b.useRef(null),w=b.useRef(null),N=t.find(k=>k.value===r);b.useEffect(()=>{const k=O=>{y.current&&!y.current.contains(O.target)&&(!w.current||!w.current.contains(O.target))&&m(!1)},A=O=>{w.current&&w.current.contains(O.target)||h&&m(!1)};return document.addEventListener("mousedown",k),window.addEventListener("scroll",A,!0),window.addEventListener("resize",A),()=>{document.removeEventListener("mousedown",k),window.removeEventListener("scroll",A,!0),window.removeEventListener("resize",A)}},[h]),b.useEffect(()=>{h&&f&&v.current&&setTimeout(()=>{var k;return(k=v.current)==null?void 0:k.focus()},50),h||x("")},[h,f]);const C=k=>{n(k),m(!1)},_=()=>{c||m(!h)},S=f?t.filter(k=>k.label.toLowerCase().includes(g.toLowerCase())):t;return o.jsxs("div",{className:D1("w-full",i),ref:y,children:[e&&o.jsxs("label",{htmlFor:u,className:"block text-sm font-medium text-text-secondary mb-1",children:[e," ",d&&o.jsx("span",{className:"text-status-error",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{onClick:_,className:D1("w-full rounded-lg border bg-bg-card px-3 py-2 text-sm cursor-pointer flex items-center justify-between transition-colors h-[38px]",a?"border-status-error focus:ring-status-error":"border-border hover:border-text-muted focus:ring-brand-primary",h&&"ring-2 ring-brand-primary/20 border-brand-primary",c&&"bg-bg-main text-text-muted cursor-not-allowed opacity-70",p),children:[o.jsx("span",{className:D1("block truncate text-text-primary",!N&&"text-text-muted"),children:N?N.label:l}),o.jsx(K8,{size:16,className:D1("text-text-muted transition-transform duration-200",h&&"transform rotate-180")})]}),h&&af.createPortal(o.jsxs("div",{ref:w,className:"fixed z-[10000] bg-bg-card border border-border rounded-lg shadow-lg max-h-60 overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-100",style:{top:y.current?y.current.getBoundingClientRect().bottom+4:0,left:y.current?y.current.getBoundingClientRect().left:0,width:y.current?y.current.getBoundingClientRect().width:"auto"},children:[f&&o.jsx("div",{className:"p-2 border-b border-border bg-bg-card sticky top-0 z-10",children:o.jsxs("div",{className:"relative",children:[o.jsx(df,{size:14,className:"absolute left-2 top-1/2 -translate-y-1/2 text-text-muted"}),o.jsx("input",{ref:v,type:"text",value:g,onChange:k=>x(k.target.value),placeholder:"Search...",className:"w-full pl-8 pr-3 py-1.5 text-sm bg-bg-input border border-border rounded-md focus:outline-none focus:ring-1 focus:ring-brand-primary",onClick:k=>k.stopPropagation()})]})}),o.jsx("div",{className:"overflow-y-auto max-h-[200px]",children:S.length===0?o.jsx("div",{className:"px-3 py-2 text-sm text-text-muted text-center",children:"No options found"}):o.jsx("ul",{className:"py-1",children:S.map(k=>o.jsxs("li",{onClick:()=>C(k.value),className:D1("px-3 py-2 text-sm cursor-pointer flex items-center justify-between hover:bg-bg-hover transition-colors text-text-primary",k.value===r&&"bg-brand-primary/5 text-brand-primary font-medium"),children:[o.jsx("span",{className:"truncate",children:k.label}),k.value===r&&o.jsx(pl,{size:14})]},k.value))})})]}),document.body)]}),a&&o.jsx("p",{className:"mt-1 text-xs text-status-error",children:a}),!a&&s&&o.jsx("p",{className:"mt-1 text-xs text-text-muted",children:s})]})},Aee=6048e5,Lwe=864e5,D4=6e4,M4=36e5,Iwe=1e3,Hj=43200,SH=1440,jH=Symbol.for("constructDateFrom");function vn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&jH in e?e[jH](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ut(e,t){return vn(t||e,e)}function pd(e,t,r){const n=Ut(e,r==null?void 0:r.in);return isNaN(t)?vn((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function ru(e,t,r){const n=Ut(e,r==null?void 0:r.in);if(isNaN(t))return vn(e,NaN);if(!t)return n;const a=n.getDate(),s=vn(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const i=s.getDate();return a>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}function Eee(e,t,r){return vn(e,+Ut(e)+t)}function Fwe(e,t,r){return Eee(e,t*M4)}let zwe={};function n0(){return zwe}function Ih(e,t){var l,c,d,u;const r=n0(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Ut(e,t==null?void 0:t.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Fv(e,t){return Ih(e,{...t,weekStartsOn:1})}function Tee(e,t){const r=Ut(e,t==null?void 0:t.in),n=r.getFullYear(),a=vn(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=Fv(a),i=vn(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=Fv(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function zv(e){const t=Ut(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function jd(e,...t){const r=vn.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function Vg(e,t){const r=Ut(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function qg(e,t,r){const[n,a]=jd(r==null?void 0:r.in,e,t),s=Vg(n),i=Vg(a),l=+s-zv(s),c=+i-zv(i);return Math.round((l-c)/Lwe)}function Bwe(e,t){const r=Tee(e,t),n=vn(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Fv(n)}function Lw(e,t,r){const n=Ut(e,r==null?void 0:r.in);return n.setTime(n.getTime()+t*D4),n}function uL(e,t,r){return ru(e,t*3,r)}function Hwe(e,t,r){return Eee(e,t*1e3)}function Lk(e,t,r){return pd(e,t*7,r)}function xh(e,t,r){return ru(e,t*12,r)}function _H(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=vn.bind(null,a));const s=Ut(a,n);(!r||r<s||isNaN(+s))&&(r=s)}),vn(n,r||NaN)}function kH(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=vn.bind(null,a));const s=Ut(a,n);(!r||r>s||isNaN(+s))&&(r=s)}),vn(n,r||NaN)}function ev(e,t){const r=+Ut(e)-+Ut(t);return r<0?-1:r>0?1:r}function $we(e){return vn(e,Date.now())}function Uwe(e,t,r){const[n,a]=jd(r==null?void 0:r.in,e,t);return+Vg(n)==+Vg(a)}function yh(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Iw(e){return!(!yh(e)&&typeof e!="number"||isNaN(+Ut(e)))}function Fw(e,t,r){const[n,a]=jd(r==null?void 0:r.in,e,t),s=n.getFullYear()-a.getFullYear(),i=n.getMonth()-a.getMonth();return s*12+i}function em(e,t){const r=Ut(e,t==null?void 0:t.in);return Math.trunc(r.getMonth()/3)+1}function Ik(e,t,r){const[n,a]=jd(r==null?void 0:r.in,e,t),s=n.getFullYear()-a.getFullYear(),i=em(n)-em(a);return s*4+i}function zw(e,t,r){const[n,a]=jd(r==null?void 0:r.in,e,t);return n.getFullYear()-a.getFullYear()}function Vwe(e,t,r){const[n,a]=jd(r==null?void 0:r.in,e,t),s=CH(n,a),i=Math.abs(qg(n,a));n.setDate(n.getDate()-s*i);const l=+(CH(n,a)===-s),c=s*(i-l);return c===0?0:c}function CH(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function qwe(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Wwe(e,t){return+Ut(e)-+Ut(t)}function fL(e,t){const r=Ut(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function hL(e,t){const r=Ut(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Ywe(e,t){const r=Ut(e,t==null?void 0:t.in);return+fL(r,t)==+hL(r,t)}function Dee(e,t,r){const[n,a,s]=jd(r==null?void 0:r.in,e,e,t),i=ev(a,s),l=Math.abs(Fw(a,s));if(l<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-i*l);let c=ev(a,s)===-i;Ywe(n)&&l===1&&ev(n,s)===1&&(c=!1);const d=i*(l-+c);return d===0?0:d}function Gwe(e,t,r){const n=Wwe(e,t)/1e3;return qwe(r==null?void 0:r.roundingMethod)(n)}function Kwe(e,t,r){const[n,a]=jd(r==null?void 0:r.in,e,t),s=ev(n,a),i=Math.abs(zw(n,a));n.setFullYear(1584),a.setFullYear(1584);const l=ev(n,a)===-s,c=s*(i-+l);return c===0?0:c}function f6(e,t){const r=Ut(e,t==null?void 0:t.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function Mee(e,t){const r=Ut(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Oee(e,t){const r=Ut(e,t==null?void 0:t.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function O4(e,t){const r=Ut(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Xwe(e,t){var l,c;const r=n0(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,a=Ut(e,t==null?void 0:t.in),s=a.getDay(),i=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}const Jwe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Qwe=(e,t,r)=>{let n;const a=Jwe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function JT(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Zwe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eNe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tNe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rNe={date:JT({formats:Zwe,defaultWidth:"full"}),time:JT({formats:eNe,defaultWidth:"full"}),dateTime:JT({formats:tNe,defaultWidth:"full"})},nNe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aNe=(e,t,r,n)=>nNe[e];function M1(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[i]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const sNe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iNe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oNe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lNe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cNe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dNe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uNe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},fNe={ordinalNumber:uNe,era:M1({values:sNe,defaultWidth:"wide"}),quarter:M1({values:iNe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:M1({values:oNe,defaultWidth:"wide"}),day:M1({values:lNe,defaultWidth:"wide"}),dayPeriod:M1({values:cNe,defaultWidth:"wide",formattingValues:dNe,defaultFormattingWidth:"wide"})};function O1(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?pNe(l,f=>f.test(i)):hNe(l,f=>f.test(i));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(i.length);return{value:d,rest:u}}}function hNe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function pNe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function mNe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const gNe=/^(\d+)(th|st|nd|rd)?/i,xNe=/\d+/i,yNe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vNe={any:[/^b/i,/^(a|c)/i]},bNe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wNe={any:[/1/i,/2/i,/3/i,/4/i]},NNe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},SNe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jNe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_Ne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kNe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CNe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ANe={ordinalNumber:mNe({matchPattern:gNe,parsePattern:xNe,valueCallback:e=>parseInt(e,10)}),era:O1({matchPatterns:yNe,defaultMatchWidth:"wide",parsePatterns:vNe,defaultParseWidth:"any"}),quarter:O1({matchPatterns:bNe,defaultMatchWidth:"wide",parsePatterns:wNe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:O1({matchPatterns:NNe,defaultMatchWidth:"wide",parsePatterns:SNe,defaultParseWidth:"any"}),day:O1({matchPatterns:jNe,defaultMatchWidth:"wide",parsePatterns:_Ne,defaultParseWidth:"any"}),dayPeriod:O1({matchPatterns:kNe,defaultMatchWidth:"any",parsePatterns:CNe,defaultParseWidth:"any"})},pL={code:"en-US",formatDistance:Qwe,formatLong:rNe,formatRelative:aNe,localize:fNe,match:ANe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ENe(e,t){const r=Ut(e,t==null?void 0:t.in);return qg(r,O4(r))+1}function mL(e,t){const r=Ut(e,t==null?void 0:t.in),n=+Fv(r)-+Bwe(r);return Math.round(n/Aee)+1}function gL(e,t){var u,f,p,h;const r=Ut(e,t==null?void 0:t.in),n=r.getFullYear(),a=n0(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(p=a.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,i=vn((t==null?void 0:t.in)||e,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=Ih(i,t),c=vn((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const d=Ih(c,t);return+r>=+l?n+1:+r>=+d?n:n-1}function TNe(e,t){var l,c,d,u;const r=n0(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=gL(e,t),s=vn((t==null?void 0:t.in)||e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Ih(s,t)}function Pee(e,t){const r=Ut(e,t==null?void 0:t.in),n=+Ih(r,t)-+TNe(r,t);return Math.round(n/Aee)+1}function jn(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const jp={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return jn(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):jn(r+1,2)},d(e,t){return jn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return jn(e.getHours()%12||12,t.length)},H(e,t){return jn(e.getHours(),t.length)},m(e,t){return jn(e.getMinutes(),t.length)},s(e,t){return jn(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return jn(a,t.length)}},Kx={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},AH={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return jp.y(e,t)},Y:function(e,t,r,n){const a=gL(e,n),s=a>0?a:1-a;if(t==="YY"){const i=s%100;return jn(i,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):jn(s,t.length)},R:function(e,t){const r=Tee(e);return jn(r,t.length)},u:function(e,t){const r=e.getFullYear();return jn(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return jn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return jn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return jp.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return jn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Pee(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):jn(a,t.length)},I:function(e,t,r){const n=mL(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):jn(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):jp.d(e,t)},D:function(e,t,r){const n=ENe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):jn(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return jn(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return jn(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return jn(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Kx.noon:n===0?a=Kx.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Kx.evening:n>=12?a=Kx.afternoon:n>=4?a=Kx.morning:a=Kx.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return jp.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):jp.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):jn(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):jn(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):jp.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):jp.s(e,t)},S:function(e,t){return jp.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return TH(n);case"XXXX":case"XX":return L0(n);case"XXXXX":case"XXX":default:return L0(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return TH(n);case"xxxx":case"xx":return L0(n);case"xxxxx":case"xxx":default:return L0(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+EH(n,":");case"OOOO":default:return"GMT"+L0(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+EH(n,":");case"zzzz":default:return"GMT"+L0(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return jn(n,t.length)},T:function(e,t,r){return jn(+e,t.length)}};function EH(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+jn(s,2)}function TH(e,t){return e%60===0?(e>0?"-":"+")+jn(Math.abs(e)/60,2):L0(e,t)}function L0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=jn(Math.trunc(n/60),2),s=jn(n%60,2);return r+a+t+s}const DH=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Ree=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},DNe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return DH(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",DH(n,t)).replace("{{time}}",Ree(a,t))},h6={p:Ree,P:DNe},MNe=/^D+$/,ONe=/^Y+$/,PNe=["D","DD","YY","YYYY"];function RNe(e){return MNe.test(e)}function LNe(e){return ONe.test(e)}function INe(e,t,r){const n=FNe(e,t,r);if(console.warn(n),PNe.includes(e))throw new RangeError(n)}function FNe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zNe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BNe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HNe=/^'([^]*?)'?$/,$Ne=/''/g,UNe=/[a-zA-Z]/;function ps(e,t,r){var u,f,p,h,m,g,x,y;const n=n0(),a=(r==null?void 0:r.locale)??n.locale??pL,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(p=n.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((g=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((y=(x=n.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,l=Ut(e,r==null?void 0:r.in);if(!Iw(l))throw new RangeError("Invalid time value");let c=t.match(BNe).map(v=>{const w=v[0];if(w==="p"||w==="P"){const N=h6[w];return N(v,a.formatLong)}return v}).join("").match(zNe).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const w=v[0];if(w==="'")return{isToken:!1,value:VNe(v)};if(AH[w])return{isToken:!0,value:v};if(w.match(UNe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(v=>{if(!v.isToken)return v.value;const w=v.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&LNe(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&RNe(w))&&INe(w,t,String(e));const N=AH[w[0]];return N(l,w,a.localize,d)}).join("")}function VNe(e){const t=e.match(HNe);return t?t[1].replace($Ne,"'"):e}function qNe(e,t,r){const n=n0(),a=(r==null?void 0:r.locale)??n.locale??pL,s=2520,i=ev(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i}),[c,d]=jd(r==null?void 0:r.in,...i>0?[t,e]:[e,t]),u=Gwe(d,c),f=(zv(d)-zv(c))/1e3,p=Math.round((u-f)/60);let h;if(p<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):p===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",p,l);if(p<45)return a.formatDistance("xMinutes",p,l);if(p<90)return a.formatDistance("aboutXHours",1,l);if(p<SH){const m=Math.round(p/60);return a.formatDistance("aboutXHours",m,l)}else{if(p<s)return a.formatDistance("xDays",1,l);if(p<Hj){const m=Math.round(p/SH);return a.formatDistance("xDays",m,l)}else if(p<Hj*2)return h=Math.round(p/Hj),a.formatDistance("aboutXMonths",h,l)}if(h=Dee(d,c),h<12){const m=Math.round(p/Hj);return a.formatDistance("xMonths",m,l)}else{const m=h%12,g=Math.trunc(h/12);return m<3?a.formatDistance("aboutXYears",g,l):m<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function Lee(e,t){return qNe(e,$we(e),t)}function MH(e,t){return Ut(e,t==null?void 0:t.in).getDate()}function WNe(e,t){return Ut(e,t==null?void 0:t.in).getDay()}function YNe(e,t){const r=Ut(e,t==null?void 0:t.in),n=r.getFullYear(),a=r.getMonth(),s=vn(r,0);return s.setFullYear(n,a+1,0),s.setHours(0,0,0,0),s.getDate()}function GNe(){return Object.assign({},n0())}function fo(e,t){return Ut(e,t==null?void 0:t.in).getHours()}function KNe(e,t){const r=Ut(e,t==null?void 0:t.in).getDay();return r===0?7:r}function ho(e,t){return Ut(e,t==null?void 0:t.in).getMinutes()}function ul(e,t){return Ut(e,t==null?void 0:t.in).getMonth()}function Sm(e){return Ut(e).getSeconds()}function p6(e){return+Ut(e)}function Yr(e,t){return Ut(e,t==null?void 0:t.in).getFullYear()}function vh(e,t){return+Ut(e)>+Ut(t)}function Fu(e,t){return+Ut(e)<+Ut(t)}function XNe(e,t){return+Ut(e)==+Ut(t)}function JNe(e,t){const r=QNe(t)?new t(0):vn(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function QNe(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const ZNe=10;class Iee{constructor(){St(this,"subPriority",0)}validate(t,r){return!0}}class eSe extends Iee{constructor(t,r,n,a,s){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,s&&(this.subPriority=s)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class tSe extends Iee{constructor(r,n){super();St(this,"priority",ZNe);St(this,"subPriority",-1);this.context=r||(a=>vn(n,a))}set(r,n){return n.timestampIsSet?r:vn(r,JNe(r,this.context))}}class hn{run(t,r,n,a){const s=this.parse(t,r,n,a);return s?{setter:new eSe(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(t,r,n){return!0}}class rSe extends hn{constructor(){super(...arguments);St(this,"priority",140);St(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const ms={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Du={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function gs(e,t){return e&&{value:t(e.value),rest:e.rest}}function Ea(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Mu(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,s=r[3]?parseInt(r[3],10):0,i=r[5]?parseInt(r[5],10):0;return{value:n*(a*M4+s*D4+i*Iwe),rest:t.slice(r[0].length)}}function Fee(e){return Ea(ms.anyDigitsSigned,e)}function es(e,t){switch(e){case 1:return Ea(ms.singleDigit,t);case 2:return Ea(ms.twoDigits,t);case 3:return Ea(ms.threeDigits,t);case 4:return Ea(ms.fourDigits,t);default:return Ea(new RegExp("^\\d{1,"+e+"}"),t)}}function Fk(e,t){switch(e){case 1:return Ea(ms.singleDigitSigned,t);case 2:return Ea(ms.twoDigitsSigned,t);case 3:return Ea(ms.threeDigitsSigned,t);case 4:return Ea(ms.fourDigitsSigned,t);default:return Ea(new RegExp("^-?\\d{1,"+e+"}"),t)}}function xL(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function zee(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const s=n+50,i=Math.trunc(s/100)*100,l=e>=s%100;a=e+i-(l?100:0)}return r?a:1-a}function Bee(e){return e%400===0||e%4===0&&e%100!==0}class nSe extends hn{constructor(){super(...arguments);St(this,"priority",130);St(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const s=i=>({year:i,isTwoDigitYear:n==="yy"});switch(n){case"y":return gs(es(4,r),s);case"yo":return gs(a.ordinalNumber(r,{unit:"year"}),s);default:return gs(es(n.length,r),s)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const s=r.getFullYear();if(a.isTwoDigitYear){const l=zee(a.year,s);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const i=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}}class aSe extends hn{constructor(){super(...arguments);St(this,"priority",130);St(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const s=i=>({year:i,isTwoDigitYear:n==="YY"});switch(n){case"Y":return gs(es(4,r),s);case"Yo":return gs(a.ordinalNumber(r,{unit:"year"}),s);default:return gs(es(n.length,r),s)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,s){const i=gL(r,s);if(a.isTwoDigitYear){const c=zee(a.year,i);return r.setFullYear(c,0,s.firstWeekContainsDate),r.setHours(0,0,0,0),Ih(r,s)}const l=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(l,0,s.firstWeekContainsDate),r.setHours(0,0,0,0),Ih(r,s)}}class sSe extends hn{constructor(){super(...arguments);St(this,"priority",130);St(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return Fk(n==="R"?4:n.length,r)}set(r,n,a){const s=vn(r,0);return s.setFullYear(a,0,4),s.setHours(0,0,0,0),Fv(s)}}class iSe extends hn{constructor(){super(...arguments);St(this,"priority",130);St(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return Fk(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class oSe extends hn{constructor(){super(...arguments);St(this,"priority",120);St(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return es(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class lSe extends hn{constructor(){super(...arguments);St(this,"priority",120);St(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return es(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class cSe extends hn{constructor(){super(...arguments);St(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);St(this,"priority",110)}parse(r,n,a){const s=i=>i-1;switch(n){case"M":return gs(Ea(ms.month,r),s);case"MM":return gs(es(2,r),s);case"Mo":return gs(a.ordinalNumber(r,{unit:"month"}),s);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class dSe extends hn{constructor(){super(...arguments);St(this,"priority",110);St(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const s=i=>i-1;switch(n){case"L":return gs(Ea(ms.month,r),s);case"LL":return gs(es(2,r),s);case"Lo":return gs(a.ordinalNumber(r,{unit:"month"}),s);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function uSe(e,t,r){const n=Ut(e,r==null?void 0:r.in),a=Pee(n,r)-t;return n.setDate(n.getDate()-a*7),Ut(n,r==null?void 0:r.in)}class fSe extends hn{constructor(){super(...arguments);St(this,"priority",100);St(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return Ea(ms.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return es(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,s){return Ih(uSe(r,a,s),s)}}function hSe(e,t,r){const n=Ut(e,r==null?void 0:r.in),a=mL(n,r)-t;return n.setDate(n.getDate()-a*7),n}class pSe extends hn{constructor(){super(...arguments);St(this,"priority",100);St(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return Ea(ms.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return es(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return Fv(hSe(r,a))}}const mSe=[31,28,31,30,31,30,31,31,30,31,30,31],gSe=[31,29,31,30,31,30,31,31,30,31,30,31];class xSe extends hn{constructor(){super(...arguments);St(this,"priority",90);St(this,"subPriority",1);St(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return Ea(ms.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return es(n.length,r)}}validate(r,n){const a=r.getFullYear(),s=Bee(a),i=r.getMonth();return s?n>=1&&n<=gSe[i]:n>=1&&n<=mSe[i]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class ySe extends hn{constructor(){super(...arguments);St(this,"priority",90);St(this,"subpriority",1);St(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return Ea(ms.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return es(n.length,r)}}validate(r,n){const a=r.getFullYear();return Bee(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function yL(e,t,r){var f,p,h,m;const n=n0(),a=(r==null?void 0:r.weekStartsOn)??((p=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,s=Ut(e,r==null?void 0:r.in),i=s.getDay(),c=(t%7+7)%7,d=7-a,u=t<0||t>6?t-(i+d)%7:(c+d)%7-(i+d)%7;return pd(s,u,r)}class vSe extends hn{constructor(){super(...arguments);St(this,"priority",90);St(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,s){return r=yL(r,a,s),r.setHours(0,0,0,0),r}}class bSe extends hn{constructor(){super(...arguments);St(this,"priority",90);St(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,s){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+s.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return gs(es(n.length,r),i);case"eo":return gs(a.ordinalNumber(r,{unit:"day"}),i);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,s){return r=yL(r,a,s),r.setHours(0,0,0,0),r}}class wSe extends hn{constructor(){super(...arguments);St(this,"priority",90);St(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,s){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+s.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return gs(es(n.length,r),i);case"co":return gs(a.ordinalNumber(r,{unit:"day"}),i);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,s){return r=yL(r,a,s),r.setHours(0,0,0,0),r}}function NSe(e,t,r){const n=Ut(e,r==null?void 0:r.in),a=KNe(n,r),s=t-a;return pd(n,s,r)}class SSe extends hn{constructor(){super(...arguments);St(this,"priority",90);St(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const s=i=>i===0?7:i;switch(n){case"i":case"ii":return es(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return gs(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),s);case"iiiii":return gs(a.day(r,{width:"narrow",context:"formatting"}),s);case"iiiiii":return gs(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),s);case"iiii":default:return gs(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),s)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=NSe(r,a),r.setHours(0,0,0,0),r}}class jSe extends hn{constructor(){super(...arguments);St(this,"priority",80);St(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(xL(a),0,0,0),r}}class _Se extends hn{constructor(){super(...arguments);St(this,"priority",80);St(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(xL(a),0,0,0),r}}class kSe extends hn{constructor(){super(...arguments);St(this,"priority",80);St(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(xL(a),0,0,0),r}}class CSe extends hn{constructor(){super(...arguments);St(this,"priority",70);St(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return Ea(ms.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return es(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const s=r.getHours()>=12;return s&&a<12?r.setHours(a+12,0,0,0):!s&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class ASe extends hn{constructor(){super(...arguments);St(this,"priority",70);St(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return Ea(ms.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return es(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class ESe extends hn{constructor(){super(...arguments);St(this,"priority",70);St(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return Ea(ms.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return es(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class TSe extends hn{constructor(){super(...arguments);St(this,"priority",70);St(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return Ea(ms.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return es(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const s=a<=24?a%24:a;return r.setHours(s,0,0,0),r}}class DSe extends hn{constructor(){super(...arguments);St(this,"priority",60);St(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return Ea(ms.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return es(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class MSe extends hn{constructor(){super(...arguments);St(this,"priority",50);St(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return Ea(ms.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return es(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class OSe extends hn{constructor(){super(...arguments);St(this,"priority",30);St(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=s=>Math.trunc(s*Math.pow(10,-n.length+3));return gs(es(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class PSe extends hn{constructor(){super(...arguments);St(this,"priority",10);St(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Mu(Du.basicOptionalMinutes,r);case"XX":return Mu(Du.basic,r);case"XXXX":return Mu(Du.basicOptionalSeconds,r);case"XXXXX":return Mu(Du.extendedOptionalSeconds,r);case"XXX":default:return Mu(Du.extended,r)}}set(r,n,a){return n.timestampIsSet?r:vn(r,r.getTime()-zv(r)-a)}}class RSe extends hn{constructor(){super(...arguments);St(this,"priority",10);St(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Mu(Du.basicOptionalMinutes,r);case"xx":return Mu(Du.basic,r);case"xxxx":return Mu(Du.basicOptionalSeconds,r);case"xxxxx":return Mu(Du.extendedOptionalSeconds,r);case"xxx":default:return Mu(Du.extended,r)}}set(r,n,a){return n.timestampIsSet?r:vn(r,r.getTime()-zv(r)-a)}}class LSe extends hn{constructor(){super(...arguments);St(this,"priority",40);St(this,"incompatibleTokens","*")}parse(r){return Fee(r)}set(r,n,a){return[vn(r,a*1e3),{timestampIsSet:!0}]}}class ISe extends hn{constructor(){super(...arguments);St(this,"priority",20);St(this,"incompatibleTokens","*")}parse(r){return Fee(r)}set(r,n,a){return[vn(r,a),{timestampIsSet:!0}]}}const FSe={G:new rSe,y:new nSe,Y:new aSe,R:new sSe,u:new iSe,Q:new oSe,q:new lSe,M:new cSe,L:new dSe,w:new fSe,I:new pSe,d:new xSe,D:new ySe,E:new vSe,e:new bSe,c:new wSe,i:new SSe,a:new jSe,b:new _Se,B:new kSe,h:new CSe,H:new ASe,K:new ESe,k:new TSe,m:new DSe,s:new MSe,S:new OSe,X:new PSe,x:new RSe,t:new LSe,T:new ISe},zSe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BSe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HSe=/^'([^]*?)'?$/,$Se=/''/g,USe=/\S/,VSe=/[a-zA-Z]/;function qSe(e,t,r,n){var x,y,v,w,N,C,_,S;const a=()=>vn((n==null?void 0:n.in)||r,NaN),s=GNe(),i=(n==null?void 0:n.locale)??s.locale??pL,l=(n==null?void 0:n.firstWeekContainsDate)??((y=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(v=s.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((C=(N=n==null?void 0:n.locale)==null?void 0:N.options)==null?void 0:C.weekStartsOn)??s.weekStartsOn??((S=(_=s.locale)==null?void 0:_.options)==null?void 0:S.weekStartsOn)??0;if(!t)return e?a():Ut(r,n==null?void 0:n.in);const d={firstWeekContainsDate:l,weekStartsOn:c,locale:i},u=[new tSe(n==null?void 0:n.in,r)],f=t.match(BSe).map(k=>{const A=k[0];if(A in h6){const O=h6[A];return O(k,i.formatLong)}return k}).join("").match(zSe),p=[];for(let k of f){const A=k[0],O=FSe[A];if(O){const{incompatibleTokens:D}=O;if(Array.isArray(D)){const I=p.find(z=>D.includes(z.token)||z.token===A);if(I)throw new RangeError(`The format string mustn't contain \`${I.fullToken}\` and \`${k}\` at the same time`)}else if(O.incompatibleTokens==="*"&&p.length>0)throw new RangeError(`The format string mustn't contain \`${k}\` and any other token at the same time`);p.push({token:A,fullToken:k});const M=O.run(e,k,i.match,d);if(!M)return a();u.push(M.setter),e=M.rest}else{if(A.match(VSe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");if(k==="''"?k="'":A==="'"&&(k=WSe(k)),e.indexOf(k)===0)e=e.slice(k.length);else return a()}}if(e.length>0&&USe.test(e))return a();const h=u.map(k=>k.priority).sort((k,A)=>A-k).filter((k,A,O)=>O.indexOf(k)===A).map(k=>u.filter(A=>A.priority===k).sort((A,O)=>O.subPriority-A.subPriority)).map(k=>k[0]);let m=Ut(r,n==null?void 0:n.in);if(isNaN(+m))return a();const g={};for(const k of h){if(!k.validate(m,d))return a();const A=k.set(m,g,d);Array.isArray(A)?(m=A[0],Object.assign(g,A[1])):m=A}return m}function WSe(e){return e.match(HSe)[1].replace($Se,"'")}function YSe(e,t,r){const[n,a]=jd(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function GSe(e,t,r){const[n,a]=jd(r==null?void 0:r.in,e,t);return+f6(n)==+f6(a)}function KSe(e,t,r){const[n,a]=jd(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()}function Bw(e,t,r){const n=+Ut(e,r==null?void 0:r.in),[a,s]=[+Ut(t.start,r==null?void 0:r.in),+Ut(t.end,r==null?void 0:r.in)].sort((i,l)=>i-l);return n>=a&&n<=s}function XSe(e,t,r){return pd(e,-1,r)}function m6(e,t){const r=()=>vn(t==null?void 0:t.in,NaN),a=eje(e);let s;if(a.date){const d=tje(a.date,2);s=rje(d.restDateString,d.year)}if(!s||isNaN(+s))return r();const i=+s;let l=0,c;if(a.time&&(l=nje(a.time),isNaN(l)))return r();if(a.timezone){if(c=aje(a.timezone),isNaN(c))return r()}else{const d=new Date(i+l),u=Ut(0,t==null?void 0:t.in);return u.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),u.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),u}return Ut(i+l+c,t==null?void 0:t.in)}const $j={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},JSe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,QSe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ZSe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function eje(e){const t={},r=e.split($j.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],$j.timeZoneDelimiter.test(t.date)&&(t.date=e.split($j.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=$j.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function tje(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function rje(e,t){if(t===null)return new Date(NaN);const r=e.match(JSe);if(!r)return new Date(NaN);const n=!!r[4],a=P1(r[1]),s=P1(r[2])-1,i=P1(r[3]),l=P1(r[4]),c=P1(r[5])-1;if(n)return cje(t,l,c)?sje(t,l,c):new Date(NaN);{const d=new Date(0);return!oje(t,s,i)||!lje(t,a)?new Date(NaN):(d.setUTCFullYear(t,s,Math.max(a,i)),d)}}function P1(e){return e?parseInt(e):1}function nje(e){const t=e.match(QSe);if(!t)return NaN;const r=QT(t[1]),n=QT(t[2]),a=QT(t[3]);return dje(r,n,a)?r*M4+n*D4+a*1e3:NaN}function QT(e){return e&&parseFloat(e.replace(",","."))||0}function aje(e){if(e==="Z")return 0;const t=e.match(ZSe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return uje(n,a)?r*(n*M4+a*D4):NaN}function sje(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,s=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const ije=[31,null,31,30,31,30,31,31,30,31,30,31];function Hee(e){return e%400===0||e%4===0&&e%100!==0}function oje(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(ije[t]||(Hee(e)?29:28))}function lje(e,t){return t>=1&&t<=(Hee(e)?366:365)}function cje(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function dje(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function uje(e,t){return t>=0&&t<=59}function Yl(e,t,r){const n=Ut(e,r==null?void 0:r.in),a=n.getFullYear(),s=n.getDate(),i=vn(e,0);i.setFullYear(a,t,15),i.setHours(0,0,0,0);const l=YNe(i);return n.setMonth(t,Math.min(s,l)),n}function N_(e,t,r){const n=Ut(e,r==null?void 0:r.in);return n.setHours(t),n}function S_(e,t,r){const n=Ut(e,r==null?void 0:r.in);return n.setMinutes(t),n}function my(e,t,r){const n=Ut(e,r==null?void 0:r.in),a=Math.trunc(n.getMonth()/3)+1,s=t-a;return Yl(n,n.getMonth()+s*3)}function j_(e,t,r){const n=Ut(e,r==null?void 0:r.in);return n.setSeconds(t),n}function Cu(e,t,r){const n=Ut(e,r==null?void 0:r.in);return isNaN(+n)?vn(e,NaN):(n.setFullYear(t),n)}function gg(e,t,r){return ru(e,-t,r)}function $ee(e,t,r){return uL(e,-1,r)}function OH(e,t,r){return Lk(e,-1,r)}function Bv(e,t,r){return xh(e,-t,r)}function P4(){return typeof window<"u"}function Eb(e){return Uee(e)?(e.nodeName||"").toLowerCase():"#document"}function Nc(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function uf(e){var t;return(t=(Uee(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Uee(e){return P4()?e instanceof Node||e instanceof Nc(e).Node:!1}function Uo(e){return P4()?e instanceof Element||e instanceof Nc(e).Element:!1}function Gu(e){return P4()?e instanceof HTMLElement||e instanceof Nc(e).HTMLElement:!1}function PH(e){return!P4()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Nc(e).ShadowRoot}const fje=new Set(["inline","contents"]);function KN(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=vd(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!fje.has(a)}const hje=new Set(["table","td","th"]);function pje(e){return hje.has(Eb(e))}const mje=[":popover-open",":modal"];function R4(e){return mje.some(t=>{try{return e.matches(t)}catch{return!1}})}const gje=["transform","translate","scale","rotate","perspective"],xje=["transform","translate","scale","rotate","perspective","filter"],yje=["paint","layout","strict","content"];function vL(e){const t=bL(),r=Uo(e)?vd(e):e;return gje.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||xje.some(n=>(r.willChange||"").includes(n))||yje.some(n=>(r.contain||"").includes(n))}function vje(e){let t=Hm(e);for(;Gu(t)&&!Hv(t);){if(vL(t))return t;if(R4(t))return null;t=Hm(t)}return null}function bL(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bje=new Set(["html","body","#document"]);function Hv(e){return bje.has(Eb(e))}function vd(e){return Nc(e).getComputedStyle(e)}function L4(e){return Uo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Hm(e){if(Eb(e)==="html")return e;const t=e.assignedSlot||e.parentNode||PH(e)&&e.host||uf(e);return PH(t)?t.host:t}function Vee(e){const t=Hm(e);return Hv(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gu(t)&&KN(t)?t:Vee(t)}function Hw(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=Vee(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),i=Nc(a);if(s){const l=g6(i);return t.concat(i,i.visualViewport||[],KN(a)?a:[],l&&r?Hw(l):[])}return t.concat(a,Hw(a,[],r))}function g6(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const $v=Math.min,xg=Math.max,zk=Math.round,Uj=Math.floor,qu=e=>({x:e,y:e}),wje={left:"right",right:"left",bottom:"top",top:"bottom"},Nje={start:"end",end:"start"};function Sje(e,t,r){return xg(e,$v(t,r))}function I4(e,t){return typeof e=="function"?e(t):e}function Uv(e){return e.split("-")[0]}function XN(e){return e.split("-")[1]}function jje(e){return e==="x"?"y":"x"}function wL(e){return e==="y"?"height":"width"}const _je=new Set(["top","bottom"]);function Q0(e){return _je.has(Uv(e))?"y":"x"}function NL(e){return jje(Q0(e))}function kje(e,t,r){r===void 0&&(r=!1);const n=XN(e),a=NL(e),s=wL(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Bk(i)),[i,Bk(i)]}function Cje(e){const t=Bk(e);return[x6(e),t,x6(t)]}function x6(e){return e.replace(/start|end/g,t=>Nje[t])}const RH=["left","right"],LH=["right","left"],Aje=["top","bottom"],Eje=["bottom","top"];function Tje(e,t,r){switch(e){case"top":case"bottom":return r?t?LH:RH:t?RH:LH;case"left":case"right":return t?Aje:Eje;default:return[]}}function Dje(e,t,r,n){const a=XN(e);let s=Tje(Uv(e),r==="start",n);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map(x6)))),s}function Bk(e){return e.replace(/left|right|bottom|top/g,t=>wje[t])}function Mje(e){return{top:0,right:0,bottom:0,left:0,...e}}function qee(e){return typeof e!="number"?Mje(e):{top:e,right:e,bottom:e,left:e}}function Hk(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}var Oje=typeof document<"u",Pje=function(){},$k=Oje?b.useLayoutEffect:Pje;const Rje={...i4},Lje=Rje.useInsertionEffect,Ije=Lje||(e=>e());function Fje(e){const t=b.useRef(()=>{});return Ije(()=>{t.current=e}),b.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function IH(e,t,r){let{reference:n,floating:a}=e;const s=Q0(t),i=NL(t),l=wL(i),c=Uv(t),d=s==="y",u=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,p=n[l]/2-a[l]/2;let h;switch(c){case"top":h={x:u,y:n.y-a.height};break;case"bottom":h={x:u,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-a.width,y:f};break;default:h={x:n.x,y:n.y}}switch(XN(t)){case"start":h[i]-=p*(r&&d?-1:1);break;case"end":h[i]+=p*(r&&d?-1:1);break}return h}const zje=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,l=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=IH(d,n,c),p=n,h={},m=0;for(let g=0;g<l.length;g++){const{name:x,fn:y}=l[g],{x:v,y:w,data:N,reset:C}=await y({x:u,y:f,initialPlacement:n,placement:p,strategy:a,middlewareData:h,rects:d,platform:i,elements:{reference:e,floating:t}});u=v??u,f=w??f,h={...h,[x]:{...h[x],...N}},C&&m<=50&&(m++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(d=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):C.rects),{x:u,y:f}=IH(d,p,c)),g=-1)}return{x:u,y:f,placement:p,strategy:a,middlewareData:h}};async function Bje(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:i,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=I4(t,e),m=qee(h),x=l[p?f==="floating"?"reference":"floating":f],y=Hk(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(x)))==null||r?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=f==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),N=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},C=Hk(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(y.top-C.top+m.top)/N.y,bottom:(C.bottom-y.bottom+m.bottom)/N.y,left:(y.left-C.left+m.left)/N.x,right:(C.right-y.right+m.right)/N.x}}const Hje=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:i,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=I4(e,t)||{};if(d==null)return{};const f=qee(u),p={x:r,y:n},h=NL(a),m=wL(h),g=await i.getDimensions(d),x=h==="y",y=x?"top":"left",v=x?"bottom":"right",w=x?"clientHeight":"clientWidth",N=s.reference[m]+s.reference[h]-p[h]-s.floating[m],C=p[h]-s.reference[h],_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let S=_?_[w]:0;(!S||!await(i.isElement==null?void 0:i.isElement(_)))&&(S=l.floating[w]||s.floating[m]);const k=N/2-C/2,A=S/2-g[m]/2-1,O=$v(f[y],A),D=$v(f[v],A),M=O,I=S-g[m]-D,z=S/2-g[m]/2+k,Y=Sje(M,z,I),X=!c.arrow&&XN(a)!=null&&z!==Y&&s.reference[m]/2-(z<M?O:D)-g[m]/2<0,V=X?z<M?z-M:z-I:0;return{[h]:p[h]+V,data:{[h]:Y,centerOffset:z-Y-V,...X&&{alignmentOffset:V}},reset:X}}}),$je=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...x}=I4(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=Uv(a),v=Q0(l),w=Uv(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),C=p||(w||!g?[Bk(l)]:Cje(l)),_=m!=="none";!p&&_&&C.push(...Dje(l,g,m,N));const S=[l,...C],k=await Bje(t,x),A=[];let O=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&A.push(k[y]),f){const z=kje(a,i,N);A.push(k[z[0]],k[z[1]])}if(O=[...O,{placement:a,overflows:A}],!A.every(z=>z<=0)){var D,M;const z=(((D=s.flip)==null?void 0:D.index)||0)+1,Y=S[z];if(Y&&(!(f==="alignment"?v!==Q0(Y):!1)||O.every(G=>Q0(G.placement)===v?G.overflows[0]>0:!0)))return{data:{index:z,overflows:O},reset:{placement:Y}};let X=(M=O.filter(V=>V.overflows[0]<=0).sort((V,G)=>V.overflows[1]-G.overflows[1])[0])==null?void 0:M.placement;if(!X)switch(h){case"bestFit":{var I;const V=(I=O.filter(G=>{if(_){const J=Q0(G.placement);return J===v||J==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(J=>J>0).reduce((J,B)=>J+B,0)]).sort((G,J)=>G[1]-J[1])[0])==null?void 0:I[0];V&&(X=V);break}case"initialPlacement":X=l;break}if(a!==X)return{reset:{placement:X}}}return{}}}},Uje=new Set(["left","top"]);async function Vje(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=Uv(r),l=XN(r),c=Q0(r)==="y",d=Uje.has(i)?-1:1,u=s&&c?-1:1,f=I4(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof m=="number"&&(h=l==="end"?m*-1:m),c?{x:h*u,y:p*d}:{x:p*d,y:h*u}}const qje=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:l}=t,c=await Vje(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:i}}}}};function Wee(e){const t=vd(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Gu(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=zk(r)!==s||zk(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function SL(e){return Uo(e)?e:e.contextElement}function tv(e){const t=SL(e);if(!Gu(t))return qu(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=Wee(t);let i=(s?zk(r.width):r.width)/n,l=(s?zk(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Wje=qu(0);function Yee(e){const t=Nc(e);return!bL()||!t.visualViewport?Wje:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Yje(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Nc(e)?!1:t}function Wg(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=SL(e);let i=qu(1);t&&(n?Uo(n)&&(i=tv(n)):i=tv(e));const l=Yje(s,r,n)?Yee(s):qu(0);let c=(a.left+l.x)/i.x,d=(a.top+l.y)/i.y,u=a.width/i.x,f=a.height/i.y;if(s){const p=Nc(s),h=n&&Uo(n)?Nc(n):n;let m=p,g=g6(m);for(;g&&n&&h!==m;){const x=tv(g),y=g.getBoundingClientRect(),v=vd(g),w=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*x.x,N=y.top+(g.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,d*=x.y,u*=x.x,f*=x.y,c+=w,d+=N,m=Nc(g),g=g6(m)}}return Hk({width:u,height:f,x:c,y:d})}function F4(e,t){const r=L4(e).scrollLeft;return t?t.left+r:Wg(uf(e)).left+r}function Gee(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-F4(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function Gje(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",i=uf(n),l=t?R4(t.floating):!1;if(n===i||l&&s)return r;let c={scrollLeft:0,scrollTop:0},d=qu(1);const u=qu(0),f=Gu(n);if((f||!f&&!s)&&((Eb(n)!=="body"||KN(i))&&(c=L4(n)),Gu(n))){const h=Wg(n);d=tv(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}const p=i&&!f&&!s?Gee(i,c):qu(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+p.x,y:r.y*d.y-c.scrollTop*d.y+u.y+p.y}}function Kje(e){return Array.from(e.getClientRects())}function Xje(e){const t=uf(e),r=L4(e),n=e.ownerDocument.body,a=xg(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=xg(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+F4(e);const l=-r.scrollTop;return vd(n).direction==="rtl"&&(i+=xg(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:l}}const FH=25;function Jje(e,t){const r=Nc(e),n=uf(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){s=a.width,i=a.height;const u=bL();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const d=F4(n);if(d<=0){const u=n.ownerDocument,f=u.body,p=getComputedStyle(f),h=u.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,m=Math.abs(n.clientWidth-f.clientWidth-h);m<=FH&&(s-=m)}else d<=FH&&(s+=d);return{width:s,height:i,x:l,y:c}}const Qje=new Set(["absolute","fixed"]);function Zje(e,t){const r=Wg(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=Gu(e)?tv(e):qu(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,d=n*s.y;return{width:i,height:l,x:c,y:d}}function zH(e,t,r){let n;if(t==="viewport")n=Jje(e,r);else if(t==="document")n=Xje(uf(e));else if(Uo(t))n=Zje(t,r);else{const a=Yee(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Hk(n)}function Kee(e,t){const r=Hm(e);return r===t||!Uo(r)||Hv(r)?!1:vd(r).position==="fixed"||Kee(r,t)}function e5e(e,t){const r=t.get(e);if(r)return r;let n=Hw(e,[],!1).filter(l=>Uo(l)&&Eb(l)!=="body"),a=null;const s=vd(e).position==="fixed";let i=s?Hm(e):e;for(;Uo(i)&&!Hv(i);){const l=vd(i),c=vL(i);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&Qje.has(a.position)||KN(i)&&!c&&Kee(e,i))?n=n.filter(u=>u!==i):a=l,i=Hm(i)}return t.set(e,n),n}function t5e(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?R4(t)?[]:e5e(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((d,u)=>{const f=zH(t,u,a);return d.top=xg(f.top,d.top),d.right=$v(f.right,d.right),d.bottom=$v(f.bottom,d.bottom),d.left=xg(f.left,d.left),d},zH(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function r5e(e){const{width:t,height:r}=Wee(e);return{width:t,height:r}}function n5e(e,t,r){const n=Gu(t),a=uf(t),s=r==="fixed",i=Wg(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=qu(0);function d(){c.x=F4(a)}if(n||!n&&!s)if((Eb(t)!=="body"||KN(a))&&(l=L4(t)),n){const h=Wg(t,!0,s,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&d();s&&!n&&a&&d();const u=a&&!n&&!s?Gee(a,l):qu(0),f=i.left+l.scrollLeft-c.x-u.x,p=i.top+l.scrollTop-c.y-u.y;return{x:f,y:p,width:i.width,height:i.height}}function ZT(e){return vd(e).position==="static"}function BH(e,t){if(!Gu(e)||vd(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return uf(e)===r&&(r=r.ownerDocument.body),r}function Xee(e,t){const r=Nc(e);if(R4(e))return r;if(!Gu(e)){let a=Hm(e);for(;a&&!Hv(a);){if(Uo(a)&&!ZT(a))return a;a=Hm(a)}return r}let n=BH(e,t);for(;n&&pje(n)&&ZT(n);)n=BH(n,t);return n&&Hv(n)&&ZT(n)&&!vL(n)?r:n||vje(e)||r}const a5e=async function(e){const t=this.getOffsetParent||Xee,r=this.getDimensions,n=await r(e.floating);return{reference:n5e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function s5e(e){return vd(e).direction==="rtl"}const i5e={convertOffsetParentRelativeRectToViewportRelativeRect:Gje,getDocumentElement:uf,getClippingRect:t5e,getOffsetParent:Xee,getElementRects:a5e,getClientRects:Kje,getDimensions:r5e,getScale:tv,isElement:Uo,isRTL:s5e};function Jee(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function o5e(e,t){let r=null,n;const a=uf(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=e.getBoundingClientRect(),{left:u,top:f,width:p,height:h}=d;if(l||t(),!p||!h)return;const m=Uj(f),g=Uj(a.clientWidth-(u+p)),x=Uj(a.clientHeight-(f+h)),y=Uj(u),w={rootMargin:-m+"px "+-g+"px "+-x+"px "+-y+"px",threshold:xg(0,$v(1,c))||1};let N=!0;function C(_){const S=_[0].intersectionRatio;if(S!==c){if(!N)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!Jee(d,e.getBoundingClientRect())&&i(),N=!1}try{r=new IntersectionObserver(C,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(C,w)}r.observe(e)}return i(!0),s}function l5e(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=SL(e),u=a||s?[...d?Hw(d):[],...Hw(t)]:[];u.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=d&&l?o5e(d,r):null;let p=-1,h=null;i&&(h=new ResizeObserver(y=>{let[v]=y;v&&v.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),r()}),d&&!c&&h.observe(d),h.observe(t));let m,g=c?Wg(e):null;c&&x();function x(){const y=Wg(e);g&&!Jee(g,y)&&r(),g=y,m=requestAnimationFrame(x)}return r(),()=>{var y;u.forEach(v=>{a&&v.removeEventListener("scroll",r),s&&v.removeEventListener("resize",r)}),f==null||f(),(y=h)==null||y.disconnect(),h=null,c&&cancelAnimationFrame(m)}}const c5e=qje,d5e=$je,HH=Hje,u5e=(e,t,r)=>{const n=new Map,a={platform:i5e,...r},s={...a.platform,_c:n};return zje(e,t,{...a,platform:s})};var f5e=typeof document<"u",h5e=function(){},__=f5e?b.useLayoutEffect:h5e;function Uk(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Uk(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!Uk(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Qee(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $H(e,t){const r=Qee(e);return Math.round(t*r)/r}function eD(e){const t=b.useRef(e);return __(()=>{t.current=e}),t}function p5e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=b.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=b.useState(n);Uk(p,n)||h(n);const[m,g]=b.useState(null),[x,y]=b.useState(null),v=b.useCallback(G=>{G!==_.current&&(_.current=G,g(G))},[]),w=b.useCallback(G=>{G!==S.current&&(S.current=G,y(G))},[]),N=s||m,C=i||x,_=b.useRef(null),S=b.useRef(null),k=b.useRef(u),A=c!=null,O=eD(c),D=eD(a),M=eD(d),I=b.useCallback(()=>{if(!_.current||!S.current)return;const G={placement:t,strategy:r,middleware:p};D.current&&(G.platform=D.current),u5e(_.current,S.current,G).then(J=>{const B={...J,isPositioned:M.current!==!1};z.current&&!Uk(k.current,B)&&(k.current=B,af.flushSync(()=>{f(B)}))})},[p,t,r,D,M]);__(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(G=>({...G,isPositioned:!1})))},[d]);const z=b.useRef(!1);__(()=>(z.current=!0,()=>{z.current=!1}),[]),__(()=>{if(N&&(_.current=N),C&&(S.current=C),N&&C){if(O.current)return O.current(N,C,I);I()}},[N,C,I,O,A]);const Y=b.useMemo(()=>({reference:_,floating:S,setReference:v,setFloating:w}),[v,w]),X=b.useMemo(()=>({reference:N,floating:C}),[N,C]),V=b.useMemo(()=>{const G={position:r,left:0,top:0};if(!X.floating)return G;const J=$H(X.floating,u.x),B=$H(X.floating,u.y);return l?{...G,transform:"translate("+J+"px, "+B+"px)",...Qee(X.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:J,top:B}},[r,l,X.floating,u.x,u.y]);return b.useMemo(()=>({...u,update:I,refs:Y,elements:X,floatingStyles:V}),[u,I,Y,X,V])}const m5e=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?HH({element:n.current,padding:a}).fn(r):{}:n?HH({element:n,padding:a}).fn(r):{}}}},g5e=(e,t)=>({...c5e(e),options:[e,t]}),x5e=(e,t)=>({...d5e(e),options:[e,t]}),y5e=(e,t)=>({...m5e(e),options:[e,t]}),v5e={...i4};let UH=!1,b5e=0;const VH=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+b5e++;function w5e(){const[e,t]=b.useState(()=>UH?VH():void 0);return $k(()=>{e==null&&t(VH())},[]),b.useEffect(()=>{UH=!0},[]),e}const N5e=v5e.useId,Zee=N5e||w5e,S5e=b.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:s,shift:i}},width:l=14,height:c=7,tipRadius:d=0,strokeWidth:u=0,staticOffset:f,stroke:p,d:h,style:{transform:m,...g}={},...x}=t,y=Zee(),[v,w]=b.useState(!1);if($k(()=>{if(!a)return;vd(a).direction==="rtl"&&w(!0)},[a]),!a)return null;const[N,C]=n.split("-"),_=N==="top"||N==="bottom";let S=f;(_&&i!=null&&i.x||!_&&i!=null&&i.y)&&(S=null);const k=u*2,A=k/2,O=l/2*(d/-8+1),D=c/2*d/4,M=!!h,I=S&&C==="end"?"bottom":"top";let z=S&&C==="end"?"right":"left";S&&v&&(z=C==="end"?"left":"right");const Y=(s==null?void 0:s.x)!=null?S||s.x:"",X=(s==null?void 0:s.y)!=null?S||s.y:"",V=h||"M0,0"+(" H"+l)+(" L"+(l-O)+","+(c-D))+(" Q"+l/2+","+c+" "+O+","+(c-D))+" Z",G={top:M?"rotate(180deg)":"",left:M?"rotate(90deg)":"rotate(-90deg)",bottom:M?"":"rotate(180deg)",right:M?"rotate(-90deg)":"rotate(90deg)"}[N];return o.jsxs("svg",{...x,"aria-hidden":!0,ref:r,width:M?l:l+k,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[z]:Y,[I]:X,[N]:_||M?"100%":"calc(100% - "+k/2+"px)",transform:[G,m].filter(J=>!!J).join(" "),...g},children:[k>0&&o.jsx("path",{clipPath:"url(#"+y+")",fill:"none",stroke:p,strokeWidth:k+(h?0:1),d:V}),o.jsx("path",{stroke:k&&!h?x.fill:"none",d:V}),o.jsx("clipPath",{id:y,children:o.jsx("rect",{x:-A,y:A*(M?-1:1),width:l+k,height:l})})]})});function j5e(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(a=>a(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;(n=e.get(t))==null||n.delete(r)}}}const _5e=b.createContext(null),k5e=b.createContext(null),C5e=()=>{var e;return((e=b.useContext(_5e))==null?void 0:e.id)||null},A5e=()=>b.useContext(k5e);function E5e(e){const{open:t=!1,onOpenChange:r,elements:n}=e,a=Zee(),s=b.useRef({}),[i]=b.useState(()=>j5e()),l=C5e()!=null,[c,d]=b.useState(n.reference),u=Fje((h,m,g)=>{s.current.openEvent=h?m:void 0,i.emit("openchange",{open:h,event:m,reason:g,nested:l}),r==null||r(h,m,g)}),f=b.useMemo(()=>({setPositionReference:d}),[]),p=b.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return b.useMemo(()=>({dataRef:s,open:t,onOpenChange:u,elements:p,events:i,floatingId:a,refs:f}),[t,u,p,i,a,f])}function T5e(e){e===void 0&&(e={});const{nodeId:t}=e,r=E5e({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,a=n.elements,[s,i]=b.useState(null),[l,c]=b.useState(null),u=(a==null?void 0:a.domReference)||s,f=b.useRef(null),p=A5e();$k(()=>{u&&(f.current=u)},[u]);const h=p5e({...e,elements:{...a,...l&&{reference:l}}}),m=b.useCallback(w=>{const N=Uo(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),getClientRects:()=>w.getClientRects(),contextElement:w}:w;c(N),h.refs.setReference(N)},[h.refs]),g=b.useCallback(w=>{(Uo(w)||w===null)&&(f.current=w,i(w)),(Uo(h.refs.reference.current)||h.refs.reference.current===null||w!==null&&!Uo(w))&&h.refs.setReference(w)},[h.refs]),x=b.useMemo(()=>({...h.refs,setReference:g,setPositionReference:m,domReference:f}),[h.refs,g,m]),y=b.useMemo(()=>({...h.elements,domReference:u}),[h.elements,u]),v=b.useMemo(()=>({...h,...n,refs:x,elements:y,nodeId:t}),[h,x,y,t,n]);return $k(()=>{n.dataRef.current.floatingContext=v;const w=p==null?void 0:p.nodesRef.current.find(N=>N.id===t);w&&(w.context=v)}),b.useMemo(()=>({...h,context:v,refs:x,elements:y}),[h,x,y,v])}/*!
  react-datepicker v9.0.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var y6=function(t,r){return y6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},y6(t,r)};function to(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");y6(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Br=function(){return Br=Object.assign||function(r){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Br.apply(this,arguments)};function zu(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var D5e=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,a=n===void 0?!1:n,s=e.className,i=e.children,l=e.inline,c=r?"Choose Time":"Choose Date".concat(a?" and Time":"");return Fe.createElement("div",{className:s,"aria-label":c,role:l?void 0:"dialog","aria-modal":l?void 0:"true"},i)},M5e=function(e,t){var r=b.useRef(null),n=b.useRef(e);b.useEffect(function(){n.current=e},[e]);var a=b.useCallback(function(s){var i,l=s.composed&&s.composedPath&&s.composedPath().find(function(c){return c instanceof Node})||s.target;r.current&&!r.current.contains(l)&&(t&&l instanceof HTMLElement&&l.classList.contains(t)||(i=n.current)===null||i===void 0||i.call(n,s))},[t]);return b.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),r},z4=function(e){var t=e.children,r=e.onClickOutside,n=e.className,a=e.containerRef,s=e.style,i=e.ignoreClass,l=M5e(r,i);return Fe.createElement("div",{className:n,style:s,ref:function(c){l.current=c,a&&(a.current=c)}},t)},Vj=null,qH=!1;function ete(){if(qH)return Vj;qH=!0;try{Vj=require("date-fns-tz")}catch{Vj=null}return Vj}function WH(e,t){if(!t)return e;var r=ete();return r?r.toZonedTime(e,t):e}function Of(e,t){if(!t)return e;var r=ete();return r?r.fromZonedTime(e,t):e}var Mt;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Mt||(Mt={}));function tte(){var e=typeof window<"u"?window:globalThis;return e}var JN=12;function an(e){if(e==null)return new Date;var t=typeof e=="string"?m6(e):Ut(e);return cl(t)?t:new Date}function A0(e,t,r,n,a){a===void 0&&(a=an());for(var s=Vv(r)||Vv(jL()),i=Array.isArray(t)?t:[t],l=0,c=i;l<c.length;l++){var d=c[l],u=qSe(e,d,a,{locale:s});if(cl(u)&&(!n||e===ua(u,d,r)))return u}return null}function O5e(e,t){if(t===void 0&&(t=an()),!e)return null;var r=e.match(/\b(1\d{3}|2\d{3})\b/);if(!r||!r[1])return null;var n=parseInt(r[1],10),a=e.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),s=a&&a[1]?parseInt(a[1],10)-1:t.getMonth();return new Date(n,s,1)}function cl(e){return Iw(e)}function ua(e,t,r){if(r==="en")return ps(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Vv(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||Vv(jL()),ps(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function sl(e,t){var r=t.dateFormat,n=t.locale,a=Array.isArray(r)&&r.length>0?r[0]:r;return e&&ua(e,a,n)||""}var rte=" - ";function P5e(e,t,r){if(!e&&!t)return"";var n=e?sl(e,r):"",a=t?sl(t,r):"",s=r.rangeSeparator||rte;return"".concat(n).concat(s).concat(a)}function R5e(e,t){if(!(e!=null&&e.length))return"";var r=e[0]?sl(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=sl(e[1],t);return"".concat(r,", ").concat(n)}var a=e.length-1;return"".concat(r," (+").concat(a,")")}function Pf(e,t){var r=t.hour,n=r===void 0?0:r,a=t.minute,s=a===void 0?0:a,i=t.second,l=i===void 0?0:i;return N_(S_(j_(e,l),s),n)}function L5e(e){return mL(e)}function I5e(e,t){return ua(e,"ddd",t)}function i2(e){return Vg(e)}function jm(e,t,r){var n=Vv(t||jL());return Ih(e,{locale:n,weekStartsOn:r})}function bh(e){return Mee(e)}function o2(e){return O4(e)}function YH(e){return f6(e)}function GH(){return Vg(an())}function KH(e){return fL(e)}function F5e(e){return Xwe(e)}function z5e(e){return hL(e)}function Tu(e,t){return e&&t?KSe(e,t):!e&&!t}function Lo(e,t){return e&&t?YSe(e,t):!e&&!t}function Vk(e,t){return e&&t?GSe(e,t):!e&&!t}function Gr(e,t){return e&&t?Uwe(e,t):!e&&!t}function Z0(e,t){return e&&t?XNe(e,t):!e&&!t}function I0(e,t,r){var n,a=Vg(t),s=fL(r);try{n=Bw(e,{start:a,end:s})}catch{n=!1}return n}function jL(){var e=tte();return e.__localeId__}function Vv(e){if(typeof e=="string"){var t=tte();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function B5e(e,t,r){return t(ua(e,"EEEE",r))}function H5e(e,t){return ua(e,"EEEEEE",t)}function $5e(e,t){return ua(e,"EEE",t)}function _L(e,t){return ua(Yl(an(),e),"LLLL",t)}function nte(e,t){return ua(Yl(an(),e),"LLL",t)}function U5e(e,t){return ua(my(an(),e),"QQQ",t)}function Zc(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,i=r.excludeDateIntervals,l=r.includeDates,c=r.includeDateIntervals,d=r.filterDate,u=r.disabled;return u?!0:QN(e,{minDate:n,maxDate:a})||s&&s.some(function(f){return f instanceof Date?Gr(e,f):Gr(e,f.date)})||i&&i.some(function(f){var p=f.start,h=f.end;return Bw(e,{start:p,end:h})})||l&&!l.some(function(f){return Gr(e,f)})||c&&!c.some(function(f){var p=f.start,h=f.end;return Bw(e,{start:p,end:h})})||d&&!d(an(e))||!1}function kL(e,t){var r=t===void 0?{}:t,n=r.excludeDates,a=r.excludeDateIntervals;return a&&a.length>0?a.some(function(s){var i=s.start,l=s.end;return Bw(e,{start:i,end:l})}):n&&n.some(function(s){var i;return s instanceof Date?Gr(e,s):Gr(e,(i=s.date)!==null&&i!==void 0?i:new Date)})||!1}function ate(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,i=r.includeDates,l=r.filterDate;return QN(e,{minDate:n?Mee(n):void 0,maxDate:a?hL(a):void 0})||(s==null?void 0:s.some(function(c){return Lo(e,c instanceof Date?c:c.date)}))||i&&!i.some(function(c){return Lo(e,c)})||l&&!l(an(e))||!1}function qj(e,t,r,n){var a=Yr(e),s=ul(e),i=Yr(t),l=ul(t),c=Yr(n);return a===i&&a===c?s<=r&&r<=l:a<i?c===a&&s<=r||c===i&&l>=r||c<i&&c>a:!1}function V5e(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,i=r.includeDates;return QN(e,{minDate:n,maxDate:a})||s&&s.some(function(l){return Lo(l instanceof Date?l:l.date,e)})||i&&!i.some(function(l){return Lo(l,e)})||!1}function Wj(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,i=r.includeDates,l=r.filterDate,c=r.disabled;return c?!0:QN(e,{minDate:n,maxDate:a})||(s==null?void 0:s.some(function(d){return Vk(e,d instanceof Date?d:d.date)}))||i&&!i.some(function(d){return Vk(e,d)})||l&&!l(an(e))||!1}function Yj(e,t,r){if(!t||!r||!Iw(t)||!Iw(r))return!1;var n=Yr(t),a=Yr(r);return n<=e&&a>=e}function k_(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,i=r.includeDates,l=r.filterDate,c=r.disabled;if(c)return!0;var d=new Date(e,0,1);return QN(d,{minDate:n?O4(n):void 0,maxDate:a?Oee(a):void 0})||(s==null?void 0:s.some(function(u){return Tu(d,u instanceof Date?u:u.date)}))||i&&!i.some(function(u){return Tu(d,u)})||l&&!l(an(d))||!1}function Gj(e,t,r,n){var a=Yr(e),s=em(e),i=Yr(t),l=em(t),c=Yr(n);return a===i&&a===c?s<=r&&r<=l:a<i?c===a&&s<=r||c===i&&l>=r||c<i&&c>a:!1}function QN(e,t){var r,n=t===void 0?{}:t,a=n.minDate,s=n.maxDate;return(r=a&&qg(e,a)<0||s&&qg(e,s)>0)!==null&&r!==void 0?r:!1}function XH(e,t){return t.some(function(r){return fo(r)===fo(e)&&ho(r)===ho(e)&&Sm(r)===Sm(e)})}function JH(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,a=r.includeTimes,s=r.filterTime;return n&&XH(e,n)||a&&!XH(e,a)||s&&!s(e)||!1}function QH(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var a=an();a=N_(a,fo(e)),a=S_(a,ho(e)),a=j_(a,Sm(e));var s=an();s=N_(s,fo(r)),s=S_(s,ho(r)),s=j_(s,Sm(r));var i=an();i=N_(i,fo(n)),i=S_(i,ho(n)),i=j_(i,Sm(n));var l;try{l=!Bw(a,{start:s,end:i})}catch{l=!1}return l}function ZH(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,s=gg(e,1);return n&&Fw(n,s)>0||a&&a.every(function(i){return Fw(i,s)>0})||!1}function e$(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,s=ru(e,1);return n&&Fw(s,n)>0||a&&a.every(function(i){return Fw(s,i)>0})||!1}function q5e(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,s=O4(e),i=$ee(s);return n&&Ik(n,i)>0||a&&a.every(function(l){return Ik(l,i)>0})||!1}function W5e(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,s=Oee(e),i=uL(s,1);return n&&Ik(i,n)>0||a&&a.every(function(l){return Ik(i,l)>0})||!1}function t$(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,s=Bv(e,1);return n&&zw(n,s)>0||a&&a.every(function(i){return zw(i,s)>0})||!1}function Y5e(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.yearItemNumber,s=a===void 0?JN:a,i=o2(Bv(e,s)),l=ih(i,s).endPeriod,c=n&&Yr(n);return c&&c>l||!1}function r$(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,s=xh(e,1);return n&&zw(s,n)>0||a&&a.every(function(i){return zw(s,i)>0})||!1}function G5e(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.yearItemNumber,s=a===void 0?JN:a,i=xh(e,s),l=ih(i,s).startPeriod,c=n&&Yr(n);return c&&c<l||!1}function ste(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return qg(a,t)>=0});return kH(n)}else return r?kH(r):t}function ite(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return qg(a,t)<=0});return _H(n)}else return r?_H(r):t}function n$(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,a=0,s=e.length;a<s;a++){var i=e[a];if(yh(i)){var l=ua(i,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(t)||(c.push(t),n.set(l,c))}else if(typeof i=="object"){var d=Object.keys(i),u=(r=d[0])!==null&&r!==void 0?r:"",f=i[u];if(typeof u=="string"&&Array.isArray(f))for(var p=0,h=f.length;p<h;p++){var m=f[p];if(m){var l=ua(m,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(u)||(c.push(u),n.set(l,c))}}}}return n}function K5e(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function X5e(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var a=n.date,s=n.holidayName;if(yh(a)){var i=ua(a,"MM.dd.yyyy"),l=r.get(i)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===t&&K5e(l.holidayNames,[s]))){l.className=t;var c=l.holidayNames;l.holidayNames=c?zu(zu([],c,!0),[s],!1):[s],r.set(i,l)}}}),r}function J5e(e,t,r,n,a){for(var s=a.length,i=[],l=0;l<s;l++){var c=e,d=a[l];d&&(c=Fwe(c,fo(d)),c=Lw(c,ho(d)),c=Hwe(c,Sm(d)));var u=Lw(e,(r+1)*n);vh(c,t)&&Fu(c,u)&&d!=null&&i.push(d)}return i}function Xx(e){return e<10?"0".concat(e):"".concat(e)}function ih(e,t){t===void 0&&(t=JN);var r=Math.ceil(Yr(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function Q5e(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function a$(e){var t=e.getSeconds(),r=e.getMilliseconds();return Ut(e.getTime()-t*1e3-r)}function ote(e,t){return a$(e).getTime()===a$(t).getTime()}function s$(e){if(!yh(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function tD(e,t){if(!yh(e)||!yh(t))throw new Error("Invalid date received");var r=s$(e),n=s$(t);return Fu(r,n)}function lte(e){return e.key===Mt.Space}var rD=function(e){to(t,e);function t(r){var n=e.call(this,r)||this;return n.inputRef=Fe.createRef(),n.onTimeChange=function(a){var s,i;n.setState({time:a});var l=n.props.date,c=l instanceof Date&&!isNaN(+l),d=c?l:new Date;if(a!=null&&a.includes(":")){var u=a.split(":"),f=u[0],p=u[1];d.setHours(Number(f)),d.setMinutes(Number(p))}(i=(s=n.props).onChange)===null||i===void 0||i.call(s,d)},n.renderTimeInput=function(){var a=n.state.time,s=n.props,i=s.date,l=s.timeString,c=s.customTimeInput;return c?b.cloneElement(c,{date:i,value:a,onChange:n.onTimeChange}):Fe.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var d;(d=n.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:a,onChange:function(d){n.onTimeChange(d.target.value||l)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return Fe.createElement("div",{className:"react-datepicker__input-time-container"},Fe.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Fe.createElement("div",{className:"react-datepicker-time__input-container"},Fe.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(b.Component),Z5e=function(e){to(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=b.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var a,s,i=n.key;i===Mt.Space&&(n.preventDefault(),n.key=Mt.Enter),(s=(a=r.props).handleOnKeyDown)===null||s===void 0||s.call(a,n)},r.isSameDay=function(n){return Gr(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var a=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return r.isSameDayOrWeek(i)}):r.isSameDayOrWeek(r.props.selected),s=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!a&&r.isSameDayOrWeek(r.props.preSelection)&&!s},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),Zc(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(){return kL(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Gr(r.props.day,jm(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&Gr(n,jm(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,a=n.day,s=n.highlightDates;if(!s)return!1;var i=ua(a,"MM.dd.yyyy");return s.get(i)},r.getHolidaysClass=function(){var n,a=r.props,s=a.day,i=a.holidays;if(!i)return[void 0];var l=ua(s,"MM.dd.yyyy");return i.has(l)?[(n=i.get(l))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,a=n.day,s=n.startDate,i=n.endDate;return!s||!i?!1:I0(a,s,i)},r.isInSelectingRange=function(){var n,a=r.props,s=a.day,i=a.selectsStart,l=a.selectsEnd,c=a.selectsRange,d=a.selectsDisabledDaysInRange,u=a.startDate,f=a.swapRange,p=a.endDate,h=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;if(r.isAfterMonth()||r.isBeforeMonth()||!(i||l||c)||!h||!d&&r.isDisabled())return!1;if(i&&p&&(Fu(h,p)||Z0(h,p)))return I0(s,h,p);if(l&&u&&(vh(h,u)||Z0(h,u)))return I0(s,u,h);if(c&&u&&!p){if(Z0(h,u)||vh(h,u))return I0(s,u,h);if(f&&Fu(h,u))return I0(s,h,u)}return!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,s=a.day,i=a.startDate,l=a.selectsStart,c=a.swapRange,d=a.selectsRange,u=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?Gr(s,u):d&&c&&i&&u?Gr(s,Fu(u,i)?u:i):Gr(s,i)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,s=a.day,i=a.endDate,l=a.selectsEnd,c=a.selectsRange,d=a.swapRange,u=a.startDate,f=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?Gr(s,f):c&&d&&u&&f?Gr(s,Fu(f,u)?u:f):c?Gr(s,f):Gr(s,i)},r.isRangeStart=function(){var n=r.props,a=n.day,s=n.startDate,i=n.endDate;return!s||!i?!1:Gr(s,a)},r.isRangeEnd=function(){var n=r.props,a=n.day,s=n.startDate,i=n.endDate;return!s||!i?!1:Gr(i,a)},r.isWeekend=function(){var n=WNe(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===ul(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(ul(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(an())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return r.isSameDayOrWeek(a)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var a=r.props.dayClassName?r.props.dayClassName(n):void 0;return ur("react-datepicker__day",a,"react-datepicker__day--"+I5e(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,a=n.day,s=n.ariaLabelPrefixWhenEnabled,i=s===void 0?"Choose":s,l=n.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,d=r.isDisabled()||r.isExcluded()?c:i;return"".concat(d," ").concat(ua(a,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,a=n.day,s=n.holidays,i=s===void 0?new Map:s,l=n.excludeDates,c=ua(a,"MM.dd.yyyy"),d=[];return i.has(c)&&d.push.apply(d,i.get(c).holidayNames),r.isExcluded()&&d.push(l==null?void 0:l.filter(function(u){return u instanceof Date?Gr(u,a):Gr(u==null?void 0:u.date,a)}).map(function(u){if(!(u instanceof Date))return u==null?void 0:u.message})),d.join(", ")},r.getTabIndex=function(){var n=r.props.selected,a=r.props.preSelection,s=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&Gr(a,n))?0:-1;return s},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(MH(r.props.day),r.props.day):MH(r.props.day)},r.render=function(){return Fe.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&Fe.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,a;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(b.Component),e_e=function(e){to(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=b.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var a,s,i=n.key;i===Mt.Space&&(n.preventDefault(),n.key=Mt.Enter),(s=(a=r.props).handleOnKeyDown)===null||s===void 0||s.call(a,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Gr(r.props.date,r.props.selected)&&Gr(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Gr(r.props.date,r.props.selected)&&Gr(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var a=!1;r.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Gr(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(a=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,a=r.isWeekDisabled,s=r.ariaLabelPrefix,i=s===void 0?t.defaultProps.ariaLabelPrefix:s,l=r.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!a,"react-datepicker__week-number--selected":!!l&&Gr(this.props.date,this.props.selected)};return Fe.createElement("div",{ref:this.weekNumberEl,className:ur(c),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},t}(b.Component),t_e=function(e){to(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return Zc(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,a){r.props.onDayClick&&r.props.onDayClick(n,a)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,a,s){for(var i,l,c,d=new Date(n),u=0;u<7;u++){var f=new Date(n);f.setDate(f.getDate()+u);var p=!r.isDisabled(f);if(p){d=f;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(d,a,s),r.props.showWeekPicker&&r.handleDayClick(d,s),((i=r.props.shouldCloseOnSelect)!==null&&i!==void 0?i:t.defaultProps.shouldCloseOnSelect)&&((c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):L5e(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),a=pd(n,6),s=new Date(n);s<=a;){if(!r.isDisabled(s))return!1;s=pd(s,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),a=[],s=r.formatWeekNumber(n);if(r.props.showWeekNumber){var i=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,s):void 0;a.push(Fe.createElement(e_e,Br({key:"W"},t.defaultProps,r.props,{weekNumber:s,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:i})))}return a.concat([0,1,2,3,4,5,6].map(function(l){var c=pd(n,l);return Fe.createElement(Z5e,Br({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:r.handleDayClick.bind(r,c),onMouseEnter:r.handleDayMouseEnter.bind(r,c)}))}))},r.startOfWeek=function(){return jm(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Gr(r.startOfWeek(),r.props.selected)&&Gr(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Gr(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return Fe.createElement("div",{className:ur(r,n),role:"row"},this.renderDays())},t}(b.Component),R1,r_e=6,rv={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},nD=(R1={},R1[rv.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},R1[rv.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},R1[rv.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},R1),Kj=1;function i$(e,t){return e?rv.FOUR_COLUMNS:t?rv.TWO_COLUMNS:rv.THREE_COLUMNS}var n_e=function(e){to(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=zu([],Array(12),!0).map(function(){return b.createRef()}),r.QUARTER_REFS=zu([],Array(4),!0).map(function(){return b.createRef()}),r.isDisabled=function(n){return Zc(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(n){return kL(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,a){var s,i;(i=(s=r.props).onDayClick)===null||i===void 0||i.call(s,n,a,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var a,s;(s=(a=r.props).onDayMouseEnter)===null||s===void 0||s.call(a,n)},r.handleMouseLeave=function(){var n,a;(a=(n=r.props).onMouseLeave)===null||a===void 0||a.call(n)},r.isRangeStartMonth=function(n){var a=r.props,s=a.day,i=a.startDate,l=a.endDate;return!i||!l?!1:Lo(Yl(s,n),i)},r.isRangeStartQuarter=function(n){var a=r.props,s=a.day,i=a.startDate,l=a.endDate;return!i||!l?!1:Vk(my(s,n),i)},r.isRangeEndMonth=function(n){var a=r.props,s=a.day,i=a.startDate,l=a.endDate;return!i||!l?!1:Lo(Yl(s,n),l)},r.isRangeEndQuarter=function(n){var a=r.props,s=a.day,i=a.startDate,l=a.endDate;return!i||!l?!1:Vk(my(s,n),l)},r.isInSelectingRangeMonth=function(n){var a,s=r.props,i=s.day,l=s.selectsStart,c=s.selectsEnd,d=s.selectsRange,u=s.startDate,f=s.endDate,p=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(l||c||d)||!p?!1:l&&f?qj(p,f,n,i):c&&u||d&&u&&!f?qj(u,p,n,i):!1},r.isSelectingMonthRangeStart=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var s=r.props,i=s.day,l=s.startDate,c=s.selectsStart,d=Yl(i,n),u=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return c?Lo(d,u):Lo(d,l)},r.isSelectingMonthRangeEnd=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var s=r.props,i=s.day,l=s.endDate,c=s.selectsEnd,d=s.selectsRange,u=Yl(i,n),f=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return c||d?Lo(u,f):Lo(u,l)},r.isInSelectingRangeQuarter=function(n){var a,s=r.props,i=s.day,l=s.selectsStart,c=s.selectsEnd,d=s.selectsRange,u=s.startDate,f=s.endDate,p=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(l||c||d)||!p?!1:l&&f?Gj(p,f,n,i):c&&u||d&&u&&!f?Gj(u,p,n,i):!1},r.isWeekInMonth=function(n){var a=r.props.day,s=pd(n,6);return Lo(n,a)||Lo(s,a)},r.isCurrentMonth=function(n,a){return Yr(n)===Yr(an())&&a===ul(an())},r.isCurrentQuarter=function(n,a){return Yr(n)===Yr(an())&&a===em(an())},r.isSelectedMonth=function(n,a,s){return ul(s)===a&&Yr(n)===Yr(s)},r.isSelectMonthInList=function(n,a,s){return s.some(function(i){return r.isSelectedMonth(n,a,i)})},r.isSelectedQuarter=function(n,a,s){return em(s)===a&&Yr(n)===Yr(s)},r.isSelectQuarterInList=function(n,a,s){return s.some(function(i){return r.isSelectedQuarter(n,a,i)})},r.isMonthSelected=function(){var n=r.props,a=n.day,s=n.selected,i=n.selectedDates,l=n.selectsMultiple,c=ul(a);return l?i==null?void 0:i.some(function(d){return r.isSelectedMonth(a,c,d)}):!!s&&r.isSelectedMonth(a,c,s)},r.isQuarterSelected=function(){var n=r.props,a=n.day,s=n.selected,i=n.selectedDates,l=n.selectsMultiple,c=em(a);return l?i==null?void 0:i.some(function(d){return r.isSelectedQuarter(a,c,d)}):!!s&&r.isSelectedQuarter(a,c,s)},r.renderWeeks=function(){if(!cl(r.props.day))return[];for(var n=[],a=r.props.fixedHeight,s=0,i=!1,l=jm(bh(r.props.day),r.props.locale,r.props.calendarStartDay),c=function(m){return r.props.showWeekPicker?jm(m,r.props.locale,r.props.calendarStartDay):r.props.preSelection},d=function(m){return r.props.showWeekPicker?jm(m,r.props.locale,r.props.calendarStartDay):r.props.selected},u=r.props.selected?d(r.props.selected):void 0,f=r.props.preSelection?c(r.props.preSelection):void 0;n.push(Fe.createElement(t_e,Br({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:s,day:l,month:ul(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:u,preSelection:f,showWeekNumber:r.props.showWeekNumbers}))),!i;){s++,l=Lk(l,1);var p=a&&s>=r_e,h=!a&&!r.isWeekInMonth(l);if(p||h)if(r.props.peekNextMonth)i=!0;else break}return n},r.onMonthClick=function(n,a){var s=r.isMonthDisabledForLabelDate(a),i=s.isDisabled,l=s.labelDate;i||r.handleDayClick(bh(l),n)},r.onMonthMouseEnter=function(n){var a=r.isMonthDisabledForLabelDate(n),s=a.isDisabled,i=a.labelDate;s||r.handleDayMouseEnter(bh(i))},r.handleMonthNavigation=function(n,a){var s,i,l,c;(i=(s=r.props).setPreSelection)===null||i===void 0||i.call(s,a),(c=(l=r.MONTH_REFS[n])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},r.handleKeyboardNavigation=function(n,a,s){var i,l=r.props,c=l.selected,d=l.preSelection,u=l.setPreSelection,f=l.minDate,p=l.maxDate,h=l.showFourColumnMonthYearPicker,m=l.showTwoColumnMonthYearPicker;if(d){var g=i$(h,m),x=r.getVerticalOffset(g),y=(i=nD[g])===null||i===void 0?void 0:i.grid,v=function(S,k,A){var O,D,M=k,I=A;switch(S){case Mt.ArrowRight:M=ru(k,Kj),I=A===11?0:A+Kj;break;case Mt.ArrowLeft:M=gg(k,Kj),I=A===0?11:A-Kj;break;case Mt.ArrowUp:M=gg(k,x),I=!((O=y==null?void 0:y[0])===null||O===void 0)&&O.includes(A)?A+12-x:A-x;break;case Mt.ArrowDown:M=ru(k,x),I=!((D=y==null?void 0:y[y.length-1])===null||D===void 0)&&D.includes(A)?A-12+x:A+x;break}return{newCalculatedDate:M,newCalculatedMonth:I}},w=function(S,k,A){for(var O=40,D=S,M=!1,I=0,z=v(D,k,A),Y=z.newCalculatedDate,X=z.newCalculatedMonth;!M;){if(I>=O){Y=k,X=A;break}if(f&&Y<f){D=Mt.ArrowRight;var V=v(D,Y,X);Y=V.newCalculatedDate,X=V.newCalculatedMonth}if(p&&Y>p){D=Mt.ArrowLeft;var V=v(D,Y,X);Y=V.newCalculatedDate,X=V.newCalculatedMonth}if(V5e(Y,r.props)){var V=v(D,Y,X);Y=V.newCalculatedDate,X=V.newCalculatedMonth}else M=!0;I++}return{newCalculatedDate:Y,newCalculatedMonth:X}};if(a===Mt.Enter){r.isMonthDisabled(s)||(r.onMonthClick(n,s),u==null||u(c));return}var N=w(a,d,s),C=N.newCalculatedDate,_=N.newCalculatedMonth;switch(a){case Mt.ArrowRight:case Mt.ArrowLeft:case Mt.ArrowUp:case Mt.ArrowDown:r.handleMonthNavigation(_,C);break}}},r.getVerticalOffset=function(n){var a,s;return(s=(a=nD[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&s!==void 0?s:0},r.onMonthKeyDown=function(n,a){var s=r.props,i=s.disabledKeyboardNavigation,l=s.handleOnMonthKeyDown,c=n.key;c!==Mt.Tab&&n.preventDefault(),i||r.handleKeyboardNavigation(n,c,a),l&&l(n)},r.onQuarterClick=function(n,a){var s=my(r.props.day,a);Wj(s,r.props)||r.handleDayClick(YH(s),n)},r.onQuarterMouseEnter=function(n){var a=my(r.props.day,n);Wj(a,r.props)||r.handleDayMouseEnter(YH(a))},r.handleQuarterNavigation=function(n,a){var s,i,l,c;r.isDisabled(a)||r.isExcluded(a)||((i=(s=r.props).setPreSelection)===null||i===void 0||i.call(s,a),(c=(l=r.QUARTER_REFS[n-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},r.onQuarterKeyDown=function(n,a){var s,i,l=n.key;if(!r.props.disabledKeyboardNavigation)switch(l){case Mt.Enter:r.onQuarterClick(n,a),(i=(s=r.props).setPreSelection)===null||i===void 0||i.call(s,r.props.selected);break;case Mt.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===4?1:a+1,uL(r.props.preSelection,1));break;case Mt.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===1?4:a-1,$ee(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var a,s=r.props,i=s.day,l=s.disabled,c=s.minDate,d=s.maxDate,u=s.excludeDates,f=s.includeDates,p=Yl(i,n);return l?{isDisabled:!0,labelDate:Yl(i,n)}:{isDisabled:(a=(c||d||u||f)&&ate(p,r.props))!==null&&a!==void 0?a:!1,labelDate:p}},r.isMonthDisabled=function(n){var a=r.isMonthDisabledForLabelDate(n).isDisabled;return a},r.getMonthClassNames=function(n){var a=r.props,s=a.day,i=a.startDate,l=a.endDate,c=a.preSelection,d=a.monthClassName,u=d?d(Yl(s,n)):void 0,f=r.getSelection();return ur("react-datepicker__month-text","react-datepicker__month-".concat(n),u,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":f?r.isSelectMonthInList(s,n,f):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&c&&r.isSelectedMonth(s,n,c)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":i&&l?qj(i,l,n,s):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(s,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=ul(r.props.preSelection),s=r.isMonthDisabledForLabelDate(a).isDisabled,i=n===a&&!(s||r.props.disabledKeyboardNavigation)?"0":"-1";return i},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=em(r.props.preSelection),s=Wj(r.props.day,r.props),i=n===a&&!(s||r.props.disabledKeyboardNavigation)?"0":"-1";return i},r.getAriaLabel=function(n){var a=r.props,s=a.chooseDayAriaLabelPrefix,i=s===void 0?"Choose":s,l=a.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,d=a.day,u=a.locale,f=Yl(d,n),p=r.isDisabled(f)||r.isExcluded(f)?c:i;return"".concat(p," ").concat(ua(f,"MMMM yyyy",u))},r.getQuarterClassNames=function(n){var a=r.props,s=a.day,i=a.startDate,l=a.endDate,c=a.minDate,d=a.maxDate,u=a.excludeDates,f=a.includeDates,p=a.filterDate,h=a.preSelection,m=a.disabledKeyboardNavigation,g=a.disabled,x=(c||d||u||f||p||g)&&Wj(my(s,n),r.props),y=r.getSelection();return ur("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":x,"react-datepicker__quarter-text--selected":y?r.isSelectQuarterInList(s,n,y):void 0,"react-datepicker__quarter-text--keyboard-selected":!m&&h&&r.isSelectedQuarter(s,n,h)&&!r.isQuarterSelected()&&!x,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":i&&l?Gj(i,l,n,s):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(s,n)})},r.getMonthContent=function(n){var a=r.props,s=a.showFullMonthYearPicker,i=a.renderMonthContent,l=a.locale,c=a.day,d=nte(n,l),u=_L(n,l);return i?i(n,d,u,c):s?u:d},r.getQuarterContent=function(n){var a,s=r.props,i=s.renderQuarterContent,l=s.locale,c=U5e(n,l);return(a=i==null?void 0:i(n,c))!==null&&a!==void 0?a:c},r.renderMonths=function(){var n,a=r.props,s=a.showTwoColumnMonthYearPicker,i=a.showFourColumnMonthYearPicker,l=a.day,c=a.selected,d=(n=nD[i$(i,s)])===null||n===void 0?void 0:n.grid;return d==null?void 0:d.map(function(u,f){return Fe.createElement("div",{className:"react-datepicker__month-wrapper",key:f},u.map(function(p,h){return Fe.createElement("div",{ref:r.MONTH_REFS[p],key:h,onClick:function(m){r.onMonthClick(m,p)},onKeyDown:function(m){lte(m)&&(m.preventDefault(),m.key=Mt.Enter),r.onMonthKeyDown(m,p)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(p)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(p)}:void 0,tabIndex:Number(r.getTabIndex(p)),className:r.getMonthClassNames(p),"aria-disabled":r.isMonthDisabled(p),role:"option","aria-label":r.getAriaLabel(p),"aria-current":r.isCurrentMonth(l,p)?"date":void 0,"aria-selected":c?r.isSelectedMonth(l,p,c):void 0},r.getMonthContent(p))}))})},r.renderQuarters=function(){var n=r.props,a=n.day,s=n.selected,i=[1,2,3,4];return Fe.createElement("div",{className:"react-datepicker__quarter-wrapper"},i.map(function(l,c){return Fe.createElement("div",{key:c,ref:r.QUARTER_REFS[c],role:"option",onClick:function(d){r.onQuarterClick(d,l)},onKeyDown:function(d){r.onQuarterKeyDown(d,l)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(l)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(l)}:void 0,className:r.getQuarterClassNames(l),"aria-selected":s?r.isSelectedQuarter(a,l,s):void 0,tabIndex:Number(r.getQuarterTabIndex(l)),"aria-current":r.isCurrentQuarter(a,l)?"date":void 0},r.getQuarterContent(l))}))},r.getClassNames=function(){var n=r.props,a=n.selectingDate,s=n.selectsStart,i=n.selectsEnd,l=n.showMonthYearPicker,c=n.showQuarterYearPicker,d=n.showWeekPicker;return ur("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(s||i)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":d})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,a=r.selectedDates,s=r.selectsMultiple;if(s)return a;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,a=r.showQuarterYearPicker,s=r.day,i=r.ariaLabelPrefix,l=i===void 0?"Month ":i,c=l?l.trim()+" ":"",d=cl(s)?"".concat(c).concat(ua(s,"MMMM, yyyy",this.props.locale)):"",u=n||a;return u?Fe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":d,role:"listbox"},n?this.renderMonths():this.renderQuarters()):Fe.createElement("div",{role:"table"},this.props.dayNamesHeader&&Fe.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&Fe.createElement("div",{role:"rowgroup"},this.props.monthHeader),Fe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":d,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&Fe.createElement("div",{role:"rowgroup"},this.props.monthFooter))},t}(b.Component),a_e=function(e){to(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(n){return r.props.month===n},r.handleOptionKeyDown=function(n,a){var s;switch(a.key){case"Enter":a.preventDefault(),r.onChange(n);break;case"Escape":a.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{a.preventDefault();var i=(n+(a.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(s=r.monthOptionButtonsRef[i])===null||s===void 0||s.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(n,a){return Fe.createElement("div",{ref:function(s){r.monthOptionButtonsRef[a]=s,r.isSelectedMonth(a)&&(s==null||s.focus())},role:"button",tabIndex:0,className:r.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,a),onKeyDown:r.handleOptionKeyDown.bind(r,a),"aria-selected":r.isSelectedMonth(a)?"true":void 0},r.isSelectedMonth(a)?Fe.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return Fe.createElement(z4,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(b.Component),s_e=function(e){to(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(a,s){return Fe.createElement("option",{key:a,value:s},a)})},r.renderSelectMode=function(n){return Fe.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(a){return r.onChange(parseInt(a.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,a){return Fe.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},Fe.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Fe.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[r.props.month]))},r.renderDropdown=function(n){return Fe.createElement(a_e,Br({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var a=r.state.dropdownVisible,s=[r.renderReadView(!a,n)];return a&&s.unshift(r.renderDropdown(n)),s},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return nte(s,r.props.locale)}:function(s){return _L(s,r.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return Fe.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t}(b.Component);function i_e(e,t){for(var r=[],n=bh(e),a=bh(t);!vh(n,a);)r.push(an(n)),n=ru(n,1);return r}var o_e=function(e){to(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var s=p6(a),i=Tu(n.props.date,a)&&Lo(n.props.date,a);return Fe.createElement("div",{className:i?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:n.onChange.bind(n,s),"aria-selected":i?"true":void 0},i?Fe.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",ua(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:i_e(n.props.minDate,n.props.maxDate)},n}return t.prototype.render=function(){var r=ur({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Fe.createElement(z4,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(b.Component),l_e=function(e){to(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=bh(r.props.minDate),a=bh(r.props.maxDate),s=[];!vh(n,a);){var i=p6(n);s.push(Fe.createElement("option",{key:i,value:i},ua(n,r.props.dateFormat,r.props.locale))),n=ru(n,1)}return s},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return Fe.createElement("select",{value:p6(bh(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var a=ua(r.props.date,r.props.dateFormat,r.props.locale);return Fe.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},Fe.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Fe.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},r.renderDropdown=function(){return Fe.createElement(o_e,Br({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown();var a=an(n);Tu(r.props.date,a)&&Lo(r.props.date,a)||r.props.onChange(a)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return Fe.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(b.Component),c_e=function(e){to(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,s;r.list&&(r.list.scrollTop=(s=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((a=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):r.list.clientHeight,r.centerLi))!==null&&s!==void 0?s:0)})},r.handleClick=function(n){var a,s;(r.props.minTime||r.props.maxTime)&&QH(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&JH(n,r.props)||(s=(a=r.props).onChange)===null||s===void 0||s.call(a,n)},r.isSelectedTime=function(n){return r.props.selected&&ote(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&QH(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&JH(n,r.props)},r.liClasses=function(n){var a,s=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&s.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&s.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(fo(n)*3600+ho(n)*60+Sm(n))%(((a=r.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},r.handleOnKeyDown=function(n,a){var s,i;n.key===Mt.Space&&(n.preventDefault(),n.key=Mt.Enter),(n.key===Mt.ArrowUp||n.key===Mt.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Mt.ArrowDown||n.key===Mt.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Mt.Enter&&r.handleClick(a),(i=(s=r.props).handleOnKeyDown)===null||i===void 0||i.call(s,n)},r.renderTimes=function(){for(var n,a=[],s=typeof r.props.format=="string"?r.props.format:"p",i=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,l=r.props.selected||r.props.openToDate||an(),c=i2(l),d=r.props.injectTimes&&r.props.injectTimes.sort(function(x,y){return x.getTime()-y.getTime()}),u=60*Q5e(l),f=u/i,p=0;p<f;p++){var h=Lw(c,p*i);if(a.push(h),d){var m=J5e(c,h,p,i,d);a=a.concat(m)}}var g=a.reduce(function(x,y){return y.getTime()<=l.getTime()?y:x},a[0]);return a.map(function(x){return Fe.createElement("li",{key:x.valueOf(),onClick:r.handleClick.bind(r,x),className:r.liClasses(x),ref:function(y){x===g&&(r.centerLi=y)},onKeyDown:function(y){r.handleOnKeyDown(y,x)},tabIndex:x===g?0:-1,role:"option","aria-selected":r.isSelectedTime(x)?"true":void 0,"aria-disabled":r.isDisabledTime(x)?"true":void 0},ua(x,s,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?Fe.createElement(Fe.Fragment,null):Fe.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},Fe.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},t.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var r=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==r&&this.setState({height:r})}},t.prototype.render=function(){var r=this,n,a=this.state.height;return Fe.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),Fe.createElement("div",{className:"react-datepicker__time"},Fe.createElement("div",{className:"react-datepicker__time-box"},Fe.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){r.list=s},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t}(b.Component),o$=3,d_e=function(e){to(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=zu([],Array(n.props.yearItemNumber),!0).map(function(){return b.createRef()}),n.isDisabled=function(a){return Zc(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return kL(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var s=function(){var i,l;(l=(i=n.YEAR_REFS[a])===null||i===void 0?void 0:i.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(s)},n.handleYearClick=function(a,s){n.props.onDayClick&&n.props.onDayClick(a,s)},n.handleYearNavigation=function(a,s){var i,l,c,d,u=n.props,f=u.date,p=u.yearItemNumber;if(!(f===void 0||p===void 0)){var h=ih(f,p).startPeriod;n.isDisabled(s)||n.isExcluded(s)||((l=(i=n.props).setPreSelection)===null||l===void 0||l.call(i,s),a-h<0?n.updateFocusOnPaginate(p-(h-a)):a-h>=p?n.updateFocusOnPaginate(Math.abs(p-(a-h))):(d=(c=n.YEAR_REFS[a-h])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())}},n.isSameDay=function(a,s){return Gr(a,s)},n.isCurrentYear=function(a){return a===Yr(an())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&Tu(Cu(an(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&Tu(Cu(an(),a),n.props.endDate)},n.isInRange=function(a){return Yj(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var s=n.props,i=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.startDate,u=s.endDate;return!(i||l||c)||!n.selectingDate()?!1:i&&u?Yj(a,n.selectingDate(),u):l&&d||c&&d&&!u?Yj(a,d,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var s;if(!n.isInSelectingRange(a))return!1;var i=n.props,l=i.startDate,c=i.selectsStart,d=Cu(an(),a);return c?Tu(d,(s=n.selectingDate())!==null&&s!==void 0?s:null):Tu(d,l??null)},n.isSelectingRangeEnd=function(a){var s;if(!n.isInSelectingRange(a))return!1;var i=n.props,l=i.endDate,c=i.selectsEnd,d=i.selectsRange,u=Cu(an(),a);return c||d?Tu(u,(s=n.selectingDate())!==null&&s!==void 0?s:null):Tu(u,l??null)},n.isKeyboardSelected=function(a){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var s=n.props,i=s.minDate,l=s.maxDate,c=s.excludeDates,d=s.includeDates,u=s.filterDate,f=s.selected,p=o2(Cu(n.props.date,a)),h=(i||l||c||d||u)&&k_(a,n.props),m=!!f&&Gr(p,o2(f)),g=Gr(p,o2(n.props.preSelection));return!n.props.inline&&!m&&g&&!h}},n.isSelectedYear=function(a){var s=n.props,i=s.selectsMultiple,l=s.selected,c=s.selectedDates;return i?c==null?void 0:c.some(function(d){return a===Yr(d)}):!!l&&a===Yr(l)},n.onYearClick=function(a,s){var i=n.props.date;i!==void 0&&n.handleYearClick(o2(Cu(i,s)),a)},n.onYearKeyDown=function(a,s){var i,l,c=a.key,d=n.props,u=d.date,f=d.yearItemNumber,p=d.handleOnKeyDown;if(c!==Mt.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(c){case Mt.Enter:if(n.props.selected==null)break;n.onYearClick(a,s),(l=(i=n.props).setPreSelection)===null||l===void 0||l.call(i,n.props.selected);break;case Mt.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(s+1,xh(n.props.preSelection,1));break;case Mt.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(s-1,Bv(n.props.preSelection,1));break;case Mt.ArrowUp:{if(u===void 0||f===void 0||n.props.preSelection==null)break;var h=ih(u,f).startPeriod,m=o$,g=s-m;if(g<h){var x=f%m;s>=h&&s<h+x?m=x:m+=x,g=s-m}n.handleYearNavigation(g,Bv(n.props.preSelection,m));break}case Mt.ArrowDown:{if(u===void 0||f===void 0||n.props.preSelection==null)break;var y=ih(u,f).endPeriod,m=o$,g=s+m;if(g>y){var x=f%m;s<=y&&s>y-x?m=x:m+=x,g=s+m}n.handleYearNavigation(g,xh(n.props.preSelection,m));break}}p&&p(a)},n.getYearClassNames=function(a){var s=n.props,i=s.date,l=s.disabled,c=s.minDate,d=s.maxDate,u=s.excludeDates,f=s.includeDates,p=s.filterDate,h=s.yearClassName;return ur("react-datepicker__year-text","react-datepicker__year-".concat(a),i?h==null?void 0:h(Cu(i,a)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(a),"react-datepicker__year-text--disabled":(c||d||u||f||p||l)&&k_(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var s=Yr(n.props.preSelection),i=k_(a,n.props);return a===s&&!i?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return t.prototype.render=function(){var r=this,n=[],a=this.props,s=a.date,i=a.yearItemNumber,l=a.onYearMouseEnter,c=a.onYearMouseLeave;if(s===void 0)return null;for(var d=ih(s,i),u=d.startPeriod,f=d.endPeriod,p=function(g){n.push(Fe.createElement("div",{ref:h.YEAR_REFS[g-u],onClick:function(x){r.onYearClick(x,g)},onKeyDown:function(x){lte(x)&&(x.preventDefault(),x.key=Mt.Enter),r.onYearKeyDown(x,g)},tabIndex:Number(h.getYearTabIndex(g)),className:h.getYearClassNames(g),onMouseEnter:h.props.usePointerEvent?void 0:function(x){return l(x,g)},onPointerEnter:h.props.usePointerEvent?function(x){return l(x,g)}:void 0,onMouseLeave:h.props.usePointerEvent?void 0:function(x){return c(x,g)},onPointerLeave:h.props.usePointerEvent?function(x){return c(x,g)}:void 0,key:g,"aria-current":h.isCurrentYear(g)?"date":void 0},h.getYearContent(g)))},h=this,m=u;m<=f;m++)p(m);return Fe.createElement("div",{className:"react-datepicker__year"},Fe.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t}(b.Component);function u_e(e,t,r,n){for(var a=[],s=0;s<2*t+1;s++){var i=e+t-s,l=!0;r&&(l=Yr(r)<=i),n&&l&&(l=Yr(n)>=i),l&&a.push(i)}return a}var f_e=function(e){to(t,e);function t(r){var n=e.call(this,r)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(l,c){var d;switch(c.key){case"Enter":c.preventDefault(),n.onChange(l);break;case"Escape":c.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{c.preventDefault();var u=l+(c.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[u]&&((d=n.yearOptionButtonsRef[u])===null||d===void 0||d.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var l=n.props.year,c=n.state.yearsList.map(function(f){return Fe.createElement("div",{ref:function(p){n.yearOptionButtonsRef[f]=p,f===l&&(p==null||p.focus())},role:"button",tabIndex:0,className:l===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:n.onChange.bind(n,f),onKeyDown:n.handleOptionKeyDown.bind(n,f),"aria-selected":l===f?"true":void 0},l===f?Fe.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),d=n.props.minDate?Yr(n.props.minDate):null,u=n.props.maxDate?Yr(n.props.maxDate):null;return(!u||!n.state.yearsList.find(function(f){return f===u}))&&c.unshift(Fe.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},Fe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!n.state.yearsList.find(function(f){return f===d}))&&c.push(Fe.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},Fe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},n.onChange=function(l){n.props.onChange(l)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(l){var c=n.state.yearsList.map(function(d){return d+l});n.setState({yearsList:c})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=r.yearDropdownItemNumber,s=r.scrollableYearDropdown,i=a||(s?10:5);return n.state={yearsList:u_e(n.props.year,i,n.props.minDate,n.props.maxDate)},n.dropdownRef=b.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,a=n?n.find(function(s){return s.ariaSelected}):null;r.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=ur({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Fe.createElement(z4,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(b.Component),h_e=function(e){to(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?Yr(r.props.minDate):1900,a=r.props.maxDate?Yr(r.props.maxDate):2100,s=[],i=n;i<=a;i++)s.push(Fe.createElement("option",{key:i,value:i},i));return s},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return Fe.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return Fe.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},Fe.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Fe.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return Fe.createElement(f_e,Br({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,a){var s;(s=r.onSelect)===null||s===void 0||s.call(r,n,a),r.setOpen()},r.onSelect=function(n,a){var s,i;(i=(s=r.props).onSelect)===null||i===void 0||i.call(s,n,a)},r.setOpen=function(){var n,a;(a=(n=r.props).setOpen)===null||a===void 0||a.call(n,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return Fe.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(b.Component),p_e=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],cte="react-datepicker-ignore-onclickoutside",m_e=function(e){var t=(e.className||"").split(/\s+/);return p_e.some(function(r){return t.indexOf(r)>=0})},g_e=function(e){to(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var s,i;m_e(a.target)&&((i=(s=n.props).onDropdownFocus)===null||i===void 0||i.call(s,a))},n.getDateInView=function(){var a=n.props,s=a.preSelection,i=a.selected,l=a.openToDate,c=ste(n.props),d=ite(n.props),u=an(),f=l||i||s;return f||(c&&Fu(u,c)?c:d&&vh(u,d)?d:u)},n.increaseMonth=function(){n.setState(function(a){var s=a.date;return{date:ru(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var s=a.date;return{date:gg(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,s,i){n.props.onSelect(a,s,i),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,s){n.setState({selectingDate:Cu(an(),s)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,s)},n.handleYearMouseLeave=function(a,s){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,s)},n.handleYearChange=function(a){var s,i,l,c;(i=(s=n.props).onYearChange)===null||i===void 0||i.call(s,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!Zc(a,n.props))return a;for(var s=bh(a),i=z5e(a),l=Vwe(i,s),c=null,d=0;d<=l;d++){var u=pd(s,d);if(!Zc(u,n.props)){c=u;break}}return c},n.handleMonthChange=function(a){var s,i,l,c=(s=n.getEnabledPreSelectionDateForMonth(a))!==null&&s!==void 0?s:a;n.handleCustomMonthChange(c),n.props.adjustDateOnChange&&(n.props.onSelect(c),(l=(i=n.props).setOpen)===null||l===void 0||l.call(i,!0)),n.props.setPreSelection&&n.props.setPreSelection(c)},n.handleCustomMonthChange=function(a){var s,i;(i=(s=n.props).onMonthChange)===null||i===void 0||i.call(s,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(s){var i=s.date;return{date:Cu(i,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(s){var i=s.date;return{date:Yl(i,Number(a))}},function(){var s,i;n.handleMonthChange(n.state.date),(i=(s=n.props).onMonthSelectedInChange)===null||i===void 0||i.call(s,0)})},n.changeMonthYear=function(a){n.setState(function(s){var i=s.date;return{date:Cu(Yl(i,ul(a)),Yr(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a,s){if(a===void 0&&(a=n.state.date),s===void 0&&(s=0),!cl(a))return[];var i=n.props.disabled,l=jm(a,n.props.locale,n.props.calendarStartDay),c=[];return n.props.showWeekNumbers&&c.push(Fe.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(i?"react-datepicker__day-name--disabled":""),role:"columnheader"},Fe.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),Fe.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),c.concat([0,1,2,3,4,5,6].map(function(d){var u=pd(l,d),f=n.formatWeekday(u,n.props.locale),p=ua(u,"EEEE",n.props.locale),h=n.props.weekDayClassName?n.props.weekDayClassName(u):void 0;if(n.props.renderCustomDayName){var m=n.props.renderCustomDayName({day:u,shortName:f,fullName:p,locale:n.props.locale,customDayNameCount:s});return Fe.createElement("div",{key:d,role:"columnheader",className:ur("react-datepicker__day-name",h,i?"react-datepicker__day-name--disabled":"")},m)}return Fe.createElement("div",{key:d,role:"columnheader",className:ur("react-datepicker__day-name",h,i?"react-datepicker__day-name--disabled":"")},Fe.createElement("span",{className:"react-datepicker__sr-only"},p),Fe.createElement("span",{"aria-hidden":"true"},f))}))},n.formatWeekday=function(a,s){return n.props.formatWeekDay?B5e(a,n.props.formatWeekDay,s):n.props.useWeekdaysShort?$5e(a,s):H5e(a,s)},n.decreaseYear=function(){n.setState(function(a){var s,i=a.date;return{date:Bv(i,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,s,i;if(!n.props.renderCustomHeader){var l=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,d=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:c,u=gg(n.state.date,d),f;switch(!0){case n.props.disabled:f=!0;break;case n.props.showMonthYearPicker:f=t$(n.state.date,n.props);break;case n.props.showYearPicker:f=Y5e(n.state.date,n.props);break;case n.props.showQuarterYearPicker:f=q5e(n.state.date,n.props);break;default:f=ZH(u,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&f||n.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],h=["react-datepicker__navigation","react-datepicker__navigation--previous"],m=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(m=n.decreaseYear),f&&n.props.showDisabledMonthNavigation&&(h.push("react-datepicker__navigation--previous--disabled"),m=void 0);var g=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,x=n.props,y=x.previousMonthButtonLabel,v=y===void 0?t.defaultProps.previousMonthButtonLabel:y,w=x.previousYearButtonLabel,N=w===void 0?t.defaultProps.previousYearButtonLabel:w,C=n.props,_=C.previousMonthAriaLabel,S=_===void 0?typeof v=="string"?v:"Previous Month":_,k=C.previousYearAriaLabel,A=k===void 0?typeof N=="string"?N:"Previous Year":k;return Fe.createElement("button",{type:"button",className:h.join(" "),onClick:m,onKeyDown:n.props.handleOnKeyDown,"aria-label":g?A:S},Fe.createElement("span",{className:p.join(" ")},g?N:v))}}},n.increaseYear=function(){n.setState(function(a){var s,i=a.date;return{date:xh(i,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var s;switch(!0){case n.props.disabled:s=!0;break;case n.props.showMonthYearPicker:s=r$(n.state.date,n.props);break;case n.props.showYearPicker:s=G5e(n.state.date,n.props);break;case n.props.showQuarterYearPicker:s=W5e(n.state.date,n.props);break;default:s=e$(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&s||n.props.showTimeSelectOnly)){var i=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var c=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(c=n.increaseYear),s&&n.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),c=void 0);var d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,u=n.props,f=u.nextMonthButtonLabel,p=f===void 0?t.defaultProps.nextMonthButtonLabel:f,h=u.nextYearButtonLabel,m=h===void 0?t.defaultProps.nextYearButtonLabel:h,g=n.props,x=g.nextMonthAriaLabel,y=x===void 0?typeof p=="string"?p:"Next Month":x,v=g.nextYearAriaLabel,w=v===void 0?typeof m=="string"?m:"Next Year":v;return Fe.createElement("button",{type:"button",className:i.join(" "),onClick:c,onKeyDown:n.props.handleOnKeyDown,"aria-label":d?w:y},Fe.createElement("span",{className:l.join(" ")},d?m:p))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var s=["react-datepicker__current-month"];return n.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),Fe.createElement("h2",{className:s.join(" ")},cl(a)?ua(a,n.props.dateFormat,n.props.locale):"")},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return Fe.createElement(h_e,Br({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Yr(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return Fe.createElement(s_e,Br({},t.defaultProps,n.props,{month:ul(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return Fe.createElement(l_e,Br({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(GH(),a),n.props.setPreSelection&&n.props.setPreSelection(GH())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return Fe.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(a,s){return s===void 0&&(s=0),Fe.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(a,s))},n.renderDefaultHeader=function(a){var s=a.monthDate,i=a.i,l=Fe.createElement("div",{className:ur("react-datepicker__header",{"react-datepicker__header--has-time-select":n.props.showTimeSelect,"react-datepicker__header--middle":n.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":n.props.monthHeaderPosition==="bottom"})},n.renderCurrentMonth(s),Fe.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(i!==0),n.renderMonthYearDropdown(i!==0),n.renderYearDropdown(i!==0)));return n.props.monthHeaderPosition==="top"?l:Fe.createElement("div",{className:"react-datepicker__header-wrapper"},n.renderPreviousButton()||null,n.renderNextButton()||null,l)},n.renderCustomHeader=function(a){var s,i,l=a.monthDate,c=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var d=n.props,u=d.showYearPicker,f=d.yearItemNumber,p;if(u){var h=ih(l,f),m=h.startPeriod,g=h.endPeriod;p={startYear:m,endYear:g}}var x=ZH(n.state.date,n.props),y=e$(n.state.date,n.props),v=t$(n.state.date,n.props),w=r$(n.state.date,n.props);return Fe.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(i=(s=n.props).renderCustomHeader)===null||i===void 0?void 0:i.call(s,Br(Br(Br({},n.state),u&&{visibleYearsRange:p}),{customHeaderCount:c,monthDate:l,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:x,nextMonthButtonDisabled:y,prevYearButtonDisabled:v,nextYearButtonDisabled:w})))},n.renderYearHeader=function(a){var s=a.monthDate,i=n.props,l=i.showYearPicker,c=i.yearItemNumber,d=c===void 0?t.defaultProps.yearItemNumber:c,u=ih(s,d),f=u.startPeriod,p=u.endPeriod;return Fe.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(f," - ").concat(p):Yr(s))},n.renderHeader=function(a){var s=a.monthDate,i=a.i,l=i===void 0?0:i,c={monthDate:s,i:l};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(c);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(c);default:return n.renderDefaultHeader(c)}},n.renderMonths=function(){var a,s;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var i=[],l=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?xh(n.state.date,c):gg(n.state.date,c),u=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:c,f=0;f<l;++f){var p=f-u+c,h=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?xh(d,p):ru(d,p),m="month-".concat(f),g=f<l-1,x=f>0;i.push(Fe.createElement("div",{key:m,ref:function(y){n.monthContainer=y??void 0},className:"react-datepicker__month-container"},n.props.monthHeaderPosition==="top"&&n.renderHeader({monthDate:h,i:f}),Fe.createElement(n_e,Br({},t.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:h,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:f,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:x,dayNamesHeader:n.renderDayNamesHeader(h,f),monthHeader:n.props.monthHeaderPosition==="middle"?n.renderHeader({monthDate:h,i:f}):void 0,monthFooter:n.props.monthHeaderPosition==="bottom"?n.renderHeader({monthDate:h,i:f}):void 0}))))}return i}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return Fe.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),Fe.createElement(d_e,Br({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return Fe.createElement(c_e,Br({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a,s;if(n.props.showTimeInput){if(n.props.selectsRange){var i=n.props,l=i.startDate,c=i.endDate,d=l?new Date(l):void 0,u=d&&cl(d)&&!!l,f=u?"".concat(Xx(d.getHours()),":").concat(Xx(d.getMinutes())):"",p=c?new Date(c):void 0,h=p&&cl(p)&&!!c,m=h?"".concat(Xx(p.getHours()),":").concat(Xx(p.getMinutes())):"";return Fe.createElement(Fe.Fragment,null,Fe.createElement(rD,Br({},t.defaultProps,n.props,{date:d,timeString:f,onChange:function(v){var w,N;(N=(w=n.props).onTimeChange)===null||N===void 0||N.call(w,v,"start")},timeInputLabel:((a=n.props.timeInputLabel)!==null&&a!==void 0?a:"Time")+" (Start)"})),Fe.createElement(rD,Br({},t.defaultProps,n.props,{date:p,timeString:m,onChange:function(v){var w,N;(N=(w=n.props).onTimeChange)===null||N===void 0||N.call(w,v,"end")},timeInputLabel:((s=n.props.timeInputLabel)!==null&&s!==void 0?s:"Time")+" (End)"})))}var g=n.props.selected?new Date(n.props.selected):void 0,x=g&&cl(g)&&!!n.props.selected,y=x?"".concat(Xx(g.getHours()),":").concat(Xx(g.getMinutes())):"";return Fe.createElement(rD,Br({},t.defaultProps,n.props,{date:g,timeString:y,onChange:function(v){var w,N;(N=(w=n.props).onTimeChange)===null||N===void 0||N.call(w,v)}}))}},n.renderAriaLiveRegion=function(){var a;if(!cl(n.state.date))return Fe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var s=ih(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),i=s.startPeriod,l=s.endPeriod,c;return n.props.showYearPicker?c="".concat(i," - ").concat(l):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?c=Yr(n.state.date):c="".concat(_L(ul(n.state.date),n.props.locale)," ").concat(Yr(n.state.date)),Fe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&c)},n.renderChildren=function(){if(n.props.children)return Fe.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=b.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:cte,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:JN,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&cl(this.props.preSelection)&&(!Gr(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var a=!Lo(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Gr(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||D5e;return Fe.createElement(z4,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},Fe.createElement("div",{style:{display:"contents"},ref:this.containerRef},Fe.createElement(r,{className:ur("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(b.Component),x_e=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,a=e.onClick,s="react-datepicker__calendar-icon";if(typeof t=="string")return Fe.createElement("i",{className:"".concat(s," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:a});if(Fe.isValidElement(t)){var i=t;return Fe.cloneElement(i,{className:"".concat(i.props.className||""," ").concat(s," ").concat(n),onClick:function(l){typeof i.props.onClick=="function"&&i.props.onClick(l),typeof a=="function"&&a(l)}})}return Fe.createElement("svg",{className:"".concat(s," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},Fe.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},dte=function(e){to(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return YR.createPortal(this.props.children,this.el)},t}(b.Component),y_e="[tabindex], a, button, input, select, textarea",v_e=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},ute=function(e){to(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(y_e),1,-1).filter(v_e)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=b.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?Fe.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Fe.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,Fe.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(b.Component);function b_e(e){function t(r){var n,a=typeof r.hidePopper=="boolean"?r.hidePopper:!0,s=b.useRef(null),i=T5e(Br({open:!a,whileElementsMounted:l5e,placement:r.popperPlacement,middleware:zu([x5e({padding:15}),g5e(10),y5e({element:s})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),l=Br(Br({},r),{hidePopper:a,popperProps:Br(Br({},i),{arrowRef:s})});return Fe.createElement(e,Br({},l))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}var w_e=function(e){var t=e.className,r=e.wrapperClassName,n=e.hidePopper,a=n===void 0?!0:n,s=e.popperComponent,i=e.targetComponent,l=e.enableTabLoop,c=e.popperOnKeyDown,d=e.portalId,u=e.portalHost,f=e.popperProps,p=e.showArrow,h=e.popperTargetRef,m=e.monthHeaderPosition;b.useEffect(function(){h!=null&&h.current&&f.refs.setPositionReference(h.current)},[h,f.refs]);var g=void 0;if(!a){var x=ur("react-datepicker-popper",!p&&"react-datepicker-popper-offset",m==="middle"&&"react-datepicker-popper--header-middle",m==="bottom"&&"react-datepicker-popper--header-bottom",t);g=Fe.createElement(ute,{enableTabLoop:l},Fe.createElement("div",{ref:f.refs.setFloating,style:f.floatingStyles,className:x,"data-placement":f.placement,onKeyDown:c},s,p&&Fe.createElement(S5e,{ref:f.arrowRef,context:f.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(g=b.createElement(e.popperContainer,{},g)),d&&!a&&(g=Fe.createElement(dte,{portalId:d,portalHost:u},g));var y=ur("react-datepicker-wrapper",r);return Fe.createElement(Fe.Fragment,null,Fe.createElement("div",{ref:f.refs.setReference,className:y},i),g)},N_e=b_e(w_e);function l$(e,t){return e&&t?ul(e)!==ul(t)||Yr(e)!==Yr(t):e!==t}var aD="Date input not valid.",S_e=function(e){to(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){var a=n.props.timeZone,s=n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:an();return a?WH(s,a):s},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(s,i){var l=A0(i.date,"yyyy-MM-dd",void 0,!1);return l?zu(zu([],s,!0),[Br(Br({},i),{date:l})],!1):s},[])},n.calcInitialState=function(){var a=n.props.timeZone,s=n.getPreSelection(),i=ste(n.props),l=ite(n.props),c=i&&Fu(s,i2(i))?i:l&&vh(s,KH(l))?l:s,d=n.props.selectsRange?n.props.startDate:n.props.selected;return d&&a&&(d=WH(d,a)),{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:d??c,highlightDates:n$(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var a,s=n.props,i=s.locale,l=s.startDate,c=s.endDate,d=s.rangeSeparator,u=s.selected,f=s.selectedDates,p=s.selectsMultiple,h=s.selectsRange,m=s.formatMultipleDates,g=s.value,x=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,y=n.state.inputValue;if(typeof g=="string")return g;if(typeof y=="string")return y;if(h)return P5e(l,c,{dateFormat:x,locale:i,rangeSeparator:d});if(p){if(m){var v=function(w){return sl(w,{dateFormat:x,locale:i})};return m(f??[],v)}return R5e(f??[],{dateFormat:x,locale:i})}return sl(u,{dateFormat:x,locale:i})},n.resetHiddenStatus=function(){n.setState(Br(Br({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Br(Br({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,s;(s=(a=n.input)===null||a===void 0?void 0:a.focus)===null||s===void 0||s.call(a,{preventScroll:!0})},n.setBlur=function(){var a,s;(s=(a=n.input)===null||a===void 0?void 0:a.blur)===null||s===void 0||s.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,s){s===void 0&&(s=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:sD},function(){a||n.setState(function(i){return{focused:s?i.focused:!1}},function(){!s&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return yh(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var s,i,l=n.state.wasHidden,c=l?n.state.open:!0;l&&n.resetHiddenStatus(),n.state.preventFocus||((i=(s=n.props).onFocus)===null||i===void 0||i.call(s,a),c&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(Br(Br({},n.state),{inputValue:null}))},n.handleBlur=function(a){var s,i;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((i=(s=n.props).onBlur)===null||i===void 0||i.call(s,a)),n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var s,i;n.props.inline||n.setOpen(!1),(i=(s=n.props).onClickOutside)===null||i===void 0||i.call(s,a),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,s,i,l,c,d,u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];var p=u[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,u),!p||typeof p.isDefaultPrevented!="function"||p.isDefaultPrevented()))){n.setState({inputValue:(p==null?void 0:p.target)instanceof HTMLInputElement?p.target.value:null,lastPreSelectChange:j_e});var h=n.props,m=h.selectsRange,g=h.startDate,x=h.endDate,y=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,v=(s=n.props.strictParsing)!==null&&s!==void 0?s:t.defaultProps.strictParsing,w=(p==null?void 0:p.target)instanceof HTMLInputElement?p.target.value:"";if(m){var N=n.props.rangeSeparator,C=N.trim(),_=w.split(y.includes(C)?N:C,2).map(function(Y){return Y.trim()}),S=_[0],k=_[1],A=A0(S??"",y,n.props.locale,v),O=A?A0(k??"",y,n.props.locale,v):null,D=(g==null?void 0:g.getTime())!==(A==null?void 0:A.getTime()),M=(x==null?void 0:x.getTime())!==(O==null?void 0:O.getTime());if(!D&&!M||A&&Zc(A,n.props)||O&&Zc(O,n.props))return;A&&n.setState({preSelection:A}),(l=(i=n.props).onChange)===null||l===void 0||l.call(i,[A,O],p)}else{var I=A0(w,y,n.props.locale,v,(c=n.props.selected)!==null&&c!==void 0?c:void 0);if(I||!w)n.setSelected(I,p,!0);else if(!n.props.inline){var z=O5e(w,(d=n.state.preSelection)!==null&&d!==void 0?d:void 0);z&&(!n.props.minDate||!Fu(z,n.props.minDate))&&(!n.props.maxDate||!vh(z,n.props.maxDate))&&n.setState({preSelection:z})}}}},n.handleSelect=function(a,s,i){var l;if(!n.props.readOnly){var c=n.props,d=c.selectsRange,u=c.startDate,f=c.endDate,p=c.locale,h=c.swapRange,m=(l=n.props.dateFormat)!==null&&l!==void 0?l:t.defaultProps.dateFormat,g=!d||u&&!f&&(h||!tD(a,u));if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&g&&n.sendFocusBackToInput(),n.props.onChangeRaw){var x=sl(a,{dateFormat:m,locale:p});n.props.onChangeRaw(s,{date:a,formattedDate:x})}n.setSelected(a,s,!1,i),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(a):g&&n.setOpen(!1)}},n.setSelected=function(a,s,i,l){var c,d,u=n.props.timeZone,f=a;if(f&&u&&(f=Of(f,u)),n.props.showYearPicker){if(f!==null&&k_(Yr(f),n.props))return}else if(n.props.showMonthYearPicker){if(f!==null&&ate(f,n.props))return}else if(f!==null&&Zc(f,n.props))return;var p=n.props,h=p.onChange,m=p.selectsRange,g=p.startDate,x=p.endDate,y=p.selectsMultiple,v=p.selectedDates,w=p.minTime,N=p.swapRange;if(!Z0(n.props.selected,f)||n.props.allowSameDay||m||y)if(f!==null&&(n.props.selected&&(!i||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(f=Pf(f,{hour:fo(n.props.selected),minute:ho(n.props.selected),second:Sm(n.props.selected)})),!i&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&w&&(f=Pf(f,{hour:w.getHours(),minute:w.getMinutes(),second:w.getSeconds()})),n.props.inline||n.setState({preSelection:f}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:l})),m){var C=!g&&!x,_=g&&!x,S=!g&&!!x,k=g&&x;C?h==null||h([f,null],s):_?f===null?h==null||h([null,null],s):tD(f,g)?N?h==null||h([f,g],s):h==null||h([f,null],s):h==null||h([g,f],s):S&&(f&&tD(f,x)?h==null||h([f,x],s):h==null||h([f,null],s)),k&&(h==null||h([f,null],s))}else if(y){if(f!==null)if(!(v!=null&&v.length))h==null||h([f],s);else{var A=v.some(function(D){return Gr(D,f)});if(A){var O=v.filter(function(D){return!Gr(D,f)});h==null||h(O,s)}else h==null||h(zu(zu([],v,!0),[f],!1),s)}}else h==null||h(f,s);i||((d=(c=n.props).onSelect)===null||d===void 0||d.call(c,f,s),n.setState({inputValue:null}))},n.setPreSelection=function(a){if(!n.props.readOnly){var s=yh(n.props.minDate),i=yh(n.props.maxDate),l=!0;if(a){var c=i2(a);if(s&&i)l=I0(a,n.props.minDate,n.props.maxDate);else if(s){var d=i2(n.props.minDate);l=vh(a,d)||Z0(c,d)}else if(i){var u=KH(n.props.maxDate);l=Fu(a,u)||Z0(c,u)}}l&&n.setState({preSelection:a})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a,s){var i,l;if(!n.props.selectsMultiple){var c=n.props,d=c.selectsRange,u=c.startDate,f=c.endDate,p=c.onChange,h=c.timeZone;if(d)if(s==="start"){if(u){var m=Pf(u,{hour:fo(a),minute:ho(a)});n.setState({preSelection:m}),h&&(m=Of(m,h)),p==null||p([m,f?h?Of(f,h):f:null],void 0)}}else if(s==="end"){if(f){var g=Pf(f,{hour:fo(a),minute:ho(a)});n.setState({preSelection:g}),h&&(g=Of(g,h)),p==null||p([u?h?Of(u,h):u:null,g],void 0)}}else{var x=u&&!f;if(x){var m=Pf(u,{hour:fo(a),minute:ho(a)});n.setState({preSelection:m}),h&&(m=Of(m,h)),p==null||p([m,null],void 0)}else if(u&&f){var g=Pf(f,{hour:fo(a),minute:ho(a)});n.setState({preSelection:g}),h&&(g=Of(g,h)),p==null||p([h?Of(u,h):u,g],void 0)}else{var y=Pf(n.getPreSelection(),{hour:fo(a),minute:ho(a)});n.setState({preSelection:y})}}else{var v=n.props.selected?n.props.selected:n.getPreSelection(),y=n.props.selected?a:Pf(v,{hour:fo(a),minute:ho(a)});n.setState({preSelection:y}),y&&h&&(y=Of(y,h)),(l=(i=n.props).onChange)===null||l===void 0||l.call(i,y)}n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,s;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(s=(a=n.props).onInputClick)===null||s===void 0||s.call(a)},n.handleTimeOnlyArrowKey=function(a){var s,i,l,c,d=n.props.selected||n.state.preSelection||an(),u=(s=n.props.timeIntervals)!==null&&s!==void 0?s:30,f=(i=n.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,p=Array.isArray(f)?f[0]:f,h=i2(d),m=fo(d)*60+ho(d),g=23*60+60-u,x;if(a===Mt.ArrowUp){var y=Math.max(0,m-u);x=Lw(h,y)}else{var y=Math.min(g,m+u);x=Lw(h,y)}var v=ua(x,p||t.defaultProps.dateFormat,n.props.locale);if(n.setState({preSelection:x,inputValue:v}),!(n.props.selectsRange||n.props.selectsMultiple)){var w=n.props.selected?n.props.selected:n.getPreSelection(),N=n.props.selected?x:Pf(w,{hour:fo(x),minute:ho(x)});(c=(l=n.props).onChange)===null||c===void 0||c.call(l,N),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){n.scrollToTimeOption(x)})}},n.handleTimeOnlyEnterKey=function(a){var s,i,l,c,d=a.target,u=d.value,f=(s=n.props.dateFormat)!==null&&s!==void 0?s:t.defaultProps.dateFormat,p=n.props.timeFormat||"p",h=n.state.preSelection||n.props.selected||an(),m=A0(u,f,n.props.locale,(i=n.props.strictParsing)!==null&&i!==void 0?i:!1,h),g=h;if(m&&cl(m))g=m;else{var x=((l=n.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(x instanceof HTMLElement){var y=(c=x.textContent)===null||c===void 0?void 0:c.trim();if(y){var v=A0(y,p,n.props.locale,!1,h);v&&cl(v)&&(g=v)}}}n.handleTimeChange(g),n.setOpen(!1),n.sendFocusBackToInput()},n.scrollToTimeOption=function(a){var s,i;if(!((s=n.calendar)===null||s===void 0)&&s.containerRef.current){for(var l=n.calendar.containerRef.current,c=Array.from(l.querySelectorAll(".react-datepicker__time-list-item")),d=null,u=1/0,f=n.props.timeFormat||"p",p=0,h=c;p<h.length;p++){var m=h[p],g=(i=m.textContent)===null||i===void 0?void 0:i.trim();if(g){var x=A0(g,f,n.props.locale,!1,a);if(x&&cl(x)){if(ote(x,a)){d=m;break}var y=Math.abs(x.getTime()-a.getTime());y<u&&(u=y,d=m)}}}d&&(c.forEach(function(v){v.setAttribute("tabindex","-1")}),d.setAttribute("tabindex","0"),d.scrollIntoView({behavior:"smooth",block:"center"}))}},n.onInputKeyDown=function(a){var s,i,l,c,d,u;(i=(s=n.props).onKeyDown)===null||i===void 0||i.call(s,a);var f=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(f===Mt.ArrowDown||f===Mt.ArrowUp||f===Mt.Enter)&&((l=n.onInputClick)===null||l===void 0||l.call(n));return}if(n.state.open&&n.props.showTimeSelectOnly){if(f===Mt.ArrowDown||f===Mt.ArrowUp){a.preventDefault(),n.handleTimeOnlyArrowKey(f);return}if(f===Mt.Enter){a.preventDefault(),n.handleTimeOnlyEnterKey(a);return}}if(n.state.open){if(f===Mt.ArrowDown||f===Mt.ArrowUp){a.preventDefault();var p=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',h=((c=n.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(p);h instanceof HTMLElement&&h.focus({preventScroll:!0});return}var m=an(n.state.preSelection);f===Mt.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===sD?(n.handleSelect(m,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(m)):n.setOpen(!1)):f===Mt.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):f===Mt.Tab&&n.setOpen(!1),n.inputOk()||(u=(d=n.props).onInputError)===null||u===void 0||u.call(d,{code:1,msg:aD})}},n.onPortalKeyDown=function(a){var s=a.key;s===Mt.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var s,i,l,c,d,u,f=n.props,p=f.minDate,h=f.maxDate,m=f.disabledKeyboardNavigation,g=f.showWeekPicker,x=f.shouldCloseOnSelect,y=f.locale,v=f.calendarStartDay,w=f.adjustDateOnChange,N=f.inline;if((i=(s=n.props).onKeyDown)===null||i===void 0||i.call(s,a),!m){var C=a.key,_=a.shiftKey,S=an(n.state.preSelection),k=function(D,M){var I=M;switch(D){case Mt.ArrowRight:I=g?Lk(M,1):pd(M,1);break;case Mt.ArrowLeft:I=g?OH(M):XSe(M);break;case Mt.ArrowUp:I=OH(M);break;case Mt.ArrowDown:I=Lk(M,1);break;case Mt.PageUp:I=_?Bv(M,1):gg(M,1);break;case Mt.PageDown:I=_?xh(M,1):ru(M,1);break;case Mt.Home:I=jm(M,y,v);break;case Mt.End:I=F5e(M);break}return I},A=function(D,M){for(var I=40,z=D,Y=!1,X=0,V=k(D,M);!Y;){if(X>=I){V=M;break}p&&V<p&&(z=Mt.ArrowRight,V=Zc(p,n.props)?k(z,V):p),h&&V>h&&(z=Mt.ArrowLeft,V=Zc(h,n.props)?k(z,V):h),Zc(V,n.props)?((z===Mt.PageUp||z===Mt.Home)&&(z=Mt.ArrowRight),(z===Mt.PageDown||z===Mt.End)&&(z=Mt.ArrowLeft),V=k(z,V)):Y=!0,X++}return V};if(C===Mt.Enter){a.preventDefault(),n.handleSelect(S,a),!x&&n.setPreSelection(S);return}else if(C===Mt.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(c=(l=n.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:aD});return}var O=null;switch(C){case Mt.ArrowLeft:case Mt.ArrowRight:case Mt.ArrowUp:case Mt.ArrowDown:case Mt.PageUp:case Mt.PageDown:case Mt.Home:case Mt.End:O=A(C,S);break}if(!O){(u=(d=n.props).onInputError)===null||u===void 0||u.call(d,{code:1,msg:aD});return}a.preventDefault(),n.setState({lastPreSelectChange:sD}),w&&n.setSelected(O),n.setPreSelection(O),N&&n.setState({shouldFocusDayInline:!0})}},n.onPopperKeyDown=function(a){var s=a.key;s===Mt.Escape&&(a.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var s=n.props,i=s.selectsRange,l=s.onChange;i?l==null||l([null,null],a):l==null||l(null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.handleMonthSelectedInChange=function(a){n.setState({monthSelectedIn:a})},n.renderCalendar=function(){var a,s;return!n.props.inline&&!n.isCalendarOpen()?null:Fe.createElement(g_e,Br({showMonthYearDropdown:void 0,ref:function(i){n.calendar=i}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:X5e(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(s=n.props.dropdownMode)!==null&&s!==void 0?s:t.defaultProps.dropdownMode,onMonthSelectedInChange:n.handleMonthSelectedInChange}),n.props.children)},n.renderAriaLiveRegion=function(){var a,s=n.props.locale,i=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,l=n.props.showTimeInput||n.props.showTimeSelect,c=l?"PPPPp":"PPPP",d;return n.props.selectsRange?d="Selected start date: ".concat(sl(n.props.startDate,{dateFormat:c,locale:s}),". ").concat(n.props.endDate?"End date: "+sl(n.props.endDate,{dateFormat:c,locale:s}):""):n.props.showTimeSelectOnly?d="Selected time: ".concat(sl(n.props.selected,{dateFormat:i,locale:s})):n.props.showYearPicker?d="Selected year: ".concat(sl(n.props.selected,{dateFormat:"yyyy",locale:s})):n.props.showMonthYearPicker?d="Selected month: ".concat(sl(n.props.selected,{dateFormat:"MMMM yyyy",locale:s})):n.props.showQuarterYearPicker?d="Selected quarter: ".concat(sl(n.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):d="Selected date: ".concat(sl(n.props.selected,{dateFormat:c,locale:s})),Fe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},n.renderDateInput=function(){var a,s,i,l,c,d,u,f=ur(n.props.className,(a={},a[n.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=n.state.open,a)),p=n.props.customInput||Fe.createElement("input",{type:"text"}),h=n.props.customInputRef||"ref",m={},g=(i=n.props["aria-describedby"])!==null&&i!==void 0?i:n.props.ariaDescribedBy,x=(l=n.props["aria-invalid"])!==null&&l!==void 0?l:n.props.ariaInvalid,y=(c=n.props["aria-label"])!==null&&c!==void 0?c:n.props.ariaLabel,v=(d=n.props["aria-labelledby"])!==null&&d!==void 0?d:n.props.ariaLabelledBy,w=(u=n.props["aria-required"])!==null&&u!==void 0?u:n.props.ariaRequired;return g!=null&&(m["aria-describedby"]=g),x!=null&&(m["aria-invalid"]=x),y!=null&&(m["aria-label"]=y),v!=null&&(m["aria-labelledby"]=v),w!=null&&(m["aria-required"]=w),b.cloneElement(p,Br((s={},s[h]=function(N){n.input=N},s.value=n.getInputValue(),s.onBlur=n.handleBlur,s.onChange=n.handleChange,s.onClick=n.onInputClick,s.onFocus=n.handleFocus,s.onKeyDown=n.onInputKeyDown,s.id=n.props.id,s.name=n.props.name,s.form=n.props.form,s.autoFocus=n.props.autoFocus,s.placeholder=n.props.placeholderText,s.disabled=n.props.disabled,s.autoComplete=n.props.autoComplete,s.className=ur(p.props.className,f),s.title=n.props.title,s.readOnly=n.props.readOnly,s.required=n.props.required,s.tabIndex=n.props.tabIndex,s),m))},n.renderClearButton=function(){var a=n.props,s=a.isClearable,i=a.disabled,l=a.selected,c=a.startDate,d=a.endDate,u=a.clearButtonTitle,f=a.clearButtonClassName,p=f===void 0?"":f,h=a.ariaLabelClose,m=h===void 0?"Close":h,g=a.selectedDates,x=a.readOnly;return s&&!x&&(l!=null||c!=null||d!=null||g!=null&&g.length)?Fe.createElement("button",{type:"button",className:ur("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":i}),disabled:i,"aria-label":m,onClick:n.onClearClick,title:u,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:cte,readOnly:!1,rangeSeparator:rte,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:JN,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var a,s,i,l;this.props.selectsRange&&l$(r.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):l$(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&n.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:n$(this.props.highlightDates)}),!n.focused&&!Z0(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((s=(a=this.props).onCalendarOpen)===null||s===void 0||s.call(a)),n.open===!0&&this.state.open===!1&&((l=(i=this.props).onCalendarClose)===null||l===void 0||l.call(i)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,a=r.icon,s=r.calendarIconClassname,i=r.calendarIconClassName,l=r.toggleCalendarOnIconClick,c=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),Fe.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&Fe.createElement(x_e,Br({icon:a,className:ur(i,!i&&s,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?Fe.createElement(ute,{enableTabLoop:this.props.enableTabLoop},Fe.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=Fe.createElement(dte,Br({portalId:this.props.portalId},this.props),n)),Fe.createElement("div",null,this.renderInputContainer(),n)}return Fe.createElement(N_e,Br({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},t}(b.Component),j_e="input",sD="navigate";const Ja=b.forwardRef(({label:e,error:t,helperText:r,className:n,id:a,value:s,onChange:i,name:l,disabled:c,required:d,...u},f)=>{const p=a||l||Math.random().toString(36).substr(2,9),h=s&&typeof s=="string"&&Iw(m6(s))?m6(s):null,m=y=>{if(i){const v=y?ps(y,"yyyy-MM-dd"):"";i({target:{value:v,name:l,type:"date"},currentTarget:{value:v,name:l},preventDefault:()=>{},stopPropagation:()=>{}})}},g=({date:y,changeYear:v,changeMonth:w,decreaseMonth:N,increaseMonth:C,prevMonthButtonDisabled:_,nextMonthButtonDisabled:S})=>{const k=[],A=new Date().getFullYear();for(let D=1950;D<=A+10;D++)k.push(D);const O=["January","February","March","April","May","June","July","August","September","October","November","December"];return o.jsxs("div",{className:"flex items-center justify-between px-2 py-2",children:[o.jsx("button",{onClick:N,disabled:_,type:"button",className:"p-1 hover:bg-gray-100 rounded-full disabled:opacity-50 transition-colors",children:o.jsx(wi,{size:18,className:"text-gray-600"})}),o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("select",{value:O[y.getMonth()],onChange:({target:{value:D}})=>w(O.indexOf(D)),className:"text-sm font-bold text-gray-900 bg-transparent border-none focus:ring-0 focus:outline-none cursor-pointer py-1 pl-1 pr-6 hover:text-brand-primary transition-colors",children:O.map(D=>o.jsx("option",{value:D,children:D},D))}),o.jsx("select",{value:y.getFullYear(),onChange:({target:{value:D}})=>v(parseInt(D)),className:"text-sm font-bold text-gray-900 bg-transparent border-none focus:ring-0 focus:outline-none cursor-pointer py-1 pl-1 pr-6 hover:text-brand-primary transition-colors",children:k.map(D=>o.jsx("option",{value:D,children:D},D))})]}),o.jsx("button",{onClick:C,disabled:S,type:"button",className:"p-1 hover:bg-gray-100 rounded-full disabled:opacity-50 transition-colors",children:o.jsx(Wo,{size:18,className:"text-gray-600"})})]})},x=b.forwardRef(({value:y,onClick:v,className:w,id:N,disabled:C,required:_,name:S,...k},A)=>o.jsx("button",{type:"button",onClick:v,ref:A,id:N,name:S,disabled:C,className:`${w} text-left flex items-center w-full`,...k,children:y?o.jsx("span",{className:"text-text-primary",children:y}):o.jsx("span",{className:"text-text-muted",children:"Select date"})}));return x.displayName="ButtonInput",o.jsxs("div",{className:"w-full",children:[e&&o.jsx("label",{htmlFor:p,className:"block text-sm font-medium text-text-secondary mb-1",children:e}),o.jsxs("div",{className:"relative",children:[o.jsx(S_e,{...u,name:l,id:p,selected:h,onChange:m,dateFormat:"dd/MM/yyyy",placeholderText:"Select date",disabled:c,required:d,customInput:o.jsx(x,{}),portalId:"root",className:`
              w-full rounded-lg border bg-bg-card
              ${t?"border-status-error focus:ring-status-error":"border-border focus:ring-brand-primary"}
              pl-3 pr-10
              py-2 text-sm text-text-primary
              focus:outline-none focus:ring-2 focus:border-transparent
              disabled:bg-bg-main disabled:text-text-muted disabled:cursor-not-allowed
              h-[38px]
              ${n||""}
            `,wrapperClassName:"w-full",renderCustomHeader:g,showPopperArrow:!1,popperProps:{strategy:"fixed"},formatWeekDay:y=>y.substr(0,3),dayClassName:()=>"text-sm text-gray-700 hover:bg-brand-primary hover:text-white rounded-full",calendarClassName:"!border-border !font-sans shadow-lg !rounded-lg !bg-white",...u}),o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-text-muted z-10",children:o.jsx(Xa,{size:16})})]}),t&&o.jsx("p",{className:"mt-1 text-xs text-status-error",children:t}),!t&&r&&o.jsx("p",{className:"mt-1 text-xs text-text-muted",children:r}),o.jsx("style",{children:`
          .react-datepicker-wrapper {
            width: 100%;
          }
          .react-datepicker {
            font-family: inherit;
            border: 1px solid #e5e7eb;
            border-radius: 0.75rem !important;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            background-color: white;
            padding: 0.5rem;
          }
          .react-datepicker__header {
            background-color: white;
            border-bottom: none;
            padding-top: 0.5rem;
          }
          .react-datepicker__month-container {
            width: 100%;
          }
           .react-datepicker__month {
            margin: 0;
           }
          .react-datepicker__month-text {
            border-radius: 0.5rem !important;
            padding: 0.5rem !important;
            width: 5rem !important;
            margin: 0.2rem;
            font-weight: 500;
            color: #374151; /* text-gray-700 */
          }
          .react-datepicker__month-text:hover {
            background-color: #f3f4f6 !important;
            color: #1f2937 !important;
          }
          .react-datepicker__month-text--selected,
          .react-datepicker__month-text--keyboard-selected {
            background-color: #4f46e5 !important; /* brand-primary */
            color: white !important;
            font-weight: 600;
          }
          .react-datepicker__day-name {
            color: #6b7280;
            font-weight: 500;
            margin: 0.2rem;
            width: 2rem;
          }
          .react-datepicker__day {
            margin: 0.2rem;
            width: 2rem;
            line-height: 2rem;
            border-radius: 9999px;
          }
          .react-datepicker__day--selected {
            background-color: #4f46e5 !important;
            color: white !important;
          }
          .react-datepicker__day--keyboard-selected {
            background-color: #e0e7ff !important;
            color: #4f46e5 !important;
          }
          .react-datepicker__day--today {
            font-weight: bold;
            color: #4f46e5;
          }
          .react-datepicker__day:hover:not(.react-datepicker__day--disabled):not(.react-datepicker__day--selected) {
            background-color: #f3f4f6 !important;
            color: #1f2937 !important;
          }
          .react-datepicker-popper {
            z-index: 10050 !important;
          }
        `})]})});Ja.displayName="DatePicker";const __e=({docType:e,document:t,onUpload:r,onView:n,readOnly:a=!1,isMandatory:s=!1})=>{const i=!!t,l=i&&t.expiryDate&&new Date(t.expiryDate)<new Date,c=i&&!l&&t.expiryDate&&new Date(t.expiryDate)<new Date(Date.now()+30*24*60*60*1e3),d=()=>i?l?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-900/30":c?"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-900/30":"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-900/30":s?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-900/30":"bg-bg-subtle dark:bg-bg-main border-border",u=()=>i?l?o.jsx(ta,{size:16,className:"text-red-500"}):c?o.jsx(Mn,{size:16,className:"text-amber-500"}):o.jsx(In,{size:16,className:"text-green-500"}):o.jsx(ta,{size:16,className:s?"text-red-500":"text-gray-400"}),f=()=>i?l?"Expired":c?"Expiring Soon":"Valid":s?"Missing":"Not Uploaded",p=h=>h.startsWith("http")?h:`${Ma}/${h}`;return o.jsxs("div",{className:`border rounded-xl p-3 transition-all hover:shadow-sm ${d()}`,children:[o.jsx("div",{className:"flex justify-between items-start mb-2",children:o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"p-1.5 rounded-lg bg-white/60 dark:bg-white/10",children:o.jsx(xn,{size:18,className:"text-text-primary"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-sm text-text-primary",children:e.name}),o.jsxs("div",{className:"flex items-center gap-1 text-[10px] mt-0.5",children:[u(),o.jsx("span",{className:"font-medium text-text-secondary uppercase tracking-tight",children:f()})]})]})]})}),o.jsxs("div",{className:"space-y-2",children:[i&&o.jsxs("div",{className:"text-[10px] text-text-secondary pl-1",children:[o.jsxs("p",{children:["Uploaded:"," ",new Date(t.versions[t.versions.length-1].uploadedAt).toLocaleDateString()]}),t.expiryDate&&o.jsxs("p",{className:l?"text-red-600 font-medium":"",children:["Expires: ",new Date(t.expiryDate).toLocaleDateString()]})]}),o.jsx("div",{className:"pt-1 flex gap-2",children:i?o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",onClick:()=>n(t),className:"flex-1 py-1 px-2 bg-bg-card border border-border rounded text-xs text-text-primary hover:bg-bg-hover transition-colors font-medium shadow-sm",children:"View"}),o.jsx("button",{type:"button",onClick:()=>window.open(p(t.versions[t.versions.length-1].fileUrl),"_blank"),className:"flex-none py-1 px-2 bg-bg-card border border-border rounded text-xs text-text-primary hover:bg-bg-hover transition-colors shadow-sm flex items-center justify-center",title:"Download",children:o.jsx(cf,{size:14})}),!a&&o.jsx("button",{type:"button",onClick:()=>r(e._id),className:"flex-1 py-1 px-2 bg-bg-card border border-border rounded text-xs text-text-primary hover:bg-bg-hover transition-colors font-medium shadow-sm",children:"Update"})]}):!a&&o.jsxs("button",{type:"button",onClick:()=>r(e._id),className:"w-full py-1.5 px-3 bg-bg-card border border-border rounded-lg text-xs text-brand-primary hover:bg-brand-primary/5 transition-colors font-medium shadow-sm flex items-center justify-center gap-2",children:[o.jsx(Sl,{size:14}),"Upload Document"]})})]})]})},fte=({employeeId:e,readOnly:t=!1,roleName:r})=>{var D;const[n,a]=b.useState([]),[s,i]=b.useState([]),[l,c]=b.useState([]),[d,u]=b.useState(!0),[f,p]=b.useState(null),[h,m]=b.useState(!1),[g,x]=b.useState(null),[y,v]=b.useState(!1),[w,N]=b.useState(null),C=async()=>{u(!0);try{const M=[je.getAllDocumentTypes(),je.getEmployeeDocuments(e)];r&&M.push(je.getRoles());const[I,z,Y]=await Promise.all(M);if(I.success&&a(I.data),z.success&&i(z.data),r&&Y){const X=Array.isArray(Y)?Y:Y.data,V=X==null?void 0:X.find(G=>G.name===r);V&&V.mandatoryDocuments&&c(V.mandatoryDocuments)}}catch(M){p("Failed to load documents"),console.error(M)}finally{u(!1)}};b.useEffect(()=>{e&&C()},[e,r]);const _=M=>{x(M),m(!0)},S=()=>{m(!1),C()},k=M=>{N(M),v(!0)},A=M=>M.startsWith("http")?M:`${Ma}/${M}`,O=n.reduce((M,I)=>{const z=I.category||"Other";return M[z]||(M[z]=[]),M[z].push(I),M},{});return o.jsxs("div",{className:"space-y-6",children:[f&&o.jsx("div",{className:"text-red-500 mb-4",children:f}),d?o.jsx("div",{className:"space-y-6",children:[1,2].map(M=>o.jsxs("div",{className:"space-y-3",children:[o.jsx(Se,{className:"h-6 w-40"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(I=>o.jsxs("div",{className:"border border-border rounded-xl p-3 bg-bg-card",children:[o.jsxs("div",{className:"flex items-center gap-2.5 mb-3",children:[o.jsx(Se,{className:"w-8 h-8 rounded-lg"}),o.jsxs("div",{className:"flex-1 space-y-1.5",children:[o.jsx(Se,{className:"h-4 w-32"}),o.jsx(Se,{className:"h-3 w-20"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{className:"h-7 flex-1 rounded"}),o.jsx(Se,{className:"h-7 w-8 rounded"})]})]},I))})]},M))}):Object.entries(O).map(([M,I])=>o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-text-primary border-b border-border pb-2",children:M}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map(z=>{const Y=s.find(V=>V.documentTypeId._id===z._id||V.documentTypeId===z._id),X=z.isRequired||l.some(V=>V===z._id||typeof V=="object"&&V._id===z._id);return o.jsx(__e,{docType:z,document:Y,onUpload:_,onView:k,readOnly:t,isMandatory:X},z._id)})})]},M)),h&&g&&o.jsx(k_e,{isOpen:h,onClose:()=>m(!1),onSuccess:S,employeeId:e,docTypeId:g,docType:n.find(M=>M._id===g)}),y&&w&&o.jsx(_r,{isOpen:y,onClose:()=>v(!1),title:w.documentTypeId.name||"Document Details",maxWidth:"max-w-4xl",children:o.jsx("div",{className:"space-y-6",children:o.jsx("div",{className:"flex gap-4 h-[60vh]",children:o.jsx("div",{className:"flex-1 bg-bg-subtle dark:bg-bg-main rounded-lg overflow-hidden border border-border flex items-center justify-center",children:(D=w.versions[w.versions.length-1].mimeType)!=null&&D.includes("image")?o.jsx("img",{src:A(w.versions[w.versions.length-1].fileUrl),className:"max-w-full max-h-full object-contain"}):w.versions[w.versions.length-1].mimeType==="application/pdf"?o.jsx("iframe",{src:A(w.versions[w.versions.length-1].fileUrl),className:"w-full h-full min-h-[70vh]",title:"Document Preview"}):o.jsxs("div",{className:"text-center p-4",children:[o.jsx(xn,{size:48,className:"mx-auto text-text-muted mb-2"}),o.jsx("p",{className:"text-text-secondary mb-4",children:"Preview not available for this file type."}),o.jsxs("a",{href:A(w.versions[w.versions.length-1].fileUrl),target:"_blank",rel:"noreferrer",className:"px-4 py-2 bg-brand-primary text-white rounded-lg inline-flex items-center gap-2",children:[o.jsx(cf,{size:16})," Download"]})]})})})})})]})},k_e=({isOpen:e,onClose:t,onSuccess:r,employeeId:n,docTypeId:a,docType:s})=>{var g;const[i,l]=b.useState(null),[c,d]=b.useState(""),[u,f]=b.useState(!1),[p,h]=b.useState(!1),m=async x=>{if(x.preventDefault(),!!i){f(!0);try{const y=new FormData;y.append("file",i),y.append("employeeId",n),y.append("documentTypeId",a),c&&y.append("expiryDate",c),await je.uploadEmployeeDocument(y),h(!0),setTimeout(()=>{r(),h(!1)},1500)}catch(y){console.error(y),alert("Upload failed. Please try again.")}finally{f(!1)}}};return o.jsx(_r,{isOpen:e,onClose:p?()=>{}:t,title:`Upload ${(s==null?void 0:s.name)||"Document"}`,children:p?o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center animate-in fade-in zoom-in duration-300",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded-full flex items-center justify-center mb-4",children:o.jsx(In,{size:32})}),o.jsx("h3",{className:"text-xl font-semibold text-text-primary mb-2",children:"Upload Successful!"}),o.jsx("p",{className:"text-text-secondary",children:"The document has been uploaded securely."})]}):o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:["File ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"file",onChange:x=>{var y;return l(((y=x.target.files)==null?void 0:y[0])||null)},className:"w-full text-sm text-text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-brand-primary/10 file:text-brand-primary hover:file:bg-brand-primary/20",accept:(g=s==null?void 0:s.allowedFileTypes)==null?void 0:g.join(","),required:!0}),o.jsxs("p",{className:"text-xs text-text-muted mt-1",children:["Max size:"," ",s!=null&&s.maxFileSize?Math.round(s.maxFileSize/1024/1024):5,"MB"]})]}),s!=null&&s.expiryRequired?o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:["Expiry Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",value:c,onChange:x=>d(x.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-bg-main focus:outline-none focus:ring-2 focus:ring-brand-primary/20",required:!0})]}):o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Expiry Date (Optional)"}),o.jsx("input",{type:"date",value:c,onChange:x=>d(x.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-bg-main focus:outline-none focus:ring-2 focus:ring-brand-primary/20"})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:t,disabled:u,className:"px-4 py-2 text-text-secondary hover:bg-bg-hover rounded-lg disabled:opacity-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:u||!i,className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 disabled:opacity-50 flex items-center gap-2",children:u?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Uploading..."]}):"Upload"})]})]})})},hte=({employeeId:e,readOnly:t=!1})=>{const{showToast:r}=GN(),[n,a]=b.useState([]),[s,i]=b.useState(!0),[,l]=b.useState(null),[c,d]=b.useState(!1),[u,f]=b.useState(!1),[p,h]=b.useState(null),m=async()=>{i(!0);try{const v=await je.getEmployeeAssets(e);Array.isArray(v)?a(v):a([])}catch(v){l("Failed to load assets"),console.error(v)}finally{i(!1)}};b.useEffect(()=>{e&&m()},[e]);const g=()=>{d(!1),m(),r("Asset assigned successfully","success")},x=()=>{f(!1),m(),r("Asset returned successfully","success")},y=v=>{const w=v.toLowerCase();return w.includes("laptop")||w.includes("computer")?o.jsx(abe,{size:20}):w.includes("mobile")||w.includes("phone")?o.jsx(tL,{size:20}):o.jsx(Iv,{size:20})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Assigned Assets"}),!t&&o.jsx(dt,{onClick:()=>d(!0),leftIcon:o.jsx(Na,{size:16}),disabled:!e,type:"button",children:"Assign Asset"})]}),s?o.jsx("div",{className:"flex justify-center p-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"})}):n.length===0?o.jsxs("div",{className:"text-center py-12 bg-bg-card rounded-xl border border-border",children:[o.jsx(Iv,{size:48,className:"mx-auto text-text-muted mb-3"}),o.jsx("h3",{className:"text-lg font-medium text-text-primary",children:"No Assets Assigned"}),o.jsx("p",{className:"text-text-secondary",children:"This employee currently has no assets assigned."})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(v=>{var w,N,C,_;return o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-4 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/10 flex items-center justify-center text-brand-primary",children:y(((N=(w=v.assetId)==null?void 0:w.categoryId)==null?void 0:N.name)||"")}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-text-primary",children:((C=v.assetId)==null?void 0:C.name)||"Unknown Asset"}),o.jsx("p",{className:"text-xs text-text-secondary",children:((_=v.assetId)==null?void 0:_.assetCode)||"N/A"})]})]}),o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.status==="Active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:v.status})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-text-secondary mb-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"block text-xs text-text-muted",children:"Issued"}),new Date(v.issueDate).toLocaleDateString()]}),v.status==="Returned"&&o.jsxs("div",{children:[o.jsx("span",{className:"block text-xs text-text-muted",children:"Returned"}),new Date(v.actualReturnDate).toLocaleDateString()]})]}),v.status==="Active"&&!t&&o.jsx("div",{className:"pt-3 border-t border-border flex justify-end",children:o.jsxs("button",{type:"button",onClick:()=>{h(v),f(!0)},className:"text-sm text-red-600 hover:text-red-700 font-medium flex items-center gap-1",children:[o.jsx(Cye,{size:14})," Return Asset"]})})]},v._id)})}),c&&o.jsx(C_e,{isOpen:c,onClose:()=>d(!1),onSuccess:g,employeeId:e}),u&&p&&o.jsx(A_e,{isOpen:u,onClose:()=>f(!1),onSuccess:x,assignment:p})]})},C_e=({isOpen:e,onClose:t,onSuccess:r,employeeId:n})=>{const[a,s]=b.useState(!1),[i,l]=b.useState([]),[c,d]=b.useState(""),[u,f]=b.useState({assetId:"",issueDate:new Date().toISOString().split("T")[0],expectedReturnDate:"",conditionAtIssue:"New",notes:""});b.useEffect(()=>{p()},[]);const p=async()=>{try{const g=await je.getAssets({status:"Available"});g.assets&&l(g.assets)}catch(g){console.error("Failed to fetch assets",g)}},h=async g=>{g.preventDefault(),s(!0);try{await je.assignAsset({...u,employeeId:n}),r()}catch(x){console.error(x),alert(x.message||"Failed to assign asset")}finally{s(!1)}},m=i.filter(g=>g.name.toLowerCase().includes(c.toLowerCase())||g.assetCode.toLowerCase().includes(c.toLowerCase()));return o.jsx(_r,{isOpen:e,onClose:t,title:"Assign Asset",children:o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Search Asset"}),o.jsxs("div",{className:"relative",children:[o.jsx(df,{className:"absolute left-3 top-2.5 text-text-muted",size:16}),o.jsx("input",{type:"text",placeholder:"Search by name or code...",value:c,onChange:g=>d(g.target.value),className:"w-full pl-9 pr-3 py-2 border border-border rounded-lg bg-bg-main focus:outline-none focus:ring-2 focus:ring-brand-primary/20"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:["Select Asset ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{value:u.assetId,onChange:g=>f({...u,assetId:g.target.value}),className:"w-full px-3 py-2 border border-border rounded-lg bg-bg-main focus:outline-none focus:ring-2 focus:ring-brand-primary/20",required:!0,size:5,children:[o.jsx("option",{value:"",children:"Select an asset..."}),m.map(g=>o.jsxs("option",{value:g._id,children:[g.name," (",g.assetCode,") - ",g.model]},g._id))]}),m.length===0&&o.jsx("p",{className:"text-xs text-text-muted mt-1",children:"No available assets found matching your search."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(ft,{label:"Issue Date",type:"date",value:u.issueDate,onChange:g=>f({...u,issueDate:g.target.value}),required:!0}),o.jsx(ft,{label:"Expected Return (Optional)",type:"date",value:u.expectedReturnDate,onChange:g=>f({...u,expectedReturnDate:g.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Condition at Issue"}),o.jsx(sr,{value:u.conditionAtIssue,onChange:g=>f({...u,conditionAtIssue:g}),options:[{value:"New",label:"New"},{value:"Good",label:"Good"},{value:"Used",label:"Used"},{value:"Damaged",label:"Damaged"}]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Notes"}),o.jsx("textarea",{value:u.notes,onChange:g=>f({...u,notes:g.target.value}),rows:3,className:"w-full px-3 py-2 border border-border rounded-lg bg-bg-main focus:outline-none focus:ring-2 focus:ring-brand-primary/20"})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(dt,{variant:"secondary",onClick:t,disabled:a,type:"button",children:"Cancel"}),o.jsx(dt,{type:"submit",isLoading:a,disabled:!u.assetId,children:"Assign"})]})]})})},A_e=({isOpen:e,onClose:t,onSuccess:r,assignment:n})=>{const[a,s]=b.useState(!1),[i,l]=b.useState({returnDate:new Date().toISOString().split("T")[0],conditionAtReturn:n.conditionAtIssue||"Good",notes:""}),c=async d=>{d.preventDefault(),s(!0);try{await je.returnAsset(n._id,{returnDate:i.returnDate,conditionAtReturn:i.conditionAtReturn,notes:i.notes}),r()}catch(u){console.error(u),alert(u.message||"Failed to return asset")}finally{s(!1)}};return o.jsx(_r,{isOpen:e,onClose:t,title:`Return ${n.assetId.name}`,children:o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg flex items-start gap-3",children:[o.jsx(ta,{className:"text-blue-500 shrink-0 mt-0.5",size:18}),o.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[o.jsxs("p",{className:"font-medium",children:["Passing Asset: ",n.assetId.assetCode]}),o.jsxs("p",{children:["Issued on: ",new Date(n.issueDate).toLocaleDateString()]})]})]}),o.jsx(ft,{label:"Return Date",type:"date",value:i.returnDate,onChange:d=>l({...i,returnDate:d.target.value}),required:!0}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Condition at Return"}),o.jsx(sr,{value:i.conditionAtReturn,onChange:d=>l({...i,conditionAtReturn:d}),options:[{value:"New",label:"New"},{value:"Good",label:"Good"},{value:"Used",label:"Used"},{value:"Damaged",label:"Damaged"}]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Notes (Optional damage comments etc.)"}),o.jsx("textarea",{value:i.notes,onChange:d=>l({...i,notes:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-border rounded-lg bg-bg-main focus:outline-none focus:ring-2 focus:ring-brand-primary/20"})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(dt,{variant:"secondary",onClick:t,disabled:a,type:"button",children:"Cancel"}),o.jsx(dt,{type:"submit",isLoading:a,children:"Confirm Return"})]})]})})},E_e=["Basic Info","Work Info","Hierarchy","Personal","Identity","Contact","Bank Details","Documents","Assets","Separation","Additional"],T_e={"Basic Info":yo,"Work Info":cu,Hierarchy:Z8,Personal:yve,Identity:zve,Contact:Rw,"Bank Details":VZ,Documents:xn,Assets:Iv,Separation:Iu,Additional:$Z};function D_e({isOpen:e,onClose:t,employee:r,viewMode:n=!1}){var V,G,J,B;const{user:a}=Sr(),s=E_e.filter(q=>{var T;return!(q==="Documents"&&!((T=a==null?void 0:a.accessibleModules)!=null&&T.includes("documents")))}),[i,l]=b.useState(s[0]),[c,d]=b.useState(!1),[u,f]=b.useState([]),[p,h]=b.useState([]),[m,g]=b.useState([]),[x,y]=b.useState([]),[v,w]=b.useState(null),[N,C]=b.useState(null),[_,S]=b.useState({employeeId:"",firstName:"",lastName:"",nickName:"",email:"",password:"",department:"",location:"",designation:"",designationId:"",shiftId:"",role:"",employmentType:"",employeeStatus:"Active",sourceOfHire:"",dateOfJoining:"",totalExperience:"",reportingManager:"",dateOfBirth:"",gender:"",maritalStatus:"",aboutMe:"",expertise:"",uan:"",pan:"",aadhaar:"",workPhone:"",extension:"",seatingLocation:"",presentAddress:"",permanentAddress:"",personalMobile:"",personalEmail:"",dateOfExit:"",workExperience:[],education:[],dependents:[],bankDetails:{accountName:"",accountNumber:"",bankName:"",ifscCode:""}});b.useEffect(()=>{var q,T;e&&(k(),r?(S({...r,reportingManager:((q=r.reportingManager)==null?void 0:q._id)||r.reportingManager||"",designationId:r.designationId||"",shiftId:((T=r.shiftId)==null?void 0:T._id)||r.shiftId||"",dateOfJoining:r.dateOfJoining?r.dateOfJoining.split("T")[0]:"",dateOfBirth:r.dateOfBirth?r.dateOfBirth.split("T")[0]:"",dateOfExit:r.dateOfExit?r.dateOfExit.split("T")[0]:"",bankDetails:r.bankDetails||{accountName:"",accountNumber:"",bankName:"",ifscCode:""}}),r.profilePicture&&C(r.profilePicture.startsWith("http")?r.profilePicture:`${Ma}/${r.profilePicture}`)):(S({employeeId:"",firstName:"",lastName:"",nickName:"",email:"",password:"",department:"",location:"",designation:"",designationId:"",shiftId:"",role:"",employmentType:"",employeeStatus:"Active",sourceOfHire:"",dateOfJoining:"",totalExperience:"",reportingManager:"",dateOfBirth:"",gender:"",maritalStatus:"",aboutMe:"",expertise:"",uan:"",pan:"",aadhaar:"",workPhone:"",extension:"",seatingLocation:"",presentAddress:"",permanentAddress:"",personalMobile:"",personalEmail:"",dateOfExit:"",workExperience:[],education:[],dependents:[],bankDetails:{accountName:"",accountNumber:"",bankName:"",ifscCode:""}}),w(null),C(null)))},[e,r]);const k=async()=>{try{console.log("Fetching roles and employees...");const q=T=>Array.isArray(T)?T:T&&Array.isArray(T.data)?T.data:T&&Array.isArray(T.roles)?T.roles:T&&Array.isArray(T.employees)?T.employees:[];try{const T=await je.getRoles();f(q(T))}catch(T){console.error("Failed to fetch roles",T)}try{const T=await je.getEmployees();h(q(T))}catch(T){console.error("Failed to fetch employees",T)}try{const T=await je.getDesignations();g(q(T))}catch(T){console.error("Failed to fetch designations",T)}try{const T=await je.getShifts();y(q(T))}catch(T){console.error("Failed to fetch shifts",T)}}catch(q){console.error("Failed to fetch dropdowns",q)}},A=q=>{const{name:T,value:R}=q.target;S(F=>({...F,[T]:R}))},O=q=>{var R;const T=(R=q.target.files)==null?void 0:R[0];if(T){w(T);const F=new FileReader;F.onloadend=()=>{C(F.result)},F.readAsDataURL(T)}},D=()=>{w(null),C(null)},M=(q,T,R,F)=>{S(H=>{const W=[...H[q]];return W[T]={...W[T],[R]:F},{...H,[q]:W}})},I=(q,T)=>{S(R=>({...R,[q]:[...R[q],T]}))},z=(q,T)=>{S(R=>({...R,[q]:R[q].filter((F,H)=>H!==T)}))},Y=async q=>{q.preventDefault(),d(!0);try{const T=new FormData;Object.keys(_).forEach(R=>{["user","_id","__v","addedTime","modifiedTime","addedBy","modifiedBy","onboarding"].includes(R)||(Array.isArray(_[R])||R==="bankDetails"?T.append(R,JSON.stringify(_[R])):_[R]!==null&&_[R]!==void 0&&T.append(R,_[R]))}),v&&T.append("profilePicture",v),r?await je.updateEmployee(r._id,T):await je.createEmployee(T),t()}catch(T){alert(T.message||"Failed to save employee")}finally{d(!1)}},X=(q,T,R="text",F=!1,H)=>o.jsx("div",{children:H?o.jsx(sr,{label:q,required:F,value:_[T],onChange:W=>A({target:{name:T,value:W}}),options:H.map(W=>({value:W,label:W})),disabled:n,className:"disabled:opacity-60"}):R==="date"?o.jsx(Ja,{label:q,name:T,value:_[T],onChange:A,disabled:n,required:F}):o.jsx(ft,{label:q,type:R,name:T,value:_[T],onChange:A,disabled:n,required:F,className:"disabled:opacity-60"})});return o.jsxs(_r,{isOpen:e,onClose:t,title:n?"View Employee":r?"Edit Employee":"Add New Employee",maxWidth:"max-w-6xl",bodyClassName:"flex flex-col md:flex-row h-full overflow-hidden p-0",footer:n?void 0:o.jsxs("div",{className:"flex justify-end gap-3 w-full",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-border rounded-lg text-text-secondary hover:bg-bg-hover text-sm font-medium transition-colors",disabled:c,children:"Cancel"}),o.jsx("button",{onClick:q=>Y(q),className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 text-sm font-medium transition-colors disabled:opacity-50",disabled:c,children:c?"Saving...":"Save Employee"})]}),children:[o.jsx("div",{className:"w-full md:w-64 bg-bg-main/30 border-b md:border-b-0 md:border-r border-border overflow-x-auto md:overflow-y-auto shrink-0 flex md:flex-col p-2 space-y-1",children:s.map(q=>{const T=T_e[q]||yo;return o.jsxs("button",{onClick:()=>l(q),className:`w-full text-left px-4 py-2.5 rounded-lg text-sm font-medium transition-all group flex items-center justify-between ${i===q?"bg-brand-primary text-white shadow-sm":"text-text-secondary hover:bg-bg-hover hover:text-text-primary"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(T,{size:18}),q]}),i===q&&o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white/40"})]},q)})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsx("form",{onSubmit:Y,children:o.jsxs("div",{className:"space-y-6",children:[i==="Basic Info"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"col-span-2 flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"w-24 h-24 rounded-full bg-bg-main border-2 border-dashed border-border flex items-center justify-center overflow-hidden relative group",children:N?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:N,alt:"Profile",className:"w-full h-full object-cover"}),!n&&o.jsx("button",{type:"button",onClick:D,className:"absolute inset-0 bg-black/50 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(yn,{size:20})})]}):o.jsx(Sl,{className:"text-gray-400",size:24})}),!n&&o.jsxs("div",{children:[o.jsx("input",{type:"file",id:"profileUpload",accept:"image/*",className:"hidden",onChange:O}),o.jsx("label",{htmlFor:"profileUpload",className:"cursor-pointer px-4 py-2 bg-bg-card border border-border rounded-lg hover:bg-bg-hover text-sm font-medium transition-colors text-text-primary",children:N?"Change Photo":"Upload Photo"}),o.jsx("p",{className:"text-xs text-text-secondary mt-1",children:"PNG, JPG or GIF. Max 5MB."})]})]}),X("Employee ID","employeeId","text",!0),X("First Name","firstName","text",!0),X("Last Name","lastName","text",!0),X("Nick Name","nickName"),X("Email Address","email","email",!0),!r&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:["Password ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(hd,{name:"password",value:_.password,onChange:A,required:!r,placeholder:"Enter password for new user",className:"bg-bg-card"})]})]}),i==="Work Info"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[X("Department","department","text",!1,["Engineering","HR","Sales","Marketing","Finance"]),X("Location","location","text",!1,["New York","London","Remote","Bangalore"]),o.jsx("div",{children:o.jsx(sr,{label:"Designation",value:_.designationId,onChange:q=>A({target:{name:"designationId",value:q}}),options:m.map(q=>({value:q._id,label:q.name})),disabled:n,className:"disabled:opacity-60"})}),o.jsx("div",{children:o.jsx(sr,{label:"Role",value:_.role,onChange:q=>A({target:{name:"role",value:q}}),options:u.map(q=>({value:q.name,label:q.name})),disabled:n,className:"disabled:opacity-60"})}),o.jsx("div",{children:o.jsx(sr,{label:"Shift",value:_.shiftId,onChange:q=>A({target:{name:"shiftId",value:q}}),options:x.map(q=>({value:q._id,label:`${q.name} (${q.startTime} - ${q.endTime})`})),disabled:n,className:"disabled:opacity-60"})}),X("Employment Type","employmentType","text",!1,["Permanent","Contract","Intern","Freelancer","Part-Time"]),X("Employee Status","employeeStatus","text",!1,["Draft","Invited","Onboarding","Review","Active","Probation","On Leave","Notice Period","Terminated","Resigned"]),X("Source of Hire","sourceOfHire","text",!1,["Recruitment","Referral","Direct","Campus","Vendor"]),X("Date of Joining","dateOfJoining","date"),X("Total Experience","totalExperience")]}),i==="Hierarchy"&&o.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.jsx("div",{children:o.jsx(sr,{label:"Reporting Manager",value:_.reportingManager,onChange:q=>A({target:{name:"reportingManager",value:q}}),options:p.map(q=>({value:q._id,label:`${q.firstName} ${q.lastName}`})),disabled:n,className:"disabled:opacity-60"})})}),i==="Personal"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[X("Date of Birth","dateOfBirth","date"),X("Gender","gender","text",!1,["Male","Female","Other"]),X("Marital Status","maritalStatus","text",!1,["Single","Married","Divorced","Widowed"]),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"About Me"}),o.jsx("textarea",{name:"aboutMe",value:_.aboutMe,onChange:A,disabled:n,className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/20 disabled:bg-bg-main bg-bg-card text-text-primary",rows:3})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Expertise / Ask Me"}),o.jsx("textarea",{name:"expertise",value:_.expertise,onChange:A,disabled:n,className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/20 disabled:bg-bg-main bg-bg-card text-text-primary",rows:3})]})]}),i==="Identity"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[X("UAN","uan"),X("PAN","pan"),X("Aadhaar","aadhaar")]}),i==="Contact"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[X("Work Phone","workPhone"),X("Extension","extension"),X("Seating Location","seatingLocation"),X("Personal Mobile","personalMobile"),X("Personal Email","personalEmail","email"),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Present Address"}),o.jsx("textarea",{name:"presentAddress",value:_.presentAddress,onChange:A,disabled:n,className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/20 disabled:bg-bg-main bg-bg-card text-text-primary",rows:2})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Permanent Address"}),o.jsx("textarea",{name:"permanentAddress",value:_.permanentAddress,onChange:A,disabled:n,className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/20 disabled:bg-bg-main bg-bg-card text-text-primary",rows:2})]})]}),i==="Bank Details"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Account Holder Name"}),o.jsx(ft,{value:((V=_.bankDetails)==null?void 0:V.accountName)||"",onChange:q=>S(T=>({...T,bankDetails:{...T.bankDetails,accountName:q.target.value}})),disabled:n,className:"disabled:opacity-60"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Account Number"}),o.jsx(ft,{value:((G=_.bankDetails)==null?void 0:G.accountNumber)||"",onChange:q=>S(T=>({...T,bankDetails:{...T.bankDetails,accountNumber:q.target.value}})),disabled:n,className:"disabled:opacity-60"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Bank Name"}),o.jsx(ft,{value:((J=_.bankDetails)==null?void 0:J.bankName)||"",onChange:q=>S(T=>({...T,bankDetails:{...T.bankDetails,bankName:q.target.value}})),disabled:n,className:"disabled:opacity-60"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"IFSC / SWIFT Code"}),o.jsx(ft,{value:((B=_.bankDetails)==null?void 0:B.ifscCode)||"",onChange:q=>S(T=>({...T,bankDetails:{...T.bankDetails,ifscCode:q.target.value}})),disabled:n,className:"disabled:opacity-60"})]})]}),i==="Documents"&&(r?o.jsx(fte,{employeeId:r._id,readOnly:n,roleName:_.role}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-text-secondary",children:[o.jsx(xn,{size:48,className:"mb-4 text-text-muted"}),o.jsx("p",{className:"text-lg font-medium",children:"Please save the employee first"}),o.jsx("p",{className:"text-sm",children:"Documents can only be uploaded for existing employees."})]})),i==="Assets"&&(r?o.jsx(hte,{employeeId:r._id,readOnly:n}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-text-secondary",children:[o.jsx(Iv,{size:48,className:"mb-4 text-text-muted"}),o.jsx("p",{className:"text-lg font-medium",children:"Please save the employee first"}),o.jsx("p",{className:"text-sm",children:"Assets can only be assigned to existing employees."})]})),i==="Separation"&&o.jsx("div",{className:"grid grid-cols-2 gap-4",children:X("Date of Exit","dateOfExit","date")}),i==="Additional"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"font-medium",children:"Work Experience"}),!n&&o.jsxs("button",{type:"button",onClick:()=>I("workExperience",{companyName:"",jobTitle:"",fromDate:"",toDate:"",description:""}),className:"text-brand-primary text-sm flex items-center gap-1",children:[o.jsx(Na,{size:16})," Add"]})]}),_.workExperience.map((q,T)=>o.jsxs("div",{className:"border p-3 rounded mb-2 relative",children:[!n&&o.jsx("button",{type:"button",onClick:()=>z("workExperience",T),className:"absolute top-2 right-2 text-red-500",children:o.jsx(yn,{size:16})}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(ft,{placeholder:"Company",value:q.companyName,onChange:R=>M("workExperience",T,"companyName",R.target.value),className:"w-full",disabled:n}),o.jsx(ft,{placeholder:"Job Title",value:q.jobTitle,onChange:R=>M("workExperience",T,"jobTitle",R.target.value),className:"w-full",disabled:n}),o.jsx(Ja,{placeholder:"From",value:q.fromDate?q.fromDate.split("T")[0]:"",onChange:R=>M("workExperience",T,"fromDate",R.target.value),disabled:n}),o.jsx(Ja,{placeholder:"To",value:q.toDate?q.toDate.split("T")[0]:"",onChange:R=>M("workExperience",T,"toDate",R.target.value),disabled:n})]})]},T))]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"font-medium",children:"Education"}),!n&&o.jsxs("button",{type:"button",onClick:()=>I("education",{instituteName:"",degree:"",specialization:"",dateOfCompletion:""}),className:"text-brand-primary text-sm flex items-center gap-1",children:[o.jsx(Na,{size:16})," Add"]})]}),_.education.map((q,T)=>o.jsxs("div",{className:"border p-3 rounded mb-2 relative",children:[!n&&o.jsx("button",{type:"button",onClick:()=>z("education",T),className:"absolute top-2 right-2 text-red-500",children:o.jsx(yn,{size:16})}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(ft,{placeholder:"Institute",value:q.instituteName,onChange:R=>M("education",T,"instituteName",R.target.value),className:"w-full",disabled:n}),o.jsx(ft,{placeholder:"Degree",value:q.degree,onChange:R=>M("education",T,"degree",R.target.value),className:"w-full",disabled:n}),o.jsx(ft,{placeholder:"Specialization",value:q.specialization,onChange:R=>M("education",T,"specialization",R.target.value),className:"w-full",disabled:n}),o.jsx(Ja,{placeholder:"Completion Date",value:q.dateOfCompletion?q.dateOfCompletion.split("T")[0]:"",onChange:R=>M("education",T,"dateOfCompletion",R.target.value),disabled:n})]})]},T))]})]})]})})})]})}function M_e({isOpen:e,onClose:t,onSuccess:r}){const[n,a]=b.useState(!1),[s,i]=b.useState(!1),[l,c]=b.useState({firstName:"",lastName:"",email:"",role:"Employee",salary:"",joiningDate:"",designation:""}),[d,u]=b.useState([]),[f,p]=b.useState([]);b.useEffect(()=>{e&&(h(),m(),i(!1),c({firstName:"",lastName:"",email:"",role:"Employee",salary:"",joiningDate:"",designation:""}))},[e]);const h=async()=>{try{const v=await je.getRoles();u(v||[])}catch(v){console.error(v)}},m=async()=>{try{const v=await je.getDesignations();p(v||[])}catch(v){console.error(v)}},g=async v=>{v.preventDefault(),a(!0);try{await je.inviteEmployee(l),i(!0),r()}catch(w){alert(w.message)}finally{a(!1)}},x=(v,w)=>{c(N=>({...N,[v]:w}))},y=()=>{i(!1),t()};return s?o.jsx(_r,{isOpen:e,onClose:y,title:"Invitation Sent",maxWidth:"max-w-sm",footer:o.jsx("div",{className:"flex justify-center w-full",children:o.jsx("button",{onClick:y,className:"px-6 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 text-sm font-medium transition-colors",children:"Done"})}),children:o.jsxs("div",{className:"flex flex-col items-center text-center py-6",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(In,{size:32,className:"text-green-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Invitation Sent Successfully!"}),o.jsxs("p",{className:"text-sm text-text-secondary",children:["An email has been sent to ",o.jsx("strong",{children:l.email})," with onboarding instructions",l.salary&&" and their offer letter","."]})]})}):o.jsx(_r,{isOpen:e,onClose:t,title:"Invite Employee",maxWidth:"max-w-md",footer:o.jsxs("div",{className:"flex justify-end gap-3 w-full",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-border rounded-lg text-text-secondary hover:bg-bg-hover text-sm font-medium transition-colors",disabled:n,children:"Cancel"}),o.jsxs("button",{onClick:v=>g(v),className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 text-sm font-medium transition-colors disabled:opacity-50 flex items-center gap-2",disabled:n,children:[o.jsx(bc,{size:16}),n?"Sending...":"Send Invitation"]})]}),children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-text-secondary mb-4",children:"Send an onboarding invitation via email. The candidate will receive a unique link to submit their details."}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(ft,{label:"First Name",value:l.firstName,onChange:v=>x("firstName",v.target.value),required:!0,placeholder:"John",leftIcon:o.jsx(yo,{size:16})}),o.jsx(ft,{label:"Last Name",value:l.lastName,onChange:v=>x("lastName",v.target.value),required:!0,placeholder:"Doe",leftIcon:o.jsx(yo,{size:16})})]}),o.jsx(ft,{label:"Email Address",type:"email",value:l.email,onChange:v=>x("email",v.target.value),required:!0,placeholder:"john@company.com",leftIcon:o.jsx(bc,{size:16})}),o.jsx(sr,{label:"Role",value:l.role,onChange:v=>x("role",String(v)),options:[{value:"Employee",label:"Employee"},{value:"Manager",label:"Manager"},...d.filter(v=>v.name!=="Employee"&&v.name!=="Manager").map(v=>({value:v.name,label:v.name}))]}),o.jsxs("div",{className:"border-t border-border pt-4 mt-2",children:[o.jsx("p",{className:"text-sm font-medium text-text-primary mb-3",children:"Offer Details (Optional)"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(ft,{label:"Salary (CTC)",type:"number",value:l.salary,onChange:v=>x("salary",v.target.value),placeholder:"e.g. 1200000",leftIcon:o.jsx("span",{className:"text-xs font-bold px-1",children:""})}),o.jsx(ft,{label:"Joining Date",type:"date",value:l.joiningDate,onChange:v=>x("joiningDate",v.target.value)})]}),o.jsx("div",{className:"mt-4",children:o.jsx(sr,{label:"Designation",value:l.designation,onChange:v=>x("designation",String(v)),options:f.map(v=>({value:v.name,label:v.name})),placeholder:"Select Designation"})})]})]})})}const O_e=({isOpen:e,onClose:t})=>{const[r,n]=b.useState([]),[a,s]=b.useState([]),[i,l]=b.useState(!0),[c,d]=b.useState(""),[u,f]=b.useState(""),[p,h]=b.useState([]),[m,g]=b.useState({}),[x,y]=b.useState(!1),v=b.useRef(null);b.useEffect(()=>{e?w():(h([]),g({}),d(""),f(""),y(!1))},[e]);const w=async()=>{l(!0);try{const[A,O]=await Promise.all([je.getAllDocumentTypes(),je.getEmployees()]);A.success&&n(A.data),s(Array.isArray(O)?O:O.data||[])}catch(A){console.error("Failed to load config",A)}finally{l(!1)}},N=A=>{if(A.target.files){const O=Array.from(A.target.files);C(O)}},C=A=>{const O={...m};A.forEach(D=>{const M=D.name.split(".")[0];let I=M;M.includes("_")?I=M.split("_")[0]:M.includes("-")&&(I=M.split("-")[0]);const z=a.find(Y=>Y.employeeId===I);z?O[D.name]={status:"pending",employeeId:z._id,employeeName:`${z.firstName} ${z.lastName} (${z.employeeId})`}:O[D.name]={status:"error",message:`Employee ID '${I}' not found`}}),h(D=>[...D,...A]),g(O)},_=A=>{h(D=>D.filter(M=>M.name!==A));const O={...m};delete O[A],g(O)},S=async()=>{if(!c)return;y(!0);const A=p.filter(O=>{var D;return((D=m[O.name])==null?void 0:D.status)==="pending"});for(const O of A){const D=m[O.name];if(!(!D||!D.employeeId)){g(M=>({...M,[O.name]:{...M[O.name],status:"uploading"}}));try{const M=new FormData;M.append("file",O),M.append("employeeId",D.employeeId),M.append("documentTypeId",c),u&&M.append("expiryDate",u),await je.uploadEmployeeDocument(M),g(I=>({...I,[O.name]:{...I[O.name],status:"success"}}))}catch(M){g(I=>({...I,[O.name]:{...I[O.name],status:"error",message:M.message||"Upload failed"}}))}}}y(!1)},k=r.find(A=>A._id===c);return o.jsx(_r,{isOpen:e,onClose:x?()=>{}:t,title:"Bulk Document Upload",maxWidth:"max-w-4xl",children:o.jsx("div",{className:"space-y-6 min-h-[400px]",children:i?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx(Vn,{className:"animate-spin text-brand-primary",size:32})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(sr,{label:"Document Type",value:c,onChange:A=>d(A),options:r.map(A=>({value:A._id,label:A.name})),disabled:x||p.length>0}),(k==null?void 0:k.expiryRequired)&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Default Expiry"}),o.jsx("input",{type:"date",value:u,onChange:A=>f(A.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-bg-main focus:outline-none focus:ring-2 focus:ring-brand-primary/20",disabled:x}),o.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Applied to all uploaded documents"})]})]}),o.jsxs("div",{className:"border-2 border-dashed border-border rounded-xl p-8 text-center hover:bg-bg-hover transition-colors",children:[o.jsx("input",{ref:v,type:"file",multiple:!0,className:"hidden",onChange:N,disabled:!c||x}),o.jsxs("div",{className:"flex flex-col items-center gap-3",children:[o.jsx("div",{className:"p-3 bg-brand-primary/10 rounded-full text-brand-primary",children:o.jsx(Sl,{size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-text-primary",children:"Click to upload or drag and drop"}),o.jsx("p",{className:"text-sm text-text-secondary",children:"Supported: PDF, JPG, PNG. Filenames must start with Employee ID (e.g., EMP001_Offer.pdf)"})]}),o.jsx("button",{onClick:()=>{var A;return(A=v.current)==null?void 0:A.click()},disabled:!c||x,className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 disabled:opacity-50 font-medium text-sm",children:"Select Files"})]})]}),p.length>0&&o.jsxs("div",{className:"border border-border rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"bg-bg-hover px-4 py-2 border-b border-border text-sm font-medium text-text-secondary flex justify-between",children:[o.jsxs("span",{children:["Selected Files (",p.length,")"]}),o.jsxs("span",{className:"text-xs",children:["Ready:"," ",p.filter(A=>{var O;return((O=m[A.name])==null?void 0:O.status)==="pending"}).length," ","| Success:"," ",p.filter(A=>{var O;return((O=m[A.name])==null?void 0:O.status)==="success"}).length," ","| Error:"," ",p.filter(A=>{var O;return((O=m[A.name])==null?void 0:O.status)==="error"}).length]})]}),o.jsx("div",{className:"max-h-64 overflow-y-auto divide-y divide-border",children:p.map((A,O)=>{const D=m[A.name];return o.jsxs("div",{className:"px-4 py-3 flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(xn,{size:16,className:"text-text-muted"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-text-primary truncate max-w-xs",title:A.name,children:A.name}),o.jsx("p",{className:"text-xs text-text-secondary",children:(D==null?void 0:D.employeeName)||(D==null?void 0:D.message)||"Processing..."})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[(D==null?void 0:D.status)==="pending"&&o.jsx("span",{className:"text-blue-500 bg-blue-50 px-2 py-0.5 rounded text-xs font-medium",children:"Ready"}),(D==null?void 0:D.status)==="uploading"&&o.jsx(Vn,{size:16,className:"text-brand-primary animate-spin"}),(D==null?void 0:D.status)==="success"&&o.jsx(In,{size:16,className:"text-green-500"}),(D==null?void 0:D.status)==="error"&&o.jsx(ta,{size:16,className:"text-red-500"}),!x&&(D==null?void 0:D.status)!=="success"&&o.jsx("button",{onClick:()=>_(A.name),className:"text-text-secondary hover:text-red-500",children:o.jsx(Qi,{size:16})})]})]},O)})})]}),o.jsxs("div",{className:"flex justify-end pt-4 border-t border-border gap-3",children:[o.jsx("button",{onClick:t,disabled:x,className:"px-4 py-2 text-text-secondary hover:bg-bg-hover rounded-lg font-medium text-sm",children:"Close"}),o.jsxs("button",{onClick:S,disabled:x||p.filter(A=>{var O;return((O=m[A.name])==null?void 0:O.status)==="pending"}).length===0,className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 disabled:opacity-50 font-medium text-sm flex items-center gap-2",children:[x&&o.jsx(Vn,{size:16,className:"animate-spin"}),x?"Uploading...":`Upload ${p.filter(A=>{var O;return((O=m[A.name])==null?void 0:O.status)==="pending"}).length} Files`]})]})]})})})};function P_e(){var C,_;const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,s]=b.useState(null),[i,l]=b.useState(!1),[c,d]=b.useState(""),[u,f]=b.useState(!1),[p,h]=b.useState({isOpen:!1,title:"",message:"",variant:"info",onConfirm:()=>{}}),m=()=>{h(S=>({...S,isOpen:!1}))},g=S=>{h({isOpen:!0,title:"Success",message:S,variant:"success",showCancel:!1,confirmText:"OK",onConfirm:m})},x=S=>{h({isOpen:!0,title:"Error",message:S,variant:"danger",showCancel:!1,confirmText:"OK",onConfirm:m})},y=async()=>{try{const S=await je.getEmployees(),k=Array.isArray(S)?S.filter(A=>["Invited","Onboarding","Review"].includes(A.employeeStatus)):[];t(k),n(!1)}catch(S){console.error(S),n(!1)}};b.useEffect(()=>{y()},[]);const v=async()=>{if(a){l(!0),m();try{const S=localStorage.getItem("authToken"),k=await fetch(`${Oe}/onboarding/approve/${a._id}`,{method:"POST",headers:{Authorization:`Bearer ${S}`}});if(!k.ok){const A=await k.json();throw new Error(A.message)}g("Employee Approved Successfully"),s(null),y()}catch(S){x(S.message)}finally{l(!1)}}},w=()=>{h({isOpen:!0,title:"Approve Employee",message:"Are you sure you want to approve this employee? A user account will be created.",variant:"success",confirmText:"Approve & Activate",showCancel:!0,onConfirm:v})},N=async()=>{if(a){if(!c){x("Please provide a reason for rejection");return}l(!0);try{const S=localStorage.getItem("authToken"),k=await fetch(`${Oe}/onboarding/reject/${a._id}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({reason:c})});if(!k.ok){const A=await k.json();throw new Error(A.message)}g("Employee Returned for Changes"),s(null),f(!1),d(""),y()}catch(S){x(S.message)}finally{l(!1)}}};return r?o.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading requests..."}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-border overflow-hidden",children:o.jsx(eo,{columns:[{header:"Name",accessorKey:"firstName",render:S=>o.jsxs("div",{className:"font-medium text-text-primary",children:[S.firstName," ",S.lastName]})},{header:"Email",accessorKey:"email"},{header:"Status",accessorKey:"employeeStatus",render:S=>o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${S.employeeStatus==="Review"?"bg-amber-100 text-amber-700":S.employeeStatus==="Invited"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:S.employeeStatus})},{header:"Progress",render:S=>{var D;const k=((D=S.onboarding)==null?void 0:D.currentStep)||1,A=4,O=Math.min(k/A*100,100);return o.jsxs("div",{className:"w-32",children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsxs("span",{className:"font-medium text-text-primary",children:["Step ",k," of ",A]}),o.jsxs("span",{className:"text-text-tertiary",children:[Math.round(O),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5 overflow-hidden",children:o.jsx("div",{className:"bg-brand-primary h-1.5 rounded-full transition-all duration-500",style:{width:`${O}%`}})})]})}},{header:"Actions",className:"text-right",render:S=>o.jsx("div",{className:"flex justify-end",children:o.jsx(en,{content:"Review Application",children:o.jsx("button",{onClick:()=>s(S),className:"p-2 text-text-secondary hover:text-brand-primary hover:bg-brand-primary/10 rounded-lg transition-colors",children:o.jsx(Lv,{size:18})})})})}],data:e,isLoading:r,emptyMessage:"No pending onboarding requests."})}),a&&o.jsx(_r,{isOpen:!!a,onClose:()=>s(null),title:"Review Onboarding",maxWidth:"max-w-3xl",footer:o.jsx("div",{className:"w-full",children:u?o.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border border-red-100 animate-in fade-in slide-in-from-top-2",children:[o.jsx("label",{className:"block text-sm font-semibold text-red-800 mb-2",children:"Reason for Return"}),o.jsx("textarea",{className:"w-full p-2 border border-red-200 rounded-lg mb-3 text-sm focus:ring-2 focus:ring-red-200 outline-none",value:c,onChange:S=>d(S.target.value),placeholder:"e.g. Uploaded documents are blurry. Please re-upload.",rows:2}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:bg-white rounded-lg transition-colors text-sm",children:"Cancel"}),o.jsxs("button",{onClick:N,disabled:i,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 text-sm font-medium flex items-center gap-2",children:[i&&o.jsx(Vn,{className:"animate-spin",size:14}),"Confirm Return"]})]})]}):o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 border border-red-200 text-red-600 rounded-lg hover:bg-red-50 hover:border-red-300 flex items-center gap-2 text-sm font-medium transition-colors",children:[o.jsx(Qi,{size:16})," Request Changes"]}),o.jsxs("button",{onClick:w,disabled:i,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 shadow-md shadow-green-200 flex items-center gap-2 text-sm font-medium transition-all transform hover:scale-[1.02]",children:[i?o.jsx(Vn,{className:"animate-spin",size:18}):o.jsx(pl,{size:18}),"Approve & Activate"]})]})}),children:o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"border-b pb-4 mb-4",children:o.jsxs("p",{className:"text-sm text-text-secondary",children:["Applicant:"," ",o.jsxs("span",{className:"font-semibold text-gray-900",children:[a.firstName," ",a.lastName]})," "," ",a.email]})}),o.jsxs("section",{children:[o.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-6 bg-violet-600 rounded-r-full"}),"Personal Details"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8 text-sm bg-gray-50 p-4 rounded-xl border border-gray-100",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400 block text-xs uppercase tracking-wider mb-1",children:"Email"}),a.email]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400 block text-xs uppercase tracking-wider mb-1",children:"Mobile"}),a.personalMobile||a.mobile||"-"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400 block text-xs uppercase tracking-wider mb-1",children:"Date of Birth"}),a.dateOfBirth?new Date(a.dateOfBirth).toLocaleDateString():a.dob?new Date(a.dob).toLocaleDateString():"-"]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"text-gray-400 block text-xs uppercase tracking-wider mb-1",children:"Address"}),a.presentAddress||a.address||"-"]})]})]}),a.bankDetails&&o.jsxs("section",{children:[o.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-6 bg-violet-600 rounded-r-full"}),"Bank Details"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8 text-sm bg-gray-50 p-4 rounded-xl border border-gray-100",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400 block text-xs uppercase tracking-wider mb-1",children:"Bank Name"}),a.bankDetails.bankName||"-"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400 block text-xs uppercase tracking-wider mb-1",children:"Account Number"}),a.bankDetails.accountNumber||"-"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400 block text-xs uppercase tracking-wider mb-1",children:"IFSC Code"}),a.bankDetails.ifscCode||"-"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400 block text-xs uppercase tracking-wider mb-1",children:"Holder Name"}),a.bankDetails.accountName||"-"]})]})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-6 bg-violet-600 rounded-r-full"}),"Submitted Documents"]}),((_=(C=a.onboarding)==null?void 0:C.documents)==null?void 0:_.length)>0?o.jsx("ul",{className:"grid grid-cols-1 gap-3",children:a.onboarding.documents.map((S,k)=>o.jsxs("li",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-xl hover:bg-gray-50 transition-colors group",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-violet-100 p-2 rounded-lg text-violet-600",children:o.jsx(xn,{size:20})}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-sm text-gray-900 block",children:S.name}),o.jsx("span",{className:"text-xs text-gray-400",children:"Uploaded recently"})]})]}),o.jsxs("a",{href:`${Oe}/${S.url}`,target:"_blank",rel:"noopener noreferrer",className:"bg-white border border-gray-200 text-gray-600 hover:text-violet-600 hover:border-violet-200 px-3 py-1.5 rounded-lg text-sm flex items-center gap-2 transition-all shadow-sm",children:[o.jsx(cf,{size:14})," View"]})]},k))}):o.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:o.jsx("p",{className:"text-gray-500 text-sm",children:"No documents uploaded."})})]})]})}),o.jsx(ji,{isOpen:p.isOpen,onClose:m,title:p.title,message:p.message,variant:p.variant,confirmText:p.confirmText,showCancel:p.showCancel,onConfirm:p.onConfirm})]})}function R_e(){const{hasPermission:e}=Sr(),[t,r]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(null),[l,c]=b.useState(!1),[d,u]=b.useState(!1),[f,p]=b.useState(!1),[h,m]=b.useState(null),[g,x]=b.useState(!1),[y,v]=b.useState("active"),[w,N]=b.useState(null),[C,_]=b.useState(null),[S,k]=b.useState(!1),A=async()=>{a(!0);try{const J=await je.getEmployees(),B=Array.isArray(J)?J.filter(q=>!["Invited","Onboarding","Review","Draft"].includes(q.employeeStatus)):[];r(B),i(null)}catch(J){i(J.message||"Failed to fetch employees")}finally{a(!1)}};b.useEffect(()=>{A()},[]);const O=()=>{m(null),x(!1),c(!0)},D=J=>{m(J),x(!1),c(!0)},M=J=>{m(J),x(!0),c(!0)},I=()=>{c(!1),m(null),x(!1),A()},z=async J=>{var B,q;try{const T=((B=J.user)==null?void 0:B._id)||J.user;if(!T){alert("User ID not found");return}const F=(((q=J.user)==null?void 0:q.status)||"active")==="active"?"inactive":"active";await je.updateUserStatus(T,F),A()}catch(T){alert(T.message||"Failed to update status")}},Y=J=>{var q;const B=((q=J.user)==null?void 0:q._id)||J.user;if(!B){alert("User ID not found");return}_(B)},X=async()=>{if(C){k(!0);try{await je.resetUserPassword(C),alert("Password reset successfully. Default password sent to user.")}catch(J){alert(J.message||"Failed to reset password")}finally{k(!1),_(null)}}},V=J=>{var q;const B=((q=J.user)==null?void 0:q._id)||J.user;if(!B){alert("User ID not found");return}N(B)},G=async()=>{if(w){k(!0);try{await je.deleteUser(w),A()}catch(J){alert(J.message||"Failed to delete user")}finally{k(!1),N(null)}}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Employee Management"}),o.jsx("p",{className:"text-text-secondary mt-1",children:"Manage detailed employee records"})]}),o.jsxs("div",{className:"flex gap-2",children:[e("employees:create")&&o.jsx(dt,{onClick:()=>p(!0),variant:"ghost",leftIcon:o.jsx(Sl,{size:20}),children:"Bulk Upload"}),e("employees:create")&&o.jsx(dt,{onClick:()=>u(!0),variant:"secondary",className:"border border-gray-300 dark:border-gray-600",leftIcon:o.jsx(bc,{size:20}),children:"Invite Candidate"}),e("employees:create")&&o.jsx(dt,{onClick:O,leftIcon:o.jsx(Na,{size:20}),children:"Add Employee"})]})]}),o.jsxs("div",{className:"flex border-b border-border",children:[o.jsx("button",{onClick:()=>v("active"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${y==="active"?"border-brand-primary text-brand-primary":"border-transparent text-text-secondary hover:text-text-primary"}`,children:"Active Employees"}),o.jsx("button",{onClick:()=>v("onboarding"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${y==="onboarding"?"border-brand-primary text-brand-primary":"border-transparent text-text-secondary hover:text-text-primary"}`,children:"Onboarding Requests"})]}),s&&o.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg",children:s}),y==="onboarding"?o.jsx(P_e,{}):o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-border overflow-hidden",children:o.jsx(eo,{columns:[{header:"Employee",accessorKey:"firstName",searchKey:"firstName",render:J=>{var B,q;return o.jsxs("div",{className:"flex items-center gap-3",children:[J.profilePicture?o.jsx("img",{src:J.profilePicture.startsWith("http")?J.profilePicture:`${Ma}/${J.profilePicture}`,alt:`${J.firstName} ${J.lastName}`,className:"w-10 h-10 rounded-full object-cover border border-border"}):o.jsxs("div",{className:"w-10 h-10 rounded-full bg-brand-primary/10 flex items-center justify-center text-brand-primary font-medium",children:[((B=J.firstName)==null?void 0:B[0])||"?",((q=J.lastName)==null?void 0:q[0])||""]}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium text-text-primary",children:[J.firstName," ",J.lastName,J.isPlaceholder&&o.jsx("span",{className:"ml-2 text-xs bg-amber-100 text-amber-700 px-2 py-0.5 rounded",children:"No Details"})]}),o.jsx("div",{className:"text-xs text-text-secondary",children:J.employeeId})]})]})}},{header:"Role & Dept",accessorKey:"role",render:J=>o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-text-primary",children:J.role}),o.jsx("div",{className:"text-xs text-text-secondary",children:J.department})]})},{header:"Status",accessorKey:"user.status",enableSorting:!0,render:J=>{var q;const B=((q=J.user)==null?void 0:q.status)||"active";return o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${B==="active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:B==="active"?"Active":"Inactive"})}},{header:"Contact",render:J=>o.jsxs("div",{className:"text-sm text-text-secondary",children:[o.jsx("div",{children:J.email}),o.jsx("div",{children:J.workPhone})]})},{header:"Actions",className:"text-right",render:J=>{var q;const B=((q=J.user)==null?void 0:q.status)||"active";return o.jsxs("div",{className:"flex items-center justify-end gap-1",children:[o.jsx(en,{content:"View Details",children:o.jsx("button",{onClick:()=>M(J),className:"p-2 text-text-secondary hover:text-brand-primary hover:bg-brand-primary/10 rounded-lg transition-colors",children:o.jsx(Lv,{size:16})})}),e("employees:edit")&&o.jsx(en,{content:"Edit Employee",children:o.jsx("button",{onClick:()=>D(J),className:"p-2 text-text-secondary hover:text-brand-primary hover:bg-brand-primary/10 rounded-lg transition-colors",children:o.jsx(WN,{size:16})})}),e("employees:edit")&&o.jsx(en,{content:B==="active"?"Deactivate User":"Activate User",children:o.jsx("button",{onClick:()=>z(J),className:`p-2 rounded-lg transition-colors ${B==="active"?"text-amber-600 hover:bg-amber-50":"text-green-600 hover:bg-green-50"}`,children:B==="active"?o.jsx(nee,{size:16}):o.jsx(tee,{size:16})})}),e("employees:edit")&&o.jsx(en,{content:"Reset Password",children:o.jsx("button",{onClick:()=>Y(J),className:"p-2 text-text-secondary hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:o.jsx(Qd,{size:16})})}),e("employees:delete")&&o.jsx(en,{content:"Delete User",children:o.jsx("button",{onClick:()=>V(J),className:"p-2 text-text-secondary hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:o.jsx(yn,{size:16})})})]})}}],data:t,isLoading:n,emptyMessage:"No employees found."})}),l&&o.jsx(D_e,{isOpen:l,onClose:I,employee:h,viewMode:g}),d&&o.jsx(M_e,{isOpen:d,onClose:()=>u(!1),onSuccess:()=>{v("onboarding")}}),f&&o.jsx(O_e,{isOpen:f,onClose:()=>p(!1)}),o.jsx(ji,{isOpen:w!==null,onClose:()=>N(null),onConfirm:G,title:"Delete User",message:"Are you sure you want to delete this user? This action cannot be undone.",confirmText:"Delete",variant:"danger",isLoading:S}),o.jsx(ji,{isOpen:C!==null,onClose:()=>_(null),onConfirm:X,title:"Reset Password",message:"Are you sure you want to reset this user's password? A default password will be sent to them.",confirmText:"Reset Password",isLoading:S})]})}function nn({children:e,allowedRoles:t}){const{user:r,isAuthenticated:n,isLoading:a}=Sr(),s=lu();if(a)return o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-bg-main",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-brand-primary"})});if(!n||!r)return o.jsx(Ov,{to:"/login",state:{from:s},replace:!0});if(r.role==="Super Admin")return o.jsx(o.Fragment,{children:e});const i=s6.find(l=>l.to===s.pathname||s.pathname.startsWith(l.to+"/"));return i&&i.module&&r.accessibleModules&&r.accessibleModules.includes(i.module)?o.jsx(o.Fragment,{children:e}):t.includes(r.role)?o.jsx(o.Fragment,{children:e}):o.jsx(Ov,{to:"/unauthorized",replace:!0})}function Ba({children:e,module:t}){const{user:r,isAuthenticated:n,isLoading:a}=Sr(),s=lu();return a?o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-bg-main",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-brand-primary"})}):!n||!r?o.jsx(Ov,{to:"/login",state:{from:s},replace:!0}):r.role==="Super Admin"?o.jsx(o.Fragment,{children:e}):r.accessibleModules&&!r.accessibleModules.includes(t)?o.jsx(Ov,{to:"/unauthorized",replace:!0}):o.jsx(o.Fragment,{children:e})}function L_e(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[a,s]=b.useState(""),{login:i,isLoading:l}=Sr(),c=vs(),d=lu(),u=async f=>{var p,h;f.preventDefault(),s("");try{let m;try{if(navigator.geolocation){const N=await new Promise((C,_)=>{navigator.geolocation.getCurrentPosition(C,_,{timeout:5e3})});m={lat:N.coords.latitude,lng:N.coords.longitude}}}catch(N){console.log("Location access denied or failed",N)}const g=await i(e,r,m),x=aL(g),y=b2e(g),v=(h=(p=d.state)==null?void 0:p.from)==null?void 0:h.pathname,w=v&&x.some(N=>N.to===v);c(w?v:y,{replace:!0})}catch(m){s(m.message||"Invalid credentials. Please try again.")}};return o.jsxs("div",{className:"flex min-h-screen bg-bg-main overflow-hidden",children:[o.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative bg-brand-primary text-white flex-col justify-between p-12 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",children:o.jsx("svg",{className:"h-full w-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:o.jsx("path",{d:"M0 100 C 20 0 50 0 100 100 Z",fill:"currentColor"})})}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[o.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl backdrop-blur-sm flex items-center justify-center",children:o.jsx(vc,{size:24,className:"text-white"})}),o.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"NeointeractionHR"})]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold leading-tight mb-6",children:"Welcome back to your workspace."}),o.jsx("p",{className:"text-lg text-blue-100 max-w-md leading-relaxed",children:"Securely access your dashboard, manage your team, and stay on top of your HR tasks."})]}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx("div",{className:"flex -space-x-3",children:[1,2,3,4].map(f=>o.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-brand-primary bg-gray-200"},f))}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-semibold",children:"Join thousands of users"}),o.jsx("p",{className:"text-blue-200",children:"Streamlining HR globally"})]})]}),o.jsxs("p",{className:"text-xs text-blue-200 opacity-60",children:[" ",new Date().getFullYear()," NeointeractionHR. All rights reserved."]})]})]}),o.jsx("div",{className:"w-full lg:w-1/2 flex flex-col h-screen overflow-y-auto bg-bg-main justify-center",children:o.jsxs("div",{className:"max-w-md mx-auto w-full p-6 md:p-12",children:[o.jsxs("div",{className:"lg:hidden flex items-center gap-2 mb-8",children:[o.jsx("div",{className:"w-8 h-8 bg-brand-primary rounded-lg flex items-center justify-center",children:o.jsx(vc,{size:16,className:"text-white"})}),o.jsx("span",{className:"text-xl font-bold text-brand-primary",children:"NeointeractionHR"})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-2",children:"Log in"}),o.jsx("p",{className:"text-text-secondary",children:"Welcome back! Please enter your details."})]}),o.jsxs("form",{onSubmit:u,className:"space-y-5 animate-in fade-in slide-in-from-right-4 duration-300",children:[a&&o.jsxs("div",{className:"p-4 rounded-lg bg-status-error/10 border border-status-error/20 text-status-error text-sm flex items-center gap-2 animate-in fade-in slide-in-from-top-1",children:[o.jsx(ta,{size:16})," ",a]}),o.jsx(ft,{label:"Email",leftIcon:o.jsx(bc,{size:18}),type:"email",value:e,onChange:f=>t(f.target.value),placeholder:"name@company.com",required:!0,className:"bg-bg-card border-border"}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-1.5 ml-1",children:[o.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Password"}),o.jsx(_b,{to:"/forgot-password",className:"text-xs font-semibold text-brand-primary hover:text-brand-primary/80",children:"Forgot password?"})]}),o.jsxs("div",{className:"relative group",children:[o.jsx(Qd,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-text-muted transition-colors group-focus-within:text-brand-primary",size:18}),o.jsx(hd,{value:r,onChange:f=>n(f.target.value),className:"pl-10 bg-bg-card border-border",placeholder:"",required:!0})]})]}),o.jsx("button",{type:"submit",disabled:l,className:"w-full px-6 h-[38px] bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 transition-all shadow-lg hover:shadow-brand-primary/30 disabled:opacity-70 disabled:cursor-not-allowed font-semibold text-sm flex items-center justify-center gap-2",children:l?o.jsx(Ab,{size:20,variant:"white"}):"Sign In"})]}),o.jsxs("p",{className:"mt-8 text-center text-sm text-text-secondary",children:["Don't have an account?"," ",o.jsx("a",{href:"/signup",className:"text-brand-primary hover:text-brand-primary/80 font-semibold hover:underline decoration-2 underline-offset-2 transition-all",children:"Sign up"})]}),o.jsxs("div",{className:"mt-10 pt-6 border-t border-border",children:[o.jsx("p",{className:"text-xs font-semibold text-text-muted text-center mb-4 uppercase tracking-wider",children:"Quick Login (Demo)"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>{t("admin@neointeraction.com"),n("password123")},className:"p-3 bg-bg-card border border-border rounded-lg hover:border-brand-primary/50 hover:bg-brand-primary/5 text-left transition-all group",children:[o.jsx("div",{className:"text-xs font-bold text-text-primary group-hover:text-brand-primary mb-0.5",children:"Admin"}),o.jsx("div",{className:"text-[10px] text-text-muted truncate",children:"admin@neointeraction.com"})]}),o.jsxs("button",{type:"button",onClick:()=>{t("hr@neointeraction.com"),n("Welcome@123")},className:"p-3 bg-bg-card border border-border rounded-lg hover:border-brand-primary/50 hover:bg-brand-primary/5 text-left transition-all group",children:[o.jsx("div",{className:"text-xs font-bold text-text-primary group-hover:text-brand-primary mb-0.5",children:"HR"}),o.jsx("div",{className:"text-[10px] text-text-muted truncate",children:"hr@neointeraction.com"})]}),o.jsxs("button",{type:"button",onClick:()=>{t("shameer@neointeraction.com"),n("password123")},className:"p-3 bg-bg-card border border-border rounded-lg hover:border-brand-primary/50 hover:bg-brand-primary/5 text-left transition-all group",children:[o.jsx("div",{className:"text-xs font-bold text-text-primary group-hover:text-brand-primary mb-0.5",children:"Manager"}),o.jsx("div",{className:"text-[10px] text-text-muted truncate",children:"shameer@neointeraction.com"})]}),o.jsxs("button",{type:"button",onClick:()=>{t("liya@neointeraction.com"),n("password")},className:"p-3 bg-bg-card border border-border rounded-lg hover:border-brand-primary/50 hover:bg-brand-primary/5 text-left transition-all group",children:[o.jsx("div",{className:"text-xs font-bold text-text-primary group-hover:text-brand-primary mb-0.5",children:"Employee"}),o.jsx("div",{className:"text-[10px] text-text-muted truncate",children:"liya@neointeraction.com"})]}),o.jsxs("button",{type:"button",onClick:()=>{t("sam@neointeraction.com"),n("password")},className:"p-3 bg-bg-card border border-border rounded-lg hover:border-brand-primary/50 hover:bg-brand-primary/5 text-left transition-all group",children:[o.jsx("div",{className:"text-xs font-bold text-text-primary group-hover:text-brand-primary mb-0.5",children:"CEO"}),o.jsx("div",{className:"text-[10px] text-text-muted truncate",children:"sam@neointeraction.com"})]}),o.jsxs("button",{type:"button",onClick:()=>{t("accounts@neointeraction.com"),n("password")},className:"p-3 bg-bg-card border border-border rounded-lg hover:border-brand-primary/50 hover:bg-brand-primary/5 text-left transition-all group",children:[o.jsx("div",{className:"text-xs font-bold text-text-primary group-hover:text-brand-primary mb-0.5",children:"Accounts"}),o.jsx("div",{className:"text-[10px] text-text-muted truncate",children:"accounts@neointeraction.com"})]}),o.jsxs("button",{type:"button",onClick:()=>{t("contractor@neointeraction.com"),n("password")},className:"p-3 bg-bg-card border border-border rounded-lg hover:border-brand-primary/50 hover:bg-brand-primary/5 text-left transition-all group",children:[o.jsx("div",{className:"text-xs font-bold text-text-primary group-hover:text-brand-primary mb-0.5",children:"Contractor"}),o.jsx("div",{className:"text-[10px] text-text-muted truncate",children:"contractor@neointeraction.com"})]}),o.jsxs("button",{type:"button",onClick:()=>{t("superadmin@hrms.com"),n("password123")},className:"col-span-2 p-3 bg-purple-50 dark:bg-purple-900/10 border border-purple-200 dark:border-purple-800 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/20 text-left transition-all group",children:[o.jsx("div",{className:"text-xs font-bold text-purple-700 dark:text-purple-300 mb-0.5",children:"Super Admin"}),o.jsx("div",{className:"text-[10px] text-purple-600/70 dark:text-purple-400/70 truncate",children:"superadmin@hrms.com"})]})]})]})]})})]})}const I_e=()=>{const e=vs(),[t,r]=b.useState(1),[n,a]=b.useState(!1),[s,i]=b.useState(""),[l,c]=b.useState(!1),[d,u]=b.useState({companyName:"",adminName:"",adminEmail:"",password:"",confirmPassword:"",subdomain:"",plan:"free"}),f=m=>{u({...d,[m.target.name]:m.target.value}),i("")},p=async m=>{if(m.preventDefault(),d.password!==d.confirmPassword){i("Passwords do not match");return}if(d.password.length<8){i("Password must be at least 8 characters");return}a(!0),i("");try{await je.registerCompany({companyName:d.companyName,adminName:d.adminName,adminEmail:d.adminEmail,password:d.password,subdomain:d.subdomain||void 0,plan:d.plan}),c(!0)}catch(g){i(g.message||"Failed to register company")}finally{a(!1)}},h=[{id:"free",name:"Free",price:"$0",features:["Up to 10 employees","100 MB storage","Basic modules"]},{id:"basic",name:"Basic",price:"$29/mo",features:["Up to 50 employees","500 MB storage","All modules"]},{id:"pro",name:"Pro",price:"$99/mo",features:["Up to 200 employees","2 GB storage","Advanced features"]},{id:"enterprise",name:"Enterprise",price:"Custom",features:["Unlimited employees","10 GB storage","Premium support"]}];return o.jsxs("div",{className:"flex min-h-screen bg-bg-main overflow-hidden",children:[o.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative bg-brand-primary text-white flex-col justify-between p-12 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",children:o.jsx("svg",{className:"h-full w-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:o.jsx("path",{d:"M0 100 C 20 0 50 0 100 100 Z",fill:"currentColor"})})}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[o.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl backdrop-blur-sm flex items-center justify-center",children:o.jsx(vc,{size:24,className:"text-white"})}),o.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"NeointeractionHR"})]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold leading-tight mb-6",children:"Everything you need to manage your workforce."}),o.jsx("p",{className:"text-lg text-blue-100 max-w-md leading-relaxed",children:"Join thousands of forward-thinking companies that use our platform to streamline HR, payroll, and employee engagement."})]}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx("div",{className:"flex -space-x-3",children:[1,2,3,4].map(m=>o.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-brand-primary bg-gray-200"},m))}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-semibold",children:"Trusted by industry leaders"}),o.jsx("p",{className:"text-blue-200",children:"Start your journey today"})]})]}),o.jsxs("p",{className:"text-xs text-blue-200 opacity-60",children:[" ",new Date().getFullYear()," NeointeractionHR. All rights reserved."]})]})]}),o.jsx("div",{className:"w-full lg:w-1/2 flex flex-col h-screen overflow-y-auto bg-bg-main",children:o.jsxs("div",{className:"flex-1 flex flex-col justify-center max-w-xl mx-auto w-full p-6 md:p-12 lg:p-16",children:[o.jsxs("div",{className:"lg:hidden flex items-center gap-2 mb-8",children:[o.jsx("div",{className:"w-8 h-8 bg-brand-primary rounded-lg flex items-center justify-center",children:o.jsx(vc,{size:16,className:"text-white"})}),o.jsx("span",{className:"text-xl font-bold text-brand-primary",children:"NeointeractionHR"})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-2",children:"Create your workspace"}),o.jsx("p",{className:"text-text-secondary",children:"It only takes a few minutes to get started."})]}),o.jsx("div",{className:"mb-10",children:o.jsxs("div",{className:"flex items-center justify-between relative",children:[o.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-full h-1 bg-border -z-10 rounded-full"}),[1,2,3].map(m=>o.jsxs("div",{className:"relative flex flex-col items-center group",children:[o.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 transition-all duration-300 ${t>=m?"bg-brand-primary border-brand-primary text-white scale-110 shadow-md":"bg-bg-card border-border text-text-muted"}`,children:t>m?o.jsx(pl,{size:14,strokeWidth:3}):o.jsx("span",{className:"text-xs font-bold",children:m})}),o.jsx("span",{className:`absolute top-10 text-xs font-medium transition-colors duration-300 ${t===m?"text-brand-primary":"text-text-muted"}`,children:m===1?"Company":m===2?"Admin":"Plan"})]},m))]})}),o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s&&o.jsxs("div",{className:"p-4 rounded-lg bg-status-error/10 border border-status-error/20 text-status-error text-sm flex items-center gap-2 animate-in fade-in slide-in-from-top-1",children:[o.jsx("div",{className:"w-1 h-1 rounded-full bg-status-error"})," ",s]}),t===1&&o.jsxs("div",{className:"space-y-5 animate-in fade-in slide-in-from-right-4 duration-300",children:[o.jsx(ft,{label:"Company Name *",leftIcon:o.jsx(vc,{size:18}),type:"text",name:"companyName",value:d.companyName,onChange:f,required:!0,placeholder:"e.g. Acme Corp",className:"bg-bg-card border-border h-[38px]"}),o.jsxs("div",{children:[o.jsx(ft,{label:"Subdomain",leftIcon:o.jsx(Lh,{size:18}),type:"text",name:"subdomain",value:d.subdomain,onChange:f,placeholder:"acme",className:"bg-bg-card border-border h-[38px]"}),o.jsxs("p",{className:"text-xs text-text-muted mt-2 pl-1 flex items-center gap-1",children:["Your URL:"," ",o.jsxs("span",{className:"font-mono text-brand-primary bg-brand-primary/10 px-1 rounded",children:[d.subdomain||"your-company",".yourhrms.com"]})]})]}),o.jsx("div",{className:"pt-4",children:o.jsx("button",{type:"button",onClick:()=>r(2),disabled:!d.companyName,className:"w-full px-6 h-[38px] bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 transition-all shadow-lg hover:shadow-brand-primary/30 disabled:opacity-50 disabled:shadow-none font-semibold text-sm flex items-center justify-center",children:"Continue to Admin Setup"})})]}),t===2&&o.jsxs("div",{className:"space-y-5 animate-in fade-in slide-in-from-right-4 duration-300",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsx(ft,{label:"Full Name *",leftIcon:o.jsx(yo,{size:18}),type:"text",name:"adminName",value:d.adminName,onChange:f,required:!0,placeholder:"John Doe",className:"bg-bg-card border-border h-[38px]"}),o.jsx(ft,{label:"Work Email *",leftIcon:o.jsx(bc,{size:18}),type:"email",name:"adminEmail",value:d.adminEmail,onChange:f,required:!0,placeholder:"john@company.com",className:"bg-bg-card border-border h-[38px]"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5 ml-1",children:"Password *"}),o.jsxs("div",{className:"relative group",children:[o.jsx(Qd,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-text-muted transition-colors group-focus-within:text-brand-primary",size:18}),o.jsx(hd,{value:d.password,onChange:f,name:"password",required:!0,className:"pl-10 bg-bg-card border-border h-[38px] rounded-lg",placeholder:"Create a strong password"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1.5 ml-1",children:"Confirm Password *"}),o.jsxs("div",{className:"relative group",children:[o.jsx(Qd,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-text-muted transition-colors group-focus-within:text-brand-primary",size:18}),o.jsx(hd,{value:d.confirmPassword,onChange:f,name:"confirmPassword",required:!0,className:"pl-10 bg-bg-card border-border h-[38px] rounded-lg",placeholder:"Repeat password"})]})]}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>r(1),className:"px-6 h-[38px] border border-border text-text-secondary rounded-lg hover:bg-bg-hover transition-colors font-semibold text-sm flex items-center justify-center",children:"Back"}),o.jsx("button",{type:"button",onClick:()=>r(3),disabled:!d.adminName||!d.adminEmail||!d.password||!d.confirmPassword,className:"flex-1 px-6 h-[38px] bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 transition-all shadow-lg hover:shadow-brand-primary/30 disabled:opacity-50 disabled:shadow-none font-semibold text-sm flex items-center justify-center",children:"Continue to Plans"})]})]}),t===3&&o.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[o.jsx("div",{className:"grid grid-cols-1 gap-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:h.map(m=>o.jsxs("div",{onClick:()=>u({...d,plan:m.id}),className:`relative p-5 border-2 rounded-xl cursor-pointer transition-all duration-200 group ${d.plan===m.id?"border-brand-primary bg-brand-primary/5 shadow-md":"border-border bg-bg-card hover:border-brand-primary/50 hover:bg-bg-hover"}`,children:[d.plan===m.id&&o.jsx("div",{className:"absolute top-4 right-4 text-brand-primary bg-white dark:bg-black rounded-full p-1 shadow-sm",children:o.jsx(pl,{size:16,strokeWidth:3})}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-bold text-lg text-text-primary",children:m.name}),o.jsx("span",{className:`text-sm font-semibold px-3 py-1 rounded-full ${d.plan===m.id?"bg-brand-primary text-white":"bg-bg-hover text-text-secondary"}`,children:m.price})]}),o.jsx("ul",{className:"space-y-2.5",children:m.features.slice(0,3).map((g,x)=>o.jsxs("li",{className:"flex items-center text-sm text-text-secondary",children:[o.jsx(pl,{className:`mr-2.5 w-4 h-4 ${d.plan===m.id?"text-brand-primary":"text-text-muted group-hover:text-brand-primary"}`}),g]},x))})]},m.id))}),o.jsxs("div",{className:"flex gap-4 pt-2",children:[o.jsx("button",{type:"button",onClick:()=>r(2),className:"px-6 h-[38px] border border-border text-text-secondary rounded-lg hover:bg-bg-hover transition-colors font-semibold text-sm flex items-center justify-center",children:"Back"}),o.jsx("button",{type:"submit",disabled:n,className:"flex-1 px-6 h-[38px] bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 transition-all shadow-lg hover:shadow-brand-primary/30 disabled:opacity-50 disabled:shadow-none font-semibold text-sm flex items-center justify-center gap-2",children:n?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Setting up..."]}):"Create Company Workspace"})]})]})]}),o.jsxs("p",{className:"mt-8 text-center text-sm text-text-secondary",children:["Already have an account?"," ",o.jsx("a",{href:"/login",className:"text-brand-primary hover:text-brand-primary/80 font-semibold hover:underline decoration-2 underline-offset-2 transition-all",children:"Log in here"})]})]})}),o.jsx(ji,{isOpen:l,onClose:()=>e("/login"),onConfirm:()=>e("/login"),title:"Registration Successful",message:`Company registered successfully! Please login with: ${d.adminEmail}`,confirmText:"Proceed to Login",variant:"success",showCancel:!1})]})};function F_e(){const e=vs();return o.jsx("div",{className:"min-h-screen bg-bg-main flex items-center justify-center p-4",children:o.jsxs("div",{className:"text-center max-w-md",children:[o.jsx("div",{className:"w-20 h-20 bg-status-error/10 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Kbe,{size:40,className:"text-status-error"})}),o.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-3",children:"Access Denied"}),o.jsx("p",{className:"text-text-secondary mb-8",children:"You do not have permission to view this page. Please contact your administrator if you believe this is an error."}),o.jsxs("div",{className:"flex gap-4 justify-center",children:[o.jsx("button",{onClick:()=>e(-1),className:"px-6 py-2 border border-border rounded-lg text-text-primary hover:bg-bg-hover transition-colors font-medium",children:"Go Back"}),o.jsx("button",{onClick:()=>e("/"),className:"px-6 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-colors font-medium shadow-lg shadow-brand-primary/20",children:"Go to Dashboard"})]})]})})}function z_e(){const[e,t]=b.useState(""),[r,n]=b.useState(!1),[a,s]=b.useState(""),[i,l]=b.useState(!1),c=async d=>{d.preventDefault(),n(!0),s(""),l(!1);try{await je.forgotPassword(e),l(!0)}catch(u){s(u.message||"Failed to send reset email.")}finally{n(!1)}};return o.jsxs("div",{className:"flex min-h-screen bg-bg-main overflow-hidden",children:[o.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative bg-brand-primary text-white flex-col justify-between p-12 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",children:o.jsx("svg",{className:"h-full w-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:o.jsx("path",{d:"M0 100 C 20 0 50 0 100 100 Z",fill:"currentColor"})})}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[o.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl backdrop-blur-sm flex items-center justify-center",children:o.jsx(vc,{size:24,className:"text-white"})}),o.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"NeointeractionHR"})]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold leading-tight mb-6",children:"Forgot your password?"}),o.jsx("p",{className:"text-lg text-blue-100 max-w-md leading-relaxed",children:"Don't worry, we'll send you reset instructions."})]}),o.jsx("div",{className:"relative z-10",children:o.jsxs("p",{className:"text-xs text-blue-200 opacity-60",children:[" ",new Date().getFullYear()," NeointeractionHR. All rights reserved."]})})]}),o.jsx("div",{className:"w-full lg:w-1/2 flex flex-col h-screen overflow-y-auto bg-bg-main justify-center",children:o.jsxs("div",{className:"max-w-md mx-auto w-full p-6 md:p-12",children:[o.jsxs("div",{className:"lg:hidden flex items-center gap-2 mb-8",children:[o.jsx("div",{className:"w-8 h-8 bg-brand-primary rounded-lg flex items-center justify-center",children:o.jsx(vc,{size:16,className:"text-white"})}),o.jsx("span",{className:"text-xl font-bold text-brand-primary",children:"NeointeractionHR"})]}),o.jsxs(_b,{to:"/login",className:"inline-flex items-center text-sm text-text-secondary hover:text-brand-primary mb-8 transition-colors",children:[o.jsx(E4,{size:16,className:"mr-2"}),"Back to Login"]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-2",children:"Reset Password"}),o.jsx("p",{className:"text-text-secondary",children:"Enter the email associated with your account and we'll send you a link to reset your password."})]}),i?o.jsxs("div",{className:"bg-status-success/10 border border-status-success/20 rounded-lg p-6 text-center animate-in fade-in zoom-in duration-300",children:[o.jsx("div",{className:"w-12 h-12 bg-status-success/20 text-status-success rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(In,{size:24})}),o.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Email Sent!"}),o.jsx("p",{className:"text-text-secondary text-sm mb-6",children:"Please check your inbox for instructions to reset your password."}),o.jsx("button",{onClick:()=>{l(!1),t("")},className:"text-brand-primary hover:text-brand-primary/80 font-semibold text-sm hover:underline",children:"Resend email"})]}):o.jsxs("form",{onSubmit:c,className:"space-y-5 animate-in fade-in slide-in-from-right-4 duration-300",children:[a&&o.jsxs("div",{className:"p-4 rounded-lg bg-status-error/10 border border-status-error/20 text-status-error text-sm flex items-center gap-2 animate-in fade-in slide-in-from-top-1",children:[o.jsx(ta,{size:16})," ",a]}),o.jsx(ft,{label:"Email Address",leftIcon:o.jsx(bc,{size:18}),type:"email",value:e,onChange:d=>t(d.target.value),placeholder:"name@company.com",required:!0,className:"bg-bg-card border-border"}),o.jsx("button",{type:"submit",disabled:r,className:"w-full px-6 h-[38px] bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 transition-all shadow-lg hover:shadow-brand-primary/30 disabled:opacity-70 disabled:cursor-not-allowed font-semibold text-sm flex items-center justify-center gap-2",children:r?o.jsx(Ab,{size:20,variant:"white"}):"Send Reset Link"})]})]})})]})}function B_e(){const{token:e}=C4(),t=vs(),[r,n]=b.useState(""),[a,s]=b.useState(""),[i,l]=b.useState(!1),[c,d]=b.useState(""),[u,f]=b.useState(!1),p=async h=>{if(h.preventDefault(),r!==a){d("Passwords do not match");return}if(!e){d("Invalid reset token");return}l(!0),d("");try{await je.resetPassword(e,r),f(!0),setTimeout(()=>{t("/login")},3e3)}catch(m){d(m.message||"Failed to reset password.")}finally{l(!1)}};return o.jsxs("div",{className:"flex min-h-screen bg-bg-main overflow-hidden",children:[o.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative bg-brand-primary text-white flex-col justify-between p-12 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",children:o.jsx("svg",{className:"h-full w-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:o.jsx("path",{d:"M0 100 C 20 0 50 0 100 100 Z",fill:"currentColor"})})}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[o.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl backdrop-blur-sm flex items-center justify-center",children:o.jsx(vc,{size:24,className:"text-white"})}),o.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"NeointeractionHR"})]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold leading-tight mb-6",children:"Create new password"}),o.jsx("p",{className:"text-lg text-blue-100 max-w-md leading-relaxed",children:"Your new password must be different from previously used passwords."})]}),o.jsx("div",{className:"relative z-10",children:o.jsxs("p",{className:"text-xs text-blue-200 opacity-60",children:[" ",new Date().getFullYear()," NeointeractionHR. All rights reserved."]})})]}),o.jsx("div",{className:"w-full lg:w-1/2 flex flex-col h-screen overflow-y-auto bg-bg-main justify-center",children:o.jsxs("div",{className:"max-w-md mx-auto w-full p-6 md:p-12",children:[o.jsxs("div",{className:"lg:hidden flex items-center gap-2 mb-8",children:[o.jsx("div",{className:"w-8 h-8 bg-brand-primary rounded-lg flex items-center justify-center",children:o.jsx(vc,{size:16,className:"text-white"})}),o.jsx("span",{className:"text-xl font-bold text-brand-primary",children:"NeointeractionHR"})]}),o.jsxs(_b,{to:"/login",className:"inline-flex items-center text-sm text-text-secondary hover:text-brand-primary mb-8 transition-colors",children:[o.jsx(E4,{size:16,className:"mr-2"}),"Back to Login"]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-2",children:"Set new password"}),o.jsx("p",{className:"text-text-secondary",children:"Please enter your new password below."})]}),u?o.jsxs("div",{className:"bg-status-success/10 border border-status-success/20 rounded-lg p-6 text-center animate-in fade-in zoom-in duration-300",children:[o.jsx("div",{className:"w-12 h-12 bg-status-success/20 text-status-success rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(In,{size:24})}),o.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Password Reset!"}),o.jsx("p",{className:"text-text-secondary text-sm",children:"Your password has been successfully reset. Redirecting to login..."})]}):o.jsxs("form",{onSubmit:p,className:"space-y-5 animate-in fade-in slide-in-from-right-4 duration-300",children:[c&&o.jsxs("div",{className:"p-4 rounded-lg bg-status-error/10 border border-status-error/20 text-status-error text-sm flex items-center gap-2 animate-in fade-in slide-in-from-top-1",children:[o.jsx(ta,{size:16})," ",c]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-text-secondary mb-1.5 ml-1 block",children:"New Password"}),o.jsxs("div",{className:"relative group",children:[o.jsx(Qd,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-text-muted transition-colors group-focus-within:text-brand-primary",size:18}),o.jsx(hd,{value:r,onChange:h=>n(h.target.value),className:"pl-10 bg-bg-card border-border",placeholder:"",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-text-secondary mb-1.5 ml-1 block",children:"Confirm Password"}),o.jsxs("div",{className:"relative group",children:[o.jsx(Qd,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-text-muted transition-colors group-focus-within:text-brand-primary",size:18}),o.jsx(hd,{value:a,onChange:h=>s(h.target.value),className:"pl-10 bg-bg-card border-border",placeholder:"",required:!0})]})]}),o.jsx("button",{type:"submit",disabled:i,className:"w-full px-6 h-[38px] bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 transition-all shadow-lg hover:shadow-brand-primary/30 disabled:opacity-70 disabled:cursor-not-allowed font-semibold text-sm flex items-center justify-center gap-2",children:i?o.jsx(Ab,{size:20,variant:"white"}):"Reset Password"})]})]})})]})}const H_e="modulepreload",$_e=function(e){return"/"+e},c$={},C_=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=$_e(c),c in c$)return;c$[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":H_e,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function En(e){"@babel/helpers - typeof";return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(e)}var nu=Uint8Array,uc=Uint16Array,CL=Int32Array,AL=new nu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),EL=new nu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),d$=new nu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pte=function(e,t){for(var r=new uc(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new CL(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},mte=pte(AL,2),U_e=mte.b,v6=mte.r;U_e[28]=258,v6[258]=28;var V_e=pte(EL,0),u$=V_e.r,b6=new uc(32768);for(var ca=0;ca<32768;++ca){var _p=(ca&43690)>>1|(ca&21845)<<1;_p=(_p&52428)>>2|(_p&13107)<<2,_p=(_p&61680)>>4|(_p&3855)<<4,b6[ca]=((_p&65280)>>8|(_p&255)<<8)>>1}var F2=function(e,t,r){for(var n=e.length,a=0,s=new uc(t);a<n;++a)e[a]&&++s[e[a]-1];var i=new uc(t);for(a=1;a<t;++a)i[a]=i[a-1]+s[a-1]<<1;var l;if(r){l=new uc(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var d=a<<4|e[a],u=t-e[a],f=i[e[a]-1]++<<u,p=f|(1<<u)-1;f<=p;++f)l[b6[f]>>c]=d}else for(l=new uc(n),a=0;a<n;++a)e[a]&&(l[a]=b6[i[e[a]-1]++]>>15-e[a]);return l},Yg=new nu(288);for(var ca=0;ca<144;++ca)Yg[ca]=8;for(var ca=144;ca<256;++ca)Yg[ca]=9;for(var ca=256;ca<280;++ca)Yg[ca]=7;for(var ca=280;ca<288;++ca)Yg[ca]=8;var qk=new nu(32);for(var ca=0;ca<32;++ca)qk[ca]=5;var q_e=F2(Yg,9,0),W_e=F2(qk,5,0),gte=function(e){return(e+7)/8|0},Y_e=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new nu(e.subarray(t,r))},Rf=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},L1=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},iD=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:yte,l:0};if(a==1){var i=new nu(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(C,_){return C.f-_.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=r[r[d].f<r[f].f?d++:f++],c=r[d!=u&&r[d].f<r[f].f?d++:f++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var p=s[0].s,n=1;n<a;++n)s[n].s>p&&(p=s[n].s);var h=new uc(p+1),m=w6(r[u-1],h,0);if(m>t){var n=0,g=0,x=m-t,y=1<<x;for(s.sort(function(_,S){return h[S.s]-h[_.s]||_.f-S.f});n<a;++n){var v=s[n].s;if(h[v]>t)g+=y-(1<<m-h[v]),h[v]=t;else break}for(g>>=x;g>0;){var w=s[n].s;h[w]<t?g-=1<<t-h[w]++-1:++n}for(;n>=0&&g;--n){var N=s[n].s;h[N]==t&&(--h[N],++g)}m=t}return{t:new nu(h),l:m}},w6=function(e,t,r){return e.s==-1?Math.max(w6(e.l,t,r+1),w6(e.r,t,r+1)):t[e.s]=r},f$=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new uc(++t),n=0,a=e[0],s=1,i=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=e[l]}return{c:r.subarray(0,n),n:t}},I1=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},xte=function(e,t,r){var n=r.length,a=gte(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=r[s];return(a+4+n)*8},h$=function(e,t,r,n,a,s,i,l,c,d,u){Rf(t,u++,r),++a[256];for(var f=iD(a,15),p=f.t,h=f.l,m=iD(s,15),g=m.t,x=m.l,y=f$(p),v=y.c,w=y.n,N=f$(g),C=N.c,_=N.n,S=new uc(19),k=0;k<v.length;++k)++S[v[k]&31];for(var k=0;k<C.length;++k)++S[C[k]&31];for(var A=iD(S,7),O=A.t,D=A.l,M=19;M>4&&!O[d$[M-1]];--M);var I=d+5<<3,z=I1(a,Yg)+I1(s,qk)+i,Y=I1(a,p)+I1(s,g)+i+14+3*M+I1(S,O)+2*S[16]+3*S[17]+7*S[18];if(c>=0&&I<=z&&I<=Y)return xte(t,u,e.subarray(c,c+d));var X,V,G,J;if(Rf(t,u,1+(Y<z)),u+=2,Y<z){X=F2(p,h,0),V=p,G=F2(g,x,0),J=g;var B=F2(O,D,0);Rf(t,u,w-257),Rf(t,u+5,_-1),Rf(t,u+10,M-4),u+=14;for(var k=0;k<M;++k)Rf(t,u+3*k,O[d$[k]]);u+=3*M;for(var q=[v,C],T=0;T<2;++T)for(var R=q[T],k=0;k<R.length;++k){var F=R[k]&31;Rf(t,u,B[F]),u+=O[F],F>15&&(Rf(t,u,R[k]>>5&127),u+=R[k]>>12)}}else X=q_e,V=Yg,G=W_e,J=qk;for(var k=0;k<l;++k){var H=n[k];if(H>255){var F=H>>18&31;L1(t,u,X[F+257]),u+=V[F+257],F>7&&(Rf(t,u,H>>23&31),u+=AL[F]);var W=H&31;L1(t,u,G[W]),u+=J[W],W>3&&(L1(t,u,H>>5&8191),u+=EL[W])}else L1(t,u,X[H]),u+=V[H]}return L1(t,u,X[256]),u+V[256]},G_e=new CL([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),yte=new nu(0),K_e=function(e,t,r,n,a,s){var i=s.z||e.length,l=new nu(n+i+5*(1+Math.ceil(i/7e3))+a),c=l.subarray(n,l.length-a),d=s.l,u=(s.r||0)&7;if(t){u&&(c[0]=s.r>>3);for(var f=G_e[t-1],p=f>>13,h=f&8191,m=(1<<r)-1,g=s.p||new uc(32768),x=s.h||new uc(m+1),y=Math.ceil(r/3),v=2*y,w=function(Pe){return(e[Pe]^e[Pe+1]<<y^e[Pe+2]<<v)&m},N=new CL(25e3),C=new uc(288),_=new uc(32),S=0,k=0,A=s.i||0,O=0,D=s.w||0,M=0;A+2<i;++A){var I=w(A),z=A&32767,Y=x[I];if(g[z]=Y,x[I]=z,D<=A){var X=i-A;if((S>7e3||O>24576)&&(X>423||!d)){u=h$(e,c,0,N,C,_,k,O,M,A-M,u),O=S=k=0,M=A;for(var V=0;V<286;++V)C[V]=0;for(var V=0;V<30;++V)_[V]=0}var G=2,J=0,B=h,q=z-Y&32767;if(X>2&&I==w(A-q))for(var T=Math.min(p,X)-1,R=Math.min(32767,A),F=Math.min(258,X);q<=R&&--B&&z!=Y;){if(e[A+G]==e[A+G-q]){for(var H=0;H<F&&e[A+H]==e[A+H-q];++H);if(H>G){if(G=H,J=q,H>T)break;for(var W=Math.min(q,H-2),te=0,V=0;V<W;++V){var pe=A-q+V&32767,se=g[pe],ce=pe-se&32767;ce>te&&(te=ce,Y=pe)}}}z=Y,Y=g[z],q+=z-Y&32767}if(J){N[O++]=268435456|v6[G]<<18|u$[J];var Ne=v6[G]&31,he=u$[J]&31;k+=AL[Ne]+EL[he],++C[257+Ne],++_[he],D=A+G,++S}else N[O++]=e[A],++C[e[A]]}}for(A=Math.max(A,D);A<i;++A)N[O++]=e[A],++C[e[A]];u=h$(e,c,d,N,C,_,k,O,M,A-M,u),d||(s.r=u&7|c[u/8|0]<<3,u-=7,s.h=x,s.p=g,s.i=A,s.w=D)}else{for(var A=s.w||0;A<i+d;A+=65535){var ze=A+65535;ze>=i&&(c[u/8|0]=d,ze=i),u=xte(c,u+1,e.subarray(A,ze))}s.i=i}return Y_e(l,0,n+gte(u)+a)},vte=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=r.length|0,i=0;i!=s;){for(var l=Math.min(i+2655,s);i<l;++i)a+=n+=r[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},X_e=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),i=new nu(s.length+e.length);i.set(s),i.set(e,s.length),e=i,a.w=s.length}return K_e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},bte=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},J_e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=vte();a.p(t.dictionary),bte(e,2,a.d())}};function N6(e,t){t||(t={});var r=vte();r.p(e);var n=X_e(e,t,t.dictionary?6:2,4);return J_e(n,t),bte(n,n.length-4,r.d()),n}var Q_e=typeof TextDecoder<"u"&&new TextDecoder,Z_e=0;try{Q_e.decode(yte,{stream:!0}),Z_e=1}catch{}function eke(e){if(Array.isArray(e))return e}function tke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw a}}return l}}function p$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rke(e,t){if(e){if(typeof e=="string")return p$(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p$(e,t):void 0}}function nke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m$(e,t){return eke(e)||tke(e,t)||rke(e,t)||nke()}function g$(e,t="utf8"){return new TextDecoder(t).decode(e)}const ake=new TextEncoder;function ske(e){return ake.encode(e)}const ike=1024*8,oke=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),oD={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class TL{constructor(t=ike,r={}){St(this,"buffer");St(this,"byteLength");St(this,"byteOffset");St(this,"length");St(this,"offset");St(this,"lastWrittenByte");St(this,"littleEndian");St(this,"_data");St(this,"_mark");St(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,s=t.byteLength-a;let i=a;(ArrayBuffer.isView(t)||t instanceof TL)&&(t.byteLength!==t.buffer.byteLength&&(i=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=i,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,i,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=oD[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+n);if(this.littleEndian===oke&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new oD[r](l.buffer);return this.offset+=n,c.reverse(),c}const i=new oD[r](s);return this.offset+=n,i}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return g$(this.readBytes(t))}decodeText(t=1,r="utf8"){return g$(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(ske(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Tb(e){let t=e.length;for(;--t>=0;)e[t]=0}const lke=3,cke=258,wte=29,dke=256,uke=dke+1+wte,Nte=30,fke=512,hke=new Array((uke+2)*2);Tb(hke);const pke=new Array(Nte*2);Tb(pke);const mke=new Array(fke);Tb(mke);const gke=new Array(cke-lke+1);Tb(gke);const xke=new Array(wte);Tb(xke);const yke=new Array(Nte);Tb(yke);const vke=(e,t,r,n)=>{let a=e&65535|0,s=e>>>16&65535|0,i=0;for(;r!==0;){i=r>2e3?2e3:r,r-=i;do a=a+t[n++]|0,s=s+a|0;while(--i);a%=65521,s%=65521}return a|s<<16|0};var S6=vke;const bke=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},wke=new Uint32Array(bke()),Nke=(e,t,r,n)=>{const a=wke,s=n+r;e^=-1;for(let i=n;i<s;i++)e=e>>>8^a[(e^t[i])&255];return e^-1};var vu=Nke,j6={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ste={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Ske=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var jke=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Ske(r,n)&&(e[n]=r[n])}}return e},_ke=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,s=e.length;n<s;n++){let i=e[n];r.set(i,a),a+=i.length}return r},jte={assign:jke,flattenChunks:_ke};let _te=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_te=!1}const $w=new Uint8Array(256);for(let e=0;e<256;e++)$w[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;$w[254]=$w[254]=1;var kke=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,s,i=e.length,l=0;for(a=0;a<i;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<i&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),s=0,a=0;s<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<i&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const Cke=(e,t)=>{if(t<65534&&e.subarray&&_te)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var Ake=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const s=new Array(r*2);for(a=0,n=0;n<r;){let i=e[n++];if(i<128){s[a++]=i;continue}let l=$w[i];if(l>4){s[a++]=65533,n+=l-1;continue}for(i&=l===2?31:l===3?15:7;l>1&&n<r;)i=i<<6|e[n++]&63,l--;if(l>1){s[a++]=65533;continue}i<65536?s[a++]=i:(i-=65536,s[a++]=55296|i>>10&1023,s[a++]=56320|i&1023)}return Cke(s,a)},Eke=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+$w[e[r]]>t?r:t},_6={string2buf:kke,buf2string:Ake,utf8border:Eke};function Tke(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Dke=Tke;const Xj=16209,Mke=16191;var Oke=function(t,r){let n,a,s,i,l,c,d,u,f,p,h,m,g,x,y,v,w,N,C,_,S,k,A,O;const D=t.state;n=t.next_in,A=t.input,a=n+(t.avail_in-5),s=t.next_out,O=t.output,i=s-(r-t.avail_out),l=s+(t.avail_out-257),c=D.dmax,d=D.wsize,u=D.whave,f=D.wnext,p=D.window,h=D.hold,m=D.bits,g=D.lencode,x=D.distcode,y=(1<<D.lenbits)-1,v=(1<<D.distbits)-1;e:do{m<15&&(h+=A[n++]<<m,m+=8,h+=A[n++]<<m,m+=8),w=g[h&y];t:for(;;){if(N=w>>>24,h>>>=N,m-=N,N=w>>>16&255,N===0)O[s++]=w&65535;else if(N&16){C=w&65535,N&=15,N&&(m<N&&(h+=A[n++]<<m,m+=8),C+=h&(1<<N)-1,h>>>=N,m-=N),m<15&&(h+=A[n++]<<m,m+=8,h+=A[n++]<<m,m+=8),w=x[h&v];r:for(;;){if(N=w>>>24,h>>>=N,m-=N,N=w>>>16&255,N&16){if(_=w&65535,N&=15,m<N&&(h+=A[n++]<<m,m+=8,m<N&&(h+=A[n++]<<m,m+=8)),_+=h&(1<<N)-1,_>c){t.msg="invalid distance too far back",D.mode=Xj;break e}if(h>>>=N,m-=N,N=s-i,_>N){if(N=_-N,N>u&&D.sane){t.msg="invalid distance too far back",D.mode=Xj;break e}if(S=0,k=p,f===0){if(S+=d-N,N<C){C-=N;do O[s++]=p[S++];while(--N);S=s-_,k=O}}else if(f<N){if(S+=d+f-N,N-=f,N<C){C-=N;do O[s++]=p[S++];while(--N);if(S=0,f<C){N=f,C-=N;do O[s++]=p[S++];while(--N);S=s-_,k=O}}}else if(S+=f-N,N<C){C-=N;do O[s++]=p[S++];while(--N);S=s-_,k=O}for(;C>2;)O[s++]=k[S++],O[s++]=k[S++],O[s++]=k[S++],C-=3;C&&(O[s++]=k[S++],C>1&&(O[s++]=k[S++]))}else{S=s-_;do O[s++]=O[S++],O[s++]=O[S++],O[s++]=O[S++],C-=3;while(C>2);C&&(O[s++]=O[S++],C>1&&(O[s++]=O[S++]))}}else if(N&64){t.msg="invalid distance code",D.mode=Xj;break e}else{w=x[(w&65535)+(h&(1<<N)-1)];continue r}break}}else if(N&64)if(N&32){D.mode=Mke;break e}else{t.msg="invalid literal/length code",D.mode=Xj;break e}else{w=g[(w&65535)+(h&(1<<N)-1)];continue t}break}}while(n<a&&s<l);C=m>>3,n-=C,m-=C<<3,h&=(1<<m)-1,t.next_in=n,t.next_out=s,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=s<l?257+(l-s):257-(s-l),D.hold=h,D.bits=m};const Jx=15,x$=852,y$=592,v$=0,lD=1,b$=2,Pke=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Rke=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Lke=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ike=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Fke=(e,t,r,n,a,s,i,l)=>{const c=l.bits;let d=0,u=0,f=0,p=0,h=0,m=0,g=0,x=0,y=0,v=0,w,N,C,_,S,k=null,A;const O=new Uint16Array(Jx+1),D=new Uint16Array(Jx+1);let M=null,I,z,Y;for(d=0;d<=Jx;d++)O[d]=0;for(u=0;u<n;u++)O[t[r+u]]++;for(h=c,p=Jx;p>=1&&O[p]===0;p--);if(h>p&&(h=p),p===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<p&&O[f]===0;f++);for(h<f&&(h=f),x=1,d=1;d<=Jx;d++)if(x<<=1,x-=O[d],x<0)return-1;if(x>0&&(e===v$||p!==1))return-1;for(D[1]=0,d=1;d<Jx;d++)D[d+1]=D[d]+O[d];for(u=0;u<n;u++)t[r+u]!==0&&(i[D[t[r+u]]++]=u);if(e===v$?(k=M=i,A=20):e===lD?(k=Pke,M=Rke,A=257):(k=Lke,M=Ike,A=0),v=0,u=0,d=f,S=s,m=h,g=0,C=-1,y=1<<h,_=y-1,e===lD&&y>x$||e===b$&&y>y$)return 1;for(;;){I=d-g,i[u]+1<A?(z=0,Y=i[u]):i[u]>=A?(z=M[i[u]-A],Y=k[i[u]-A]):(z=96,Y=0),w=1<<d-g,N=1<<m,f=N;do N-=w,a[S+(v>>g)+N]=I<<24|z<<16|Y|0;while(N!==0);for(w=1<<d-1;v&w;)w>>=1;if(w!==0?(v&=w-1,v+=w):v=0,u++,--O[d]===0){if(d===p)break;d=t[r+i[u]]}if(d>h&&(v&_)!==C){for(g===0&&(g=h),S+=f,m=d-g,x=1<<m;m+g<p&&(x-=O[m+g],!(x<=0));)m++,x<<=1;if(y+=1<<m,e===lD&&y>x$||e===b$&&y>y$)return 1;C=v&_,a[C]=h<<24|m<<16|S-s|0}}return v!==0&&(a[S+v]=d-g<<24|64<<16|0),l.bits=h,0};var z2=Fke;const zke=0,kte=1,Cte=2,{Z_FINISH:w$,Z_BLOCK:Bke,Z_TREES:Jj,Z_OK:Gg,Z_STREAM_END:Hke,Z_NEED_DICT:$ke,Z_STREAM_ERROR:bd,Z_DATA_ERROR:Ate,Z_MEM_ERROR:Ete,Z_BUF_ERROR:Uke,Z_DEFLATED:N$}=Ste,B4=16180,S$=16181,j$=16182,_$=16183,k$=16184,C$=16185,A$=16186,E$=16187,T$=16188,D$=16189,Wk=16190,Lf=16191,cD=16192,M$=16193,dD=16194,O$=16195,P$=16196,R$=16197,L$=16198,Qj=16199,Zj=16200,I$=16201,F$=16202,z$=16203,B$=16204,H$=16205,uD=16206,$$=16207,U$=16208,ga=16209,Tte=16210,Dte=16211,Vke=852,qke=592,Wke=15,Yke=Wke,V$=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Gke(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const bx=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<B4||t.mode>Dte?1:0},Mte=e=>{if(bx(e))return bd;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=B4,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Vke),t.distcode=t.distdyn=new Int32Array(qke),t.sane=1,t.back=-1,Gg},Ote=e=>{if(bx(e))return bd;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Mte(e)},Pte=(e,t)=>{let r;if(bx(e))return bd;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?bd:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Ote(e))},Rte=(e,t)=>{if(!e)return bd;const r=new Gke;e.state=r,r.strm=e,r.window=null,r.mode=B4;const n=Pte(e,t);return n!==Gg&&(e.state=null),n},Kke=e=>Rte(e,Yke);let q$=!0,fD,hD;const Xke=e=>{if(q$){fD=new Int32Array(512),hD=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(z2(kte,e.lens,0,288,fD,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;z2(Cte,e.lens,0,32,hD,0,e.work,{bits:5}),q$=!1}e.lencode=fD,e.lenbits=9,e.distcode=hD,e.distbits=5},Lte=(e,t,r,n)=>{let a;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>n&&(a=n),s.window.set(t.subarray(r-n,r-n+a),s.wnext),n-=a,n?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},Jke=(e,t)=>{let r,n,a,s,i,l,c,d,u,f,p,h,m,g,x=0,y,v,w,N,C,_,S,k;const A=new Uint8Array(4);let O,D;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(bx(e)||!e.output||!e.input&&e.avail_in!==0)return bd;r=e.state,r.mode===Lf&&(r.mode=cD),i=e.next_out,a=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,d=r.hold,u=r.bits,f=l,p=c,k=Gg;e:for(;;)switch(r.mode){case B4:if(r.wrap===0){r.mode=cD;break}for(;u<16;){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,A[0]=d&255,A[1]=d>>>8&255,r.check=vu(r.check,A,2,0),d=0,u=0,r.mode=S$;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=ga;break}if((d&15)!==N$){e.msg="unknown compression method",r.mode=ga;break}if(d>>>=4,u-=4,S=(d&15)+8,r.wbits===0&&(r.wbits=S),S>15||S>r.wbits){e.msg="invalid window size",r.mode=ga;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?D$:Lf,d=0,u=0;break;case S$:for(;u<16;){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}if(r.flags=d,(r.flags&255)!==N$){e.msg="unknown compression method",r.mode=ga;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=ga;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(A[0]=d&255,A[1]=d>>>8&255,r.check=vu(r.check,A,2,0)),d=0,u=0,r.mode=j$;case j$:for(;u<32;){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(A[0]=d&255,A[1]=d>>>8&255,A[2]=d>>>16&255,A[3]=d>>>24&255,r.check=vu(r.check,A,4,0)),d=0,u=0,r.mode=_$;case _$:for(;u<16;){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(A[0]=d&255,A[1]=d>>>8&255,r.check=vu(r.check,A,2,0)),d=0,u=0,r.mode=k$;case k$:if(r.flags&1024){for(;u<16;){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(A[0]=d&255,A[1]=d>>>8&255,r.check=vu(r.check,A,2,0)),d=0,u=0}else r.head&&(r.head.extra=null);r.mode=C$;case C$:if(r.flags&1024&&(h=r.length,h>l&&(h=l),h&&(r.head&&(S=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+h),S)),r.flags&512&&r.wrap&4&&(r.check=vu(r.check,n,h,s)),l-=h,s+=h,r.length-=h),r.length))break e;r.length=0,r.mode=A$;case A$:if(r.flags&2048){if(l===0)break e;h=0;do S=n[s+h++],r.head&&S&&r.length<65536&&(r.head.name+=String.fromCharCode(S));while(S&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=vu(r.check,n,h,s)),l-=h,s+=h,S)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=E$;case E$:if(r.flags&4096){if(l===0)break e;h=0;do S=n[s+h++],r.head&&S&&r.length<65536&&(r.head.comment+=String.fromCharCode(S));while(S&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=vu(r.check,n,h,s)),l-=h,s+=h,S)break e}else r.head&&(r.head.comment=null);r.mode=T$;case T$:if(r.flags&512){for(;u<16;){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=ga;break}d=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Lf;break;case D$:for(;u<32;){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}e.adler=r.check=V$(d),d=0,u=0,r.mode=Wk;case Wk:if(r.havedict===0)return e.next_out=i,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=d,r.bits=u,$ke;e.adler=r.check=1,r.mode=Lf;case Lf:if(t===Bke||t===Jj)break e;case cD:if(r.last){d>>>=u&7,u-=u&7,r.mode=uD;break}for(;u<3;){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}switch(r.last=d&1,d>>>=1,u-=1,d&3){case 0:r.mode=M$;break;case 1:if(Xke(r),r.mode=Qj,t===Jj){d>>>=2,u-=2;break e}break;case 2:r.mode=P$;break;case 3:e.msg="invalid block type",r.mode=ga}d>>>=2,u-=2;break;case M$:for(d>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=ga;break}if(r.length=d&65535,d=0,u=0,r.mode=dD,t===Jj)break e;case dD:r.mode=O$;case O$:if(h=r.length,h){if(h>l&&(h=l),h>c&&(h=c),h===0)break e;a.set(n.subarray(s,s+h),i),l-=h,s+=h,c-=h,i+=h,r.length-=h;break}r.mode=Lf;break;case P$:for(;u<14;){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}if(r.nlen=(d&31)+257,d>>>=5,u-=5,r.ndist=(d&31)+1,d>>>=5,u-=5,r.ncode=(d&15)+4,d>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=ga;break}r.have=0,r.mode=R$;case R$:for(;r.have<r.ncode;){for(;u<3;){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}r.lens[M[r.have++]]=d&7,d>>>=3,u-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,O={bits:r.lenbits},k=z2(zke,r.lens,0,19,r.lencode,0,r.work,O),r.lenbits=O.bits,k){e.msg="invalid code lengths set",r.mode=ga;break}r.have=0,r.mode=L$;case L$:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[d&(1<<r.lenbits)-1],y=x>>>24,v=x>>>16&255,w=x&65535,!(y<=u);){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}if(w<16)d>>>=y,u-=y,r.lens[r.have++]=w;else{if(w===16){for(D=y+2;u<D;){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}if(d>>>=y,u-=y,r.have===0){e.msg="invalid bit length repeat",r.mode=ga;break}S=r.lens[r.have-1],h=3+(d&3),d>>>=2,u-=2}else if(w===17){for(D=y+3;u<D;){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}d>>>=y,u-=y,S=0,h=3+(d&7),d>>>=3,u-=3}else{for(D=y+7;u<D;){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}d>>>=y,u-=y,S=0,h=11+(d&127),d>>>=7,u-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=ga;break}for(;h--;)r.lens[r.have++]=S}}if(r.mode===ga)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=ga;break}if(r.lenbits=9,O={bits:r.lenbits},k=z2(kte,r.lens,0,r.nlen,r.lencode,0,r.work,O),r.lenbits=O.bits,k){e.msg="invalid literal/lengths set",r.mode=ga;break}if(r.distbits=6,r.distcode=r.distdyn,O={bits:r.distbits},k=z2(Cte,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,O),r.distbits=O.bits,k){e.msg="invalid distances set",r.mode=ga;break}if(r.mode=Qj,t===Jj)break e;case Qj:r.mode=Zj;case Zj:if(l>=6&&c>=258){e.next_out=i,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=d,r.bits=u,Oke(e,p),i=e.next_out,a=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,d=r.hold,u=r.bits,r.mode===Lf&&(r.back=-1);break}for(r.back=0;x=r.lencode[d&(1<<r.lenbits)-1],y=x>>>24,v=x>>>16&255,w=x&65535,!(y<=u);){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}if(v&&!(v&240)){for(N=y,C=v,_=w;x=r.lencode[_+((d&(1<<N+C)-1)>>N)],y=x>>>24,v=x>>>16&255,w=x&65535,!(N+y<=u);){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}d>>>=N,u-=N,r.back+=N}if(d>>>=y,u-=y,r.back+=y,r.length=w,v===0){r.mode=H$;break}if(v&32){r.back=-1,r.mode=Lf;break}if(v&64){e.msg="invalid literal/length code",r.mode=ga;break}r.extra=v&15,r.mode=I$;case I$:if(r.extra){for(D=r.extra;u<D;){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=F$;case F$:for(;x=r.distcode[d&(1<<r.distbits)-1],y=x>>>24,v=x>>>16&255,w=x&65535,!(y<=u);){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}if(!(v&240)){for(N=y,C=v,_=w;x=r.distcode[_+((d&(1<<N+C)-1)>>N)],y=x>>>24,v=x>>>16&255,w=x&65535,!(N+y<=u);){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}d>>>=N,u-=N,r.back+=N}if(d>>>=y,u-=y,r.back+=y,v&64){e.msg="invalid distance code",r.mode=ga;break}r.offset=w,r.extra=v&15,r.mode=z$;case z$:if(r.extra){for(D=r.extra;u<D;){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=ga;break}r.mode=B$;case B$:if(c===0)break e;if(h=p-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=ga;break}h>r.wnext?(h-=r.wnext,m=r.wsize-h):m=r.wnext-h,h>r.length&&(h=r.length),g=r.window}else g=a,m=i-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do a[i++]=g[m++];while(--h);r.length===0&&(r.mode=Zj);break;case H$:if(c===0)break e;a[i++]=r.length,c--,r.mode=Zj;break;case uD:if(r.wrap){for(;u<32;){if(l===0)break e;l--,d|=n[s++]<<u,u+=8}if(p-=c,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?vu(r.check,a,p,i-p):S6(r.check,a,p,i-p)),p=c,r.wrap&4&&(r.flags?d:V$(d))!==r.check){e.msg="incorrect data check",r.mode=ga;break}d=0,u=0}r.mode=$$;case $$:if(r.wrap&&r.flags){for(;u<32;){if(l===0)break e;l--,d+=n[s++]<<u,u+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=ga;break}d=0,u=0}r.mode=U$;case U$:k=Hke;break e;case ga:k=Ate;break e;case Tte:return Ete;case Dte:default:return bd}return e.next_out=i,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=d,r.bits=u,(r.wsize||p!==e.avail_out&&r.mode<ga&&(r.mode<uD||t!==w$))&&Lte(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?vu(r.check,a,p,e.next_out-p):S6(r.check,a,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Lf?128:0)+(r.mode===Qj||r.mode===dD?256:0),(f===0&&p===0||t===w$)&&k===Gg&&(k=Uke),k},Qke=e=>{if(bx(e))return bd;let t=e.state;return t.window&&(t.window=null),e.state=null,Gg},Zke=(e,t)=>{if(bx(e))return bd;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Gg):bd},eCe=(e,t)=>{const r=t.length;let n,a,s;return bx(e)||(n=e.state,n.wrap!==0&&n.mode!==Wk)?bd:n.mode===Wk&&(a=1,a=S6(a,t,r,0),a!==n.check)?Ate:(s=Lte(e,t,r,r),s?(n.mode=Tte,Ete):(n.havedict=1,Gg))};var tCe=Ote,rCe=Pte,nCe=Mte,aCe=Kke,sCe=Rte,iCe=Jke,oCe=Qke,lCe=Zke,cCe=eCe,dCe="pako inflate (from Nodeca project)",Xf={inflateReset:tCe,inflateReset2:rCe,inflateResetKeep:nCe,inflateInit:aCe,inflateInit2:sCe,inflate:iCe,inflateEnd:oCe,inflateGetHeader:lCe,inflateSetDictionary:cCe,inflateInfo:dCe};function uCe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var fCe=uCe;const Ite=Object.prototype.toString,{Z_NO_FLUSH:hCe,Z_FINISH:pCe,Z_OK:Uw,Z_STREAM_END:pD,Z_NEED_DICT:mD,Z_STREAM_ERROR:mCe,Z_DATA_ERROR:W$,Z_MEM_ERROR:gCe}=Ste;function ZN(e){this.options=jte.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Dke,this.strm.avail_out=0;let r=Xf.inflateInit2(this.strm,t.windowBits);if(r!==Uw)throw new Error(j6[r]);if(this.header=new fCe,Xf.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=_6.string2buf(t.dictionary):Ite.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Xf.inflateSetDictionary(this.strm,t.dictionary),r!==Uw)))throw new Error(j6[r])}ZN.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let s,i,l;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?pCe:hCe,Ite.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Xf.inflate(r,i),s===mD&&a&&(s=Xf.inflateSetDictionary(r,a),s===Uw?s=Xf.inflate(r,i):s===W$&&(s=mD));r.avail_in>0&&s===pD&&r.state.wrap>0&&e[r.next_in]!==0;)Xf.inflateReset(r),s=Xf.inflate(r,i);switch(s){case mCe:case W$:case mD:case gCe:return this.onEnd(s),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||s===pD))if(this.options.to==="string"){let c=_6.utf8border(r.output,r.next_out),d=r.next_out-c,u=_6.buf2string(r.output,c);r.next_out=d,r.avail_out=n-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Uw&&l===0)){if(s===pD)return s=Xf.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};ZN.prototype.onData=function(e){this.chunks.push(e)};ZN.prototype.onEnd=function(e){e===Uw&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=jte.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function xCe(e,t){const r=new ZN(t);if(r.push(e),r.err)throw r.msg||j6[r.err];return r.result}var yCe=ZN,vCe=xCe,bCe={Inflate:yCe,inflate:vCe};const{Inflate:wCe,inflate:NCe}=bCe;var Y$=wCe,SCe=NCe;const Fte=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;Fte[e]=t}const G$=4294967295;function jCe(e,t,r){let n=e;for(let a=0;a<r;a++)n=Fte[(n^t[a])&255]^n>>>8;return n}function _Ce(e,t){return(jCe(G$,e,t)^G$)>>>0}function K$(e,t,r){const n=e.readUint32(),a=_Ce(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function zte(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function Bte(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function Hte(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function $te(e,t,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+(t[s-a]>>1)&255}else{for(;s<a;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<n;s++)t[s]=e[s]+(t[s-a]+r[s]>>1)&255}}function Ute(e,t,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-a]&255}else{for(;s<a;s++)t[s]=e[s]+r[s]&255;for(;s<n;s++)t[s]=e[s]+kCe(t[s-a],r[s],r[s-a])&255}}function kCe(e,t,r){const n=e+t-r,a=Math.abs(n-e),s=Math.abs(n-t),i=Math.abs(n-r);return a<=s&&a<=i?e:s<=i?t:r}function CCe(e,t,r,n,a,s){switch(e){case 0:zte(t,r,a);break;case 1:Bte(t,r,a,s);break;case 2:Hte(t,r,n,a);break;case 3:$te(t,r,n,a,s);break;case 4:Ute(t,r,n,a,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const ACe=new Uint16Array([255]),ECe=new Uint8Array(ACe.buffer),TCe=ECe[0]===255;function DCe(e){const{data:t,width:r,height:n,channels:a,depth:s}=e,i=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*a,c=new Uint8Array(n*r*l);let d=0;for(let u=0;u<7;u++){const f=i[u],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const m=p*l,g=new Uint8Array(m);for(let x=0;x<h;x++){const y=t[d++],v=t.subarray(d,d+m);d+=m;const w=new Uint8Array(m);CCe(y,v,w,g,m,l),g.set(w);for(let N=0;N<p;N++){const C=f.x+N*f.xStep,_=f.y+x*f.yStep;if(!(C>=r||_>=n))for(let S=0;S<l;S++)c[(_*r+C)*l+S]=w[N*l+S]}}}if(s===16){const u=new Uint16Array(c.buffer);if(TCe)for(let f=0;f<u.length;f++)u[f]=MCe(u[f]);return u}else return c}function MCe(e){return(e&255)<<8|e>>8&255}const OCe=new Uint16Array([255]),PCe=new Uint8Array(OCe.buffer),RCe=PCe[0]===255,LCe=new Uint8Array(0);function X$(e){const{data:t,width:r,height:n,channels:a,depth:s}=e,i=Math.ceil(s/8)*a,l=Math.ceil(s/8*a*r),c=new Uint8Array(n*l);let d=LCe,u=0,f,p;for(let h=0;h<n;h++){switch(f=t.subarray(u+1,u+1+l),p=c.subarray(h*l,(h+1)*l),t[u]){case 0:zte(f,p,l);break;case 1:Bte(f,p,l,i);break;case 2:Hte(f,p,d,l);break;case 3:$te(f,p,d,l,i);break;case 4:Ute(f,p,d,l,i);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}d=p,u+=l+1}if(s===16){const h=new Uint16Array(c.buffer);if(RCe)for(let m=0;m<h.length;m++)h[m]=ICe(h[m]);return h}else return c}function ICe(e){return(e&255)<<8|e>>8&255}const A_=Uint8Array.of(137,80,78,71,13,10,26,10);function J$(e){if(!FCe(e.readBytes(A_.length)))throw new Error("wrong PNG signature")}function FCe(e){if(e.length<A_.length)return!1;for(let t=0;t<A_.length;t++)if(e[t]!==A_[t])return!1;return!0}const zCe="tEXt",BCe=0,Vte=new TextDecoder("latin1");function HCe(e){if(UCe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const $Ce=/^[\u0000-\u00FF]*$/;function UCe(e){if(!$Ce.test(e))throw new Error("invalid latin1 text")}function VCe(e,t,r){const n=qte(t);e[n]=qCe(t,r-n.length-1)}function qte(e){for(e.mark();e.readByte()!==BCe;);const t=e.offset;e.reset();const r=Vte.decode(e.readBytes(t-e.offset-1));return e.skip(1),HCe(r),r}function qCe(e,t){return Vte.decode(e.readBytes(t))}const $l={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},gD={UNKNOWN:-1,DEFLATE:0},Q$={UNKNOWN:-1,ADAPTIVE:0},xD={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},e5={NONE:0,BACKGROUND:1,PREVIOUS:2},yD={SOURCE:0,OVER:1};class WCe extends TL{constructor(r,n={}){super(r);St(this,"_checkCrc");St(this,"_inflator");St(this,"_png");St(this,"_apng");St(this,"_end");St(this,"_hasPalette");St(this,"_palette");St(this,"_hasTransparency");St(this,"_transparency");St(this,"_compressionMethod");St(this,"_filterMethod");St(this,"_interlaceMethod");St(this,"_colorType");St(this,"_isAnimated");St(this,"_numberOfFrames");St(this,"_numberOfPlays");St(this,"_frames");St(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new Y$,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=gD.UNKNOWN,this._filterMethod=Q$.UNKNOWN,this._interlaceMethod=xD.UNKNOWN,this._colorType=$l.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(J$(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(J$(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case zCe:VCe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?K$(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?K$(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=YCe(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case $l.GREYSCALE:a=1;break;case $l.TRUECOLOUR:a=3;break;case $l.INDEXED_COLOUR:a=1;break;case $l.GREYSCALE_ALPHA:a=2;break;case $l.TRUECOLOUR_ALPHA:a=4;break;case $l.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==gD.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<n;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case $l.GREYSCALE:case $l.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case $l.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case $l.UNKNOWN:case $l.GREYSCALE_ALPHA:case $l.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=qte(this),a=this.readUint8();if(a!==gD.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:SCe(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=X$({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(a,s,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case e5.NONE:break;case e5.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let i=0;i<this._png.width;i++){const l=(s*r.width+i)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case e5.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,s=(i,l)=>{const c=((i+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,d=(i*n.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(n.blendOp){case yD.SOURCE:for(let i=0;i<n.height;i++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=s(i,l);for(let u=0;u<this._png.channels;u++)r.data[c+u]=n.data[d+u]}break;case yD.OVER:for(let i=0;i<n.height;i++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=s(i,l);for(let u=0;u<this._png.channels;u++){const f=n.data[d+this._png.channels-1]/a,p=u%(this._png.channels-1)===0?1:n.data[d+u],h=Math.floor(f*p+(1-f)*r.data[c+u]);r.data[c+u]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Q$.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===xD.NO_INTERLACE)this._png.data=X$({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===xD.ADAM7)this._png.data=DCe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:e5.NONE,blendOp:yD.SOURCE,data:r}),this._inflator=new Y$,this._writingDataChunks=!1}}function YCe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var Z$;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(Z$||(Z$={}));function GCe(e,t){return new WCe(e,t).decode()}var gr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function vD(){gr.console&&typeof gr.console.log=="function"&&gr.console.log.apply(gr.console,arguments)}var Hn={log:vD,warn:function(e){gr.console&&(typeof gr.console.warn=="function"?gr.console.warn.apply(gr.console,arguments):vD.call(null,arguments))},error:function(e){gr.console&&(typeof gr.console.error=="function"?gr.console.error.apply(gr.console,arguments):vD(e))}};function bD(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){F0(n.response,t,r)},n.onerror=function(){Hn.error("could not download file")},n.send()}function eU(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function t5(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var F0=gr.saveAs||((typeof window>"u"?"undefined":En(window))!=="object"||window!==gr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=gr.URL||gr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?eU(a.href)?bD(e,t,r):t5(a,a.target="_blank"):t5(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){t5(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(eU(e))bD(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){t5(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:En(s)!=="object"&&(Hn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return bD(e,t,r);var a=e.type==="application/octet-stream",s=/constructor/i.test(gr.HTMLElement)||gr.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&s)&&(typeof FileReader>"u"?"undefined":En(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=i?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(e)}else{var c=gr.URL||gr.webkitURL,d=c.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Wte(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,i=a.exec(e);i&&(t=s(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var E_=gr.atob.bind(gr),tU=gr.btoa.bind(gr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function wD(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=ao(r,n,a,s,t[0],7,-680876936),s=ao(s,r,n,a,t[1],12,-389564586),a=ao(a,s,r,n,t[2],17,606105819),n=ao(n,a,s,r,t[3],22,-1044525330),r=ao(r,n,a,s,t[4],7,-176418897),s=ao(s,r,n,a,t[5],12,1200080426),a=ao(a,s,r,n,t[6],17,-1473231341),n=ao(n,a,s,r,t[7],22,-45705983),r=ao(r,n,a,s,t[8],7,1770035416),s=ao(s,r,n,a,t[9],12,-1958414417),a=ao(a,s,r,n,t[10],17,-42063),n=ao(n,a,s,r,t[11],22,-1990404162),r=ao(r,n,a,s,t[12],7,1804603682),s=ao(s,r,n,a,t[13],12,-40341101),a=ao(a,s,r,n,t[14],17,-1502002290),r=so(r,n=ao(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=so(s,r,n,a,t[6],9,-1069501632),a=so(a,s,r,n,t[11],14,643717713),n=so(n,a,s,r,t[0],20,-373897302),r=so(r,n,a,s,t[5],5,-701558691),s=so(s,r,n,a,t[10],9,38016083),a=so(a,s,r,n,t[15],14,-660478335),n=so(n,a,s,r,t[4],20,-405537848),r=so(r,n,a,s,t[9],5,568446438),s=so(s,r,n,a,t[14],9,-1019803690),a=so(a,s,r,n,t[3],14,-187363961),n=so(n,a,s,r,t[8],20,1163531501),r=so(r,n,a,s,t[13],5,-1444681467),s=so(s,r,n,a,t[2],9,-51403784),a=so(a,s,r,n,t[7],14,1735328473),r=io(r,n=so(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=io(s,r,n,a,t[8],11,-2022574463),a=io(a,s,r,n,t[11],16,1839030562),n=io(n,a,s,r,t[14],23,-35309556),r=io(r,n,a,s,t[1],4,-1530992060),s=io(s,r,n,a,t[4],11,1272893353),a=io(a,s,r,n,t[7],16,-155497632),n=io(n,a,s,r,t[10],23,-1094730640),r=io(r,n,a,s,t[13],4,681279174),s=io(s,r,n,a,t[0],11,-358537222),a=io(a,s,r,n,t[3],16,-722521979),n=io(n,a,s,r,t[6],23,76029189),r=io(r,n,a,s,t[9],4,-640364487),s=io(s,r,n,a,t[12],11,-421815835),a=io(a,s,r,n,t[15],16,530742520),r=oo(r,n=io(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=oo(s,r,n,a,t[7],10,1126891415),a=oo(a,s,r,n,t[14],15,-1416354905),n=oo(n,a,s,r,t[5],21,-57434055),r=oo(r,n,a,s,t[12],6,1700485571),s=oo(s,r,n,a,t[3],10,-1894986606),a=oo(a,s,r,n,t[10],15,-1051523),n=oo(n,a,s,r,t[1],21,-2054922799),r=oo(r,n,a,s,t[8],6,1873313359),s=oo(s,r,n,a,t[15],10,-30611744),a=oo(a,s,r,n,t[6],15,-1560198380),n=oo(n,a,s,r,t[13],21,1309151649),r=oo(r,n,a,s,t[4],6,-145523070),s=oo(s,r,n,a,t[11],10,-1120210379),a=oo(a,s,r,n,t[2],15,718787259),n=oo(n,a,s,r,t[9],21,-343485551),e[0]=tm(r,e[0]),e[1]=tm(n,e[1]),e[2]=tm(a,e[2]),e[3]=tm(s,e[3])}function H4(e,t,r,n,a,s){return t=tm(tm(t,e),tm(n,s)),tm(t<<a|t>>>32-a,r)}function ao(e,t,r,n,a,s,i){return H4(t&r|~t&n,e,t,a,s,i)}function so(e,t,r,n,a,s,i){return H4(t&n|r&~n,e,t,a,s,i)}function io(e,t,r,n,a,s,i){return H4(t^r^n,e,t,a,s,i)}function oo(e,t,r,n,a,s,i){return H4(r^(t|~n),e,t,a,s,i)}function Yte(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)wD(n,KCe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(wD(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,wD(n,a),n}function KCe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var rU="0123456789abcdef".split("");function XCe(e){for(var t="",r=0;r<4;r++)t+=rU[e>>8*r+4&15]+rU[e>>8*r&15];return t}function JCe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function k6(e){return Yte(e).map(JCe).join("")}var QCe=function(e){for(var t=0;t<e.length;t++)e[t]=XCe(e[t]);return e.join("")}(Yte("hello"))!="5d41402abc4b2a76b9719d911017c592";function tm(e,t){if(QCe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function C6(e,t){var r,n,a,s;if(e!==r){for(var i=(a=e,s=1+(256/e.length|0),new Array(s+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+i.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=e,n=l}else l=n;var f=t.length,p=0,h=0,m="";for(c=0;c<f;c++)h=(h+(u=l[p=(p+1)%256]))%256,l[p]=l[h],l[h]=u,i=l[(l[p]+l[h])%256],m+=String.fromCharCode(t.charCodeAt(c)^i);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var nU={print:4,modify:8,copy:16,"annot-forms":32};function gy(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(nU.perm!==void 0)throw new Error("Invalid permission: "+l);a+=nU[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^a)),this.encryptionKey=k6(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=C6(this.encryptionKey,this.padding)}function xy(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function aU(e){if(En(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var i=t[r][s];try{i[0].apply(e,n)}catch(l){gr.console&&Hn.error("jsPDF PubSub Error",l.message,l)}i[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Yk(e){if(!(this instanceof Yk))return new Yk(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Gte(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Y0(e,t,r,n,a){if(!(this instanceof Y0))return new Y0(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Gte.call(this,n,a)}function zy(e,t,r,n,a){if(!(this instanceof zy))return new zy(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Gte.call(this,n,a)}function nr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],i=[],l=1,c=16,d="S",u=null;En(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),i=e.filters||(s===!0?["FlateEncode"]:i),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=aU;var m="1.3",g=h.__private__.getPdfVersion=function(){return m};h.__private__.setPdfVersion=function(P){m=P};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return x};var y=h.__private__.getPageFormat=function(P){return x[P]};a=a||"a4";var v="compat",w="advanced",N=v;function C(){this.saveGraphicsState(),ee(new yt(zt,0,0,-zt,0,g0()*zt).toString()+" cm"),this.setFontSize(this.getFontSize()/zt),d="n",N=w}function _(){this.restoreGraphicsState(),d="S",N=v}var S=h.__private__.combineFontStyleAndFontWeight=function(P,Q){if(P=="bold"&&Q=="normal"||P=="bold"&&Q==400||P=="normal"&&Q=="italic"||P=="bold"&&Q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Q&&(P=Q==400||Q==="normal"?P==="italic"?"italic":"normal":Q!=700&&Q!=="bold"||P!=="normal"?(Q==700?"bold":Q)+""+P:"bold"),P};h.advancedAPI=function(P){var Q=N===v;return Q&&C.call(this),typeof P!="function"||(P(this),Q&&_.call(this)),this},h.compatAPI=function(P){var Q=N===w;return Q&&_.call(this),typeof P!="function"||(P(this),Q&&C.call(this)),this},h.isAdvancedAPI=function(){return N===w};var k,A=function(P){if(N!==w)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=h.roundToPrecision=h.__private__.roundToPrecision=function(P,Q){var ve=t||Q;if(isNaN(P)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(ve).replace(/0+$/,"")};k=h.hpf=h.__private__.hpf=typeof c=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return O(P,c)}:c==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return O(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return O(P,16)};var D=h.f2=h.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return O(P,2)},M=h.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return O(P,3)},I=h.scale=h.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return N===v?P*zt:N===w?P:void 0},z=function(P){return I(function(Q){return N===v?g0()-Q:N===w?Q:void 0}(P))};h.__private__.setPrecision=h.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(t=parseInt(P,10))};var Y,X="00000000000000000000000000000000",V=h.__private__.getFileId=function(){return X},G=h.__private__.setFileId=function(P){return X=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(zs=new gy(u.userPermissions,u.userPassword,u.ownerPassword,X)),X};h.setFileId=function(P){return G(P),this},h.getFileId=function(){return V()};var J=h.__private__.convertDateToPDFDate=function(P){var Q=P.getTimezoneOffset(),ve=Q<0?"+":"-",Ce=Math.floor(Math.abs(Q/60)),Be=Math.abs(Q%60),nt=[ve,F(Ce),"'",F(Be),"'"].join("");return["D:",P.getFullYear(),F(P.getMonth()+1),F(P.getDate()),F(P.getHours()),F(P.getMinutes()),F(P.getSeconds()),nt].join("")},B=h.__private__.convertPDFDateToDate=function(P){var Q=parseInt(P.substr(2,4),10),ve=parseInt(P.substr(6,2),10)-1,Ce=parseInt(P.substr(8,2),10),Be=parseInt(P.substr(10,2),10),nt=parseInt(P.substr(12,2),10),mt=parseInt(P.substr(14,2),10);return new Date(Q,ve,Ce,Be,nt,mt,0)},q=h.__private__.setCreationDate=function(P){var Q;if(P===void 0&&(P=new Date),P instanceof Date)Q=J(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Q=P}return Y=Q},T=h.__private__.getCreationDate=function(P){var Q=Y;return P==="jsDate"&&(Q=B(Y)),Q};h.setCreationDate=function(P){return q(P),this},h.getCreationDate=function(P){return T(P)};var R,F=h.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},H=h.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},W=0,te=[],pe=[],se=0,ce=[],Ne=[],he=!1,ze=pe;h.__private__.setCustomOutputDestination=function(P){he=!0,ze=P};var Pe=function(P){he||(ze=P)};h.__private__.resetCustomOutputDestination=function(){he=!1,ze=pe};var ee=h.__private__.out=function(P){return P=P.toString(),se+=P.length+1,ze.push(P),ze},We=h.__private__.write=function(P){return ee(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},be=h.__private__.getArrayBuffer=function(P){for(var Q=P.length,ve=new ArrayBuffer(Q),Ce=new Uint8Array(ve);Q--;)Ce[Q]=P.charCodeAt(Q);return ve},wt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return wt};var Qe=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(P){return Qe=N===w?P/zt:P,this};var me,we=h.__private__.getFontSize=h.getFontSize=function(){return N===v?Qe:Qe*zt},Me=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(P){return Me=P,this},h.__private__.getR2L=h.getR2L=function(){return Me};var Ge,Xe=h.__private__.setZoomMode=function(P){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))me=P;else if(isNaN(P)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');me=P}else me=parseInt(P,10)};h.__private__.getZoomMode=function(){return me};var Ve,st=h.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');Ge=P};h.__private__.getPageMode=function(){return Ge};var Nt=h.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');Ve=P};h.__private__.getLayoutMode=function(){return Ve},h.__private__.setDisplayMode=h.setDisplayMode=function(P,Q,ve){return Xe(P),Nt(Q),st(ve),this};var _t={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(P){if(Object.keys(_t).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _t[P]},h.__private__.getDocumentProperties=function(){return _t},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(P){for(var Q in _t)_t.hasOwnProperty(Q)&&P[Q]&&(_t[Q]=P[Q]);return this},h.__private__.setDocumentProperty=function(P,Q){if(Object.keys(_t).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _t[P]=Q};var vt,zt,At,cr,er,Gt={},ar={},Ke=[],lt={},It={},ct={},Rt={},vr=null,ir=0,Ft=[],kr=new aU(h),si=e.hotfixes||[],cn={},La={},Zt=[],yt=function P(Q,ve,Ce,Be,nt,mt){if(!(this instanceof P))return new P(Q,ve,Ce,Be,nt,mt);isNaN(Q)&&(Q=1),isNaN(ve)&&(ve=0),isNaN(Ce)&&(Ce=0),isNaN(Be)&&(Be=1),isNaN(nt)&&(nt=0),isNaN(mt)&&(mt=0),this._matrix=[Q,ve,Ce,Be,nt,mt]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(P)},yt.prototype.multiply=function(P){var Q=P.sx*this.sx+P.shy*this.shx,ve=P.sx*this.shy+P.shy*this.sy,Ce=P.shx*this.sx+P.sy*this.shx,Be=P.shx*this.shy+P.sy*this.sy,nt=P.tx*this.sx+P.ty*this.shx+this.tx,mt=P.tx*this.shy+P.ty*this.sy+this.ty;return new yt(Q,ve,Ce,Be,nt,mt)},yt.prototype.decompose=function(){var P=this.sx,Q=this.shy,ve=this.shx,Ce=this.sy,Be=this.tx,nt=this.ty,mt=Math.sqrt(P*P+Q*Q),Yt=(P/=mt)*ve+(Q/=mt)*Ce;ve-=P*Yt,Ce-=Q*Yt;var tr=Math.sqrt(ve*ve+Ce*Ce);return Yt/=tr,P*(Ce/=tr)<Q*(ve/=tr)&&(P=-P,Q=-Q,Yt=-Yt,mt=-mt),{scale:new yt(mt,0,0,tr,0,0),translate:new yt(1,0,0,1,Be,nt),rotate:new yt(P,Q,-Q,P,0,0),skew:new yt(1,0,Yt,1,0,0)}},yt.prototype.toString=function(P){return this.join(" ")},yt.prototype.inversed=function(){var P=this.sx,Q=this.shy,ve=this.shx,Ce=this.sy,Be=this.tx,nt=this.ty,mt=1/(P*Ce-Q*ve),Yt=Ce*mt,tr=-Q*mt,xr=-ve*mt,Er=P*mt;return new yt(Yt,tr,xr,Er,-Yt*Be-xr*nt,-tr*Be-Er*nt)},yt.prototype.applyToPoint=function(P){var Q=P.x*this.sx+P.y*this.shx+this.tx,ve=P.x*this.shy+P.y*this.sy+this.ty;return new xf(Q,ve)},yt.prototype.applyToRectangle=function(P){var Q=this.applyToPoint(P),ve=this.applyToPoint(new xf(P.x+P.w,P.y+P.h));return new Zb(Q.x,Q.y,ve.x-Q.x,ve.y-Q.y)},yt.prototype.clone=function(){var P=this.sx,Q=this.shy,ve=this.shx,Ce=this.sy,Be=this.tx,nt=this.ty;return new yt(P,Q,ve,Ce,Be,nt)},h.Matrix=yt;var br=h.matrixMult=function(P,Q){return Q.multiply(P)},ge=new yt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=ge;var _e=function(P,Q){if(!It[P]){var ve=(Q instanceof Y0?"Sh":"P")+(Object.keys(lt).length+1).toString(10);Q.id=ve,It[P]=ve,lt[ve]=Q,kr.publish("addPattern",Q)}};h.ShadingPattern=Y0,h.TilingPattern=zy,h.addShadingPattern=function(P,Q){return A("addShadingPattern()"),_e(P,Q),this},h.beginTilingPattern=function(P){A("beginTilingPattern()"),e1(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},h.endTilingPattern=function(P,Q){A("endTilingPattern()"),Q.stream=Ne[R].join(`
`),_e(P,Q),kr.publish("endTilingPattern",Q),Zt.pop().restore()};var Ae,$e=h.__private__.newObject=function(){var P=it();return K(P,!0),P},it=h.__private__.newObjectDeferred=function(){return W++,te[W]=function(){return se},W},K=function(P,Q){return Q=typeof Q=="boolean"&&Q,te[P]=se,Q&&ee(P+" 0 obj"),P},de=h.__private__.newAdditionalObject=function(){var P={objId:it(),content:""};return ce.push(P),P},re=it(),ne=it(),ie=h.__private__.decodeColorString=function(P){var Q=P.split(" ");if(Q.length!==2||Q[1]!=="g"&&Q[1]!=="G")Q.length!==5||Q[4]!=="k"&&Q[4]!=="K"||(Q=[(1-Q[0])*(1-Q[3]),(1-Q[1])*(1-Q[3]),(1-Q[2])*(1-Q[3]),"r"]);else{var ve=parseFloat(Q[0]);Q=[ve,ve,ve,"r"]}for(var Ce="#",Be=0;Be<3;Be++)Ce+=("0"+Math.floor(255*parseFloat(Q[Be])).toString(16)).slice(-2);return Ce},le=h.__private__.encodeColorString=function(P){var Q;typeof P=="string"&&(P={ch1:P});var ve=P.ch1,Ce=P.ch2,Be=P.ch3,nt=P.ch4,mt=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ve=="string"&&ve.charAt(0)!=="#"){var Yt=new Wte(ve);if(Yt.ok)ve=Yt.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if(typeof ve=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),typeof ve=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var tr=parseInt(ve.substr(1),16);ve=tr>>16&255,Ce=tr>>8&255,Be=255&tr}if(Ce===void 0||nt===void 0&&ve===Ce&&Ce===Be)Q=typeof ve=="string"?ve+" "+mt[0]:P.precision===2?D(ve/255)+" "+mt[0]:M(ve/255)+" "+mt[0];else if(nt===void 0||En(nt)==="object"){if(nt&&!isNaN(nt.a)&&nt.a===0)return["1.","1.","1.",mt[1]].join(" ");Q=typeof ve=="string"?[ve,Ce,Be,mt[1]].join(" "):P.precision===2?[D(ve/255),D(Ce/255),D(Be/255),mt[1]].join(" "):[M(ve/255),M(Ce/255),M(Be/255),mt[1]].join(" ")}else Q=typeof ve=="string"?[ve,Ce,Be,nt,mt[2]].join(" "):P.precision===2?[D(ve),D(Ce),D(Be),D(nt),mt[2]].join(" "):[M(ve),M(Ce),M(Be),M(nt),mt[2]].join(" ");return Q},ke=h.__private__.getFilters=function(){return i},Re=h.__private__.putStream=function(P){var Q=(P=P||{}).data||"",ve=P.filters||ke(),Ce=P.alreadyAppliedFilters||[],Be=P.addLength1||!1,nt=Q.length,mt=P.objectId,Yt=function(Bs){return Bs};if(u!==null&&mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Yt=zs.encryptor(mt,0));var tr={};ve===!0&&(ve=["FlateEncode"]);var xr=P.additionalKeyValues||[],Er=(tr=nr.API.processDataByFilters!==void 0?nr.API.processDataByFilters(Q,ve):{data:Q,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(tr.data.length!==0&&(xr.push({key:"Length",value:tr.data.length}),Be===!0&&xr.push({key:"Length1",value:nt})),Er.length!=0)if(Er.split("/").length-1==1)xr.push({key:"Filter",value:Er});else{xr.push({key:"Filter",value:"["+Er+"]"});for(var tn=0;tn<xr.length;tn+=1)if(xr[tn].key==="DecodeParms"){for(var _a=[],bs=0;bs<tr.reverseChain.split("/").length-1;bs+=1)_a.push("null");_a.push(xr[tn].value),xr[tn].value="["+_a.join(" ")+"]"}}ee("<<");for(var Kn=0;Kn<xr.length;Kn++)ee("/"+xr[Kn].key+" "+xr[Kn].value);ee(">>"),tr.data.length!==0&&(ee("stream"),ee(Yt(tr.data)),ee("endstream"))},Le=h.__private__.putPage=function(P){var Q=P.number,ve=P.data,Ce=P.objId,Be=P.contentsObjId;K(Ce,!0),ee("<</Type /Page"),ee("/Parent "+P.rootDictionaryObjId+" 0 R"),ee("/Resources "+P.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(k(P.mediaBox.bottomLeftX))+" "+parseFloat(k(P.mediaBox.bottomLeftY))+" "+k(P.mediaBox.topRightX)+" "+k(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&ee("/CropBox ["+k(P.cropBox.bottomLeftX)+" "+k(P.cropBox.bottomLeftY)+" "+k(P.cropBox.topRightX)+" "+k(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&ee("/BleedBox ["+k(P.bleedBox.bottomLeftX)+" "+k(P.bleedBox.bottomLeftY)+" "+k(P.bleedBox.topRightX)+" "+k(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&ee("/TrimBox ["+k(P.trimBox.bottomLeftX)+" "+k(P.trimBox.bottomLeftY)+" "+k(P.trimBox.topRightX)+" "+k(P.trimBox.topRightY)+"]"),P.artBox!==null&&ee("/ArtBox ["+k(P.artBox.bottomLeftX)+" "+k(P.artBox.bottomLeftY)+" "+k(P.artBox.topRightX)+" "+k(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&ee("/UserUnit "+P.userUnit),kr.publish("putPage",{objId:Ce,pageContext:Ft[Q],pageNumber:Q,page:ve}),ee("/Contents "+Be+" 0 R"),ee(">>"),ee("endobj");var nt=ve.join(`
`);return N===w&&(nt+=`
Q`),K(Be,!0),Re({data:nt,filters:ke(),objectId:Be}),ee("endobj"),Ce},De=h.__private__.putPages=function(){var P,Q,ve=[];for(P=1;P<=ir;P++)Ft[P].objId=it(),Ft[P].contentsObjId=it();for(P=1;P<=ir;P++)ve.push(Le({number:P,data:Ne[P],objId:Ft[P].objId,contentsObjId:Ft[P].contentsObjId,mediaBox:Ft[P].mediaBox,cropBox:Ft[P].cropBox,bleedBox:Ft[P].bleedBox,trimBox:Ft[P].trimBox,artBox:Ft[P].artBox,userUnit:Ft[P].userUnit,rootDictionaryObjId:re,resourceDictionaryObjId:ne}));K(re,!0),ee("<</Type /Pages");var Ce="/Kids [";for(Q=0;Q<ir;Q++)Ce+=ve[Q]+" 0 R ";ee(Ce+"]"),ee("/Count "+ir),ee(">>"),ee("endobj"),kr.publish("postPutPages")},Ee=function(P){kr.publish("putFont",{font:P,out:ee,newObject:$e,putStream:Re}),P.isAlreadyPutted!==!0&&(P.objectNumber=$e(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+xy(P.postScriptName)),ee("/Subtype /Type1"),typeof P.encoding=="string"&&ee("/Encoding /"+P.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Je=function(P){P.objectNumber=$e();var Q=[];Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Form"}),Q.push({key:"BBox",value:"["+[k(P.x),k(P.y),k(P.x+P.width),k(P.y+P.height)].join(" ")+"]"}),Q.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var ve=P.pages[1].join(`
`);Re({data:ve,additionalKeyValues:Q,objectId:P.objectNumber}),ee("endobj")},ut=function(P,Q){Q||(Q=21);var ve=$e(),Ce=function(mt,Yt){var tr,xr=[],Er=1/(Yt-1);for(tr=0;tr<1;tr+=Er)xr.push(tr);if(xr.push(1),mt[0].offset!=0){var tn={offset:0,color:mt[0].color};mt.unshift(tn)}if(mt[mt.length-1].offset!=1){var _a={offset:1,color:mt[mt.length-1].color};mt.push(_a)}for(var bs="",Kn=0,Bs=0;Bs<xr.length;Bs++){for(tr=xr[Bs];tr>mt[Kn+1].offset;)Kn++;var ws=mt[Kn].offset,Ei=(tr-ws)/(mt[Kn+1].offset-ws),bf=mt[Kn].color,Ed=mt[Kn+1].color;bs+=H(Math.round((1-Ei)*bf[0]+Ei*Ed[0]).toString(16))+H(Math.round((1-Ei)*bf[1]+Ei*Ed[1]).toString(16))+H(Math.round((1-Ei)*bf[2]+Ei*Ed[2]).toString(16))}return bs.trim()}(P.colors,Q),Be=[];Be.push({key:"FunctionType",value:"0"}),Be.push({key:"Domain",value:"[0.0 1.0]"}),Be.push({key:"Size",value:"["+Q+"]"}),Be.push({key:"BitsPerSample",value:"8"}),Be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Re({data:Ce,additionalKeyValues:Be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),ee("endobj"),P.objectNumber=$e(),ee("<< /ShadingType "+P.type),ee("/ColorSpace /DeviceRGB");var nt="/Coords ["+k(parseFloat(P.coords[0]))+" "+k(parseFloat(P.coords[1]))+" ";P.type===2?nt+=k(parseFloat(P.coords[2]))+" "+k(parseFloat(P.coords[3])):nt+=k(parseFloat(P.coords[2]))+" "+k(parseFloat(P.coords[3]))+" "+k(parseFloat(P.coords[4]))+" "+k(parseFloat(P.coords[5])),ee(nt+="]"),P.matrix&&ee("/Matrix ["+P.matrix.toString()+"]"),ee("/Function "+ve+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},Ct=function(P,Q){var ve=it(),Ce=$e();Q.push({resourcesOid:ve,objectOid:Ce}),P.objectNumber=Ce;var Be=[];Be.push({key:"Type",value:"/Pattern"}),Be.push({key:"PatternType",value:"1"}),Be.push({key:"PaintType",value:"1"}),Be.push({key:"TilingType",value:"1"}),Be.push({key:"BBox",value:"["+P.boundingBox.map(k).join(" ")+"]"}),Be.push({key:"XStep",value:k(P.xStep)}),Be.push({key:"YStep",value:k(P.yStep)}),Be.push({key:"Resources",value:ve+" 0 R"}),P.matrix&&Be.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Re({data:P.stream,additionalKeyValues:Be,objectId:P.objectNumber}),ee("endobj")},pt=function(P){for(var Q in P.objectNumber=$e(),ee("<<"),P)switch(Q){case"opacity":ee("/ca "+D(P[Q]));break;case"stroke-opacity":ee("/CA "+D(P[Q]))}ee(">>"),ee("endobj")},xt=function(P){K(P.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var Q in ee("/Font <<"),Gt)Gt.hasOwnProperty(Q)&&(f===!1||f===!0&&p.hasOwnProperty(Q))&&ee("/"+Q+" "+Gt[Q].objectNumber+" 0 R");ee(">>")}(),function(){if(Object.keys(lt).length>0){for(var Q in ee("/Shading <<"),lt)lt.hasOwnProperty(Q)&&lt[Q]instanceof Y0&&lt[Q].objectNumber>=0&&ee("/"+Q+" "+lt[Q].objectNumber+" 0 R");kr.publish("putShadingPatternDict"),ee(">>")}}(),function(Q){if(Object.keys(lt).length>0){for(var ve in ee("/Pattern <<"),lt)lt.hasOwnProperty(ve)&&lt[ve]instanceof h.TilingPattern&&lt[ve].objectNumber>=0&&lt[ve].objectNumber<Q&&ee("/"+ve+" "+lt[ve].objectNumber+" 0 R");kr.publish("putTilingPatternDict"),ee(">>")}}(P.objectOid),function(){if(Object.keys(ct).length>0){var Q;for(Q in ee("/ExtGState <<"),ct)ct.hasOwnProperty(Q)&&ct[Q].objectNumber>=0&&ee("/"+Q+" "+ct[Q].objectNumber+" 0 R");kr.publish("putGStateDict"),ee(">>")}}(),function(){for(var Q in ee("/XObject <<"),cn)cn.hasOwnProperty(Q)&&cn[Q].objectNumber>=0&&ee("/"+Q+" "+cn[Q].objectNumber+" 0 R");kr.publish("putXobjectDict"),ee(">>")}(),ee(">>"),ee("endobj")},Pt=function(P){ar[P.fontName]=ar[P.fontName]||{},ar[P.fontName][P.fontStyle]=P.id},wr=function(P,Q,ve,Ce,Be){var nt={id:"F"+(Object.keys(Gt).length+1).toString(10),postScriptName:P,fontName:Q,fontStyle:ve,encoding:Ce,isStandardFont:Be||!1,metadata:{}};return kr.publish("addFont",{font:nt,instance:this}),Gt[nt.id]=nt,Pt(nt),nt.id},pr=h.__private__.pdfEscape=h.pdfEscape=function(P,Q){return function(ve,Ce){var Be,nt,mt,Yt,tr,xr,Er,tn,_a;if(mt=(Ce=Ce||{}).sourceEncoding||"Unicode",tr=Ce.outputEncoding,(Ce.autoencode||tr)&&Gt[vt].metadata&&Gt[vt].metadata[mt]&&Gt[vt].metadata[mt].encoding&&(Yt=Gt[vt].metadata[mt].encoding,!tr&&Gt[vt].encoding&&(tr=Gt[vt].encoding),!tr&&Yt.codePages&&(tr=Yt.codePages[0]),typeof tr=="string"&&(tr=Yt[tr]),tr)){for(Er=!1,xr=[],Be=0,nt=ve.length;Be<nt;Be++)(tn=tr[ve.charCodeAt(Be)])?xr.push(String.fromCharCode(tn)):xr.push(ve[Be]),xr[Be].charCodeAt(0)>>8&&(Er=!0);ve=xr.join("")}for(Be=ve.length;Er===void 0&&Be!==0;)ve.charCodeAt(Be-1)>>8&&(Er=!0),Be--;if(!Er)return ve;for(xr=Ce.noBOM?[]:[254,255],Be=0,nt=ve.length;Be<nt;Be++){if((_a=(tn=ve.charCodeAt(Be))>>8)>>8)throw new Error("Character at position "+Be+" of string '"+ve+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xr.push(_a),xr.push(tn-(_a<<8))}return String.fromCharCode.apply(void 0,xr)}(P,Q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pn=h.__private__.beginPage=function(P){Ne[++ir]=[],Ft[ir]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},Ir(ir),Pe(Ne[R])},rs=function(P,Q){var ve,Ce,Be;switch(r=Q||r,typeof P=="string"&&(ve=y(P.toLowerCase()),Array.isArray(ve)&&(Ce=ve[0],Be=ve[1])),Array.isArray(P)&&(Ce=P[0]*zt,Be=P[1]*zt),isNaN(Ce)&&(Ce=a[0],Be=a[1]),(Ce>14400||Be>14400)&&(Hn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),Be=Math.min(14400,Be)),a=[Ce,Be],r.substr(0,1)){case"l":Be>Ce&&(a=[Be,Ce]);break;case"p":Ce>Be&&(a=[Be,Ce])}pn(a),Nr(Kb),ee(Fx),Jb!==0&&ee(Jb+" J"),Qb!==0&&ee(Qb+" j"),kr.publish("addPage",{pageNumber:ir})},or=function(P){P>0&&P<=ir&&(Ne.splice(P,1),Ft.splice(P,1),ir--,R>ir&&(R=ir),this.setPage(R))},Ir=function(P){P>0&&P<=ir&&(R=P)},ma=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ne.length-1},ja=function(P,Q,ve){var Ce,Be=void 0;return ve=ve||{},P=P!==void 0?P:Gt[vt].fontName,Q=Q!==void 0?Q:Gt[vt].fontStyle,Ce=P.toLowerCase(),ar[Ce]!==void 0&&ar[Ce][Q]!==void 0?Be=ar[Ce][Q]:ar[P]!==void 0&&ar[P][Q]!==void 0?Be=ar[P][Q]:ve.disableWarning===!1&&Hn.warn("Unable to look up font label for font '"+P+"', '"+Q+"'. Refer to getFontList() for available fonts."),Be||ve.noFallback||(Be=ar.times[Q])==null&&(Be=ar.times.normal),Be},Dr=h.__private__.putInfo=function(){var P=$e(),Q=function(Ce){return Ce};for(var ve in u!==null&&(Q=zs.encryptor(P,0)),ee("<<"),ee("/Producer ("+pr(Q("jsPDF "+nr.version))+")"),_t)_t.hasOwnProperty(ve)&&_t[ve]&&ee("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+pr(Q(_t[ve]))+")");ee("/CreationDate ("+pr(Q(Y))+")"),ee(">>"),ee("endobj")},Ol=h.__private__.putCatalog=function(P){var Q=(P=P||{}).rootDictionaryObjId||re;switch($e(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+Q+" 0 R"),me||(me="fullwidth"),me){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+me;ve.substr(ve.length-1)==="%"&&(me=parseInt(me)/100),typeof me=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+D(me)+"]")}switch(Ve||(Ve="continuous"),Ve){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}Ge&&ee("/PageMode /"+Ge),kr.publish("putCatalog"),ee(">>"),ee("endobj")},Rx=h.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(W+1)),ee("/Root "+W+" 0 R"),ee("/Info "+(W-1)+" 0 R"),u!==null&&ee("/Encrypt "+zs.oid+" 0 R"),ee("/ID [ <"+X+"> <"+X+"> ]"),ee(">>")},Ia=h.__private__.putHeader=function(){ee("%PDF-"+m),ee("%")},HS=h.__private__.putXRef=function(){var P="0000000000";ee("xref"),ee("0 "+(W+1)),ee("0000000000 65535 f ");for(var Q=1;Q<=W;Q++)typeof te[Q]=="function"?ee((P+te[Q]()).slice(-10)+" 00000 n "):te[Q]!==void 0?ee((P+te[Q]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},pu=h.__private__.buildDocument=function(){var P;W=0,se=0,pe=[],te=[],ce=[],re=it(),ne=it(),Pe(pe),kr.publish("buildDocument"),Ia(),De(),function(){kr.publish("putAdditionalObjects");for(var ve=0;ve<ce.length;ve++){var Ce=ce[ve];K(Ce.objId,!0),ee(Ce.content),ee("endobj")}kr.publish("postPutAdditionalObjects")}(),P=[],function(){for(var ve in Gt)Gt.hasOwnProperty(ve)&&(f===!1||f===!0&&p.hasOwnProperty(ve))&&Ee(Gt[ve])}(),function(){var ve;for(ve in ct)ct.hasOwnProperty(ve)&&pt(ct[ve])}(),function(){for(var ve in cn)cn.hasOwnProperty(ve)&&Je(cn[ve])}(),function(ve){var Ce;for(Ce in lt)lt.hasOwnProperty(Ce)&&(lt[Ce]instanceof Y0?ut(lt[Ce]):lt[Ce]instanceof zy&&Ct(lt[Ce],ve))}(P),kr.publish("putResources"),P.forEach(xt),xt({resourcesOid:ne,objectOid:Number.MAX_SAFE_INTEGER}),kr.publish("postPutResources"),u!==null&&(zs.oid=$e(),ee("<<"),ee("/Filter /Standard"),ee("/V "+zs.v),ee("/R "+zs.r),ee("/U <"+zs.toHexString(zs.U)+">"),ee("/O <"+zs.toHexString(zs.O)+">"),ee("/P "+zs.P),ee(">>"),ee("endobj")),Dr(),Ol();var Q=se;return HS(),Rx(),ee("startxref"),ee(""+Q),ee("%%EOF"),Pe(Ne[R]),pe.join(`
`)},Lx=h.__private__.getBlob=function(P){return new Blob([be(P)],{type:"application/pdf"})},$S=h.output=h.__private__.output=(Ae=function(P,Q){switch(typeof(Q=Q||{})=="string"?Q={filename:Q}:Q.filename=Q.filename||"generated.pdf",P){case void 0:return pu();case"save":h.save(Q.filename);break;case"arraybuffer":return be(pu());case"blob":return Lx(pu());case"bloburi":case"bloburl":if(gr.URL!==void 0&&typeof gr.URL.createObjectURL=="function")return gr.URL&&gr.URL.createObjectURL(Lx(pu()))||void 0;Hn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",Ce=pu();try{ve=tU(Ce)}catch{ve=tU(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+Q.filename+";base64,"+ve;case"pdfobjectnewwindow":if(Object.prototype.toString.call(gr)==="[object Window]"){var Be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Q.pdfObjectUrl&&(Be=Q.pdfObjectUrl,nt="");var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Be+'"'+nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Q)+");<\/script></body></html>",Yt=gr.open();return Yt!==null&&Yt.document.write(mt),Yt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(gr)==="[object Window]"){var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Q.filename+'" width="500px" height="400px" /></body></html>',xr=gr.open();if(xr!==null){xr.document.write(tr);var Er=this;xr.document.documentElement.querySelector("#pdfViewer").onload=function(){xr.document.title=Q.filename,xr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Er.output("bloburl"))}}return xr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(gr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Q)+'"></iframe></body></html>',_a=gr.open();if(_a!==null&&(_a.document.write(tn),_a.document.title=Q.filename),_a||typeof safari>"u")return _a;break;case"datauri":case"dataurl":return gr.document.location.href=this.output("datauristring",Q);default:return null}},Ae.foo=function(){try{return Ae.apply(this,arguments)}catch(ve){var P=ve.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var Q="Error in function "+P.split(`
`)[0].split("<")[0]+": "+ve.message;if(!gr.console)throw new Error(Q);gr.console.error(Q,ve),gr.alert&&alert(Q)}},Ae.foo.bar=Ae,Ae.foo),Pc=function(P){return Array.isArray(si)===!0&&si.indexOf(P)>-1};switch(n){case"pt":zt=1;break;case"mm":zt=72/25.4;break;case"cm":zt=72/2.54;break;case"in":zt=72;break;case"px":zt=Pc("px_scaling")==1?.75:96/72;break;case"pc":case"em":zt=12;break;case"ex":zt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);zt=n}var zs=null;q(),G();var hf=h.__private__.getPageInfo=h.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ft[P].objId,pageNumber:P,pageContext:Ft[P]}},US=h.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Q in Ft)if(Ft[Q].objId===P)break;return hf(Q)},j3=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Ft[R].objId,pageNumber:R,pageContext:Ft[R]}};h.addPage=function(){return rs.apply(this,arguments),this},h.setPage=function(){return Ir.apply(this,arguments),Pe.call(this,Ne[R]),this},h.insertPage=function(P){return this.addPage(),this.movePage(R,P),this},h.movePage=function(P,Q){var ve,Ce;if(P>Q){ve=Ne[P],Ce=Ft[P];for(var Be=P;Be>Q;Be--)Ne[Be]=Ne[Be-1],Ft[Be]=Ft[Be-1];Ne[Q]=ve,Ft[Q]=Ce,this.setPage(Q)}else if(P<Q){ve=Ne[P],Ce=Ft[P];for(var nt=P;nt<Q;nt++)Ne[nt]=Ne[nt+1],Ft[nt]=Ft[nt+1];Ne[Q]=ve,Ft[Q]=Ce,this.setPage(Q)}return this},h.deletePage=function(){return or.apply(this,arguments),this},h.__private__.text=h.text=function(P,Q,ve,Ce,Be){var nt,mt,Yt,tr,xr,Er,tn,_a,bs,Kn=(Ce=Ce||{}).scope||this;if(typeof P=="number"&&typeof Q=="number"&&(typeof ve=="string"||Array.isArray(ve))){var Bs=ve;ve=Q,Q=P,P=Bs}if(arguments[3]instanceof yt==0?(Yt=arguments[4],tr=arguments[5],En(tn=arguments[3])==="object"&&tn!==null||(typeof Yt=="string"&&(tr=Yt,Yt=null),typeof tn=="string"&&(tr=tn,tn=null),typeof tn=="number"&&(Yt=tn,tn=null),Ce={flags:tn,angle:Yt,align:tr})):(A("The transform parameter of text() with a Matrix value"),bs=Be),isNaN(Q)||isNaN(ve)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return Kn;var ws,Ei="",bf=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:h0,Ed=Kn.internal.scaleFactor;function wf(mn){return mn=mn.split("	").join(Array(Ce.TabLen||9).join(" ")),pr(mn,tn)}function r1(mn){for(var zn,as=mn.concat(),Hs=[],jf=as.length;jf--;)typeof(zn=as.shift())=="string"?Hs.push(zn):Array.isArray(mn)&&(zn.length===1||zn[1]===void 0&&zn[2]===void 0)?Hs.push(zn[0]):Hs.push([zn[0],zn[1],zn[2]]);return Hs}function Bx(mn,zn){var as;if(typeof mn=="string")as=zn(mn)[0];else if(Array.isArray(mn)){for(var Hs,jf,f1=mn.concat(),Ux=[],ej=f1.length;ej--;)typeof(Hs=f1.shift())=="string"?Ux.push(zn(Hs)[0]):Array.isArray(Hs)&&typeof Hs[0]=="string"&&(jf=zn(Hs[0],Hs[1],Hs[2]),Ux.push([jf[0],jf[1],jf[2]]));as=Ux}return as}var op=!1,x0=!0;if(typeof P=="string")op=!0;else if(Array.isArray(P)){var y0=P.concat();mt=[];for(var lp,Ti=y0.length;Ti--;)(typeof(lp=y0.shift())!="string"||Array.isArray(lp)&&typeof lp[0]!="string")&&(x0=!1);op=x0}if(op===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var v0=Qe/Kn.internal.scaleFactor,b0=v0*(bf-1);switch(Ce.baseline){case"bottom":ve-=b0;break;case"top":ve+=v0-b0;break;case"hanging":ve+=v0-2*b0;break;case"middle":ve+=v0/2-b0}if((Er=Ce.maxWidth||0)>0&&(typeof P=="string"?P=Kn.splitTextToSize(P,Er):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(mn,zn){return mn.concat(Kn.splitTextToSize(zn,Er))},[]))),nt={text:P,x:Q,y:ve,options:Ce,mutex:{pdfEscape:pr,activeFontKey:vt,fonts:Gt,activeFontSize:Qe}},kr.publish("preProcessText",nt),P=nt.text,Yt=(Ce=nt.options).angle,bs instanceof yt==0&&Yt&&typeof Yt=="number"){Yt*=Math.PI/180,Ce.rotationDirection===0&&(Yt=-Yt),N===w&&(Yt=-Yt);var n1=Math.cos(Yt),a1=Math.sin(Yt);bs=new yt(n1,a1,-a1,n1,0,0)}else Yt&&Yt instanceof yt&&(bs=Yt);N!==w||bs||(bs=ge),(xr=Ce.charSpace||gf)!==void 0&&(Ei+=k(I(xr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(_a=Ce.horizontalScale)!==void 0&&(Ei+=k(100*_a)+` Tz
`),Ce.lang;var _o=-1,Nf=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,Hx=Kn.internal.getCurrentPageInfo().pageContext;switch(Nf){case 0:case!1:case"fill":_o=0;break;case 1:case!0:case"stroke":_o=1;break;case 2:case"fillThenStroke":_o=2;break;case 3:case"invisible":_o=3;break;case 4:case"fillAndAddForClipping":_o=4;break;case 5:case"strokeAndAddPathForClipping":_o=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_o=6;break;case 7:case"addToPathForClipping":_o=7}var QS=Hx.usedRenderingMode!==void 0?Hx.usedRenderingMode:-1;_o!==-1?Ei+=_o+` Tr
`:QS!==-1&&(Ei+=`0 Tr
`),_o!==-1&&(Hx.usedRenderingMode=_o),tr=Ce.align||"left";var Rc,w0=Qe*bf,s1=Kn.internal.pageSize.getWidth(),i1=Gt[vt];xr=Ce.charSpace||gf,Er=Ce.maxWidth||0,tn=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var cp=[],N0=function(mn){return Kn.getStringUnitWidth(mn,{font:i1,charSpace:xr,fontSize:Qe,doKerning:!1})*Qe/Ed};if(Object.prototype.toString.call(P)==="[object Array]"){var Pl;mt=r1(P),tr!=="left"&&(Rc=mt.map(N0));var Rl,dp=0;if(tr==="right"){Q-=Rc[0],P=[],Ti=mt.length;for(var Sf=0;Sf<Ti;Sf++)Sf===0?(Rl=pf(Q),Pl=mf(ve)):(Rl=I(dp-Rc[Sf]),Pl=-w0),P.push([mt[Sf],Rl,Pl]),dp=Rc[Sf]}else if(tr==="center"){Q-=Rc[0]/2,P=[],Ti=mt.length;for(var up=0;up<Ti;up++)up===0?(Rl=pf(Q),Pl=mf(ve)):(Rl=I((dp-Rc[up])/2),Pl=-w0),P.push([mt[up],Rl,Pl]),dp=Rc[up]}else if(tr==="left"){P=[],Ti=mt.length;for(var o1=0;o1<Ti;o1++)P.push(mt[o1])}else if(tr==="justify"&&i1.encoding==="Identity-H"){P=[],Ti=mt.length,Er=Er!==0?Er:s1;for(var $x=0,ns=0;ns<Ti;ns++)if(Pl=ns===0?mf(ve):-w0,Rl=ns===0?pf(Q):$x,ns<Ti-1){var ZS=I((Er-Rc[ns])/(mt[ns].split(" ").length-1)),gu=mt[ns].split(" ");P.push([gu[0]+" ",Rl,Pl]),$x=0;for(var xu=1;xu<gu.length;xu++){var l1=(N0(gu[xu-1]+" "+gu[xu])-N0(gu[xu]))*Ed+ZS;xu==gu.length-1?P.push([gu[xu],l1,0]):P.push([gu[xu]+" ",l1,0]),$x-=l1}}else P.push([mt[ns],Rl,Pl]);P.push(["",$x,0])}else{if(tr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Ti=mt.length,Er=Er!==0?Er:s1,ns=0;ns<Ti;ns++){Pl=ns===0?mf(ve):-w0,Rl=ns===0?pf(Q):0;var c1=mt[ns].split(" ").length-1,d1=c1>0?(Er-Rc[ns])/c1:0;ns<Ti-1?cp.push(k(I(d1))):cp.push(0),P.push([mt[ns],Rl,Pl])}}}(typeof Ce.R2L=="boolean"?Ce.R2L:Me)===!0&&(P=Bx(P,function(mn,zn,as){return[mn.split("").reverse().join(""),zn,as]})),nt={text:P,x:Q,y:ve,options:Ce,mutex:{pdfEscape:pr,activeFontKey:vt,fonts:Gt,activeFontSize:Qe}},kr.publish("postProcessText",nt),P=nt.text,ws=nt.mutex.isHex||!1;var u1=Gt[vt].encoding;u1!=="WinAnsiEncoding"&&u1!=="StandardEncoding"||(P=Bx(P,function(mn,zn,as){return[wf(mn),zn,as]})),mt=r1(P),P=[];for(var fp,hp,pp,S0=Array.isArray(mt[0])?1:0,mp="",j0=function(mn,zn,as){var Hs="";return as instanceof yt?(as=typeof Ce.angle=="number"?br(as,new yt(1,0,0,1,mn,zn)):br(new yt(1,0,0,1,mn,zn),as),N===w&&(as=br(new yt(1,0,0,-1,0,0),as)),Hs=as.join(" ")+` Tm
`):Hs=k(mn)+" "+k(zn)+` Td
`,Hs},Lc=0;Lc<mt.length;Lc++){switch(mp="",S0){case 1:pp=(ws?"<":"(")+mt[Lc][0]+(ws?">":")"),fp=parseFloat(mt[Lc][1]),hp=parseFloat(mt[Lc][2]);break;case 0:pp=(ws?"<":"(")+mt[Lc]+(ws?">":")"),fp=pf(Q),hp=mf(ve)}cp!==void 0&&cp[Lc]!==void 0&&(mp=cp[Lc]+` Tw
`),Lc===0?P.push(mp+j0(fp,hp,bs)+pp):S0===0?P.push(mp+pp):S0===1&&P.push(mp+j0(fp,hp,bs)+pp)}P=S0===0?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var yu=`BT
/`;return yu+=vt+" "+Qe+` Tf
`,yu+=k(Qe*bf)+` TL
`,yu+=p0+`
`,yu+=Ei,yu+=P,ee(yu+="ET"),p[vt]=!0,Kn};var _3=h.__private__.clip=h.clip=function(P){return ee(P==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return _3("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ee("n"),this};var mu=h.__private__.isValidStyle=function(P){var Q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(Q=!0),Q};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(P){return mu(P)&&(d=P),this};var VS=h.__private__.getStyle=h.getStyle=function(P){var Q=d;switch(P){case"D":case"S":Q="S";break;case"F":Q="f";break;case"FD":case"DF":Q="B";break;case"f":case"f*":case"B":case"B*":Q=P}return Q},qS=h.close=function(){return ee("h"),this};h.stroke=function(){return ee("S"),this},h.fill=function(P){return Ix("f",P),this},h.fillEvenOdd=function(P){return Ix("f*",P),this},h.fillStroke=function(P){return Ix("B",P),this},h.fillStrokeEvenOdd=function(P){return Ix("B*",P),this};var Ix=function(P,Q){En(Q)==="object"?C3(Q,P):ee(P)},f0=function(P){P===null||N===w&&P===void 0||(P=VS(P),ee(P))};function k3(P,Q,ve,Ce,Be){var nt=new zy(Q||this.boundingBox,ve||this.xStep,Ce||this.yStep,this.gState,Be||this.matrix);nt.stream=this.stream;var mt=P+"$$"+this.cloneIndex+++"$$";return _e(mt,nt),nt}var C3=function(P,Q){var ve=It[P.key],Ce=lt[ve];if(Ce instanceof Y0)ee("q"),ee(A3(Q)),Ce.gState&&h.setGState(Ce.gState),ee(P.matrix.toString()+" cm"),ee("/"+ve+" sh"),ee("Q");else if(Ce instanceof zy){var Be=new yt(1,0,0,-1,0,g0());P.matrix&&(Be=Be.multiply(P.matrix||ge),ve=k3.call(Ce,P.key,P.boundingBox,P.xStep,P.yStep,Be).id),ee("q"),ee("/Pattern cs"),ee("/"+ve+" scn"),Ce.gState&&h.setGState(Ce.gState),ee(Q),ee("Q")}},A3=function(P){switch(P){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Gb=h.moveTo=function(P,Q){return ee(k(I(P))+" "+k(z(Q))+" m"),this},WS=h.lineTo=function(P,Q){return ee(k(I(P))+" "+k(z(Q))+" l"),this},Ad=h.curveTo=function(P,Q,ve,Ce,Be,nt){return ee([k(I(P)),k(z(Q)),k(I(ve)),k(z(Ce)),k(I(Be)),k(z(nt)),"c"].join(" ")),this};h.__private__.line=h.line=function(P,Q,ve,Ce,Be){if(isNaN(P)||isNaN(Q)||isNaN(ve)||isNaN(Ce)||!mu(Be))throw new Error("Invalid arguments passed to jsPDF.line");return N===v?this.lines([[ve-P,Ce-Q]],P,Q,[1,1],Be||"S"):this.lines([[ve-P,Ce-Q]],P,Q,[1,1]).stroke()},h.__private__.lines=h.lines=function(P,Q,ve,Ce,Be,nt){var mt,Yt,tr,xr,Er,tn,_a,bs,Kn,Bs,ws,Ei;if(typeof P=="number"&&(Ei=ve,ve=Q,Q=P,P=Ei),Ce=Ce||[1,1],nt=nt||!1,isNaN(Q)||isNaN(ve)||!Array.isArray(P)||!Array.isArray(Ce)||!mu(Be)||typeof nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Gb(Q,ve),mt=Ce[0],Yt=Ce[1],xr=P.length,Bs=Q,ws=ve,tr=0;tr<xr;tr++)(Er=P[tr]).length===2?(Bs=Er[0]*mt+Bs,ws=Er[1]*Yt+ws,WS(Bs,ws)):(tn=Er[0]*mt+Bs,_a=Er[1]*Yt+ws,bs=Er[2]*mt+Bs,Kn=Er[3]*Yt+ws,Bs=Er[4]*mt+Bs,ws=Er[5]*Yt+ws,Ad(tn,_a,bs,Kn,Bs,ws));return nt&&qS(),f0(Be),this},h.path=function(P){for(var Q=0;Q<P.length;Q++){var ve=P[Q],Ce=ve.c;switch(ve.op){case"m":Gb(Ce[0],Ce[1]);break;case"l":WS(Ce[0],Ce[1]);break;case"c":Ad.apply(this,Ce);break;case"h":qS()}}return this},h.__private__.rect=h.rect=function(P,Q,ve,Ce,Be){if(isNaN(P)||isNaN(Q)||isNaN(ve)||isNaN(Ce)||!mu(Be))throw new Error("Invalid arguments passed to jsPDF.rect");return N===v&&(Ce=-Ce),ee([k(I(P)),k(z(Q)),k(I(ve)),k(I(Ce)),"re"].join(" ")),f0(Be),this},h.__private__.triangle=h.triangle=function(P,Q,ve,Ce,Be,nt,mt){if(isNaN(P)||isNaN(Q)||isNaN(ve)||isNaN(Ce)||isNaN(Be)||isNaN(nt)||!mu(mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-P,Ce-Q],[Be-ve,nt-Ce],[P-Be,Q-nt]],P,Q,[1,1],mt,!0),this},h.__private__.roundedRect=h.roundedRect=function(P,Q,ve,Ce,Be,nt,mt){if(isNaN(P)||isNaN(Q)||isNaN(ve)||isNaN(Ce)||isNaN(Be)||isNaN(nt)||!mu(mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Yt=4/3*(Math.SQRT2-1);return Be=Math.min(Be,.5*ve),nt=Math.min(nt,.5*Ce),this.lines([[ve-2*Be,0],[Be*Yt,0,Be,nt-nt*Yt,Be,nt],[0,Ce-2*nt],[0,nt*Yt,-Be*Yt,nt,-Be,nt],[2*Be-ve,0],[-Be*Yt,0,-Be,-nt*Yt,-Be,-nt],[0,2*nt-Ce],[0,-nt*Yt,Be*Yt,-nt,Be,-nt]],P+Be,Q,[1,1],mt,!0),this},h.__private__.ellipse=h.ellipse=function(P,Q,ve,Ce,Be){if(isNaN(P)||isNaN(Q)||isNaN(ve)||isNaN(Ce)||!mu(Be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var nt=4/3*(Math.SQRT2-1)*ve,mt=4/3*(Math.SQRT2-1)*Ce;return Gb(P+ve,Q),Ad(P+ve,Q-mt,P+nt,Q-Ce,P,Q-Ce),Ad(P-nt,Q-Ce,P-ve,Q-mt,P-ve,Q),Ad(P-ve,Q+mt,P-nt,Q+Ce,P,Q+Ce),Ad(P+nt,Q+Ce,P+ve,Q+mt,P+ve,Q),f0(Be),this},h.__private__.circle=h.circle=function(P,Q,ve,Ce){if(isNaN(P)||isNaN(Q)||isNaN(ve)||!mu(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,Q,ve,ve,Ce)},h.setFont=function(P,Q,ve){return ve&&(Q=S(Q,ve)),vt=ja(P,Q,{disableWarning:!1}),this};var E3=h.__private__.getFont=h.getFont=function(){return Gt[ja.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var P,Q,ve={};for(P in ar)if(ar.hasOwnProperty(P))for(Q in ve[P]=[],ar[P])ar[P].hasOwnProperty(Q)&&ve[P].push(Q);return ve},h.addFont=function(P,Q,ve,Ce,Be){var nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&nt.indexOf(arguments[3])!==-1?Be=arguments[3]:arguments[3]&&nt.indexOf(arguments[3])==-1&&(ve=S(ve,Ce)),wr.call(this,P,Q,ve,Be=Be||"Identity-H")};var h0,Kb=e.lineWidth||.200025,T3=h.__private__.getLineWidth=h.getLineWidth=function(){return Kb},Nr=h.__private__.setLineWidth=h.setLineWidth=function(P){return Kb=P,ee(k(I(P))+" w"),this};h.__private__.setLineDash=nr.API.setLineDash=nr.API.setLineDashPattern=function(P,Q){if(P=P||[],Q=Q||0,isNaN(Q)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(ve){return k(I(ve))}).join(" "),Q=k(I(Q)),ee("["+P+"] "+Q+" d"),this};var D3=h.__private__.getLineHeight=h.getLineHeight=function(){return Qe*h0};h.__private__.getLineHeight=h.getLineHeight=function(){return Qe*h0};var M3=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(h0=P),this},O3=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return h0};M3(e.lineHeight);var pf=h.__private__.getHorizontalCoordinate=function(P){return I(P)},mf=h.__private__.getVerticalCoordinate=function(P){return N===w?P:Ft[R].mediaBox.topRightY-Ft[R].mediaBox.bottomLeftY-I(P)},P3=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(P){return k(pf(P))},R3=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(P){return k(mf(P))},Fx=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return ie(Fx)},h.__private__.setStrokeColor=h.setDrawColor=function(P,Q,ve,Ce){return Fx=le({ch1:P,ch2:Q,ch3:ve,ch4:Ce,pdfColorType:"draw",precision:2}),ee(Fx),this};var Xb=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return ie(Xb)},h.__private__.setFillColor=h.setFillColor=function(P,Q,ve,Ce){return Xb=le({ch1:P,ch2:Q,ch3:ve,ch4:Ce,pdfColorType:"fill",precision:2}),ee(Xb),this};var p0=e.textColor||"0 g",L3=h.__private__.getTextColor=h.getTextColor=function(){return ie(p0)};h.__private__.setTextColor=h.setTextColor=function(P,Q,ve,Ce){return p0=le({ch1:P,ch2:Q,ch3:ve,ch4:Ce,pdfColorType:"text",precision:3}),this};var gf=e.charSpace,I3=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(gf||0)};h.__private__.setCharSpace=h.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return gf=P,this};var Jb=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(P){var Q=h.CapJoinStyles[P];if(Q===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jb=Q,ee(Q+" J"),this};var Qb=0;h.__private__.setLineJoin=h.setLineJoin=function(P){var Q=h.CapJoinStyles[P];if(Q===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qb=Q,ee(Q+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(k(I(P))+" M"),this},h.GState=Yk,h.setGState=function(P){(P=typeof P=="string"?ct[Rt[P]]:YS(null,P)).equals(vr)||(ee("/"+P.id+" gs"),vr=P)};var YS=function(P,Q){if(!P||!Rt[P]){var ve=!1;for(var Ce in ct)if(ct.hasOwnProperty(Ce)&&ct[Ce].equals(Q)){ve=!0;break}if(ve)Q=ct[Ce];else{var Be="GS"+(Object.keys(ct).length+1).toString(10);ct[Be]=Q,Q.id=Be}return P&&(Rt[P]=Q.id),kr.publish("addGState",Q),Q}};h.addGState=function(P,Q){return YS(P,Q),this},h.saveGraphicsState=function(){return ee("q"),Ke.push({key:vt,size:Qe,color:p0}),this},h.restoreGraphicsState=function(){ee("Q");var P=Ke.pop();return vt=P.key,Qe=P.size,p0=P.color,vr=null,this},h.setCurrentTransformationMatrix=function(P){return ee(P.toString()+" cm"),this},h.comment=function(P){return ee("#"+P),this};var xf=function(P,Q){var ve=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(nt){isNaN(nt)||(ve=parseFloat(nt))}});var Ce=Q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(nt){isNaN(nt)||(Ce=parseFloat(nt))}});var Be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Be},set:function(nt){Be=nt.toString()}}),this},Zb=function(P,Q,ve,Ce){xf.call(this,P,Q),this.type="rect";var Be=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Be},set:function(mt){isNaN(mt)||(Be=parseFloat(mt))}});var nt=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return nt},set:function(mt){isNaN(mt)||(nt=parseFloat(mt))}}),this},zx=function(){this.page=ir,this.currentPage=R,this.pages=Ne.slice(0),this.pagesContext=Ft.slice(0),this.x=At,this.y=cr,this.matrix=er,this.width=t1(R),this.height=KS(R),this.outputDestination=ze,this.id="",this.objectNumber=-1};zx.prototype.restore=function(){ir=this.page,R=this.currentPage,Ft=this.pagesContext,Ne=this.pages,At=this.x,cr=this.y,er=this.matrix,GS(R,this.width),yf(R,this.height),ze=this.outputDestination};var e1=function(P,Q,ve,Ce,Be){Zt.push(new zx),ir=R=0,Ne=[],At=P,cr=Q,er=Be,pn([ve,Ce])};for(var m0 in h.beginFormObject=function(P,Q,ve,Ce,Be){return e1(P,Q,ve,Ce,Be),this},h.endFormObject=function(P){return function(Q){if(La[Q])Zt.pop().restore();else{var ve=new zx,Ce="Xo"+(Object.keys(cn).length+1).toString(10);ve.id=Ce,La[Q]=Ce,cn[Ce]=ve,kr.publish("addFormObject",ve),Zt.pop().restore()}}(P),this},h.doFormObject=function(P,Q){var ve=cn[La[P]];return ee("q"),ee(Q.toString()+" cm"),ee("/"+ve.id+" Do"),ee("Q"),this},h.getFormObject=function(P){var Q=cn[La[P]];return{x:Q.x,y:Q.y,width:Q.width,height:Q.height,matrix:Q.matrix}},h.save=function(P,Q){return P=P||"generated.pdf",(Q=Q||{}).returnPromise=Q.returnPromise||!1,Q.returnPromise===!1?(F0(Lx(pu()),P),typeof F0.unload=="function"&&gr.setTimeout&&setTimeout(F0.unload,911),this):new Promise(function(ve,Ce){try{var Be=F0(Lx(pu()),P);typeof F0.unload=="function"&&gr.setTimeout&&setTimeout(F0.unload,911),ve(Be)}catch(nt){Ce(nt.message)}})},nr.API)nr.API.hasOwnProperty(m0)&&(m0==="events"&&nr.API.events.length?function(P,Q){var ve,Ce,Be;for(Be=Q.length-1;Be!==-1;Be--)ve=Q[Be][0],Ce=Q[Be][1],P.subscribe.apply(P,[ve].concat(typeof Ce=="function"?[Ce]:Ce))}(kr,nr.API.events):h[m0]=nr.API[m0]);function t1(P){return Ft[P].mediaBox.topRightX-Ft[P].mediaBox.bottomLeftX}function GS(P,Q){Ft[P].mediaBox.topRightX=Q+Ft[P].mediaBox.bottomLeftX}function KS(P){return Ft[P].mediaBox.topRightY-Ft[P].mediaBox.bottomLeftY}function yf(P,Q){Ft[P].mediaBox.topRightY=Q+Ft[P].mediaBox.bottomLeftY}var vf=h.getPageWidth=function(P){return t1(P=P||R)/zt},XS=h.setPageWidth=function(P,Q){GS(P,Q*zt)},g0=h.getPageHeight=function(P){return KS(P=P||R)/zt},JS=h.setPageHeight=function(P,Q){yf(P,Q*zt)};return h.internal={pdfEscape:pr,getStyle:VS,getFont:E3,getFontSize:we,getCharSpace:I3,getTextColor:L3,getLineHeight:D3,getLineHeightFactor:O3,getLineWidth:T3,write:We,getHorizontalCoordinate:pf,getVerticalCoordinate:mf,getCoordinateString:P3,getVerticalCoordinateString:R3,collections:{},newObject:$e,newAdditionalObject:de,newObjectDeferred:it,newObjectDeferredBegin:K,getFilters:ke,putStream:Re,events:kr,scaleFactor:zt,pageSize:{getWidth:function(){return vf(R)},setWidth:function(P){XS(R,P)},getHeight:function(){return g0(R)},setHeight:function(P){JS(R,P)}},encryptionOptions:u,encryption:zs,getEncryptor:function(P){return u!==null?zs.encryptor(P,0):function(Q){return Q}},output:$S,getNumberOfPages:ma,get pages(){return Ne},out:ee,f2:D,f3:M,getPageInfo:hf,getPageInfoByObjId:US,getCurrentPageInfo:j3,getPDFVersion:g,Point:xf,Rectangle:Zb,Matrix:yt,hasHotfix:Pc},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return vf(R)},set:function(P){XS(R,P)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return g0(R)},set:function(P){JS(R,P)},enumerable:!0,configurable:!0}),(function(P){for(var Q=0,ve=wt.length;Q<ve;Q++){var Ce=wr.call(this,P[Q][0],P[Q][1],P[Q][2],wt[Q][3],!0);f===!1&&(p[Ce]=!0);var Be=P[Q][0].split("-");Pt({id:Ce,fontName:Be[0],fontStyle:Be[1]||""})}kr.publish("addFonts",{fonts:Gt,dictionary:ar})}).call(h,wt),vt="F1",rs(a,r),kr.publish("initialized"),h}gy.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},gy.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},gy.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},gy.prototype.processOwnerPassword=function(e,t){return C6(k6(t).substr(0,5),e)},gy.prototype.encryptor=function(e,t){var r=k6(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return C6(r,n)}},Yk.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||En(e)!==En(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},nr.API={events:[]},nr.version="3.0.4";var Ua=nr.API,DL=1,wx=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qx=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jr=function(e){return e.toFixed(2)},kp=function(e){return e.toFixed(5)};Ua.__acroform__={};var El=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},sU=function(e){return e*DL},wu=function(e){var t=new Xte,r=Wt.internal.getHeight(e)||0,n=Wt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(jr(n)),Number(jr(r))],t},ZCe=Ua.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},eAe=Ua.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},tAe=Ua.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ds=Ua.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return tAe(e,t-1)},us=Ua.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ZCe(e,t-1)},fs=Ua.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return eAe(e,t-1)},rAe=Ua.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],i=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=r(a+i)||0,c.upperRight_Y=n(s)||0,[Number(jr(c.lowerLeft_X)),Number(jr(c.lowerLeft_Y)),Number(jr(c.upperRight_X)),Number(jr(c.upperRight_Y))]},nAe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=A6(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+jr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=wu(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},A6=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(D){return D.split(`
`)}):a.map(function(D){return[D]});var s=r,i=Wt.internal.getHeight(e)||0;i=i<0?-i:i;var l=Wt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(D,M,I){if(D+1<a.length){var z=M+" "+a[D+1][0];return r5(z,e,I).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var d,u,f=r5("3",e,s).height,p=e.multiline?i-s:(i-f)/2,h=p+=2,m=0,g=0,x=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+r5(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var y="",v=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var N=!1;if(a[w].length!==1&&x!==a[w].length-1){if((f+2)*(v+2)+2>i)continue e;y+=a[w][x],N=!0,g=w,w--}else{y=(y+=a[w][x]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var C=parseInt(w),_=c(C,y,s),S=w>=a.length-1;if(_&&!S){y+=" ",x=0;continue}if(_||S){if(S)g=C;else if(e.multiline&&(f+2)*(v+2)+2>i)continue e}else{if(!e.multiline||(f+2)*(v+2)+2>i)continue e;g=C}}for(var k="",A=m;A<=g;A++){var O=a[A];if(e.multiline){if(A===g){k+=O[x]+" ",x=(x+1)%O.length;continue}if(A===m){k+=O[O.length-1]+" ";continue}}k+=O[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,u=r5(k,e,s).width,e.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;default:d=2}t+=jr(d)+" "+jr(h)+` Td
`,t+="("+wx(k)+`) Tj
`,t+=-jr(d)+` 0 Td
`,h=-(s+2),u=0,m=N?g:g+1,v++,y=""}break}return n.text=t,n.fontSize=s,n},r5=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},aAe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},sAe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},iAe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(du.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(aAe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");DL=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Jte,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&sAe(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var i in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var l=n[i],c=[],d=l.Rect;if(l.Rect&&(l.Rect=rAe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Wt.createDefaultAppearanceStream(l),En(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=nAe(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var f="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var h=l.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var i in h)if(h.hasOwnProperty(i)){var m=h[i];typeof m=="function"&&(m=m.call(a,l)),f+="/"+i+" "+m+" ",a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m)}}else typeof(m=h)=="function"&&(m=m.call(a,l)),f+="/"+i+" "+m,a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}s&&function(g,x){for(var y in g)if(g.hasOwnProperty(y)){var v=y,w=g[y];x.internal.newObjectDeferredBegin(w.objId,!0),En(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete g[v]}}(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Kte=Ua.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(i){return i};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),En(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+wx(n(e[s].toString()))+")"):a+=e[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ND=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+wx(n(e))+")"},Bu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bu.prototype.toString=function(){return this.objId+" 0 R"},Bu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Bu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:Kte(a,this.objId,this.scope)}):a instanceof Bu?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var Xte=function(){Bu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};El(Xte,Bu);var Jte=function(){Bu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+wx(r(e))+")"}},set:function(r){e=r}})};El(Jte,Bu);var du=function e(){Bu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ds(t,3)},set:function(y){y?this.F=us(t,3):this.F=fs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Gk)return;s="FieldObject"+e.FieldNum++}var y=function(v){return v};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+wx(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(y){i=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/DL:d},set:function(y){d=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Gk||this instanceof yg))return ND(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof fi==0?ND(p,this.objId,this.scope):p},set:function(y){y=y.toString(),p=this instanceof fi==0?y.substr(0,1)==="("?Qx(y.substr(1,y.length-2)):Qx(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof fi==1?Qx(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof fi==1?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof fi==0?ND(h,this.objId,this.scope):h},set:function(y){y=y.toString(),h=this instanceof fi==0?y.substr(0,1)==="("?Qx(y.substr(1,y.length-2)):Qx(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof fi==1?Qx(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof fi==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(y){y=!!y,g=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(y){m=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,1)},set:function(y){y?this.Ff=us(this.Ff,1):this.Ff=fs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,2)},set:function(y){y?this.Ff=us(this.Ff,2):this.Ff=fs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,3)},set:function(y){y?this.Ff=us(this.Ff,3):this.Ff=fs(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');x=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(x){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};El(du,Bu);var nv=function(){du.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Kte(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,i,l){l||(l=1);for(var c,d=[];c=i.exec(s);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,18)},set:function(r){r?this.Ff=us(this.Ff,18):this.Ff=fs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=us(this.Ff,19):this.Ff=fs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,20)},set:function(r){r?(this.Ff=us(this.Ff,20),t.sort()):this.Ff=fs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,22)},set:function(r){r?this.Ff=us(this.Ff,22):this.Ff=fs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,23)},set:function(r){r?this.Ff=us(this.Ff,23):this.Ff=fs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,27)},set:function(r){r?this.Ff=us(this.Ff,27):this.Ff=fs(this.Ff,27)}}),this.hasAppearanceStream=!1};El(nv,du);var av=function(){nv.call(this),this.fontName="helvetica",this.combo=!1};El(av,nv);var sv=function(){av.call(this),this.combo=!0};El(sv,av);var T_=function(){sv.call(this),this.edit=!0};El(T_,sv);var fi=function(){du.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,15)},set:function(r){r?this.Ff=us(this.Ff,15):this.Ff=fs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,16)},set:function(r){r?this.Ff=us(this.Ff,16):this.Ff=fs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,17)},set:function(r){r?this.Ff=us(this.Ff,17):this.Ff=fs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,26)},set:function(r){r?this.Ff=us(this.Ff,26):this.Ff=fs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+wx(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){En(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};El(fi,du);var D_=function(){fi.call(this),this.pushButton=!0};El(D_,fi);var iv=function(){fi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};El(iv,fi);var Gk=function(){var e,t;du.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,i=[];for(s in i.push("<<"),n)i.push("/"+s+" ("+wx(a(n[s]))+")");return i.push(">>"),i.join(`
`)},set:function(a){En(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};El(Gk,du),iv.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},iv.prototype.createOption=function(e){var t=new Gk;return t.Parent=this,t.optionName=e,this.Kids.push(t),oAe.call(this.scope,t),t};var M_=function(){fi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Wt.CheckBox.createAppearanceStream()};El(M_,fi);var yg=function(){du.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,13)},set:function(t){t?this.Ff=us(this.Ff,13):this.Ff=fs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,21)},set:function(t){t?this.Ff=us(this.Ff,21):this.Ff=fs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,23)},set:function(t){t?this.Ff=us(this.Ff,23):this.Ff=fs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,24)},set:function(t){t?this.Ff=us(this.Ff,24):this.Ff=fs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,25)},set:function(t){t?this.Ff=us(this.Ff,25):this.Ff=fs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,26)},set:function(t){t?this.Ff=us(this.Ff,26):this.Ff=fs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};El(yg,du);var O_=function(){yg.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,14)},set:function(e){e?this.Ff=us(this.Ff,14):this.Ff=fs(this.Ff,14)}}),this.password=!0};El(O_,yg);var Wt={CheckBox:{createAppearanceStream:function(){return{N:{On:Wt.CheckBox.YesNormal},D:{On:Wt.CheckBox.YesPushDown,Off:Wt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=wu(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=A6(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+jr(Wt.internal.getWidth(e))+" "+jr(Wt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+jr(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=wu(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=Wt.internal.getHeight(e),i=Wt.internal.getWidth(e),l=A6(e,e.caption);return a.push("1 g"),a.push("0 0 "+jr(i)+" "+jr(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+jr(i-1)+" "+jr(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+jr(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=wu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jr(Wt.internal.getWidth(e))+" "+jr(Wt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Wt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Wt.RadioButton.Circle.YesNormal,t.D[e]=Wt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=wu(e);t.scope=e.scope;var r=[],n=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Wt.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+kp(Wt.internal.getWidth(e)/2)+" "+kp(Wt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=wu(e);t.scope=e.scope;var r=[],n=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*Wt.internal.Bezier_C).toFixed(5)),i=Number((n*Wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+kp(Wt.internal.getWidth(e)/2)+" "+kp(Wt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+kp(Wt.internal.getWidth(e)/2)+" "+kp(Wt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=wu(e);t.scope=e.scope;var r=[],n=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*Wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+kp(Wt.internal.getWidth(e)/2)+" "+kp(Wt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Wt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Wt.RadioButton.Cross.YesNormal,t.D[e]=Wt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=wu(e);t.scope=e.scope;var r=[],n=Wt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+jr(Wt.internal.getWidth(e)-2)+" "+jr(Wt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(jr(n.x1.x)+" "+jr(n.x1.y)+" m"),r.push(jr(n.x2.x)+" "+jr(n.x2.y)+" l"),r.push(jr(n.x4.x)+" "+jr(n.x4.y)+" m"),r.push(jr(n.x3.x)+" "+jr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=wu(e);t.scope=e.scope;var r=Wt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+jr(Wt.internal.getWidth(e))+" "+jr(Wt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+jr(Wt.internal.getWidth(e)-2)+" "+jr(Wt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(jr(r.x1.x)+" "+jr(r.x1.y)+" m"),n.push(jr(r.x2.x)+" "+jr(r.x2.y)+" l"),n.push(jr(r.x4.x)+" "+jr(r.x4.y)+" m"),n.push(jr(r.x3.x)+" "+jr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=wu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jr(Wt.internal.getWidth(e))+" "+jr(Wt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Wt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Wt.internal.getWidth(e),r=Wt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Wt.internal.getWidth=function(e){var t=0;return En(e)==="object"&&(t=sU(e.Rect[2])),t},Wt.internal.getHeight=function(e){var t=0;return En(e)==="object"&&(t=sU(e.Rect[3])),t};var oAe=Ua.addField=function(e){if(iAe(this,e),!(e instanceof du))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ua.AcroFormChoiceField=nv,Ua.AcroFormListBox=av,Ua.AcroFormComboBox=sv,Ua.AcroFormEditBox=T_,Ua.AcroFormButton=fi,Ua.AcroFormPushButton=D_,Ua.AcroFormRadioButton=iv,Ua.AcroFormCheckBox=M_,Ua.AcroFormTextField=yg,Ua.AcroFormPasswordField=O_,Ua.AcroFormAppearance=Wt,Ua.AcroForm={ChoiceField:nv,ListBox:av,ComboBox:sv,EditBox:T_,Button:fi,PushButton:D_,RadioButton:iv,CheckBox:M_,TextField:yg,PasswordField:O_,Appearance:Wt},nr.AcroForm={ChoiceField:nv,ListBox:av,ComboBox:sv,EditBox:T_,Button:fi,PushButton:D_,RadioButton:iv,CheckBox:M_,TextField:yg,PasswordField:O_,Appearance:Wt};nr.AcroForm;function Qte(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(D,M){var I,z,Y,X,V,G=r;if((M=M||r)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(_(D))for(V in n)for(Y=n[V],I=0;I<Y.length;I+=1){for(X=!0,z=0;z<Y[I].length;z+=1)if(Y[I][z]!==void 0&&Y[I][z]!==D[z]){X=!1;break}if(X===!0){G=V;break}}else for(V in n)for(Y=n[V],I=0;I<Y.length;I+=1){for(X=!0,z=0;z<Y[I].length;z+=1)if(Y[I][z]!==void 0&&Y[I][z]!==D.charCodeAt(z)){X=!1;break}if(X===!0){G=V;break}}return G===r&&M!==r&&(G=M),G},s=function D(M){for(var I=this.internal.write,z=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:M.width}),X.push({key:"Height",value:M.height}),M.colorSpace===y.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===y.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var V="",G=0,J=M.transparency.length;G<J;G++)V+=M.transparency[G]+" "+M.transparency[G]+" ";X.push({key:"Mask",value:"["+V+"]"})}M.sMask!==void 0&&X.push({key:"SMask",value:M.objectId+1+" 0 R"});var B=M.filter!==void 0?["/"+M.filter]:void 0;if(z({data:M.data,additionalKeyValues:X,alreadyAppliedFilters:B,objectId:M.objectId}),I("endobj"),"sMask"in M&&M.sMask!==void 0){var q,T=(q=M.sMaskBitsPerComponent)!==null&&q!==void 0?q:M.bitsPerComponent,R={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:M.sMask};"filter"in M&&(R.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(M.width),R.filter=M.filter),D.call(this,R)}if(M.colorSpace===y.INDEXED){var F=this.internal.newObject();z({data:k(new Uint8Array(M.palette)),objectId:F}),I("endobj")}},i=function(){var D=this.internal.collections[t+"images"];for(var M in D)s.call(this,D[M])},l=function(){var D,M=this.internal.collections[t+"images"],I=this.internal.write;for(var z in M)I("/I"+(D=M[z]).index,D.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var D=this.internal.collections[t+"images"];return c.call(this),D},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(D){return typeof e["process"+D.toUpperCase()]=="function"},p=function(D){return En(D)==="object"&&D.nodeType===1},h=function(D,M){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var I=""+D.getAttribute("src");if(I.indexOf("data:image/")===0)return E_(unescape(I).split("base64,").pop());var z=e.loadFile(I,!0);if(z!==void 0)return z}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var Y;switch(M){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return E_(D.toDataURL(Y,1).split("base64,").pop())}},m=function(D){var M=this.internal.collections[t+"images"];if(M){for(var I in M)if(D===M[I].alias)return M[I]}},g=function(D,M,I){return D||M||(D=-96,M=-96),D<0&&(D=-1*I.width*72/D/this.internal.scaleFactor),M<0&&(M=-1*I.height*72/M/this.internal.scaleFactor),D===0&&(D=M*I.width/I.height),M===0&&(M=D*I.height/I.width),[D,M]},x=function(D,M,I,z,Y,X){var V=g.call(this,I,z,Y),G=this.internal.getCoordinateString,J=this.internal.getVerticalCoordinateString,B=d.call(this);if(I=V[0],z=V[1],B[Y.index]=Y,X){X*=Math.PI/180;var q=Math.cos(X),T=Math.sin(X),R=function(H){return H.toFixed(4)},F=[R(q),R(T),R(-1*T),R(q),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,G(D),J(M+z),"cm"].join(" ")),this.internal.write(F.join(" ")),this.internal.write([G(I),"0","0",G(z),"0","0","cm"].join(" "))):this.internal.write([G(I),"0","0",G(z),G(D),J(M+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(D){var M,I,z=0;if(typeof D=="string")for(I=D.length,M=0;M<I;M++)z=(z<<5)-z+D.charCodeAt(M),z|=0;else if(_(D))for(I=D.byteLength/2,M=0;M<I;M++)z=(z<<5)-z+D[M],z|=0;return z},N=e.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var M=!0;return D.length===0&&(M=!1),D.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(M=!1),M},C=e.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var M=D.indexOf(",");return M<0?null:D.substring(0,M).trim().endsWith("base64")?D.substring(M+1):null};e.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var _=e.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},S=e.__addimage__.binaryStringToUint8Array=function(D){for(var M=D.length,I=new Uint8Array(M),z=0;z<M;z++)I[z]=D.charCodeAt(z);return I},k=e.__addimage__.arrayBufferToBinaryString=function(D){for(var M="",I=_(D)?D:new Uint8Array(D),z=0;z<I.length;z+=8192)M+=String.fromCharCode.apply(null,I.subarray(z,z+8192));return M};e.addImage=function(){var D,M,I,z,Y,X,V,G,J;if(typeof arguments[1]=="number"?(M=r,I=arguments[1],z=arguments[2],Y=arguments[3],X=arguments[4],V=arguments[5],G=arguments[6],J=arguments[7]):(M=arguments[1],I=arguments[2],z=arguments[3],Y=arguments[4],X=arguments[5],V=arguments[6],G=arguments[7],J=arguments[8]),En(D=arguments[0])==="object"&&!p(D)&&"imageData"in D){var B=D;D=B.imageData,M=B.format||M||r,I=B.x||I||0,z=B.y||z||0,Y=B.w||B.width||Y,X=B.h||B.height||X,V=B.alias||V,G=B.compression||G,J=B.rotation||B.angle||J}var q=this.internal.getFilters();if(G===void 0&&q.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(I)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var T=A.call(this,D,M,V,G);return x.call(this,I,z,Y,X,T,J),this};var A=function(D,M,I,z){var Y,X,V;if(typeof D=="string"&&a(D)===r){D=unescape(D);var G=O(D,!1);(G!==""||(G=e.loadFile(D,!0))!==void 0)&&(D=G)}if(p(D)&&(D=h(D,M)),M=a(D,M),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((V=I)==null||V.length===0)&&(I=function(J){return typeof J=="string"||_(J)?w(J):_(J.data)?w(J.data):null}(D)),(Y=m.call(this,I))||(D instanceof Uint8Array||M==="RGBA"||(X=D,D=S(D)),Y=this["process"+M.toUpperCase()](D,u.call(this),I,function(J){return J&&typeof J=="string"&&(J=J.toUpperCase()),J in e.image_compression?J:v.NONE}(z),X)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},O=e.__addimage__.convertBase64ToBinaryString=function(D,M){M=typeof M!="boolean"||M;var I,z="";if(typeof D=="string"){var Y;I=(Y=C(D))!==null&&Y!==void 0?Y:D;try{z=E_(I)}catch(X){if(M)throw N(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};e.getImageProperties=function(D){var M,I,z="";if(p(D)&&(D=h(D)),typeof D=="string"&&a(D)===r&&((z=O(D,!1))===""&&(z=e.loadFile(D)||""),D=z),I=a(D),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(D instanceof Uint8Array||(D=S(D)),!(M=this["process"+I.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=I,M}})(nr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};nr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,s,i=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,f=0;f<d.length&&!u;f++)switch((n=d[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<d.length;p++){n=d[p];var h=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(g.objId),v=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+h(y(n.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+h(y(v))+") >>",g.content=s;var w=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(g.objId,"0 R",x.objId,"0 R");break;case"freetext":a="/Rect ["+i(n.bounds.x)+" "+l(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var N=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(m(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var C=this.annotations._nameMap[n.options.name];n.options.pageNumber=C.page,n.options.top=C.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var _=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+_+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,s,i){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+a),h:d(n+s)},options:i,type:"link"})},e.textWithLink=function(r,n,a,s){var i,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var u=this.splitTextToSize(r,l).length;i=Math.ceil(d*u)}else l=c,i=d;return this.text(r,n,a,s),a+=.2*d,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-d,l,i,s),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(nr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},i=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return i(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return i(g)&&s(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var x=0,y=r,v="",w=0;for(x=0;x<g.length;x+=1)y[g.charCodeAt(x)]!==void 0?(w++,typeof(y=y[g.charCodeAt(x)])=="number"&&(v+=String.fromCharCode(y),y=r,w=0),x===g.length-1&&(y=r,v+=g.charAt(x-(w-1)),x-=w-1,w=0)):(y=r,v+=g.charAt(x-w),x-=w,w=0);return v};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,x,y){return i(g)?s(g)===!1?-1:!d(g)||!i(x)&&!i(y)||!i(y)&&l(x)||l(g)&&!i(x)||l(g)&&c(x)||l(g)&&l(x)?0:u(g)&&i(x)&&!l(x)&&i(y)&&d(y)?3:l(g)||!i(y)?1:2:-1},h=function(g){var x=0,y=0,v=0,w="",N="",C="",_=(g=g||"").split("\\s+"),S=[];for(x=0;x<_.length;x+=1){for(S.push(""),y=0;y<_[x].length;y+=1)w=_[x][y],N=_[x][y-1],C=_[x][y+1],i(w)?(v=p(w,N,C),S[x]+=v!==-1?String.fromCharCode(t[w.charCodeAt(0)][v]):w):S[x]+=w;S[x]=f(S[x])}return S.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var g,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(x)){var v=0;for(y=[],v=0;v<x.length;v+=1)Array.isArray(x[v])?y.push([h(x[v][0]),x[v][1],x[v][2]]):y.push([h(x[v])]);g=y}else g=h(x);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",m])}(nr.API),nr.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(l){i=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(nr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),f=d.font||this.getFont(),p=d.scaleFactor||this.internal.scaleFactor,h=0,m=0,g=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=d.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,N){return w.concat(x.splitTextToSize(N,y))},[])):c=Array.isArray(c)?c:[c];for(var v=0;v<c.length;v++)h<(g=this.getStringUnitWidth(c[v],{font:f})*u)&&(h=g);return h!==0&&(m=c.length),{w:h/=p,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,f,p){if(n.call(this),!u)throw new Error("No data for PDF table.");var h,m,g,x,y=[],v=[],w=[],N={},C={},_=[],S=[],k=(p=p||{}).autoSize||!1,A=p.printHeaders!==!1,O=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,D=p.margins||Object.assign({width:this.getPageWidth()},t),M=typeof p.padding=="number"?p.padding:3,I=p.headerBackgroundColor||"#c8c8c8",z=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=A,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=z,this.setFontSize(O),f==null)v=y=Object.keys(u[0]),w=y.map(function(){return"left"});else if(Array.isArray(f)&&En(f[0])==="object")for(y=f.map(function(B){return B.name}),v=f.map(function(B){return B.prompt||B.name||""}),w=f.map(function(B){return B.align||"left"}),h=0;h<f.length;h+=1)C[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(v=y=f,w=y.map(function(){return"left"}));if(k||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<y.length;h+=1){for(N[x=y[h]]=u.map(function(B){return B[x]}),this.setFont(void 0,"bold"),_.push(this.getTextDimensions(v[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=N[x],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)_.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[x]=Math.max.apply(null,_)+M+M,_=[]}if(A){var Y={};for(h=0;h<y.length;h+=1)Y[y[h]]={},Y[y[h]].text=v[h],Y[y[h]].align=w[h];var X=l.call(this,Y,C);S=y.map(function(B){return new s(c,d,C[B],X,Y[B].text,void 0,Y[B].align)}),this.setTableHeaderRow(S),this.printHeaderRow(1,!1)}var V=f.reduce(function(B,q){return B[q.name]=q.align,B},{});for(h=0;h<u.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:u[h]},this);var G=l.call(this,u[h],C);for(g=0;g<y.length;g+=1){var J=u[h][y[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:g,data:J},this),i.call(this,new s(c,d,C[y[g]],G,J,h+2,V[y[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(h){var m=c[h];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,d[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+u+u},this).reduce(function(h,m){return Math.max(h,m)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=c;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,u),this.setTextColor(m)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(nr.API);var Zte={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ere=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],E6=Qte(ere),tre=[100,200,300,400,500,600,700,800,900],lAe=Qte(tre);function SD(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return Zte[s=s||"normal"]?s:"normal"}(e.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),a=function(s){return typeof E6[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function iU(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var cAe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},oU={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function lU(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function cU(e){return e.trimLeft()}function dAe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function uAe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var n5,dU,uU,Zx,a5,fU,hU,pU,jD=["times"];function mU(e,t,r,n,a){var s=4,i=xU;switch(a){case nr.API.image_compression.FAST:s=1,i=gU;break;case nr.API.image_compression.MEDIUM:s=6,i=yU;break;case nr.API.image_compression.SLOW:s=9,i=vU}e=function(c,d,u,f){for(var p,h=c.length/d,m=new Uint8Array(c.length+h),g=[fAe,gU,xU,yU,vU],x=0;x<h;x+=1){var y=x*d,v=c.subarray(y,y+d);if(f)m.set(f(v,u,p),y+x);else{for(var w=g.length,N=[],C=0;C<w;C+=1)N[C]=g[C](v,u,p);var _=pAe(N.concat());m.set(N[_],y+x)}p=v}return m}(e,t,Math.ceil(r*n/8),i);var l=N6(e,{level:s});return nr.API.__addimage__.arrayBufferToBinaryString(l)}function fAe(e){var t=Array.apply([],e);return t.unshift(0),t}function gU(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var s=e[a-t]||0;n[a+1]=e[a]-s+256&255}return n}function xU(e,t,r){var n=e.length,a=[];a[0]=2;for(var s=0;s<n;s+=1){var i=r&&r[s]||0;a[s+1]=e[s]-i+256&255}return a}function yU(e,t,r){var n=e.length,a=[];a[0]=3;for(var s=0;s<n;s+=1){var i=e[s-t]||0,l=r&&r[s]||0;a[s+1]=e[s]+256-(i+l>>>1)&255}return a}function vU(e,t,r){var n=e.length,a=[];a[0]=4;for(var s=0;s<n;s+=1){var i=hAe(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);a[s+1]=e[s]-i+256&255}return a}function hAe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),s=Math.abs(e+t-r-r);return n<=a&&n<=s?e:a<=s?t:r}function pAe(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function _D(e,t,r){var n=t*r,a=Math.floor(n/8),s=16-(n-8*a+r),i=(1<<r)-1;return rre(e,a)>>s&i}function bU(e,t,r,n){var a=r*n,s=Math.floor(a/8),i=16-(a-8*s+n),l=(1<<n)-1,c=(t&l)<<i;(function(d,u,f){if(u+1<d.byteLength)d.setUint16(u,f,!1);else{var p=f>>8&255;d.setUint8(u,p)}})(e,s,rre(e,s)&~(l<<i)&65535|c)}function rre(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function mAe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,i=1<<1+(7&a);e[t++],e[t++];var l=null,c=null;s&&(l=t,c=i,t+=3*i);var d=!0,u=[],f=0,p=null,h=0,m=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],1&g||(p=null),h=g>>2&7,t++;break;case 254:for(;;){if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,N=e[t++],C=N>>6&1,_=1<<1+(7&N),S=l,k=c,A=!1;N>>7&&(A=!0,S=t,k=_,t+=3*_);var O=t;for(t++;;){var D;if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}u.push({x,y,width:v,height:w,has_local_palette:A,palette_offset:S,palette_size:k,data_offset:O,data_length:t-O,transparent_index:p,interlaced:!!C,delay:f,disposal:h});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(M){if(M<0||M>=u.length)throw new Error("Frame index out of range.");return u[M]},this.decodeAndBlitFrameBGRA=function(M,I){var z=this.frameInfo(M),Y=z.width*z.height,X=new Uint8Array(Y);wU(e,z.data_offset,X,Y);var V=z.palette_offset,G=z.transparent_index;G===null&&(G=256);var J=z.width,B=r-J,q=J,T=4*(z.y*r+z.x),R=4*((z.y+z.height)*r+z.x),F=T,H=4*B;z.interlaced===!0&&(H+=4*r*7);for(var W=8,te=0,pe=X.length;te<pe;++te){var se=X[te];if(q===0&&(q=J,(F+=H)>=R&&(H=4*B+4*r*(W-1),F=T+(J+B)*(W<<1),W>>=1)),se===G)F+=4;else{var ce=e[V+3*se],Ne=e[V+3*se+1],he=e[V+3*se+2];I[F++]=he,I[F++]=Ne,I[F++]=ce,I[F++]=255}--q}},this.decodeAndBlitFrameRGBA=function(M,I){var z=this.frameInfo(M),Y=z.width*z.height,X=new Uint8Array(Y);wU(e,z.data_offset,X,Y);var V=z.palette_offset,G=z.transparent_index;G===null&&(G=256);var J=z.width,B=r-J,q=J,T=4*(z.y*r+z.x),R=4*((z.y+z.height)*r+z.x),F=T,H=4*B;z.interlaced===!0&&(H+=4*r*7);for(var W=8,te=0,pe=X.length;te<pe;++te){var se=X[te];if(q===0&&(q=J,(F+=H)>=R&&(H=4*B+4*r*(W-1),F=T+(J+B)*(W<<1),W>>=1)),se===G)F+=4;else{var ce=e[V+3*se],Ne=e[V+3*se+1],he=e[V+3*se+2];I[F++]=ce,I[F++]=Ne,I[F++]=he,I[F++]=255}--q}}}function wU(e,t,r,n){for(var a=e[t++],s=1<<a,i=s+1,l=i+1,c=a+1,d=(1<<c)-1,u=0,f=0,p=0,h=e[t++],m=new Int32Array(4096),g=null;;){for(;u<16&&h!==0;)f|=e[t++]<<u,u+=8,h===1?h=e[t++]:--h;if(u<c)break;var x=f&d;if(f>>=c,u-=c,x!==s){if(x===i)break;for(var y=x<l?x:g,v=0,w=y;w>s;)w=m[w]>>8,++v;var N=w;if(p+v+(y!==x?1:0)>n)return void Hn.log("Warning, gif stream longer than expected.");r[p++]=N;var C=p+=v;for(y!==x&&(r[p++]=N),w=y;v--;)w=m[w],r[--C]=255&w,w>>=8;g!==null&&l<4096&&(m[l++]=g<<8|N,l>=d+1&&c<12&&(++c,d=d<<1|1)),g=x}else l=i+1,d=(1<<(c=a+1))-1,g=null}return p!==n&&Hn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function kD(e){var t,r,n,a,s,i=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),m=new Array(64),g=[],x=0,y=7,v=new Array(64),w=new Array(64),N=new Array(64),C=new Array(256),_=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(T,R){for(var F=0,H=0,W=new Array,te=1;te<=16;te++){for(var pe=1;pe<=T[te];pe++)W[R[H]]=[],W[R[H]][0]=F,W[R[H]][1]=te,H++,F++;F*=2}return W}function V(T){for(var R=T[0],F=T[1]-1;F>=0;)R&1<<F&&(x|=1<<y),F--,--y<0&&(x==255?(G(255),G(0)):G(x),y=7,x=0)}function G(T){g.push(T)}function J(T){G(T>>8&255),G(255&T)}function B(T,R,F,H,W){for(var te,pe=W[0],se=W[240],ce=function(Qe,me){var we,Me,Ge,Xe,Ve,st,Nt,_t,vt,zt,At=0;for(vt=0;vt<8;++vt){we=Qe[At],Me=Qe[At+1],Ge=Qe[At+2],Xe=Qe[At+3],Ve=Qe[At+4],st=Qe[At+5],Nt=Qe[At+6];var cr=we+(_t=Qe[At+7]),er=we-_t,Gt=Me+Nt,ar=Me-Nt,Ke=Ge+st,lt=Ge-st,It=Xe+Ve,ct=Xe-Ve,Rt=cr+It,vr=cr-It,ir=Gt+Ke,Ft=Gt-Ke;Qe[At]=Rt+ir,Qe[At+4]=Rt-ir;var kr=.707106781*(Ft+vr);Qe[At+2]=vr+kr,Qe[At+6]=vr-kr;var si=.382683433*((Rt=ct+lt)-(Ft=ar+er)),cn=.5411961*Rt+si,La=1.306562965*Ft+si,Zt=.707106781*(ir=lt+ar),yt=er+Zt,br=er-Zt;Qe[At+5]=br+cn,Qe[At+3]=br-cn,Qe[At+1]=yt+La,Qe[At+7]=yt-La,At+=8}for(At=0,vt=0;vt<8;++vt){we=Qe[At],Me=Qe[At+8],Ge=Qe[At+16],Xe=Qe[At+24],Ve=Qe[At+32],st=Qe[At+40],Nt=Qe[At+48];var ge=we+(_t=Qe[At+56]),_e=we-_t,Ae=Me+Nt,$e=Me-Nt,it=Ge+st,K=Ge-st,de=Xe+Ve,re=Xe-Ve,ne=ge+de,ie=ge-de,le=Ae+it,ke=Ae-it;Qe[At]=ne+le,Qe[At+32]=ne-le;var Re=.707106781*(ke+ie);Qe[At+16]=ie+Re,Qe[At+48]=ie-Re;var Le=.382683433*((ne=re+K)-(ke=$e+_e)),De=.5411961*ne+Le,Ee=1.306562965*ke+Le,Je=.707106781*(le=K+$e),ut=_e+Je,Ct=_e-Je;Qe[At+40]=Ct+De,Qe[At+24]=Ct-De,Qe[At+8]=ut+Ee,Qe[At+56]=ut-Ee,At++}for(vt=0;vt<64;++vt)zt=Qe[vt]*me[vt],h[vt]=zt>0?zt+.5|0:zt-.5|0;return h}(T,R),Ne=0;Ne<64;++Ne)m[S[Ne]]=ce[Ne];var he=m[0]-F;F=m[0],he==0?V(H[0]):(V(H[p[te=32767+he]]),V(f[te]));for(var ze=63;ze>0&&m[ze]==0;)ze--;if(ze==0)return V(pe),F;for(var Pe,ee=1;ee<=ze;){for(var We=ee;m[ee]==0&&ee<=ze;)++ee;var be=ee-We;if(be>=16){Pe=be>>4;for(var wt=1;wt<=Pe;++wt)V(se);be&=15}te=32767+m[ee],V(W[(be<<4)+p[te]]),V(f[te]),ee++}return ze!=63&&V(pe),F}function q(T){T=Math.min(Math.max(T,1),100),s!=T&&(function(R){for(var F=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],H=0;H<64;H++){var W=i((F[H]*R+50)/100);W=Math.min(Math.max(W,1),255),l[S[H]]=W}for(var te=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var se=i((te[pe]*R+50)/100);se=Math.min(Math.max(se,1),255),c[S[pe]]=se}for(var ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,he=0;he<8;he++)for(var ze=0;ze<8;ze++)d[Ne]=1/(l[S[Ne]]*ce[he]*ce[ze]*8),u[Ne]=1/(c[S[Ne]]*ce[he]*ce[ze]*8),Ne++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),s=T)}this.encode=function(T,R){R&&q(R),g=new Array,x=0,y=7,J(65496),J(65504),J(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),J(1),J(1),G(0),G(0),function(){J(65499),J(132),G(0);for(var Me=0;Me<64;Me++)G(l[Me]);G(1);for(var Ge=0;Ge<64;Ge++)G(c[Ge])}(),function(Me,Ge){J(65472),J(17),G(8),J(Ge),J(Me),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)}(T.width,T.height),function(){J(65476),J(418),G(0);for(var Me=0;Me<16;Me++)G(k[Me+1]);for(var Ge=0;Ge<=11;Ge++)G(A[Ge]);G(16);for(var Xe=0;Xe<16;Xe++)G(O[Xe+1]);for(var Ve=0;Ve<=161;Ve++)G(D[Ve]);G(1);for(var st=0;st<16;st++)G(M[st+1]);for(var Nt=0;Nt<=11;Nt++)G(I[Nt]);G(17);for(var _t=0;_t<16;_t++)G(z[_t+1]);for(var vt=0;vt<=161;vt++)G(Y[vt])}(),J(65498),J(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var F=0,H=0,W=0;x=0,y=7,this.encode.displayName="_encode_";for(var te,pe,se,ce,Ne,he,ze,Pe,ee,We=T.data,be=T.width,wt=T.height,Qe=4*be,me=0;me<wt;){for(te=0;te<Qe;){for(Ne=Qe*me+te,ze=-1,Pe=0,ee=0;ee<64;ee++)he=Ne+(Pe=ee>>3)*Qe+(ze=4*(7&ee)),me+Pe>=wt&&(he-=Qe*(me+1+Pe-wt)),te+ze>=Qe&&(he-=te+ze-Qe+4),pe=We[he++],se=We[he++],ce=We[he++],v[ee]=(_[pe]+_[se+256|0]+_[ce+512|0]>>16)-128,w[ee]=(_[pe+768|0]+_[se+1024|0]+_[ce+1280|0]>>16)-128,N[ee]=(_[pe+1280|0]+_[se+1536|0]+_[ce+1792|0]>>16)-128;F=B(v,d,F,t,n),H=B(w,u,H,r,a),W=B(N,u,W,r,a),te+=32}me+=8}if(y>=0){var we=[];we[1]=y+1,we[0]=(1<<y+1)-1,V(we)}return J(65497),new Uint8Array(g)},e=e||50,function(){for(var T=String.fromCharCode,R=0;R<256;R++)C[R]=T(R)}(),t=X(k,A),r=X(M,I),n=X(O,D),a=X(z,Y),function(){for(var T=1,R=2,F=1;F<=15;F++){for(var H=T;H<R;H++)p[32767+H]=F,f[32767+H]=[],f[32767+H][1]=F,f[32767+H][0]=H;for(var W=-(R-1);W<=-T;W++)p[32767+W]=F,f[32767+W]=[],f[32767+W][1]=F,f[32767+W][0]=R-1+W;T<<=1,R<<=1}}(),function(){for(var T=0;T<256;T++)_[T]=19595*T,_[T+256|0]=38470*T,_[T+512|0]=7471*T+32768,_[T+768|0]=-11059*T,_[T+1024|0]=-21709*T,_[T+1280|0]=32768*T+8421375,_[T+1536|0]=-27439*T,_[T+1792|0]=-5329*T}(),q(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Pd(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function NU(e){function t(A){if(!A)throw Error("assert :P")}function r(A,O,D){for(var M=0;4>M;M++)if(A[O+M]!=D.charCodeAt(M))return!0;return!1}function n(A,O,D,M,I){for(var z=0;z<I;z++)A[O+z]=D[M+z]}function a(A,O,D,M){for(var I=0;I<M;I++)A[O+I]=D}function s(A){return new Int32Array(A)}function i(A,O){for(var D=[],M=0;M<A;M++)D.push(new O);return D}function l(A,O){var D=[];return function M(I,z,Y){for(var X=Y[z],V=0;V<X&&(I.push(Y.length>z+1?[]:new O),!(Y.length<z+1));V++)M(I[V],z+1,Y)}(D,0,A),D}var c=function(){var A=this;function O(j,E){for(var L=1<<E-1>>>0;j&L;)L>>>=1;return L?(j&L-1)+L:j}function D(j,E,L,U,Z){t(!(U%L));do j[E+(U-=L)]=Z;while(0<U)}function M(j,E,L,U,Z){if(t(2328>=Z),512>=Z)var ae=s(512);else if((ae=s(Z))==null)return 0;return function(oe,ue,fe,xe,Te,qe){var ye,Ie,He=ue,tt=1<<fe,Ue=s(16),rt=s(16);for(t(Te!=0),t(xe!=null),t(oe!=null),t(0<fe),Ie=0;Ie<Te;++Ie){if(15<xe[Ie])return 0;++Ue[xe[Ie]]}if(Ue[0]==Te)return 0;for(rt[1]=0,ye=1;15>ye;++ye){if(Ue[ye]>1<<ye)return 0;rt[ye+1]=rt[ye]+Ue[ye]}for(Ie=0;Ie<Te;++Ie)ye=xe[Ie],0<xe[Ie]&&(qe[rt[ye]++]=Ie);if(rt[15]==1)return(xe=new I).g=0,xe.value=qe[0],D(oe,He,1,tt,xe),tt;var at,jt=-1,gt=tt-1,rr=0,Ht=1,Mr=1,Xt=1<<fe;for(Ie=0,ye=1,Te=2;ye<=fe;++ye,Te<<=1){if(Ht+=Mr<<=1,0>(Mr-=Ue[ye]))return 0;for(;0<Ue[ye];--Ue[ye])(xe=new I).g=ye,xe.value=qe[Ie++],D(oe,He+rr,Te,Xt,xe),rr=O(rr,ye)}for(ye=fe+1,Te=2;15>=ye;++ye,Te<<=1){if(Ht+=Mr<<=1,0>(Mr-=Ue[ye]))return 0;for(;0<Ue[ye];--Ue[ye]){if(xe=new I,(rr&gt)!=jt){for(He+=Xt,at=1<<(jt=ye)-fe;15>jt&&!(0>=(at-=Ue[jt]));)++jt,at<<=1;tt+=Xt=1<<(at=jt-fe),oe[ue+(jt=rr&gt)].g=at+fe,oe[ue+jt].value=He-ue-jt}xe.g=ye-fe,xe.value=qe[Ie++],D(oe,He+(rr>>fe),Te,Xt,xe),rr=O(rr,ye)}}return Ht!=2*rt[15]-1?0:tt}(j,E,L,U,Z,ae)}function I(){this.value=this.g=0}function z(){this.value=this.g=0}function Y(){this.G=i(5,I),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(N0,z)}function X(j,E,L,U){t(j!=null),t(E!=null),t(2147483648>U),j.Ca=254,j.I=0,j.b=-8,j.Ka=0,j.oa=E,j.pa=L,j.Jd=E,j.Yc=L+U,j.Zc=4<=U?L+U-4+1:L,pe(j)}function V(j,E){for(var L=0;0<E--;)L|=ce(j,128)<<E;return L}function G(j,E){var L=V(j,E);return se(j)?-L:L}function J(j,E,L,U){var Z,ae=0;for(t(j!=null),t(E!=null),t(4294967288>U),j.Sb=U,j.Ra=0,j.u=0,j.h=0,4<U&&(U=4),Z=0;Z<U;++Z)ae+=E[L+Z]<<8*Z;j.Ra=ae,j.bb=U,j.oa=E,j.pa=L}function B(j){for(;8<=j.u&&j.bb<j.Sb;)j.Ra>>>=8,j.Ra+=j.oa[j.pa+j.bb]<<dp-8>>>0,++j.bb,j.u-=8;H(j)&&(j.h=1,j.u=0)}function q(j,E){if(t(0<=E),!j.h&&E<=Rl){var L=F(j)&Pl[E];return j.u+=E,B(j),L}return j.h=1,j.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function F(j){return j.Ra>>>(j.u&dp-1)>>>0}function H(j){return t(j.bb<=j.Sb),j.h||j.bb==j.Sb&&j.u>dp}function W(j,E){j.u=E,j.h=H(j)}function te(j){j.u>=Sf&&(t(j.u>=Sf),B(j))}function pe(j){t(j!=null&&j.oa!=null),j.pa<j.Zc?(j.I=(j.oa[j.pa++]|j.I<<8)>>>0,j.b+=8):(t(j!=null&&j.oa!=null),j.pa<j.Yc?(j.b+=8,j.I=j.oa[j.pa++]|j.I<<8):j.Ka?j.b=0:(j.I<<=8,j.b+=8,j.Ka=1))}function se(j){return V(j,1)}function ce(j,E){var L=j.Ca;0>j.b&&pe(j);var U=j.b,Z=L*E>>>8,ae=(j.I>>>U>Z)+0;for(ae?(L-=Z,j.I-=Z+1<<U>>>0):L=Z+1,U=L,Z=0;256<=U;)Z+=8,U>>=8;return U=7^Z+up[U],j.b-=U,j.Ca=(L<<U)-1,ae}function Ne(j,E,L){j[E+0]=L>>24&255,j[E+1]=L>>16&255,j[E+2]=L>>8&255,j[E+3]=255&L}function he(j,E){return j[E+0]|j[E+1]<<8}function ze(j,E){return he(j,E)|j[E+2]<<16}function Pe(j,E){return he(j,E)|he(j,E+2)<<16}function ee(j,E){var L=1<<E;return t(j!=null),t(0<E),j.X=s(L),j.X==null?0:(j.Mb=32-E,j.Xa=E,1)}function We(j,E){t(j!=null),t(E!=null),t(j.Xa==E.Xa),n(E.X,0,j.X,0,1<<E.Xa)}function be(){this.X=[],this.Xa=this.Mb=0}function wt(j,E,L,U){t(L!=null),t(U!=null);var Z=L[0],ae=U[0];return Z==0&&(Z=(j*ae+E/2)/E),ae==0&&(ae=(E*Z+j/2)/j),0>=Z||0>=ae?0:(L[0]=Z,U[0]=ae,1)}function Qe(j,E){return j+(1<<E)-1>>>E}function me(j,E){return((4278255360&j)+(4278255360&E)>>>0&4278255360)+((16711935&j)+(16711935&E)>>>0&16711935)>>>0}function we(j,E){A[E]=function(L,U,Z,ae,oe,ue,fe){var xe;for(xe=0;xe<oe;++xe){var Te=A[j](ue[fe+xe-1],Z,ae+xe);ue[fe+xe]=me(L[U+xe],Te)}}}function Me(){this.ud=this.hd=this.jd=0}function Ge(j,E){return((4278124286&(j^E))>>>1)+(j&E)>>>0}function Xe(j){return 0<=j&&256>j?j:0>j?0:255<j?255:void 0}function Ve(j,E){return Xe(j+(j-E+.5>>1))}function st(j,E,L){return Math.abs(E-L)-Math.abs(j-L)}function Nt(j,E,L,U,Z,ae,oe){for(U=ae[oe-1],L=0;L<Z;++L)ae[oe+L]=U=me(j[E+L],U)}function _t(j,E,L,U,Z){var ae;for(ae=0;ae<L;++ae){var oe=j[E+ae],ue=oe>>8&255,fe=16711935&(fe=(fe=16711935&oe)+((ue<<16)+ue));U[Z+ae]=(4278255360&oe)+fe>>>0}}function vt(j,E){E.jd=255&j,E.hd=j>>8&255,E.ud=j>>16&255}function zt(j,E,L,U,Z,ae){var oe;for(oe=0;oe<U;++oe){var ue=E[L+oe],fe=ue>>>8,xe=ue,Te=255&(Te=(Te=ue>>>16)+((j.jd<<24>>24)*(fe<<24>>24)>>>5));xe=255&(xe=(xe+=(j.hd<<24>>24)*(fe<<24>>24)>>>5)+((j.ud<<24>>24)*(Te<<24>>24)>>>5)),Z[ae+oe]=(4278255360&ue)+(Te<<16)+xe}}function At(j,E,L,U,Z){A[E]=function(ae,oe,ue,fe,xe,Te,qe,ye,Ie){for(fe=qe;fe<ye;++fe)for(qe=0;qe<Ie;++qe)xe[Te++]=Z(ue[U(ae[oe++])])},A[j]=function(ae,oe,ue,fe,xe,Te,qe){var ye=8>>ae.b,Ie=ae.Ea,He=ae.K[0],tt=ae.w;if(8>ye)for(ae=(1<<ae.b)-1,tt=(1<<ye)-1;oe<ue;++oe){var Ue,rt=0;for(Ue=0;Ue<Ie;++Ue)Ue&ae||(rt=U(fe[xe++])),Te[qe++]=Z(He[rt&tt]),rt>>=ye}else A["VP8LMapColor"+L](fe,xe,He,tt,Te,qe,oe,ue,Ie)}}function cr(j,E,L,U,Z){for(L=E+L;E<L;){var ae=j[E++];U[Z++]=ae>>16&255,U[Z++]=ae>>8&255,U[Z++]=255&ae}}function er(j,E,L,U,Z){for(L=E+L;E<L;){var ae=j[E++];U[Z++]=ae>>16&255,U[Z++]=ae>>8&255,U[Z++]=255&ae,U[Z++]=ae>>24&255}}function Gt(j,E,L,U,Z){for(L=E+L;E<L;){var ae=(oe=j[E++])>>16&240|oe>>12&15,oe=240&oe|oe>>28&15;U[Z++]=ae,U[Z++]=oe}}function ar(j,E,L,U,Z){for(L=E+L;E<L;){var ae=(oe=j[E++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;U[Z++]=ae,U[Z++]=oe}}function Ke(j,E,L,U,Z){for(L=E+L;E<L;){var ae=j[E++];U[Z++]=255&ae,U[Z++]=ae>>8&255,U[Z++]=ae>>16&255}}function lt(j,E,L,U,Z,ae){if(ae==0)for(L=E+L;E<L;)Ne(U,((ae=j[E++])[0]>>24|ae[1]>>8&65280|ae[2]<<8&16711680|ae[3]<<24)>>>0),Z+=32;else n(U,Z,j,E,L)}function It(j,E){A[E][0]=A[j+"0"],A[E][1]=A[j+"1"],A[E][2]=A[j+"2"],A[E][3]=A[j+"3"],A[E][4]=A[j+"4"],A[E][5]=A[j+"5"],A[E][6]=A[j+"6"],A[E][7]=A[j+"7"],A[E][8]=A[j+"8"],A[E][9]=A[j+"9"],A[E][10]=A[j+"10"],A[E][11]=A[j+"11"],A[E][12]=A[j+"12"],A[E][13]=A[j+"13"],A[E][14]=A[j+"0"],A[E][15]=A[j+"0"]}function ct(j){return j==B3||j==H3||j==ij||j==$3}function Rt(){this.eb=[],this.size=this.A=this.fb=0}function vr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ir(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Rt,this.f.kb=new vr,this.sd=null}function Ft(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function kr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function si(j){return alert("todo:WebPSamplerProcessPlane"),j.T}function cn(j,E){var L=j.T,U=E.ba.f.RGBA,Z=U.eb,ae=U.fb+j.ka*U.A,oe=Fc[E.ba.S],ue=j.y,fe=j.O,xe=j.f,Te=j.N,qe=j.ea,ye=j.W,Ie=E.cc,He=E.dc,tt=E.Mc,Ue=E.Nc,rt=j.ka,at=j.ka+j.T,jt=j.U,gt=jt+1>>1;for(rt==0?oe(ue,fe,null,null,xe,Te,qe,ye,xe,Te,qe,ye,Z,ae,null,null,jt):(oe(E.ec,E.fc,ue,fe,Ie,He,tt,Ue,xe,Te,qe,ye,Z,ae-U.A,Z,ae,jt),++L);rt+2<at;rt+=2)Ie=xe,He=Te,tt=qe,Ue=ye,Te+=j.Rc,ye+=j.Rc,ae+=2*U.A,oe(ue,(fe+=2*j.fa)-j.fa,ue,fe,Ie,He,tt,Ue,xe,Te,qe,ye,Z,ae-U.A,Z,ae,jt);return fe+=j.fa,j.j+at<j.o?(n(E.ec,E.fc,ue,fe,jt),n(E.cc,E.dc,xe,Te,gt),n(E.Mc,E.Nc,qe,ye,gt),L--):1&at||oe(ue,fe,null,null,xe,Te,qe,ye,xe,Te,qe,ye,Z,ae+U.A,null,null,jt),L}function La(j,E,L){var U=j.F,Z=[j.J];if(U!=null){var ae=j.U,oe=E.ba.S,ue=oe==sj||oe==ij;E=E.ba.f.RGBA;var fe=[0],xe=j.ka;fe[0]=j.T,j.Kb&&(xe==0?--fe[0]:(--xe,Z[0]-=j.width),j.j+j.ka+j.T==j.o&&(fe[0]=j.o-j.j-xe));var Te=E.eb;xe=E.fb+xe*E.A,j=Pz(U,Z[0],j.width,ae,fe,Te,xe+(ue?0:3),E.A),t(L==fe),j&&ct(oe)&&h1(Te,xe,ue,ae,fe,E.A)}return 0}function Zt(j){var E=j.ma,L=E.ba.S,U=11>L,Z=L==nj||L==aj||L==sj||L==z3||L==12||ct(L);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!s1(E.Oa,j,Z?11:12))return 0;if(Z&&ct(L)&&r1(),j.da)alert("todo:use_scaling");else{if(U){if(E.Ib=si,j.Kb){if(L=j.U+1>>1,E.memory=s(j.U+2*L),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+j.U,E.Mc=E.cc,E.Nc=E.dc+L,E.Ib=cn,r1()}}else alert("todo:EmitYUV");Z&&(E.Jb=La,U&&Ed())}if(U&&!Xz){for(j=0;256>j;++j)mpe[j]=89858*(j-128)+lj>>oj,ype[j]=-22014*(j-128)+lj,xpe[j]=-45773*(j-128),gpe[j]=113618*(j-128)+lj>>oj;for(j=m1;j<q3;++j)E=76283*(j-16)+lj>>oj,vpe[j-m1]=Dr(E,255),bpe[j-m1]=Dr(E+8>>4,15);Xz=1}return 1}function yt(j){var E=j.ma,L=j.U,U=j.T;return t(!(1&j.ka)),0>=L||0>=U?0:(L=E.Ib(j,E),E.Jb!=null&&E.Jb(j,E,L),E.Dc+=L,1)}function br(j){j.ma.memory=null}function ge(j,E,L,U){return q(j,8)!=47?0:(E[0]=q(j,14)+1,L[0]=q(j,14)+1,U[0]=q(j,1),q(j,3)!=0?0:!j.h)}function _e(j,E){if(4>j)return j+1;var L=j-2>>1;return(2+(1&j)<<L)+q(E,L)+1}function Ae(j,E){return 120<E?E-120:1<=(L=((L=tpe[E-1])>>4)*j+(8-(15&L)))?L:1;var L}function $e(j,E,L){var U=F(L),Z=j[E+=255&U].g-8;return 0<Z&&(W(L,L.u+8),U=F(L),E+=j[E].value,E+=U&(1<<Z)-1),W(L,L.u+j[E].g),j[E].value}function it(j,E,L){return L.g+=j.g,L.value+=j.value<<E>>>0,t(8>=L.g),j.g}function K(j,E,L){var U=j.xc;return t((E=U==0?0:j.vc[j.md*(L>>U)+(E>>U)])<j.Wb),j.Ya[E]}function de(j,E,L,U){var Z=j.ab,ae=j.c*E,oe=j.C;E=oe+E;var ue=L,fe=U;for(U=j.Ta,L=j.Ua;0<Z--;){var xe=j.gc[Z],Te=oe,qe=E,ye=ue,Ie=fe,He=(fe=U,ue=L,xe.Ea);switch(t(Te<qe),t(qe<=xe.nc),xe.hc){case 2:ns(ye,Ie,(qe-Te)*He,fe,ue);break;case 0:var tt=Te,Ue=qe,rt=fe,at=ue,jt=(Xt=xe).Ea;tt==0&&(o1(ye,Ie,null,null,1,rt,at),Nt(ye,Ie+1,0,0,jt-1,rt,at+1),Ie+=jt,at+=jt,++tt);for(var gt=1<<Xt.b,rr=gt-1,Ht=Qe(jt,Xt.b),Mr=Xt.K,Xt=Xt.w+(tt>>Xt.b)*Ht;tt<Ue;){var Xr=Mr,$s=Xt,Or=1;for($x(ye,Ie,rt,at-jt,1,rt,at);Or<jt;){var Jt=(Or&~rr)+gt;Jt>jt&&(Jt=jt),(0,c1[Xr[$s++]>>8&15])(ye,Ie+ +Or,rt,at+Or-jt,Jt-Or,rt,at+Or),Or=Jt}Ie+=jt,at+=jt,++tt&rr||(Xt+=Ht)}qe!=xe.nc&&n(fe,ue-He,fe,ue+(qe-Te-1)*He,He);break;case 1:for(He=ye,Ue=Ie,jt=(ye=xe.Ea)-(at=ye&~(rt=(Ie=1<<xe.b)-1)),tt=Qe(ye,xe.b),gt=xe.K,xe=xe.w+(Te>>xe.b)*tt;Te<qe;){for(rr=gt,Ht=xe,Mr=new Me,Xt=Ue+at,Xr=Ue+ye;Ue<Xt;)vt(rr[Ht++],Mr),d1(Mr,He,Ue,Ie,fe,ue),Ue+=Ie,ue+=Ie;Ue<Xr&&(vt(rr[Ht++],Mr),d1(Mr,He,Ue,jt,fe,ue),Ue+=jt,ue+=jt),++Te&rt||(xe+=tt)}break;case 3:if(ye==fe&&Ie==ue&&0<xe.b){for(Ue=fe,ye=He=ue+(qe-Te)*He-(at=(qe-Te)*Qe(xe.Ea,xe.b)),Ie=fe,rt=ue,tt=[],at=(jt=at)-1;0<=at;--at)tt[at]=Ie[rt+at];for(at=jt-1;0<=at;--at)Ue[ye+at]=tt[at];ZS(xe,Te,qe,fe,He,fe,ue)}else ZS(xe,Te,qe,ye,Ie,fe,ue)}ue=U,fe=L}fe!=L&&n(U,L,ue,fe,ae)}function re(j,E){var L=j.V,U=j.Ba+j.c*j.C,Z=E-j.C;if(t(E<=j.l.o),t(16>=Z),0<Z){var ae=j.l,oe=j.Ta,ue=j.Ua,fe=ae.width;if(de(j,Z,L,U),Z=ue=[ue],t((L=j.C)<(U=E)),t(ae.v<ae.va),U>ae.o&&(U=ae.o),L<ae.j){var xe=ae.j-L;L=ae.j,Z[0]+=xe*fe}if(L>=U?L=0:(Z[0]+=4*ae.v,ae.ka=L-ae.j,ae.U=ae.va-ae.v,ae.T=U-L,L=1),L){if(ue=ue[0],11>(L=j.ca).S){var Te=L.f.RGBA,qe=(U=L.S,Z=ae.U,ae=ae.T,xe=Te.eb,Te.A),ye=ae;for(Te=Te.fb+j.Ma*Te.A;0<ye--;){var Ie=oe,He=ue,tt=Z,Ue=xe,rt=Te;switch(U){case rj:u1(Ie,He,tt,Ue,rt);break;case nj:fp(Ie,He,tt,Ue,rt);break;case B3:fp(Ie,He,tt,Ue,rt),h1(Ue,rt,0,tt,1,0);break;case Hz:S0(Ie,He,tt,Ue,rt);break;case aj:lt(Ie,He,tt,Ue,rt,1);break;case H3:lt(Ie,He,tt,Ue,rt,1),h1(Ue,rt,0,tt,1,0);break;case sj:lt(Ie,He,tt,Ue,rt,0);break;case ij:lt(Ie,He,tt,Ue,rt,0),h1(Ue,rt,1,tt,1,0);break;case z3:hp(Ie,He,tt,Ue,rt);break;case $3:hp(Ie,He,tt,Ue,rt),Oz(Ue,rt,tt,1,0);break;case $z:pp(Ie,He,tt,Ue,rt);break;default:t(0)}ue+=fe,Te+=qe}j.Ma+=ae}else alert("todo:EmitRescaledRowsYUVA");t(j.Ma<=L.height)}}j.C=E,t(j.C<=j.i)}function ne(j){var E;if(0<j.ua)return 0;for(E=0;E<j.Wb;++E){var L=j.Ya[E].G,U=j.Ya[E].H;if(0<L[1][U[1]+0].g||0<L[2][U[2]+0].g||0<L[3][U[3]+0].g)return 0}return 1}function ie(j,E,L,U,Z,ae){if(j.Z!=0){var oe=j.qd,ue=j.rd;for(t(xp[j.Z]!=null);E<L;++E)xp[j.Z](oe,ue,U,Z,U,Z,ae),oe=U,ue=Z,Z+=ae;j.qd=oe,j.rd=ue}}function le(j,E){var L=j.l.ma,U=L.Z==0||L.Z==1?j.l.j:j.C;if(U=j.C<U?U:j.C,t(E<=j.l.o),E>U){var Z=j.l.width,ae=L.ca,oe=L.tb+Z*U,ue=j.V,fe=j.Ba+j.c*U,xe=j.gc;t(j.ab==1),t(xe[0].hc==3),xu(xe[0],U,E,ue,fe,ae,oe),ie(L,U,E,ae,oe,Z)}j.C=j.Ma=E}function ke(j,E,L,U,Z,ae,oe){var ue=j.$/U,fe=j.$%U,xe=j.m,Te=j.s,qe=L+j.$,ye=qe;Z=L+U*Z;var Ie=L+U*ae,He=280+Te.ua,tt=j.Pb?ue:16777216,Ue=0<Te.ua?Te.Wa:null,rt=Te.wc,at=qe<Ie?K(Te,fe,ue):null;t(j.C<ae),t(Ie<=Z);var jt=!1;e:for(;;){for(;jt||qe<Ie;){var gt=0;if(ue>=tt){var rr=qe-L;t((tt=j).Pb),tt.wd=tt.m,tt.xd=rr,0<tt.s.ua&&We(tt.s.Wa,tt.s.vb),tt=ue+npe}if(fe&rt||(at=K(Te,fe,ue)),t(at!=null),at.Qb&&(E[qe]=at.qb,jt=!0),!jt)if(te(xe),at.jc){gt=xe,rr=E;var Ht=qe,Mr=at.pd[F(gt)&N0-1];t(at.jc),256>Mr.g?(W(gt,gt.u+Mr.g),rr[Ht]=Mr.value,gt=0):(W(gt,gt.u+Mr.g-256),t(256<=Mr.value),gt=Mr.value),gt==0&&(jt=!0)}else gt=$e(at.G[0],at.H[0],xe);if(xe.h)break;if(jt||256>gt){if(!jt)if(at.nd)E[qe]=(at.qb|gt<<8)>>>0;else{if(te(xe),jt=$e(at.G[1],at.H[1],xe),te(xe),rr=$e(at.G[2],at.H[2],xe),Ht=$e(at.G[3],at.H[3],xe),xe.h)break;E[qe]=(Ht<<24|jt<<16|gt<<8|rr)>>>0}if(jt=!1,++qe,++fe>=U&&(fe=0,++ue,oe!=null&&ue<=ae&&!(ue%16)&&oe(j,ue),Ue!=null))for(;ye<qe;)gt=E[ye++],Ue.X[(506832829*gt&4294967295)>>>Ue.Mb]=gt}else if(280>gt){if(gt=_e(gt-256,xe),rr=$e(at.G[4],at.H[4],xe),te(xe),rr=Ae(U,rr=_e(rr,xe)),xe.h)break;if(qe-L<rr||Z-qe<gt)break e;for(Ht=0;Ht<gt;++Ht)E[qe+Ht]=E[qe+Ht-rr];for(qe+=gt,fe+=gt;fe>=U;)fe-=U,++ue,oe!=null&&ue<=ae&&!(ue%16)&&oe(j,ue);if(t(qe<=Z),fe&rt&&(at=K(Te,fe,ue)),Ue!=null)for(;ye<qe;)gt=E[ye++],Ue.X[(506832829*gt&4294967295)>>>Ue.Mb]=gt}else{if(!(gt<He))break e;for(jt=gt-280,t(Ue!=null);ye<qe;)gt=E[ye++],Ue.X[(506832829*gt&4294967295)>>>Ue.Mb]=gt;gt=qe,t(!(jt>>>(rr=Ue).Xa)),E[gt]=rr.X[jt],jt=!0}jt||t(xe.h==H(xe))}if(j.Pb&&xe.h&&qe<Z)t(j.m.h),j.a=5,j.m=j.wd,j.$=j.xd,0<j.s.ua&&We(j.s.vb,j.s.Wa);else{if(xe.h)break e;oe!=null&&oe(j,ue>ae?ae:ue),j.a=0,j.$=qe-L}return 1}return j.a=3,0}function Re(j){t(j!=null),j.vc=null,j.yc=null,j.Ya=null;var E=j.Wa;E!=null&&(E.X=null),j.vb=null,t(j!=null)}function Le(){var j=new xr;return j==null?null:(j.a=0,j.xb=qz,It("Predictor","VP8LPredictors"),It("Predictor","VP8LPredictors_C"),It("PredictorAdd","VP8LPredictorsAdd"),It("PredictorAdd","VP8LPredictorsAdd_C"),ns=_t,d1=zt,u1=cr,fp=er,hp=Gt,pp=ar,S0=Ke,A.VP8LMapColor32b=gu,A.VP8LMapColor8b=l1,j)}function De(j,E,L,U,Z){var ae=1,oe=[j],ue=[E],fe=U.m,xe=U.s,Te=null,qe=0;e:for(;;){if(L)for(;ae&&q(fe,1);){var ye=oe,Ie=ue,He=U,tt=1,Ue=He.m,rt=He.gc[He.ab],at=q(Ue,2);if(He.Oc&1<<at)ae=0;else{switch(He.Oc|=1<<at,rt.hc=at,rt.Ea=ye[0],rt.nc=Ie[0],rt.K=[null],++He.ab,t(4>=He.ab),at){case 0:case 1:rt.b=q(Ue,3)+2,tt=De(Qe(rt.Ea,rt.b),Qe(rt.nc,rt.b),0,He,rt.K),rt.K=rt.K[0];break;case 3:var jt,gt=q(Ue,8)+1,rr=16<gt?0:4<gt?1:2<gt?2:3;if(ye[0]=Qe(rt.Ea,rr),rt.b=rr,jt=tt=De(gt,1,0,He,rt.K)){var Ht,Mr=gt,Xt=rt,Xr=1<<(8>>Xt.b),$s=s(Xr);if($s==null)jt=0;else{var Or=Xt.K[0],Jt=Xt.w;for($s[0]=Xt.K[0][0],Ht=1;Ht<1*Mr;++Ht)$s[Ht]=me(Or[Jt+Ht],$s[Ht-1]);for(;Ht<4*Xr;++Ht)$s[Ht]=0;Xt.K[0]=null,Xt.K[0]=$s,jt=1}}tt=jt;break;case 2:break;default:t(0)}ae=tt}}if(oe=oe[0],ue=ue[0],ae&&q(fe,1)&&!(ae=1<=(qe=q(fe,4))&&11>=qe)){U.a=3;break e}var Dt;if(Dt=ae)t:{var ss,Cr,Zr,na=U,Di=oe,ko=ue,Fa=qe,ro=L,Co=na.m,Us=na.s,rn=[null],bn=1,za=0,wn=rpe[Fa];r:for(;;){if(ro&&q(Co,1)){var Mi=q(Co,3)+2,Dd=Qe(Di,Mi),is=Qe(ko,Mi),Zo=Dd*is;if(!De(Dd,is,0,na,rn))break r;for(rn=rn[0],Us.xc=Mi,ss=0;ss<Zo;++ss){var Bn=rn[ss]>>8&65535;rn[ss]=Bn,Bn>=bn&&(bn=Bn+1)}}if(Co.h)break r;for(Cr=0;5>Cr;++Cr){var Vs=Uz[Cr];!Cr&&0<Fa&&(Vs+=1<<Fa),za<Vs&&(za=Vs)}var Il=i(bn*wn,I),Ao=bn,Fl=i(Ao,Y);if(Fl==null)var zl=null;else t(65536>=Ao),zl=Fl;var el=s(za);if(zl==null||el==null||Il==null){na.a=1;break r}var Bl=Il;for(ss=Zr=0;ss<bn;++ss){var Xn=zl[ss],Hl=Xn.G,Md=Xn.H,_0=0,kf=1,Oi=0;for(Cr=0;5>Cr;++Cr){Vs=Uz[Cr],Hl[Cr]=Bl,Md[Cr]=Zr,!Cr&&0<Fa&&(Vs+=1<<Fa);a:{var dj,W3=Vs,uj=na,g1=el,Spe=Bl,jpe=Zr,Y3=0,yp=uj.m,_pe=q(yp,1);if(a(g1,0,0,W3),_pe){var kpe=q(yp,1)+1,Cpe=q(yp,1),Zz=q(yp,Cpe==0?1:8);g1[Zz]=1,kpe==2&&(g1[Zz=q(yp,8)]=1);var fj=1}else{var e9=s(19),t9=q(yp,4)+4;if(19<t9){uj.a=3;var hj=0;break a}for(dj=0;dj<t9;++dj)e9[epe[dj]]=q(yp,3);var G3=void 0,x1=void 0,r9=uj,Ape=e9,pj=W3,n9=g1,K3=0,vp=r9.m,a9=8,s9=i(128,I);n:for(;M(s9,0,7,Ape,19);){if(q(vp,1)){var Epe=2+2*q(vp,3);if((G3=2+q(vp,Epe))>pj)break n}else G3=pj;for(x1=0;x1<pj&&G3--;){te(vp);var i9=s9[0+(127&F(vp))];W(vp,vp.u+i9.g);var Vx=i9.value;if(16>Vx)n9[x1++]=Vx,Vx!=0&&(a9=Vx);else{var Tpe=Vx==16,o9=Vx-16,Dpe=Qhe[o9],l9=q(vp,Jhe[o9])+Dpe;if(x1+l9>pj)break n;for(var Mpe=Tpe?a9:0;0<l9--;)n9[x1++]=Mpe}}K3=1;break n}K3||(r9.a=3),fj=K3}(fj=fj&&!yp.h)&&(Y3=M(Spe,jpe,8,g1,W3)),fj&&Y3!=0?hj=Y3:(uj.a=3,hj=0)}if(hj==0)break r;if(kf&&Zhe[Cr]==1&&(kf=Bl[Zr].g==0),_0+=Bl[Zr].g,Zr+=hj,3>=Cr){var y1,X3=el[0];for(y1=1;y1<Vs;++y1)el[y1]>X3&&(X3=el[y1]);Oi+=X3}}if(Xn.nd=kf,Xn.Qb=0,kf&&(Xn.qb=(Hl[3][Md[3]+0].value<<24|Hl[1][Md[1]+0].value<<16|Hl[2][Md[2]+0].value)>>>0,_0==0&&256>Hl[0][Md[0]+0].value&&(Xn.Qb=1,Xn.qb+=Hl[0][Md[0]+0].value<<8)),Xn.jc=!Xn.Qb&&6>Oi,Xn.jc){var mj,Cf=Xn;for(mj=0;mj<N0;++mj){var bp=mj,wp=Cf.pd[bp],gj=Cf.G[0][Cf.H[0]+bp];256<=gj.value?(wp.g=gj.g+256,wp.value=gj.value):(wp.g=0,wp.value=0,bp>>=it(gj,8,wp),bp>>=it(Cf.G[1][Cf.H[1]+bp],16,wp),bp>>=it(Cf.G[2][Cf.H[2]+bp],0,wp),it(Cf.G[3][Cf.H[3]+bp],24,wp))}}}Us.vc=rn,Us.Wb=bn,Us.Ya=zl,Us.yc=Il,Dt=1;break t}Dt=0}if(!(ae=Dt)){U.a=3;break e}if(0<qe){if(xe.ua=1<<qe,!ee(xe.Wa,qe)){U.a=1,ae=0;break e}}else xe.ua=0;var J3=U,c9=oe,Ope=ue,Q3=J3.s,Z3=Q3.xc;if(J3.c=c9,J3.i=Ope,Q3.md=Qe(c9,Z3),Q3.wc=Z3==0?-1:(1<<Z3)-1,L){U.xb=dpe;break e}if((Te=s(oe*ue))==null){U.a=1,ae=0;break e}ae=(ae=ke(U,Te,0,oe,ue,ue,null))&&!fe.h;break e}return ae?(Z!=null?Z[0]=Te:(t(Te==null),t(L)),U.$=0,L||Re(xe)):Re(xe),ae}function Ee(j,E){var L=j.c*j.i,U=L+E+16*E;return t(j.c<=E),j.V=s(U),j.V==null?(j.Ta=null,j.Ua=0,j.a=1,0):(j.Ta=j.V,j.Ua=j.Ba+L+E,1)}function Je(j,E){var L=j.C,U=E-L,Z=j.V,ae=j.Ba+j.c*L;for(t(E<=j.l.o);0<U;){var oe=16<U?16:U,ue=j.l.ma,fe=j.l.width,xe=fe*oe,Te=ue.ca,qe=ue.tb+fe*L,ye=j.Ta,Ie=j.Ua;de(j,oe,Z,ae),Rz(ye,Ie,Te,qe,xe),ie(ue,L,L+oe,Te,qe,fe),U-=oe,Z+=oe*j.c,L+=oe}t(L==E),j.C=j.Ma=E}function ut(){this.ub=this.yd=this.td=this.Rb=0}function Ct(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function pt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function xt(){this.Yb=function(){var j=[];return function E(L,U,Z){for(var ae=Z[U],oe=0;oe<ae&&(L.push(Z.length>U+1?[]:0),!(Z.length<U+1));oe++)E(L[oe],U+1,Z)}(j,0,[3,11]),j}()}function Pt(){this.jb=s(3),this.Wc=l([4,8],xt),this.Xc=l([4,17],xt)}function wr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function pr(){this.ld=this.La=this.dd=this.tc=0}function pn(){this.Na=this.la=0}function rs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function or(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ir(){this.uc=this.M=this.Nb=0,this.wa=Array(new pr),this.Y=0,this.ya=Array(new or),this.aa=0,this.l=new Ol}function ma(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ja(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new ut,this.Kc=new Ct,this.ed=new wr,this.Qa=new pt,this.Ic=this.$c=this.Aa=0,this.D=new Ir,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,T),this.ia=0,this.pb=i(4,rs),this.Pa=new Pt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ma),this.Hd=0,this.rb=Array(new pn),this.sb=0,this.wa=Array(new pr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new or),this.L=this.aa=0,this.gd=l([4,2],pr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Dr(j,E){return 0>j?0:j>E?E:j}function Ol(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rx(){var j=new ja;return j!=null&&(j.a=0,j.sc="OK",j.cb=0,j.Xb=0,p1||(p1=Lx)),j}function Ia(j,E,L){return j.a==0&&(j.a=E,j.sc=L,j.cb=0),0}function HS(j,E,L){return 3<=L&&j[E+0]==157&&j[E+1]==1&&j[E+2]==42}function pu(j,E){if(j==null)return 0;if(j.a=0,j.sc="OK",E==null)return Ia(j,2,"null VP8Io passed to VP8GetHeaders()");var L=E.data,U=E.w,Z=E.ha;if(4>Z)return Ia(j,7,"Truncated header.");var ae=L[U+0]|L[U+1]<<8|L[U+2]<<16,oe=j.Od;if(oe.Rb=!(1&ae),oe.td=ae>>1&7,oe.yd=ae>>4&1,oe.ub=ae>>5,3<oe.td)return Ia(j,3,"Incorrect keyframe parameters.");if(!oe.yd)return Ia(j,4,"Frame not displayable.");U+=3,Z-=3;var ue=j.Kc;if(oe.Rb){if(7>Z)return Ia(j,7,"cannot parse picture header");if(!HS(L,U,Z))return Ia(j,3,"Bad code word");ue.c=16383&(L[U+4]<<8|L[U+3]),ue.Td=L[U+4]>>6,ue.i=16383&(L[U+6]<<8|L[U+5]),ue.Ud=L[U+6]>>6,U+=7,Z-=7,j.za=ue.c+15>>4,j.Ub=ue.i+15>>4,E.width=ue.c,E.height=ue.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,a((ae=j.Pa).jb,0,255,ae.jb.length),t((ae=j.Qa)!=null),ae.Cb=0,ae.Bb=0,ae.Fb=1,a(ae.Zb,0,0,ae.Zb.length),a(ae.Lb,0,0,ae.Lb)}if(oe.ub>Z)return Ia(j,7,"bad partition length");X(ae=j.m,L,U,oe.ub),U+=oe.ub,Z-=oe.ub,oe.Rb&&(ue.Ld=se(ae),ue.Kd=se(ae)),ue=j.Qa;var fe,xe=j.Pa;if(t(ae!=null),t(ue!=null),ue.Cb=se(ae),ue.Cb){if(ue.Bb=se(ae),se(ae)){for(ue.Fb=se(ae),fe=0;4>fe;++fe)ue.Zb[fe]=se(ae)?G(ae,7):0;for(fe=0;4>fe;++fe)ue.Lb[fe]=se(ae)?G(ae,6):0}if(ue.Bb)for(fe=0;3>fe;++fe)xe.jb[fe]=se(ae)?V(ae,8):255}else ue.Bb=0;if(ae.Ka)return Ia(j,3,"cannot parse segment header");if((ue=j.ed).zd=se(ae),ue.Tb=V(ae,6),ue.wb=V(ae,3),ue.Pc=se(ae),ue.Pc&&se(ae)){for(xe=0;4>xe;++xe)se(ae)&&(ue.vd[xe]=G(ae,6));for(xe=0;4>xe;++xe)se(ae)&&(ue.od[xe]=G(ae,6))}if(j.L=ue.Tb==0?0:ue.zd?1:2,ae.Ka)return Ia(j,3,"cannot parse filter header");var Te=Z;if(Z=fe=U,U=fe+Te,ue=Te,j.Xb=(1<<V(j.m,2))-1,Te<3*(xe=j.Xb))L=7;else{for(fe+=3*xe,ue-=3*xe,Te=0;Te<xe;++Te){var qe=L[Z+0]|L[Z+1]<<8|L[Z+2]<<16;qe>ue&&(qe=ue),X(j.Jc[+Te],L,fe,qe),fe+=qe,ue-=qe,Z+=3}X(j.Jc[+xe],L,fe,ue),L=fe<U?0:5}if(L!=0)return Ia(j,L,"cannot parse partitions");for(L=V(fe=j.m,7),Z=se(fe)?G(fe,4):0,U=se(fe)?G(fe,4):0,ue=se(fe)?G(fe,4):0,xe=se(fe)?G(fe,4):0,fe=se(fe)?G(fe,4):0,Te=j.Qa,qe=0;4>qe;++qe){if(Te.Cb){var ye=Te.Zb[qe];Te.Fb||(ye+=L)}else{if(0<qe){j.pb[qe]=j.pb[0];continue}ye=L}var Ie=j.pb[qe];Ie.Sc[0]=U3[Dr(ye+Z,127)],Ie.Sc[1]=V3[Dr(ye+0,127)],Ie.Eb[0]=2*U3[Dr(ye+U,127)],Ie.Eb[1]=101581*V3[Dr(ye+ue,127)]>>16,8>Ie.Eb[1]&&(Ie.Eb[1]=8),Ie.Qc[0]=U3[Dr(ye+xe,117)],Ie.Qc[1]=V3[Dr(ye+fe,127)],Ie.lc=ye+fe}if(!oe.Rb)return Ia(j,4,"Not a key frame.");for(se(ae),oe=j.Pa,L=0;4>L;++L){for(Z=0;8>Z;++Z)for(U=0;3>U;++U)for(ue=0;11>ue;++ue)xe=ce(ae,lpe[L][Z][U][ue])?V(ae,8):ipe[L][Z][U][ue],oe.Wc[L][Z].Yb[U][ue]=xe;for(Z=0;17>Z;++Z)oe.Xc[L][Z]=oe.Wc[L][cpe[Z]]}return j.kc=se(ae),j.kc&&(j.Bd=V(ae,8)),j.cb=1}function Lx(j,E,L,U,Z,ae,oe){var ue=E[Z].Yb[L];for(L=0;16>Z;++Z){if(!ce(j,ue[L+0]))return Z;for(;!ce(j,ue[L+1]);)if(ue=E[++Z].Yb[0],L=0,Z==16)return 16;var fe=E[Z+1].Yb;if(ce(j,ue[L+2])){var xe=j,Te=0;if(ce(xe,(ye=ue)[(qe=L)+3]))if(ce(xe,ye[qe+6])){for(ue=0,qe=2*(Te=ce(xe,ye[qe+8]))+(ye=ce(xe,ye[qe+9+Te])),Te=0,ye=ape[qe];ye[ue];++ue)Te+=Te+ce(xe,ye[ue]);Te+=3+(8<<qe)}else ce(xe,ye[qe+7])?(Te=7+2*ce(xe,165),Te+=ce(xe,145)):Te=5+ce(xe,159);else Te=ce(xe,ye[qe+4])?3+ce(xe,ye[qe+5]):2;ue=fe[2]}else Te=1,ue=fe[1];fe=oe+spe[Z],0>(xe=j).b&&pe(xe);var qe,ye=xe.b,Ie=(qe=xe.Ca>>1)-(xe.I>>ye)>>31;--xe.b,xe.Ca+=Ie,xe.Ca|=1,xe.I-=(qe+1&Ie)<<ye,ae[fe]=((Te^Ie)-Ie)*U[(0<Z)+0]}return 16}function $S(j){var E=j.rb[j.sb-1];E.la=0,E.Na=0,a(j.zc,0,0,j.zc.length),j.ja=0}function Pc(j,E,L,U,Z){Z=j[E+L+32*U]+(Z>>3),j[E+L+32*U]=-256&Z?0>Z?0:255:Z}function zs(j,E,L,U,Z,ae){Pc(j,E,0,L,U+Z),Pc(j,E,1,L,U+ae),Pc(j,E,2,L,U-ae),Pc(j,E,3,L,U-Z)}function hf(j){return(20091*j>>16)+j}function US(j,E,L,U){var Z,ae=0,oe=s(16);for(Z=0;4>Z;++Z){var ue=j[E+0]+j[E+8],fe=j[E+0]-j[E+8],xe=(35468*j[E+4]>>16)-hf(j[E+12]),Te=hf(j[E+4])+(35468*j[E+12]>>16);oe[ae+0]=ue+Te,oe[ae+1]=fe+xe,oe[ae+2]=fe-xe,oe[ae+3]=ue-Te,ae+=4,E++}for(Z=ae=0;4>Z;++Z)ue=(j=oe[ae+0]+4)+oe[ae+8],fe=j-oe[ae+8],xe=(35468*oe[ae+4]>>16)-hf(oe[ae+12]),Pc(L,U,0,0,ue+(Te=hf(oe[ae+4])+(35468*oe[ae+12]>>16))),Pc(L,U,1,0,fe+xe),Pc(L,U,2,0,fe-xe),Pc(L,U,3,0,ue-Te),ae++,U+=32}function j3(j,E,L,U){var Z=j[E+0]+4,ae=35468*j[E+4]>>16,oe=hf(j[E+4]),ue=35468*j[E+1]>>16;zs(L,U,0,Z+oe,j=hf(j[E+1]),ue),zs(L,U,1,Z+ae,j,ue),zs(L,U,2,Z-ae,j,ue),zs(L,U,3,Z-oe,j,ue)}function _3(j,E,L,U,Z){US(j,E,L,U),Z&&US(j,E+16,L,U+4)}function mu(j,E,L,U){j0(j,E+0,L,U,1),j0(j,E+32,L,U+128,1)}function VS(j,E,L,U){var Z;for(j=j[E+0]+4,Z=0;4>Z;++Z)for(E=0;4>E;++E)Pc(L,U,E,Z,j)}function qS(j,E,L,U){j[E+0]&&mn(j,E+0,L,U),j[E+16]&&mn(j,E+16,L,U+4),j[E+32]&&mn(j,E+32,L,U+128),j[E+48]&&mn(j,E+48,L,U+128+4)}function Ix(j,E,L,U){var Z,ae=s(16);for(Z=0;4>Z;++Z){var oe=j[E+0+Z]+j[E+12+Z],ue=j[E+4+Z]+j[E+8+Z],fe=j[E+4+Z]-j[E+8+Z],xe=j[E+0+Z]-j[E+12+Z];ae[0+Z]=oe+ue,ae[8+Z]=oe-ue,ae[4+Z]=xe+fe,ae[12+Z]=xe-fe}for(Z=0;4>Z;++Z)oe=(j=ae[0+4*Z]+3)+ae[3+4*Z],ue=ae[1+4*Z]+ae[2+4*Z],fe=ae[1+4*Z]-ae[2+4*Z],xe=j-ae[3+4*Z],L[U+0]=oe+ue>>3,L[U+16]=xe+fe>>3,L[U+32]=oe-ue>>3,L[U+48]=xe-fe>>3,U+=64}function f0(j,E,L){var U,Z=E-32,ae=Ll,oe=255-j[Z-1];for(U=0;U<L;++U){var ue,fe=ae,xe=oe+j[E-1];for(ue=0;ue<L;++ue)j[E+ue]=fe[xe+j[Z+ue]];E+=32}}function k3(j,E){f0(j,E,4)}function C3(j,E){f0(j,E,8)}function A3(j,E){f0(j,E,16)}function Gb(j,E){var L;for(L=0;16>L;++L)n(j,E+32*L,j,E-32,16)}function WS(j,E){var L;for(L=16;0<L;--L)a(j,E,j[E-1],16),E+=32}function Ad(j,E,L){var U;for(U=0;16>U;++U)a(E,L+32*U,j,16)}function E3(j,E){var L,U=16;for(L=0;16>L;++L)U+=j[E-1+32*L]+j[E+L-32];Ad(U>>5,j,E)}function h0(j,E){var L,U=8;for(L=0;16>L;++L)U+=j[E-1+32*L];Ad(U>>4,j,E)}function Kb(j,E){var L,U=8;for(L=0;16>L;++L)U+=j[E+L-32];Ad(U>>4,j,E)}function T3(j,E){Ad(128,j,E)}function Nr(j,E,L){return j+2*E+L+2>>2}function D3(j,E){var L,U=E-32;for(U=new Uint8Array([Nr(j[U-1],j[U+0],j[U+1]),Nr(j[U+0],j[U+1],j[U+2]),Nr(j[U+1],j[U+2],j[U+3]),Nr(j[U+2],j[U+3],j[U+4])]),L=0;4>L;++L)n(j,E+32*L,U,0,U.length)}function M3(j,E){var L=j[E-1],U=j[E-1+32],Z=j[E-1+64],ae=j[E-1+96];Ne(j,E+0,16843009*Nr(j[E-1-32],L,U)),Ne(j,E+32,16843009*Nr(L,U,Z)),Ne(j,E+64,16843009*Nr(U,Z,ae)),Ne(j,E+96,16843009*Nr(Z,ae,ae))}function O3(j,E){var L,U=4;for(L=0;4>L;++L)U+=j[E+L-32]+j[E-1+32*L];for(U>>=3,L=0;4>L;++L)a(j,E+32*L,U,4)}function pf(j,E){var L=j[E-1+0],U=j[E-1+32],Z=j[E-1+64],ae=j[E-1-32],oe=j[E+0-32],ue=j[E+1-32],fe=j[E+2-32],xe=j[E+3-32];j[E+0+96]=Nr(U,Z,j[E-1+96]),j[E+1+96]=j[E+0+64]=Nr(L,U,Z),j[E+2+96]=j[E+1+64]=j[E+0+32]=Nr(ae,L,U),j[E+3+96]=j[E+2+64]=j[E+1+32]=j[E+0+0]=Nr(oe,ae,L),j[E+3+64]=j[E+2+32]=j[E+1+0]=Nr(ue,oe,ae),j[E+3+32]=j[E+2+0]=Nr(fe,ue,oe),j[E+3+0]=Nr(xe,fe,ue)}function mf(j,E){var L=j[E+1-32],U=j[E+2-32],Z=j[E+3-32],ae=j[E+4-32],oe=j[E+5-32],ue=j[E+6-32],fe=j[E+7-32];j[E+0+0]=Nr(j[E+0-32],L,U),j[E+1+0]=j[E+0+32]=Nr(L,U,Z),j[E+2+0]=j[E+1+32]=j[E+0+64]=Nr(U,Z,ae),j[E+3+0]=j[E+2+32]=j[E+1+64]=j[E+0+96]=Nr(Z,ae,oe),j[E+3+32]=j[E+2+64]=j[E+1+96]=Nr(ae,oe,ue),j[E+3+64]=j[E+2+96]=Nr(oe,ue,fe),j[E+3+96]=Nr(ue,fe,fe)}function P3(j,E){var L=j[E-1+0],U=j[E-1+32],Z=j[E-1+64],ae=j[E-1-32],oe=j[E+0-32],ue=j[E+1-32],fe=j[E+2-32],xe=j[E+3-32];j[E+0+0]=j[E+1+64]=ae+oe+1>>1,j[E+1+0]=j[E+2+64]=oe+ue+1>>1,j[E+2+0]=j[E+3+64]=ue+fe+1>>1,j[E+3+0]=fe+xe+1>>1,j[E+0+96]=Nr(Z,U,L),j[E+0+64]=Nr(U,L,ae),j[E+0+32]=j[E+1+96]=Nr(L,ae,oe),j[E+1+32]=j[E+2+96]=Nr(ae,oe,ue),j[E+2+32]=j[E+3+96]=Nr(oe,ue,fe),j[E+3+32]=Nr(ue,fe,xe)}function R3(j,E){var L=j[E+0-32],U=j[E+1-32],Z=j[E+2-32],ae=j[E+3-32],oe=j[E+4-32],ue=j[E+5-32],fe=j[E+6-32],xe=j[E+7-32];j[E+0+0]=L+U+1>>1,j[E+1+0]=j[E+0+64]=U+Z+1>>1,j[E+2+0]=j[E+1+64]=Z+ae+1>>1,j[E+3+0]=j[E+2+64]=ae+oe+1>>1,j[E+0+32]=Nr(L,U,Z),j[E+1+32]=j[E+0+96]=Nr(U,Z,ae),j[E+2+32]=j[E+1+96]=Nr(Z,ae,oe),j[E+3+32]=j[E+2+96]=Nr(ae,oe,ue),j[E+3+64]=Nr(oe,ue,fe),j[E+3+96]=Nr(ue,fe,xe)}function Fx(j,E){var L=j[E-1+0],U=j[E-1+32],Z=j[E-1+64],ae=j[E-1+96];j[E+0+0]=L+U+1>>1,j[E+2+0]=j[E+0+32]=U+Z+1>>1,j[E+2+32]=j[E+0+64]=Z+ae+1>>1,j[E+1+0]=Nr(L,U,Z),j[E+3+0]=j[E+1+32]=Nr(U,Z,ae),j[E+3+32]=j[E+1+64]=Nr(Z,ae,ae),j[E+3+64]=j[E+2+64]=j[E+0+96]=j[E+1+96]=j[E+2+96]=j[E+3+96]=ae}function Xb(j,E){var L=j[E-1+0],U=j[E-1+32],Z=j[E-1+64],ae=j[E-1+96],oe=j[E-1-32],ue=j[E+0-32],fe=j[E+1-32],xe=j[E+2-32];j[E+0+0]=j[E+2+32]=L+oe+1>>1,j[E+0+32]=j[E+2+64]=U+L+1>>1,j[E+0+64]=j[E+2+96]=Z+U+1>>1,j[E+0+96]=ae+Z+1>>1,j[E+3+0]=Nr(ue,fe,xe),j[E+2+0]=Nr(oe,ue,fe),j[E+1+0]=j[E+3+32]=Nr(L,oe,ue),j[E+1+32]=j[E+3+64]=Nr(U,L,oe),j[E+1+64]=j[E+3+96]=Nr(Z,U,L),j[E+1+96]=Nr(ae,Z,U)}function p0(j,E){var L;for(L=0;8>L;++L)n(j,E+32*L,j,E-32,8)}function L3(j,E){var L;for(L=0;8>L;++L)a(j,E,j[E-1],8),E+=32}function gf(j,E,L){var U;for(U=0;8>U;++U)a(E,L+32*U,j,8)}function I3(j,E){var L,U=8;for(L=0;8>L;++L)U+=j[E+L-32]+j[E-1+32*L];gf(U>>4,j,E)}function Jb(j,E){var L,U=4;for(L=0;8>L;++L)U+=j[E+L-32];gf(U>>3,j,E)}function Qb(j,E){var L,U=4;for(L=0;8>L;++L)U+=j[E-1+32*L];gf(U>>3,j,E)}function YS(j,E){gf(128,j,E)}function xf(j,E,L){var U=j[E-L],Z=j[E+0],ae=3*(Z-U)+F3[1020+j[E-2*L]-j[E+L]],oe=tj[112+(ae+4>>3)];j[E-L]=Ll[255+U+tj[112+(ae+3>>3)]],j[E+0]=Ll[255+Z-oe]}function Zb(j,E,L,U){var Z=j[E+0],ae=j[E+L];return Ic[255+j[E-2*L]-j[E-L]]>U||Ic[255+ae-Z]>U}function zx(j,E,L,U){return 4*Ic[255+j[E-L]-j[E+0]]+Ic[255+j[E-2*L]-j[E+L]]<=U}function e1(j,E,L,U,Z){var ae=j[E-3*L],oe=j[E-2*L],ue=j[E-L],fe=j[E+0],xe=j[E+L],Te=j[E+2*L],qe=j[E+3*L];return 4*Ic[255+ue-fe]+Ic[255+oe-xe]>U?0:Ic[255+j[E-4*L]-ae]<=Z&&Ic[255+ae-oe]<=Z&&Ic[255+oe-ue]<=Z&&Ic[255+qe-Te]<=Z&&Ic[255+Te-xe]<=Z&&Ic[255+xe-fe]<=Z}function m0(j,E,L,U){var Z=2*U+1;for(U=0;16>U;++U)zx(j,E+U,L,Z)&&xf(j,E+U,L)}function t1(j,E,L,U){var Z=2*U+1;for(U=0;16>U;++U)zx(j,E+U*L,1,Z)&&xf(j,E+U*L,1)}function GS(j,E,L,U){var Z;for(Z=3;0<Z;--Z)m0(j,E+=4*L,L,U)}function KS(j,E,L,U){var Z;for(Z=3;0<Z;--Z)t1(j,E+=4,L,U)}function yf(j,E,L,U,Z,ae,oe,ue){for(ae=2*ae+1;0<Z--;){if(e1(j,E,L,ae,oe))if(Zb(j,E,L,ue))xf(j,E,L);else{var fe=j,xe=E,Te=L,qe=fe[xe-2*Te],ye=fe[xe-Te],Ie=fe[xe+0],He=fe[xe+Te],tt=fe[xe+2*Te],Ue=27*(at=F3[1020+3*(Ie-ye)+F3[1020+qe-He]])+63>>7,rt=18*at+63>>7,at=9*at+63>>7;fe[xe-3*Te]=Ll[255+fe[xe-3*Te]+at],fe[xe-2*Te]=Ll[255+qe+rt],fe[xe-Te]=Ll[255+ye+Ue],fe[xe+0]=Ll[255+Ie-Ue],fe[xe+Te]=Ll[255+He-rt],fe[xe+2*Te]=Ll[255+tt-at]}E+=U}}function vf(j,E,L,U,Z,ae,oe,ue){for(ae=2*ae+1;0<Z--;){if(e1(j,E,L,ae,oe))if(Zb(j,E,L,ue))xf(j,E,L);else{var fe=j,xe=E,Te=L,qe=fe[xe-Te],ye=fe[xe+0],Ie=fe[xe+Te],He=tj[112+(4+(tt=3*(ye-qe))>>3)],tt=tj[112+(tt+3>>3)],Ue=He+1>>1;fe[xe-2*Te]=Ll[255+fe[xe-2*Te]+Ue],fe[xe-Te]=Ll[255+qe+tt],fe[xe+0]=Ll[255+ye-He],fe[xe+Te]=Ll[255+Ie-Ue]}E+=U}}function XS(j,E,L,U,Z,ae){yf(j,E,L,1,16,U,Z,ae)}function g0(j,E,L,U,Z,ae){yf(j,E,1,L,16,U,Z,ae)}function JS(j,E,L,U,Z,ae){var oe;for(oe=3;0<oe;--oe)vf(j,E+=4*L,L,1,16,U,Z,ae)}function P(j,E,L,U,Z,ae){var oe;for(oe=3;0<oe;--oe)vf(j,E+=4,1,L,16,U,Z,ae)}function Q(j,E,L,U,Z,ae,oe,ue){yf(j,E,Z,1,8,ae,oe,ue),yf(L,U,Z,1,8,ae,oe,ue)}function ve(j,E,L,U,Z,ae,oe,ue){yf(j,E,1,Z,8,ae,oe,ue),yf(L,U,1,Z,8,ae,oe,ue)}function Ce(j,E,L,U,Z,ae,oe,ue){vf(j,E+4*Z,Z,1,8,ae,oe,ue),vf(L,U+4*Z,Z,1,8,ae,oe,ue)}function Be(j,E,L,U,Z,ae,oe,ue){vf(j,E+4,1,Z,8,ae,oe,ue),vf(L,U+4,1,Z,8,ae,oe,ue)}function nt(){this.ba=new ir,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new kr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function mt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Yt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function tr(){this.ua=0,this.Wa=new be,this.vb=new be,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new I}function xr(){this.xb=this.a=0,this.l=new Ol,this.ca=new ir,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new tr,this.ab=0,this.gc=i(4,Yt),this.Oc=0}function Er(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ol,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function tn(j,E,L,U,Z,ae,oe){for(j=j==null?0:j[E+0],E=0;E<oe;++E)Z[ae+E]=j+L[U+E]&255,j=Z[ae+E]}function _a(j,E,L,U,Z,ae,oe){var ue;if(j==null)tn(null,null,L,U,Z,ae,oe);else for(ue=0;ue<oe;++ue)Z[ae+ue]=j[E+ue]+L[U+ue]&255}function bs(j,E,L,U,Z,ae,oe){if(j==null)tn(null,null,L,U,Z,ae,oe);else{var ue,fe=j[E+0],xe=fe,Te=fe;for(ue=0;ue<oe;++ue)xe=Te+(fe=j[E+ue])-xe,Te=L[U+ue]+(-256&xe?0>xe?0:255:xe)&255,xe=fe,Z[ae+ue]=Te}}function Kn(j,E,L,U){var Z=E.width,ae=E.o;if(t(j!=null&&E!=null),0>L||0>=U||L+U>ae)return null;if(!j.Cc){if(j.ga==null){var oe;if(j.ga=new Er,(oe=j.ga==null)||(oe=E.width*E.o,t(j.Gb.length==0),j.Gb=s(oe),j.Uc=0,j.Gb==null?oe=0:(j.mb=j.Gb,j.nb=j.Uc,j.rc=null,oe=1),oe=!oe),!oe){oe=j.ga;var ue=j.Fa,fe=j.P,xe=j.qc,Te=j.mb,qe=j.nb,ye=fe+1,Ie=xe-1,He=oe.l;if(t(ue!=null&&Te!=null&&E!=null),xp[0]=null,xp[1]=tn,xp[2]=_a,xp[3]=bs,oe.ca=Te,oe.tb=qe,oe.c=E.width,oe.i=E.height,t(0<oe.c&&0<oe.i),1>=xe)E=0;else if(oe.$a=3&ue[fe+0],oe.Z=ue[fe+0]>>2&3,oe.Lc=ue[fe+0]>>4&3,fe=ue[fe+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||fe)E=0;else if(He.put=yt,He.ac=Zt,He.bc=br,He.ma=oe,He.width=E.width,He.height=E.height,He.Da=E.Da,He.v=E.v,He.va=E.va,He.j=E.j,He.o=E.o,oe.$a)e:{t(oe.$a==1),E=Le();t:for(;;){if(E==null){E=0;break e}if(t(oe!=null),oe.mc=E,E.c=oe.c,E.i=oe.i,E.l=oe.l,E.l.ma=oe,E.l.width=oe.c,E.l.height=oe.i,E.a=0,J(E.m,ue,ye,Ie),!De(oe.c,oe.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&ne(E.s)?(oe.ic=1,ue=E.c*E.i,E.Ta=null,E.Ua=0,E.V=s(ue),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(oe.ic=0,E=Ee(E,oe.c)),!E))break t;E=1;break e}oe.mc=null,E=0}else E=Ie>=oe.c*oe.i;oe=!E}if(oe)return null;j.ga.Lc!=1?j.Ga=0:U=ae-L}t(j.ga!=null),t(L+U<=ae);e:{if(E=(ue=j.ga).c,ae=ue.l.o,ue.$a==0){if(ye=j.rc,Ie=j.Vc,He=j.Fa,fe=j.P+1+L*E,xe=j.mb,Te=j.nb+L*E,t(fe<=j.P+j.qc),ue.Z!=0)for(t(xp[ue.Z]!=null),oe=0;oe<U;++oe)xp[ue.Z](ye,Ie,He,fe,xe,Te,E),ye=xe,Ie=Te,Te+=E,fe+=E;else for(oe=0;oe<U;++oe)n(xe,Te,He,fe,E),ye=xe,Ie=Te,Te+=E,fe+=E;j.rc=ye,j.Vc=Ie}else{if(t(ue.mc!=null),E=L+U,t((oe=ue.mc)!=null),t(E<=oe.i),oe.C>=E)E=1;else if(ue.ic||Ed(),ue.ic){ue=oe.V,ye=oe.Ba,Ie=oe.c;var tt=oe.i,Ue=(He=1,fe=oe.$/Ie,xe=oe.$%Ie,Te=oe.m,qe=oe.s,oe.$),rt=Ie*tt,at=Ie*E,jt=qe.wc,gt=Ue<at?K(qe,xe,fe):null;t(Ue<=rt),t(E<=tt),t(ne(qe));t:for(;;){for(;!Te.h&&Ue<at;){if(xe&jt||(gt=K(qe,xe,fe)),t(gt!=null),te(Te),256>(tt=$e(gt.G[0],gt.H[0],Te)))ue[ye+Ue]=tt,++Ue,++xe>=Ie&&(xe=0,++fe<=E&&!(fe%16)&&le(oe,fe));else{if(!(280>tt)){He=0;break t}tt=_e(tt-256,Te);var rr,Ht=$e(gt.G[4],gt.H[4],Te);if(te(Te),!(Ue>=(Ht=Ae(Ie,Ht=_e(Ht,Te)))&&rt-Ue>=tt)){He=0;break t}for(rr=0;rr<tt;++rr)ue[ye+Ue+rr]=ue[ye+Ue+rr-Ht];for(Ue+=tt,xe+=tt;xe>=Ie;)xe-=Ie,++fe<=E&&!(fe%16)&&le(oe,fe);Ue<at&&xe&jt&&(gt=K(qe,xe,fe))}t(Te.h==H(Te))}le(oe,fe>E?E:fe);break t}!He||Te.h&&Ue<rt?(He=0,oe.a=Te.h?5:3):oe.$=Ue,E=He}else E=ke(oe,oe.V,oe.Ba,oe.c,oe.i,E,Je);if(!E){U=0;break e}}L+U>=ae&&(j.Cc=1),U=1}if(!U)return null;if(j.Cc&&((U=j.ga)!=null&&(U.mc=null),j.ga=null,0<j.Ga))return alert("todo:WebPDequantizeLevels"),null}return j.nb+L*Z}function Bs(j,E,L,U,Z,ae){for(;0<Z--;){var oe,ue=j,fe=E+(L?1:0),xe=j,Te=E+(L?0:3);for(oe=0;oe<U;++oe){var qe=xe[Te+4*oe];qe!=255&&(qe*=32897,ue[fe+4*oe+0]=ue[fe+4*oe+0]*qe>>23,ue[fe+4*oe+1]=ue[fe+4*oe+1]*qe>>23,ue[fe+4*oe+2]=ue[fe+4*oe+2]*qe>>23)}E+=ae}}function ws(j,E,L,U,Z){for(;0<U--;){var ae;for(ae=0;ae<L;++ae){var oe=j[E+2*ae+0],ue=15&(xe=j[E+2*ae+1]),fe=4369*ue,xe=(240&xe|xe>>4)*fe>>16;j[E+2*ae+0]=(240&oe|oe>>4)*fe>>16&240|(15&oe|oe<<4)*fe>>16>>4&15,j[E+2*ae+1]=240&xe|ue}E+=Z}}function Ei(j,E,L,U,Z,ae,oe,ue){var fe,xe,Te=255;for(xe=0;xe<Z;++xe){for(fe=0;fe<U;++fe){var qe=j[E+fe];ae[oe+4*fe]=qe,Te&=qe}E+=L,oe+=ue}return Te!=255}function bf(j,E,L,U,Z){var ae;for(ae=0;ae<Z;++ae)L[U+ae]=j[E+ae]>>8}function Ed(){h1=Bs,Oz=ws,Pz=Ei,Rz=bf}function wf(j,E,L){A[j]=function(U,Z,ae,oe,ue,fe,xe,Te,qe,ye,Ie,He,tt,Ue,rt,at,jt){var gt,rr=jt-1>>1,Ht=ue[fe+0]|xe[Te+0]<<16,Mr=qe[ye+0]|Ie[He+0]<<16;t(U!=null);var Xt=3*Ht+Mr+131074>>2;for(E(U[Z+0],255&Xt,Xt>>16,tt,Ue),ae!=null&&(Xt=3*Mr+Ht+131074>>2,E(ae[oe+0],255&Xt,Xt>>16,rt,at)),gt=1;gt<=rr;++gt){var Xr=ue[fe+gt]|xe[Te+gt]<<16,$s=qe[ye+gt]|Ie[He+gt]<<16,Or=Ht+Xr+Mr+$s+524296,Jt=Or+2*(Xr+Mr)>>3;Xt=Jt+Ht>>1,Ht=(Or=Or+2*(Ht+$s)>>3)+Xr>>1,E(U[Z+2*gt-1],255&Xt,Xt>>16,tt,Ue+(2*gt-1)*L),E(U[Z+2*gt-0],255&Ht,Ht>>16,tt,Ue+(2*gt-0)*L),ae!=null&&(Xt=Or+Mr>>1,Ht=Jt+$s>>1,E(ae[oe+2*gt-1],255&Xt,Xt>>16,rt,at+(2*gt-1)*L),E(ae[oe+2*gt+0],255&Ht,Ht>>16,rt,at+(2*gt+0)*L)),Ht=Xr,Mr=$s}1&jt||(Xt=3*Ht+Mr+131074>>2,E(U[Z+jt-1],255&Xt,Xt>>16,tt,Ue+(jt-1)*L),ae!=null&&(Xt=3*Mr+Ht+131074>>2,E(ae[oe+jt-1],255&Xt,Xt>>16,rt,at+(jt-1)*L)))}}function r1(){Fc[rj]=upe,Fc[nj]=Wz,Fc[Hz]=fpe,Fc[aj]=Yz,Fc[sj]=Gz,Fc[z3]=Kz,Fc[$z]=hpe,Fc[B3]=Wz,Fc[H3]=Yz,Fc[ij]=Gz,Fc[$3]=Kz}function Bx(j){return j&-16384?0>j?0:255:j>>ppe}function op(j,E){return Bx((19077*j>>8)+(26149*E>>8)-14234)}function x0(j,E,L){return Bx((19077*j>>8)-(6419*E>>8)-(13320*L>>8)+8708)}function y0(j,E){return Bx((19077*j>>8)+(33050*E>>8)-17685)}function lp(j,E,L,U,Z){U[Z+0]=op(j,L),U[Z+1]=x0(j,E,L),U[Z+2]=y0(j,E)}function Ti(j,E,L,U,Z){U[Z+0]=y0(j,E),U[Z+1]=x0(j,E,L),U[Z+2]=op(j,L)}function v0(j,E,L,U,Z){var ae=x0(j,E,L);E=ae<<3&224|y0(j,E)>>3,U[Z+0]=248&op(j,L)|ae>>5,U[Z+1]=E}function b0(j,E,L,U,Z){var ae=240&y0(j,E)|15;U[Z+0]=240&op(j,L)|x0(j,E,L)>>4,U[Z+1]=ae}function n1(j,E,L,U,Z){U[Z+0]=255,lp(j,E,L,U,Z+1)}function a1(j,E,L,U,Z){Ti(j,E,L,U,Z),U[Z+3]=255}function _o(j,E,L,U,Z){lp(j,E,L,U,Z),U[Z+3]=255}function Nf(j,E,L){A[j]=function(U,Z,ae,oe,ue,fe,xe,Te,qe){for(var ye=Te+(-2&qe)*L;Te!=ye;)E(U[Z+0],ae[oe+0],ue[fe+0],xe,Te),E(U[Z+1],ae[oe+0],ue[fe+0],xe,Te+L),Z+=2,++oe,++fe,Te+=2*L;1&qe&&E(U[Z+0],ae[oe+0],ue[fe+0],xe,Te)}}function Hx(j,E,L){return L==0?j==0?E==0?6:5:E==0?4:0:L}function QS(j,E,L,U,Z){switch(j>>>30){case 3:j0(E,L,U,Z,0);break;case 2:Lc(E,L,U,Z);break;case 1:mn(E,L,U,Z)}}function Rc(j,E){var L,U,Z=E.M,ae=E.Nb,oe=j.oc,ue=j.pc+40,fe=j.oc,xe=j.pc+584,Te=j.oc,qe=j.pc+600;for(L=0;16>L;++L)oe[ue+32*L-1]=129;for(L=0;8>L;++L)fe[xe+32*L-1]=129,Te[qe+32*L-1]=129;for(0<Z?oe[ue-1-32]=fe[xe-1-32]=Te[qe-1-32]=129:(a(oe,ue-32-1,127,21),a(fe,xe-32-1,127,9),a(Te,qe-32-1,127,9)),U=0;U<j.za;++U){var ye=E.ya[E.aa+U];if(0<U){for(L=-1;16>L;++L)n(oe,ue+32*L-4,oe,ue+32*L+12,4);for(L=-1;8>L;++L)n(fe,xe+32*L-4,fe,xe+32*L+4,4),n(Te,qe+32*L-4,Te,qe+32*L+4,4)}var Ie=j.Gd,He=j.Hd+U,tt=ye.ad,Ue=ye.Hc;if(0<Z&&(n(oe,ue-32,Ie[He].y,0,16),n(fe,xe-32,Ie[He].f,0,8),n(Te,qe-32,Ie[He].ea,0,8)),ye.Za){var rt=oe,at=ue-32+16;for(0<Z&&(U>=j.za-1?a(rt,at,Ie[He].y[15],4):n(rt,at,Ie[He+1].y,0,4)),L=0;4>L;L++)rt[at+128+L]=rt[at+256+L]=rt[at+384+L]=rt[at+0+L];for(L=0;16>L;++L,Ue<<=2)rt=oe,at=ue+Jz[L],Td[ye.Ob[L]](rt,at),QS(Ue,tt,16*+L,rt,at)}else if(rt=Hx(U,Z,ye.Ob[0]),gp[rt](oe,ue),Ue!=0)for(L=0;16>L;++L,Ue<<=2)QS(Ue,tt,16*+L,oe,ue+Jz[L]);for(L=ye.Gc,rt=Hx(U,Z,ye.Dd),_f[rt](fe,xe),_f[rt](Te,qe),Ue=tt,rt=fe,at=xe,255&(ye=0|L)&&(170&ye?yu(Ue,256,rt,at):zn(Ue,256,rt,at)),ye=Te,Ue=qe,255&(L>>=8)&&(170&L?yu(tt,320,ye,Ue):zn(tt,320,ye,Ue)),Z<j.Ub-1&&(n(Ie[He].y,0,oe,ue+480,16),n(Ie[He].f,0,fe,xe+224,8),n(Ie[He].ea,0,Te,qe+224,8)),L=8*ae*j.B,Ie=j.sa,He=j.ta+16*U+16*ae*j.R,tt=j.qa,ye=j.ra+8*U+L,Ue=j.Ha,rt=j.Ia+8*U+L,L=0;16>L;++L)n(Ie,He+L*j.R,oe,ue+32*L,16);for(L=0;8>L;++L)n(tt,ye+L*j.B,fe,xe+32*L,8),n(Ue,rt+L*j.B,Te,qe+32*L,8)}}function w0(j,E,L,U,Z,ae,oe,ue,fe){var xe=[0],Te=[0],qe=0,ye=fe!=null?fe.kd:0,Ie=fe??new mt;if(j==null||12>L)return 7;Ie.data=j,Ie.w=E,Ie.ha=L,E=[E],L=[L],Ie.gb=[Ie.gb];e:{var He=E,tt=L,Ue=Ie.gb;if(t(j!=null),t(tt!=null),t(Ue!=null),Ue[0]=0,12<=tt[0]&&!r(j,He[0],"RIFF")){if(r(j,He[0]+8,"WEBP")){Ue=3;break e}var rt=Pe(j,He[0]+4);if(12>rt||4294967286<rt){Ue=3;break e}if(ye&&rt>tt[0]-8){Ue=7;break e}Ue[0]=rt,He[0]+=12,tt[0]-=12}Ue=0}if(Ue!=0)return Ue;for(rt=0<Ie.gb[0],L=L[0];;){e:{var at=j;tt=E,Ue=L;var jt=xe,gt=Te,rr=He=[0];if((Xt=qe=[qe])[0]=0,8>Ue[0])Ue=7;else{if(!r(at,tt[0],"VP8X")){if(Pe(at,tt[0]+4)!=10){Ue=3;break e}if(18>Ue[0]){Ue=7;break e}var Ht=Pe(at,tt[0]+8),Mr=1+ze(at,tt[0]+12);if(2147483648<=Mr*(at=1+ze(at,tt[0]+15))){Ue=3;break e}rr!=null&&(rr[0]=Ht),jt!=null&&(jt[0]=Mr),gt!=null&&(gt[0]=at),tt[0]+=18,Ue[0]-=18,Xt[0]=1}Ue=0}}if(qe=qe[0],He=He[0],Ue!=0)return Ue;if(tt=!!(2&He),!rt&&qe)return 3;if(ae!=null&&(ae[0]=!!(16&He)),oe!=null&&(oe[0]=tt),ue!=null&&(ue[0]=0),oe=xe[0],He=Te[0],qe&&tt&&fe==null){Ue=0;break}if(4>L){Ue=7;break}if(rt&&qe||!rt&&!qe&&!r(j,E[0],"ALPH")){L=[L],Ie.na=[Ie.na],Ie.P=[Ie.P],Ie.Sa=[Ie.Sa];e:{Ht=j,Ue=E,rt=L;var Xt=Ie.gb;jt=Ie.na,gt=Ie.P,rr=Ie.Sa,Mr=22,t(Ht!=null),t(rt!=null),at=Ue[0];var Xr=rt[0];for(t(jt!=null),t(rr!=null),jt[0]=null,gt[0]=null,rr[0]=0;;){if(Ue[0]=at,rt[0]=Xr,8>Xr){Ue=7;break e}var $s=Pe(Ht,at+4);if(4294967286<$s){Ue=3;break e}var Or=8+$s+1&-2;if(Mr+=Or,0<Xt&&Mr>Xt){Ue=3;break e}if(!r(Ht,at,"VP8 ")||!r(Ht,at,"VP8L")){Ue=0;break e}if(Xr[0]<Or){Ue=7;break e}r(Ht,at,"ALPH")||(jt[0]=Ht,gt[0]=at+8,rr[0]=$s),at+=Or,Xr-=Or}}if(L=L[0],Ie.na=Ie.na[0],Ie.P=Ie.P[0],Ie.Sa=Ie.Sa[0],Ue!=0)break}L=[L],Ie.Ja=[Ie.Ja],Ie.xa=[Ie.xa];e:if(Xt=j,Ue=E,rt=L,jt=Ie.gb[0],gt=Ie.Ja,rr=Ie.xa,Ht=Ue[0],at=!r(Xt,Ht,"VP8 "),Mr=!r(Xt,Ht,"VP8L"),t(Xt!=null),t(rt!=null),t(gt!=null),t(rr!=null),8>rt[0])Ue=7;else{if(at||Mr){if(Xt=Pe(Xt,Ht+4),12<=jt&&Xt>jt-12){Ue=3;break e}if(ye&&Xt>rt[0]-8){Ue=7;break e}gt[0]=Xt,Ue[0]+=8,rt[0]-=8,rr[0]=Mr}else rr[0]=5<=rt[0]&&Xt[Ht+0]==47&&!(Xt[Ht+4]>>5),gt[0]=rt[0];Ue=0}if(L=L[0],Ie.Ja=Ie.Ja[0],Ie.xa=Ie.xa[0],E=E[0],Ue!=0)break;if(4294967286<Ie.Ja)return 3;if(ue==null||tt||(ue[0]=Ie.xa?2:1),oe=[oe],He=[He],Ie.xa){if(5>L){Ue=7;break}ue=oe,ye=He,tt=ae,j==null||5>L?j=0:5<=L&&j[E+0]==47&&!(j[E+4]>>5)?(rt=[0],Xt=[0],jt=[0],J(gt=new R,j,E,L),ge(gt,rt,Xt,jt)?(ue!=null&&(ue[0]=rt[0]),ye!=null&&(ye[0]=Xt[0]),tt!=null&&(tt[0]=jt[0]),j=1):j=0):j=0}else{if(10>L){Ue=7;break}ue=He,j==null||10>L||!HS(j,E+3,L-3)?j=0:(ye=j[E+0]|j[E+1]<<8|j[E+2]<<16,tt=16383&(j[E+7]<<8|j[E+6]),j=16383&(j[E+9]<<8|j[E+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=Ie.Ja||!tt||!j?j=0:(oe&&(oe[0]=tt),ue&&(ue[0]=j),j=1))}if(!j||(oe=oe[0],He=He[0],qe&&(xe[0]!=oe||Te[0]!=He)))return 3;fe!=null&&(fe[0]=Ie,fe.offset=E-fe.w,t(4294967286>E-fe.w),t(fe.offset==fe.ha-L));break}return Ue==0||Ue==7&&qe&&fe==null?(ae!=null&&(ae[0]|=Ie.na!=null&&0<Ie.na.length),U!=null&&(U[0]=oe),Z!=null&&(Z[0]=He),0):Ue}function s1(j,E,L){var U=E.width,Z=E.height,ae=0,oe=0,ue=U,fe=Z;if(E.Da=j!=null&&0<j.Da,E.Da&&(ue=j.cd,fe=j.bd,ae=j.v,oe=j.j,11>L||(ae&=-2,oe&=-2),0>ae||0>oe||0>=ue||0>=fe||ae+ue>U||oe+fe>Z))return 0;if(E.v=ae,E.j=oe,E.va=ae+ue,E.o=oe+fe,E.U=ue,E.T=fe,E.da=j!=null&&0<j.da,E.da){if(!wt(ue,fe,L=[j.ib],ae=[j.hb]))return 0;E.ib=L[0],E.hb=ae[0]}return E.ob=j!=null&&j.ob,E.Kb=j==null||!j.Sd,E.da&&(E.ob=E.ib<3*U/4&&E.hb<3*Z/4,E.Kb=0),1}function i1(j){if(j==null)return 2;if(11>j.S){var E=j.f.RGBA;E.fb+=(j.height-1)*E.A,E.A=-E.A}else E=j.f.kb,j=j.height,E.O+=(j-1)*E.fa,E.fa=-E.fa,E.N+=(j-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(j-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(j-1)*E.lb,E.lb=-E.lb);return 0}function cp(j,E,L,U){if(U==null||0>=j||0>=E)return 2;if(L!=null){if(L.Da){var Z=L.cd,ae=L.bd,oe=-2&L.v,ue=-2&L.j;if(0>oe||0>ue||0>=Z||0>=ae||oe+Z>j||ue+ae>E)return 2;j=Z,E=ae}if(L.da){if(!wt(j,E,Z=[L.ib],ae=[L.hb]))return 2;j=Z[0],E=ae[0]}}U.width=j,U.height=E;e:{var fe=U.width,xe=U.height;if(j=U.S,0>=fe||0>=xe||!(j>=rj&&13>j))j=2;else{if(0>=U.Rd&&U.sd==null){oe=ae=Z=E=0;var Te=(ue=fe*Qz[j])*xe;if(11>j||(ae=(xe+1)/2*(E=(fe+1)/2),j==12&&(oe=(Z=fe)*xe)),(xe=s(Te+2*ae+oe))==null){j=1;break e}U.sd=xe,11>j?((fe=U.f.RGBA).eb=xe,fe.fb=0,fe.A=ue,fe.size=Te):((fe=U.f.kb).y=xe,fe.O=0,fe.fa=ue,fe.Fd=Te,fe.f=xe,fe.N=0+Te,fe.Ab=E,fe.Cd=ae,fe.ea=xe,fe.W=0+Te+ae,fe.Db=E,fe.Ed=ae,j==12&&(fe.F=xe,fe.J=0+Te+2*ae),fe.Tc=oe,fe.lb=Z)}if(E=1,Z=U.S,ae=U.width,oe=U.height,Z>=rj&&13>Z)if(11>Z)j=U.f.RGBA,E&=(ue=Math.abs(j.A))*(oe-1)+ae<=j.size,E&=ue>=ae*Qz[Z],E&=j.eb!=null;else{j=U.f.kb,ue=(ae+1)/2,Te=(oe+1)/2,fe=Math.abs(j.fa),xe=Math.abs(j.Ab);var qe=Math.abs(j.Db),ye=Math.abs(j.lb),Ie=ye*(oe-1)+ae;E&=fe*(oe-1)+ae<=j.Fd,E&=xe*(Te-1)+ue<=j.Cd,E=(E&=qe*(Te-1)+ue<=j.Ed)&fe>=ae&xe>=ue&qe>=ue,E&=j.y!=null,E&=j.f!=null,E&=j.ea!=null,Z==12&&(E&=ye>=ae,E&=Ie<=j.Tc,E&=j.F!=null)}else E=0;j=E?0:2}}return j!=0||L!=null&&L.fd&&(j=i1(U)),j}var N0=64,Pl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Rl=24,dp=32,Sf=8,up=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];we("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(j){return j},A.Predictor2=function(j,E,L){return E[L+0]},A.Predictor3=function(j,E,L){return E[L+1]},A.Predictor4=function(j,E,L){return E[L-1]},A.Predictor5=function(j,E,L){return Ge(Ge(j,E[L+1]),E[L+0])},A.Predictor6=function(j,E,L){return Ge(j,E[L-1])},A.Predictor7=function(j,E,L){return Ge(j,E[L+0])},A.Predictor8=function(j,E,L){return Ge(E[L-1],E[L+0])},A.Predictor9=function(j,E,L){return Ge(E[L+0],E[L+1])},A.Predictor10=function(j,E,L){return Ge(Ge(j,E[L-1]),Ge(E[L+0],E[L+1]))},A.Predictor11=function(j,E,L){var U=E[L+0];return 0>=st(U>>24&255,j>>24&255,(E=E[L-1])>>24&255)+st(U>>16&255,j>>16&255,E>>16&255)+st(U>>8&255,j>>8&255,E>>8&255)+st(255&U,255&j,255&E)?U:j},A.Predictor12=function(j,E,L){var U=E[L+0];return(Xe((j>>24&255)+(U>>24&255)-((E=E[L-1])>>24&255))<<24|Xe((j>>16&255)+(U>>16&255)-(E>>16&255))<<16|Xe((j>>8&255)+(U>>8&255)-(E>>8&255))<<8|Xe((255&j)+(255&U)-(255&E)))>>>0},A.Predictor13=function(j,E,L){var U=E[L-1];return(Ve((j=Ge(j,E[L+0]))>>24&255,U>>24&255)<<24|Ve(j>>16&255,U>>16&255)<<16|Ve(j>>8&255,U>>8&255)<<8|Ve(255&j,255&U))>>>0};var o1=A.PredictorAdd0;A.PredictorAdd1=Nt,we("Predictor2","PredictorAdd2"),we("Predictor3","PredictorAdd3"),we("Predictor4","PredictorAdd4"),we("Predictor5","PredictorAdd5"),we("Predictor6","PredictorAdd6"),we("Predictor7","PredictorAdd7"),we("Predictor8","PredictorAdd8"),we("Predictor9","PredictorAdd9"),we("Predictor10","PredictorAdd10"),we("Predictor11","PredictorAdd11"),we("Predictor12","PredictorAdd12"),we("Predictor13","PredictorAdd13");var $x=A.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(j){return j>>8&255},function(j){return j}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(j){return j},function(j){return j>>8&255});var ns,ZS=A.ColorIndexInverseTransform,gu=A.MapARGB,xu=A.VP8LColorIndexInverseTransformAlpha,l1=A.MapAlpha,c1=A.VP8LPredictorsAdd=[];c1.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var d1,u1,fp,hp,pp,S0,mp,j0,Lc,yu,mn,zn,as,Hs,jf,f1,Ux,ej,Cz,Az,Ez,Tz,Dz,Mz,h1,Oz,Pz,Rz,Lz=s(511),Iz=s(2041),Fz=s(225),zz=s(767),Bz=0,F3=Iz,tj=Fz,Ll=zz,Ic=Lz,rj=0,nj=1,Hz=2,aj=3,sj=4,z3=5,$z=6,B3=7,H3=8,ij=9,$3=10,Jhe=[2,3,7],Qhe=[3,3,11],Uz=[280,256,256,256,40],Zhe=[0,1,1,1,0],epe=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],tpe=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],rpe=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],npe=8,U3=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],V3=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],p1=null,ape=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],spe=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Vz=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ipe=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ope=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],lpe=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],cpe=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gp=[],Td=[],_f=[],dpe=1,qz=2,xp=[],Fc=[];wf("UpsampleRgbLinePair",lp,3),wf("UpsampleBgrLinePair",Ti,3),wf("UpsampleRgbaLinePair",_o,4),wf("UpsampleBgraLinePair",a1,4),wf("UpsampleArgbLinePair",n1,4),wf("UpsampleRgba4444LinePair",b0,2),wf("UpsampleRgb565LinePair",v0,2);var upe=A.UpsampleRgbLinePair,fpe=A.UpsampleBgrLinePair,Wz=A.UpsampleRgbaLinePair,Yz=A.UpsampleBgraLinePair,Gz=A.UpsampleArgbLinePair,Kz=A.UpsampleRgba4444LinePair,hpe=A.UpsampleRgb565LinePair,oj=16,lj=1<<oj-1,m1=-227,q3=482,ppe=6,Xz=0,mpe=s(256),gpe=s(256),xpe=s(256),ype=s(256),vpe=s(q3-m1),bpe=s(q3-m1);Nf("YuvToRgbRow",lp,3),Nf("YuvToBgrRow",Ti,3),Nf("YuvToRgbaRow",_o,4),Nf("YuvToBgraRow",a1,4),Nf("YuvToArgbRow",n1,4),Nf("YuvToRgba4444Row",b0,2),Nf("YuvToRgb565Row",v0,2);var Jz=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],cj=[0,2,8],wpe=[8,7,6,4,4,2,2,2,1,1,1,1],Npe=1;this.WebPDecodeRGBA=function(j,E,L,U,Z){var ae=nj,oe=new nt,ue=new ir;oe.ba=ue,ue.S=ae,ue.width=[ue.width],ue.height=[ue.height];var fe=ue.width,xe=ue.height,Te=new Ft;if(Te==null||j==null)var qe=2;else t(Te!=null),qe=w0(j,E,L,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if(qe!=0?fe=0:(fe!=null&&(fe[0]=Te.width[0]),xe!=null&&(xe[0]=Te.height[0]),fe=1),fe){ue.width=ue.width[0],ue.height=ue.height[0],U!=null&&(U[0]=ue.width),Z!=null&&(Z[0]=ue.height);e:{if(U=new Ol,(Z=new mt).data=j,Z.w=E,Z.ha=L,Z.kd=1,E=[0],t(Z!=null),((j=w0(Z.data,Z.w,Z.ha,null,null,null,E,null,Z))==0||j==7)&&E[0]&&(j=4),(E=j)==0){if(t(oe!=null),U.data=Z.data,U.w=Z.w+Z.offset,U.ha=Z.ha-Z.offset,U.put=yt,U.ac=Zt,U.bc=br,U.ma=oe,Z.xa){if((j=Le())==null){oe=1;break e}if(function(ye,Ie){var He=[0],tt=[0],Ue=[0];t:for(;;){if(ye==null)return 0;if(Ie==null)return ye.a=2,0;if(ye.l=Ie,ye.a=0,J(ye.m,Ie.data,Ie.w,Ie.ha),!ge(ye.m,He,tt,Ue)){ye.a=3;break t}if(ye.xb=qz,Ie.width=He[0],Ie.height=tt[0],!De(He[0],tt[0],1,ye,null))break t;return 1}return t(ye.a!=0),0}(j,U)){if(U=(E=cp(U.width,U.height,oe.Oa,oe.ba))==0){t:{U=j;r:for(;;){if(U==null){U=0;break t}if(t(U.s.yc!=null),t(U.s.Ya!=null),t(0<U.s.Wb),t((L=U.l)!=null),t((Z=L.ma)!=null),U.xb!=0){if(U.ca=Z.ba,U.tb=Z.tb,t(U.ca!=null),!s1(Z.Oa,L,aj)){U.a=2;break r}if(!Ee(U,L.width)||L.da)break r;if((L.da||ct(U.ca.S))&&Ed(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&Ed()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!ee(U.s.vb,U.s.Wa.Xa)){U.a=1;break r}U.xb=0}if(!ke(U,U.V,U.Ba,U.c,U.i,L.o,re))break r;Z.Dc=U.Ma,U=1;break t}t(U.a!=0),U=0}U=!U}U&&(E=j.a)}else E=j.a}else{if((j=new Rx)==null){oe=1;break e}if(j.Fa=Z.na,j.P=Z.P,j.qc=Z.Sa,pu(j,U)){if((E=cp(U.width,U.height,oe.Oa,oe.ba))==0){if(j.Aa=0,L=oe.Oa,t((Z=j)!=null),L!=null){if(0<(fe=0>(fe=L.Md)?0:100<fe?255:255*fe/100)){for(xe=Te=0;4>xe;++xe)12>(qe=Z.pb[xe]).lc&&(qe.ia=fe*wpe[0>qe.lc?0:qe.lc]>>3),Te|=qe.ia;Te&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=L.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}(function(ye,Ie){if(ye==null)return 0;if(Ie==null)return Ia(ye,2,"NULL VP8Io parameter in VP8Decode().");if(!ye.cb&&!pu(ye,Ie))return 0;if(t(ye.cb),Ie.ac==null||Ie.ac(Ie)){Ie.ob&&(ye.L=0);var He=cj[ye.L];if(ye.L==2?(ye.yb=0,ye.zb=0):(ye.yb=Ie.v-He>>4,ye.zb=Ie.j-He>>4,0>ye.yb&&(ye.yb=0),0>ye.zb&&(ye.zb=0)),ye.Va=Ie.o+15+He>>4,ye.Hb=Ie.va+15+He>>4,ye.Hb>ye.za&&(ye.Hb=ye.za),ye.Va>ye.Ub&&(ye.Va=ye.Ub),0<ye.L){var tt=ye.ed;for(He=0;4>He;++He){var Ue;if(ye.Qa.Cb){var rt=ye.Qa.Lb[He];ye.Qa.Fb||(rt+=tt.Tb)}else rt=tt.Tb;for(Ue=0;1>=Ue;++Ue){var at=ye.gd[He][Ue],jt=rt;if(tt.Pc&&(jt+=tt.vd[0],Ue&&(jt+=tt.od[0])),0<(jt=0>jt?0:63<jt?63:jt)){var gt=jt;0<tt.wb&&(gt=4<tt.wb?gt>>2:gt>>1)>9-tt.wb&&(gt=9-tt.wb),1>gt&&(gt=1),at.dd=gt,at.tc=2*jt+gt,at.ld=40<=jt?2:15<=jt?1:0}else at.tc=0;at.La=Ue}}}He=0}else Ia(ye,6,"Frame setup failed"),He=ye.a;if(He=He==0){if(He){ye.$c=0,0<ye.Aa||(ye.Ic=Npe);t:{He=ye.Ic,tt=4*(gt=ye.za);var rr=32*gt,Ht=gt+1,Mr=0<ye.L?gt*(0<ye.Aa?2:1):0,Xt=(ye.Aa==2?2:1)*gt;if((at=tt+832+(Ue=3*(16*He+cj[ye.L])/2*rr)+(rt=ye.Fa!=null&&0<ye.Fa.length?ye.Kc.c*ye.Kc.i:0))!=at)He=0;else{if(at>ye.Vb){if(ye.Vb=0,ye.Ec=s(at),ye.Fc=0,ye.Ec==null){He=Ia(ye,1,"no memory during frame initialization.");break t}ye.Vb=at}at=ye.Ec,jt=ye.Fc,ye.Ac=at,ye.Bc=jt,jt+=tt,ye.Gd=i(rr,ma),ye.Hd=0,ye.rb=i(Ht+1,pn),ye.sb=1,ye.wa=Mr?i(Mr,pr):null,ye.Y=0,ye.D.Nb=0,ye.D.wa=ye.wa,ye.D.Y=ye.Y,0<ye.Aa&&(ye.D.Y+=gt),t(!0),ye.oc=at,ye.pc=jt,jt+=832,ye.ya=i(Xt,or),ye.aa=0,ye.D.ya=ye.ya,ye.D.aa=ye.aa,ye.Aa==2&&(ye.D.aa+=gt),ye.R=16*gt,ye.B=8*gt,gt=(rr=cj[ye.L])*ye.R,rr=rr/2*ye.B,ye.sa=at,ye.ta=jt+gt,ye.qa=ye.sa,ye.ra=ye.ta+16*He*ye.R+rr,ye.Ha=ye.qa,ye.Ia=ye.ra+8*He*ye.B+rr,ye.$c=0,jt+=Ue,ye.mb=rt?at:null,ye.nb=rt?jt:null,t(jt+rt<=ye.Fc+ye.Vb),$S(ye),a(ye.Ac,ye.Bc,0,tt),He=1}}if(He){if(Ie.ka=0,Ie.y=ye.sa,Ie.O=ye.ta,Ie.f=ye.qa,Ie.N=ye.ra,Ie.ea=ye.Ha,Ie.Vd=ye.Ia,Ie.fa=ye.R,Ie.Rc=ye.B,Ie.F=null,Ie.J=0,!Bz){for(He=-255;255>=He;++He)Lz[255+He]=0>He?-He:He;for(He=-1020;1020>=He;++He)Iz[1020+He]=-128>He?-128:127<He?127:He;for(He=-112;112>=He;++He)Fz[112+He]=-16>He?-16:15<He?15:He;for(He=-255;510>=He;++He)zz[255+He]=0>He?0:255<He?255:He;Bz=1}mp=Ix,j0=_3,yu=mu,mn=VS,zn=qS,Lc=j3,as=XS,Hs=g0,jf=Q,f1=ve,Ux=JS,ej=P,Cz=Ce,Az=Be,Ez=m0,Tz=t1,Dz=GS,Mz=KS,Td[0]=O3,Td[1]=k3,Td[2]=D3,Td[3]=M3,Td[4]=pf,Td[5]=P3,Td[6]=mf,Td[7]=R3,Td[8]=Xb,Td[9]=Fx,gp[0]=E3,gp[1]=A3,gp[2]=Gb,gp[3]=WS,gp[4]=h0,gp[5]=Kb,gp[6]=T3,_f[0]=I3,_f[1]=C3,_f[2]=p0,_f[3]=L3,_f[4]=Qb,_f[5]=Jb,_f[6]=YS,He=1}else He=0}He&&(He=function(Xr,$s){for(Xr.M=0;Xr.M<Xr.Va;++Xr.M){var Or,Jt=Xr.Jc[Xr.M&Xr.Xb],Dt=Xr.m,ss=Xr;for(Or=0;Or<ss.za;++Or){var Cr=Dt,Zr=ss,na=Zr.Ac,Di=Zr.Bc+4*Or,ko=Zr.zc,Fa=Zr.ya[Zr.aa+Or];if(Zr.Qa.Bb?Fa.$b=ce(Cr,Zr.Pa.jb[0])?2+ce(Cr,Zr.Pa.jb[2]):ce(Cr,Zr.Pa.jb[1]):Fa.$b=0,Zr.kc&&(Fa.Ad=ce(Cr,Zr.Bd)),Fa.Za=!ce(Cr,145)+0,Fa.Za){var ro=Fa.Ob,Co=0;for(Zr=0;4>Zr;++Zr){var Us,rn=ko[0+Zr];for(Us=0;4>Us;++Us){rn=ope[na[Di+Us]][rn];for(var bn=Vz[ce(Cr,rn[0])];0<bn;)bn=Vz[2*bn+ce(Cr,rn[bn])];rn=-bn,na[Di+Us]=rn}n(ro,Co,na,Di,4),Co+=4,ko[0+Zr]=rn}}else rn=ce(Cr,156)?ce(Cr,128)?1:3:ce(Cr,163)?2:0,Fa.Ob[0]=rn,a(na,Di,rn,4),a(ko,0,rn,4);Fa.Dd=ce(Cr,142)?ce(Cr,114)?ce(Cr,183)?1:3:2:0}if(ss.m.Ka)return Ia(Xr,7,"Premature end-of-partition0 encountered.");for(;Xr.ja<Xr.za;++Xr.ja){if(ss=Jt,Cr=(Dt=Xr).rb[Dt.sb-1],na=Dt.rb[Dt.sb+Dt.ja],Or=Dt.ya[Dt.aa+Dt.ja],Di=Dt.kc?Or.Ad:0)Cr.la=na.la=0,Or.Za||(Cr.Na=na.Na=0),Or.Hc=0,Or.Gc=0,Or.ia=0;else{var za,wn;if(Cr=na,na=ss,Di=Dt.Pa.Xc,ko=Dt.ya[Dt.aa+Dt.ja],Fa=Dt.pb[ko.$b],Zr=ko.ad,ro=0,Co=Dt.rb[Dt.sb-1],rn=Us=0,a(Zr,ro,0,384),ko.Za)var Mi=0,Dd=Di[3];else{bn=s(16);var is=Cr.Na+Co.Na;if(is=p1(na,Di[1],is,Fa.Eb,0,bn,0),Cr.Na=Co.Na=(0<is)+0,1<is)mp(bn,0,Zr,ro);else{var Zo=bn[0]+3>>3;for(bn=0;256>bn;bn+=16)Zr[ro+bn]=Zo}Mi=1,Dd=Di[0]}var Bn=15&Cr.la,Vs=15&Co.la;for(bn=0;4>bn;++bn){var Il=1&Vs;for(Zo=wn=0;4>Zo;++Zo)Bn=Bn>>1|(Il=(is=p1(na,Dd,is=Il+(1&Bn),Fa.Sc,Mi,Zr,ro))>Mi)<<7,wn=wn<<2|(3<is?3:1<is?2:Zr[ro+0]!=0),ro+=16;Bn>>=4,Vs=Vs>>1|Il<<7,Us=(Us<<8|wn)>>>0}for(Dd=Bn,Mi=Vs>>4,za=0;4>za;za+=2){for(wn=0,Bn=Cr.la>>4+za,Vs=Co.la>>4+za,bn=0;2>bn;++bn){for(Il=1&Vs,Zo=0;2>Zo;++Zo)is=Il+(1&Bn),Bn=Bn>>1|(Il=0<(is=p1(na,Di[2],is,Fa.Qc,0,Zr,ro)))<<3,wn=wn<<2|(3<is?3:1<is?2:Zr[ro+0]!=0),ro+=16;Bn>>=2,Vs=Vs>>1|Il<<5}rn|=wn<<4*za,Dd|=Bn<<4<<za,Mi|=(240&Vs)<<za}Cr.la=Dd,Co.la=Mi,ko.Hc=Us,ko.Gc=rn,ko.ia=43690&rn?0:Fa.ia,Di=!(Us|rn)}if(0<Dt.L&&(Dt.wa[Dt.Y+Dt.ja]=Dt.gd[Or.$b][Or.Za],Dt.wa[Dt.Y+Dt.ja].La|=!Di),ss.Ka)return Ia(Xr,7,"Premature end-of-file encountered.")}if($S(Xr),Dt=$s,ss=1,Or=(Jt=Xr).D,Cr=0<Jt.L&&Jt.M>=Jt.zb&&Jt.M<=Jt.Va,Jt.Aa==0)t:{if(Or.M=Jt.M,Or.uc=Cr,Rc(Jt,Or),ss=1,Or=(wn=Jt.D).Nb,Cr=(rn=cj[Jt.L])*Jt.R,na=rn/2*Jt.B,bn=16*Or*Jt.R,Zo=8*Or*Jt.B,Di=Jt.sa,ko=Jt.ta-Cr+bn,Fa=Jt.qa,Zr=Jt.ra-na+Zo,ro=Jt.Ha,Co=Jt.Ia-na+Zo,Vs=(Bn=wn.M)==0,Us=Bn>=Jt.Va-1,Jt.Aa==2&&Rc(Jt,wn),wn.uc)for(Il=(is=Jt).D.M,t(is.D.uc),wn=is.yb;wn<is.Hb;++wn){Mi=wn,Dd=Il;var Ao=(Fl=(Oi=is).D).Nb;za=Oi.R;var Fl=Fl.wa[Fl.Y+Mi],zl=Oi.sa,el=Oi.ta+16*Ao*za+16*Mi,Bl=Fl.dd,Xn=Fl.tc;if(Xn!=0)if(t(3<=Xn),Oi.L==1)0<Mi&&Tz(zl,el,za,Xn+4),Fl.La&&Mz(zl,el,za,Xn),0<Dd&&Ez(zl,el,za,Xn+4),Fl.La&&Dz(zl,el,za,Xn);else{var Hl=Oi.B,Md=Oi.qa,_0=Oi.ra+8*Ao*Hl+8*Mi,kf=Oi.Ha,Oi=Oi.Ia+8*Ao*Hl+8*Mi;Ao=Fl.ld,0<Mi&&(Hs(zl,el,za,Xn+4,Bl,Ao),f1(Md,_0,kf,Oi,Hl,Xn+4,Bl,Ao)),Fl.La&&(ej(zl,el,za,Xn,Bl,Ao),Az(Md,_0,kf,Oi,Hl,Xn,Bl,Ao)),0<Dd&&(as(zl,el,za,Xn+4,Bl,Ao),jf(Md,_0,kf,Oi,Hl,Xn+4,Bl,Ao)),Fl.La&&(Ux(zl,el,za,Xn,Bl,Ao),Cz(Md,_0,kf,Oi,Hl,Xn,Bl,Ao))}}if(Jt.ia&&alert("todo:DitherRow"),Dt.put!=null){if(wn=16*Bn,Bn=16*(Bn+1),Vs?(Dt.y=Jt.sa,Dt.O=Jt.ta+bn,Dt.f=Jt.qa,Dt.N=Jt.ra+Zo,Dt.ea=Jt.Ha,Dt.W=Jt.Ia+Zo):(wn-=rn,Dt.y=Di,Dt.O=ko,Dt.f=Fa,Dt.N=Zr,Dt.ea=ro,Dt.W=Co),Us||(Bn-=rn),Bn>Dt.o&&(Bn=Dt.o),Dt.F=null,Dt.J=null,Jt.Fa!=null&&0<Jt.Fa.length&&wn<Bn&&(Dt.J=Kn(Jt,Dt,wn,Bn-wn),Dt.F=Jt.mb,Dt.F==null&&Dt.F.length==0)){ss=Ia(Jt,3,"Could not decode alpha data.");break t}wn<Dt.j&&(rn=Dt.j-wn,wn=Dt.j,t(!(1&rn)),Dt.O+=Jt.R*rn,Dt.N+=Jt.B*(rn>>1),Dt.W+=Jt.B*(rn>>1),Dt.F!=null&&(Dt.J+=Dt.width*rn)),wn<Bn&&(Dt.O+=Dt.v,Dt.N+=Dt.v>>1,Dt.W+=Dt.v>>1,Dt.F!=null&&(Dt.J+=Dt.v),Dt.ka=wn-Dt.j,Dt.U=Dt.va-Dt.v,Dt.T=Bn-wn,ss=Dt.put(Dt))}Or+1!=Jt.Ic||Us||(n(Jt.sa,Jt.ta-Cr,Di,ko+16*Jt.R,Cr),n(Jt.qa,Jt.ra-na,Fa,Zr+8*Jt.B,na),n(Jt.Ha,Jt.Ia-na,ro,Co+8*Jt.B,na))}if(!ss)return Ia(Xr,6,"Output aborted.")}return 1}(ye,Ie)),Ie.bc!=null&&Ie.bc(Ie),He&=1}return He?(ye.cb=0,He):0})(j,U)||(E=j.a)}}else E=j.a}E==0&&oe.Oa!=null&&oe.Oa.fd&&(E=i1(oe.ba))}oe=E}ae=oe!=0?null:11>ae?ue.f.RGBA.eb:ue.f.kb.y}else ae=null;return ae};var Qz=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(A,O){for(var D="",M=0;M<4;M++)D+=String.fromCharCode(A[O++]);return D}function u(A,O){return A[O+0]|A[O+1]<<8}function f(A,O){return(A[O+0]|A[O+1]<<8|A[O+2]<<16)>>>0}function p(A,O){return(A[O+0]|A[O+1]<<8|A[O+2]<<16|A[O+3]<<24)>>>0}new c;var h=[0],m=[0],g=[],x=new c,y=e,v=function(A,O){var D={},M=0,I=!1,z=0,Y=0;if(D.frames=[],!function(T,R){for(var F=0;F<4;F++)if(T[R+F]!="RIFF".charCodeAt(F))return!0;return!1}(A,O)){for(p(A,O+=4),O+=8;O<A.length;){var X=d(A,O),V=p(A,O+=4);O+=4;var G=V+(1&V);switch(X){case"VP8 ":case"VP8L":D.frames[M]===void 0&&(D.frames[M]={}),(q=D.frames[M]).src_off=I?Y:O-8,q.src_size=z+V+8,M++,I&&(I=!1,z=0,Y=0);break;case"VP8X":(q=D.header={}).feature_flags=A[O];var J=O+4;q.canvas_width=1+f(A,J),J+=3,q.canvas_height=1+f(A,J),J+=3;break;case"ALPH":I=!0,z=G+8,Y=O-8;break;case"ANIM":(q=D.header).bgcolor=p(A,O),J=O+4,q.loop_count=u(A,J),J+=2;break;case"ANMF":var B,q;(q=D.frames[M]={}).offset_x=2*f(A,O),O+=3,q.offset_y=2*f(A,O),O+=3,q.width=1+f(A,O),O+=3,q.height=1+f(A,O),O+=3,q.duration=f(A,O),O+=3,B=A[O++],q.dispose=1&B,q.blend=B>>1&1}X!="ANMF"&&(O+=G)}return D}}(y,0);v.response=y,v.rgbaoutput=!0,v.dataurl=!1;var w=v.header?v.header:null,N=v.frames?v.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],m=[w.canvas_width];for(var C=0;C<N.length&&N[C].blend!=0;C++);}var _=N[0],S=x.WebPDecodeRGBA(y,_.src_off,_.src_size,m,h);_.rgba=S,_.imgwidth=m[0],_.imgheight=h[0];for(var k=0;k<m[0]*h[0]*4;k++)g[k]=S[k];return this.width=m,this.height=h,this.data=g,this}(function(e){var t,r,n,a,s,i,l,c,d,u=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new c,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new i,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new i,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,i=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var f=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=T;Object.defineProperty(this,"pdf",{get:function(){return R}});var F=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return F},set:function(ee){F=!!ee}});var H=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return H},set:function(ee){H=!!ee}});var W=0;Object.defineProperty(this,"posX",{get:function(){return W},set:function(ee){isNaN(ee)||(W=ee)}});var te=0;Object.defineProperty(this,"posY",{get:function(){return te},set:function(ee){isNaN(ee)||(te=ee)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ee){var We;typeof ee=="number"?We=[ee,ee,ee,ee]:((We=new Array(4))[0]=ee[0],We[1]=ee.length>=2?ee[1]:We[0],We[2]=ee.length>=3?ee[2]:We[0],We[3]=ee.length>=4?ee[3]:We[1]),d.margin=We}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(ee){pe=ee}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(ee){se=ee}});var ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ce},set:function(ee){ce=ee}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ee){ee instanceof u&&(d=ee)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ee){d.path=ee}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(ee){Ne=ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ee){var We;We=p(ee),this.ctx.fillStyle=We.style,this.ctx.isFillTransparent=We.a===0,this.ctx.fillOpacity=We.a,this.pdf.setFillColor(We.r,We.g,We.b,{a:We.a}),this.pdf.setTextColor(We.r,We.g,We.b,{a:We.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ee){var We=p(ee);this.ctx.strokeStyle=We.style,this.ctx.isStrokeTransparent=We.a===0,this.ctx.strokeOpacity=We.a,We.a===0?this.pdf.setDrawColor(255,255,255):(We.a,this.pdf.setDrawColor(We.r,We.g,We.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ee){["butt","round","square"].indexOf(ee)!==-1&&(this.ctx.lineCap=ee,this.pdf.setLineCap(ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ee){isNaN(ee)||(this.ctx.lineWidth=ee,this.pdf.setLineWidth(ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ee){["bevel","round","miter"].indexOf(ee)!==-1&&(this.ctx.lineJoin=ee,this.pdf.setLineJoin(ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ee){isNaN(ee)||(this.ctx.miterLimit=ee,this.pdf.setMiterLimit(ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ee){this.ctx.textBaseline=ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ee){["right","end","center","left","start"].indexOf(ee)!==-1&&(this.ctx.textAlign=ee)}});var he=null,ze=null,Pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pe},set:function(ee){he=null,ze=null,Pe=ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ee){var We;if(this.ctx.font=ee,(We=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ee))!==null){var be=We[1];We[2];var wt=We[3],Qe=We[4];We[5];var me=We[6],we=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qe)[2];Qe=Math.floor(we==="px"?parseFloat(Qe)*this.pdf.internal.scaleFactor:we==="em"?parseFloat(Qe)*this.pdf.getFontSize():parseFloat(Qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qe);var Me=function(At){var cr,er,Gt=[],ar=At.trim();if(ar==="")return jD;if(ar in oU)return[oU[ar]];for(;ar!=="";){switch(er=null,cr=(ar=cU(ar)).charAt(0)){case'"':case"'":er=dAe(ar.substring(1),cr);break;default:er=uAe(ar)}if(er===null||(Gt.push(er[0]),(ar=cU(er[1]))!==""&&ar.charAt(0)!==","))return jD;ar=ar.replace(/^,/,"")}return Gt}(me);if(this.fontFaces){var Ge=function(At,cr){var er=At.getFontList(),Gt=JSON.stringify(er);if(he===null||ze!==Gt){var ar=function(Ke){var lt=[];return Object.keys(Ke).forEach(function(It){Ke[It].forEach(function(ct){var Rt=null;switch(ct){case"bold":Rt={family:It,weight:"bold"};break;case"italic":Rt={family:It,style:"italic"};break;case"bolditalic":Rt={family:It,weight:"bold",style:"italic"};break;case"":case"normal":Rt={family:It}}Rt!==null&&(Rt.ref={name:It,style:ct},lt.push(Rt))})}),lt}(er);he=function(Ke){for(var lt={},It=0;It<Ke.length;++It){var ct=SD(Ke[It]),Rt=ct.family,vr=ct.stretch,ir=ct.style,Ft=ct.weight;lt[Rt]=lt[Rt]||{},lt[Rt][vr]=lt[Rt][vr]||{},lt[Rt][vr][ir]=lt[Rt][vr][ir]||{},lt[Rt][vr][ir][Ft]=ct}return lt}(ar.concat(cr)),ze=Gt}return he}(this.pdf,this.fontFaces),Xe=Me.map(function(At){return{family:At,stretch:"normal",weight:wt,style:be}}),Ve=function(At,cr,er){for(var Gt=(er=er||{}).defaultFontFamily||"times",ar=Object.assign({},cAe,er.genericFontFamilies||{}),Ke=null,lt=null,It=0;It<cr.length;++It)if(ar[(Ke=SD(cr[It])).family]&&(Ke.family=ar[Ke.family]),At.hasOwnProperty(Ke.family)){lt=At[Ke.family];break}if(!(lt=lt||At[Gt]))throw new Error("Could not find a font-family for the rule '"+lU(Ke)+"' and default family '"+Gt+"'.");if(lt=function(ct,Rt){if(Rt[ct])return Rt[ct];var vr=E6[ct],ir=vr<=E6.normal?-1:1,Ft=iU(Rt,ere,vr,ir);if(!Ft)throw new Error("Could not find a matching font-stretch value for "+ct);return Ft}(Ke.stretch,lt),lt=function(ct,Rt){if(Rt[ct])return Rt[ct];for(var vr=Zte[ct],ir=0;ir<vr.length;++ir)if(Rt[vr[ir]])return Rt[vr[ir]];throw new Error("Could not find a matching font-style for "+ct)}(Ke.style,lt),!(lt=function(ct,Rt){if(Rt[ct])return Rt[ct];if(ct===400&&Rt[500])return Rt[500];if(ct===500&&Rt[400])return Rt[400];var vr=lAe[ct],ir=iU(Rt,tre,vr,ct<400?-1:1);if(!ir)throw new Error("Could not find a matching font-weight for value "+ct);return ir}(Ke.weight,lt)))throw new Error("Failed to resolve a font for the rule '"+lU(Ke)+"'.");return lt}(Ge,Xe);this.pdf.setFont(Ve.ref.name,Ve.ref.style)}else{var st="";(wt==="bold"||parseInt(wt,10)>=700||be==="bold")&&(st="bold"),be==="italic"&&(st+="italic"),st.length===0&&(st="normal");for(var Nt="",_t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<Me.length;vt++){if(this.pdf.internal.getFont(Me[vt],st,{noFallback:!0,disableWarning:!0})!==void 0){Nt=Me[vt];break}if(st==="bolditalic"&&this.pdf.internal.getFont(Me[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=Me[vt],st="bold";else if(this.pdf.internal.getFont(Me[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=Me[vt],st="normal";break}}if(Nt===""){for(var zt=0;zt<Me.length;zt++)if(_t[Me[zt]]){Nt=_t[Me[zt]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,st)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ee){this.ctx.globalCompositeOperation=ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ee){this.ctx.globalAlpha=ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ee){this.ctx.lineDashOffset=ee,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ee){this.ctx.lineDash=ee,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ee){this.ctx.ignoreClearRect=!!ee}})};f.prototype.setLineDash=function(T){this.lineDash=T},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){N.call(this,"fill",!1)},f.prototype.stroke=function(){N.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(T,R){if(isNaN(T)||isNaN(R))throw Hn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var F=this.ctx.transform.applyToPoint(new i(T,R));this.path.push({type:"mt",x:F.x,y:F.y}),this.ctx.lastPoint=new i(T,R)},f.prototype.closePath=function(){var T=new i(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&En(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){T=new i(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(T.x,T.y)},f.prototype.lineTo=function(T,R){if(isNaN(T)||isNaN(R))throw Hn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var F=this.ctx.transform.applyToPoint(new i(T,R));this.path.push({type:"lt",x:F.x,y:F.y}),this.ctx.lastPoint=new i(F.x,F.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},f.prototype.quadraticCurveTo=function(T,R,F,H){if(isNaN(F)||isNaN(H)||isNaN(T)||isNaN(R))throw Hn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var W=this.ctx.transform.applyToPoint(new i(F,H)),te=this.ctx.transform.applyToPoint(new i(T,R));this.path.push({type:"qct",x1:te.x,y1:te.y,x:W.x,y:W.y}),this.ctx.lastPoint=new i(W.x,W.y)},f.prototype.bezierCurveTo=function(T,R,F,H,W,te){if(isNaN(W)||isNaN(te)||isNaN(T)||isNaN(R)||isNaN(F)||isNaN(H))throw Hn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new i(W,te)),se=this.ctx.transform.applyToPoint(new i(T,R)),ce=this.ctx.transform.applyToPoint(new i(F,H));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:ce.x,y2:ce.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new i(pe.x,pe.y)},f.prototype.arc=function(T,R,F,H,W,te){if(isNaN(T)||isNaN(R)||isNaN(F)||isNaN(H)||isNaN(W))throw Hn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(te=!!te,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new i(T,R));T=pe.x,R=pe.y;var se=this.ctx.transform.applyToPoint(new i(0,F)),ce=this.ctx.transform.applyToPoint(new i(0,0));F=Math.sqrt(Math.pow(se.x-ce.x,2)+Math.pow(se.y-ce.y,2))}Math.abs(W-H)>=2*Math.PI&&(H=0,W=2*Math.PI),this.path.push({type:"arc",x:T,y:R,radius:F,startAngle:H,endAngle:W,counterclockwise:te})},f.prototype.arcTo=function(T,R,F,H,W){throw new Error("arcTo not implemented.")},f.prototype.rect=function(T,R,F,H){if(isNaN(T)||isNaN(R)||isNaN(F)||isNaN(H))throw Hn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,R),this.lineTo(T+F,R),this.lineTo(T+F,R+H),this.lineTo(T,R+H),this.lineTo(T,R),this.lineTo(T+F,R),this.lineTo(T,R)},f.prototype.fillRect=function(T,R,F,H){if(isNaN(T)||isNaN(R)||isNaN(F)||isNaN(H))throw Hn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var W={};this.lineCap!=="butt"&&(W.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(W.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,R,F,H),this.fill(),W.hasOwnProperty("lineCap")&&(this.lineCap=W.lineCap),W.hasOwnProperty("lineJoin")&&(this.lineJoin=W.lineJoin)}},f.prototype.strokeRect=function(T,R,F,H){if(isNaN(T)||isNaN(R)||isNaN(F)||isNaN(H))throw Hn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(T,R,F,H),this.stroke())},f.prototype.clearRect=function(T,R,F,H){if(isNaN(T)||isNaN(R)||isNaN(F)||isNaN(H))throw Hn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,R,F,H))},f.prototype.save=function(T){T=typeof T!="boolean"||T;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,F=0;F<this.pdf.internal.getNumberOfPages();F++)this.pdf.setPage(F+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var H=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=H}},f.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,F=0;F<this.pdf.internal.getNumberOfPages();F++)this.pdf.setPage(F+1),this.pdf.internal.out("Q");this.pdf.setPage(R),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(T){var R,F,H,W;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))R=0,F=0,H=0,W=0;else{var te=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(te!==null)R=parseInt(te[1]),F=parseInt(te[2]),H=parseInt(te[3]),W=1;else if((te=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)R=parseInt(te[1]),F=parseInt(te[2]),H=parseInt(te[3]),W=parseFloat(te[4]);else{if(W=1,typeof T=="string"&&T.charAt(0)!=="#"){var pe=new Wte(T);T=pe.ok?pe.toHex():"#000000"}T.length===4?(R=T.substring(1,2),R+=R,F=T.substring(2,3),F+=F,H=T.substring(3,4),H+=H):(R=T.substring(1,3),F=T.substring(3,5),H=T.substring(5,7)),R=parseInt(R,16),F=parseInt(F,16),H=parseInt(H,16)}}return{r:R,g:F,b:H,a:W,style:T}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(T,R,F,H){if(isNaN(R)||isNaN(F)||typeof T!="string")throw Hn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(H=isNaN(H)?void 0:H,!h.call(this)){var W=G(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;M.call(this,{text:T,x:R,y:F,scale:te,angle:W,align:this.textAlign,maxWidth:H})}},f.prototype.strokeText=function(T,R,F,H){if(isNaN(R)||isNaN(F)||typeof T!="string")throw Hn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){H=isNaN(H)?void 0:H;var W=G(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;M.call(this,{text:T,x:R,y:F,scale:te,renderingMode:"stroke",angle:W,align:this.textAlign,maxWidth:H})}},f.prototype.measureText=function(T){if(typeof T!="string")throw Hn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,F=this.pdf.internal.scaleFactor,H=R.internal.getFontSize(),W=R.getStringUnitWidth(T)*H/R.internal.scaleFactor;return new function(te){var pe=(te=te||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this}({width:W*=Math.round(96*F/72*1e4)/1e4})},f.prototype.scale=function(T,R){if(isNaN(T)||isNaN(R))throw Hn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var F=new c(T,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(F)},f.prototype.rotate=function(T){if(isNaN(T))throw Hn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new c(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.translate=function(T,R){if(isNaN(T)||isNaN(R))throw Hn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var F=new c(1,0,0,1,T,R);this.ctx.transform=this.ctx.transform.multiply(F)},f.prototype.transform=function(T,R,F,H,W,te){if(isNaN(T)||isNaN(R)||isNaN(F)||isNaN(H)||isNaN(W)||isNaN(te))throw Hn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new c(T,R,F,H,W,te);this.ctx.transform=this.ctx.transform.multiply(pe)},f.prototype.setTransform=function(T,R,F,H,W,te){T=isNaN(T)?1:T,R=isNaN(R)?0:R,F=isNaN(F)?0:F,H=isNaN(H)?1:H,W=isNaN(W)?0:W,te=isNaN(te)?0:te,this.ctx.transform=new c(T,R,F,H,W,te)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(T,R,F,H,W,te,pe,se,ce){var Ne=this.pdf.getImageProperties(T),he=1,ze=1,Pe=1,ee=1;H!==void 0&&se!==void 0&&(Pe=se/H,ee=ce/W,he=Ne.width/H*se/H,ze=Ne.height/W*ce/W),te===void 0&&(te=R,pe=F,R=0,F=0),H!==void 0&&se===void 0&&(se=H,ce=W),H===void 0&&se===void 0&&(se=Ne.width,ce=Ne.height);var We=this.ctx.transform.decompose(),be=G(We.rotate.shx),wt=new c,Qe=(wt=(wt=(wt=wt.multiply(We.translate)).multiply(We.skew)).multiply(We.scale)).applyToRectangle(new l(te-R*Pe,pe-F*ee,H*he,W*ze));if(this.autoPaging){for(var me,we=x.call(this,Qe),Me=[],Ge=0;Ge<we.length;Ge+=1)Me.indexOf(we[Ge])===-1&&Me.push(we[Ge]);w(Me);for(var Xe=Me[0],Ve=Me[Me.length-1],st=Xe;st<Ve+1;st++){this.pdf.setPage(st);var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=st===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=st===1?0:vt+(st-2)*zt;if(this.ctx.clip_path.length!==0){var cr=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(me,this.posX+this.margin[3],-At+_t+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=cr}var er=JSON.parse(JSON.stringify(Qe));er=v([er],this.posX+this.margin[3],-At+_t+this.ctx.prevPageLastElemOffset)[0];var Gt=(st>Xe||st<Ve)&&g.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,zt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",er.x,er.y,er.w,er.h,null,null,be),Gt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(T,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,be)};var x=function(T,R,F){var H=[];R=R||this.pdf.internal.pageSize.width,F=F||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var W=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":H.push(Math.floor((T.y+W)/F)+1);break;case"arc":H.push(Math.floor((T.y+W-T.radius)/F)+1),H.push(Math.floor((T.y+W+T.radius)/F)+1);break;case"qct":var te=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);H.push(Math.floor((te.y+W)/F)+1),H.push(Math.floor((te.y+te.h+W)/F)+1);break;case"bct":var pe=B(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);H.push(Math.floor((pe.y+W)/F)+1),H.push(Math.floor((pe.y+pe.h+W)/F)+1);break;case"rect":H.push(Math.floor((T.y+W)/F)+1),H.push(Math.floor((T.y+T.h+W)/F)+1)}for(var se=0;se<H.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<H[se];)y.call(this);return H},y=function(){var T=this.fillStyle,R=this.strokeStyle,F=this.font,H=this.lineCap,W=this.lineWidth,te=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=R,this.font=F,this.lineCap=H,this.lineWidth=W,this.lineJoin=te},v=function(T,R,F){for(var H=0;H<T.length;H++)switch(T[H].type){case"bct":T[H].x2+=R,T[H].y2+=F;case"qct":T[H].x1+=R,T[H].y1+=F;default:T[H].x+=R,T[H].y+=F}return T},w=function(T){return T.sort(function(R,F){return R-F})},N=function(T,R){var F=this.fillStyle,H=this.strokeStyle,W=this.lineCap,te=this.lineWidth,pe=Math.abs(te*this.ctx.transform.scaleX),se=this.lineJoin;if(this.autoPaging){for(var ce,Ne,he=JSON.parse(JSON.stringify(this.path)),ze=JSON.parse(JSON.stringify(this.path)),Pe=[],ee=0;ee<ze.length;ee++)if(ze[ee].x!==void 0)for(var We=x.call(this,ze[ee]),be=0;be<We.length;be+=1)Pe.indexOf(We[be])===-1&&Pe.push(We[be]);for(var wt=0;wt<Pe.length;wt++)for(;this.pdf.internal.getNumberOfPages()<Pe[wt];)y.call(this);w(Pe);for(var Qe=Pe[0],me=Pe[Pe.length-1],we=Qe;we<me+1;we++){this.pdf.setPage(we),this.fillStyle=F,this.strokeStyle=H,this.lineCap=W,this.lineWidth=pe,this.lineJoin=se;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=we===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=we===1?0:Xe+(we-2)*Ve;if(this.ctx.clip_path.length!==0){var Nt=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(ce,this.posX+this.margin[3],-st+Ge+this.ctx.prevPageLastElemOffset),C.call(this,T,!0),this.path=Nt}if(Ne=JSON.parse(JSON.stringify(he)),this.path=v(Ne,this.posX+this.margin[3],-st+Ge+this.ctx.prevPageLastElemOffset),R===!1||we===0){var _t=(we>Qe||we<me)&&g.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,Ve,null).clip().discardPath()),C.call(this,T,R),_t&&this.pdf.restoreGraphicsState()}this.lineWidth=te}this.path=he}else this.lineWidth=pe,C.call(this,T,R),this.lineWidth=te},C=function(T,R){if((T!=="stroke"||R||!m.call(this))&&(T==="stroke"||R||!h.call(this))){for(var F,H,W=[],te=this.path,pe=0;pe<te.length;pe++){var se=te[pe];switch(se.type){case"begin":W.push({begin:!0});break;case"close":W.push({close:!0});break;case"mt":W.push({start:se,deltas:[],abs:[]});break;case"lt":var ce=W.length;if(te[pe-1]&&!isNaN(te[pe-1].x)&&(F=[se.x-te[pe-1].x,se.y-te[pe-1].y],ce>0)){for(;ce>=0;ce--)if(W[ce-1].close!==!0&&W[ce-1].begin!==!0){W[ce-1].deltas.push(F),W[ce-1].abs.push(se);break}}break;case"bct":F=[se.x1-te[pe-1].x,se.y1-te[pe-1].y,se.x2-te[pe-1].x,se.y2-te[pe-1].y,se.x-te[pe-1].x,se.y-te[pe-1].y],W[W.length-1].deltas.push(F);break;case"qct":var Ne=te[pe-1].x+2/3*(se.x1-te[pe-1].x),he=te[pe-1].y+2/3*(se.y1-te[pe-1].y),ze=se.x+2/3*(se.x1-se.x),Pe=se.y+2/3*(se.y1-se.y),ee=se.x,We=se.y;F=[Ne-te[pe-1].x,he-te[pe-1].y,ze-te[pe-1].x,Pe-te[pe-1].y,ee-te[pe-1].x,We-te[pe-1].y],W[W.length-1].deltas.push(F);break;case"arc":W.push({deltas:[],abs:[],arc:!0}),Array.isArray(W[W.length-1].abs)&&W[W.length-1].abs.push(se)}}H=R?null:T==="stroke"?"stroke":"fill";for(var be=!1,wt=0;wt<W.length;wt++)if(W[wt].arc)for(var Qe=W[wt].abs,me=0;me<Qe.length;me++){var we=Qe[me];we.type==="arc"?k.call(this,we.x,we.y,we.radius,we.startAngle,we.endAngle,we.counterclockwise,void 0,R,!be):I.call(this,we.x,we.y),be=!0}else if(W[wt].close===!0)this.pdf.internal.out("h"),be=!1;else if(W[wt].begin!==!0){var Me=W[wt].start.x,Ge=W[wt].start.y;z.call(this,W[wt].deltas,Me,Ge),be=!0}H&&A.call(this,H),R&&O.call(this)}},_=function(T){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,F=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-F;case"top":return T+R-F;case"hanging":return T+R-2*F;case"middle":return T+R/2-F;default:return T}},S=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(R,F){this.colorStops.push([R,F])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(T,R,F,H,W,te,pe,se,ce){for(var Ne=X.call(this,F,H,W,te),he=0;he<Ne.length;he++){var ze=Ne[he];he===0&&(ce?D.call(this,ze.x1+T,ze.y1+R):I.call(this,ze.x1+T,ze.y1+R)),Y.call(this,T,R,ze.x2,ze.y2,ze.x3,ze.y3,ze.x4,ze.y4)}se?O.call(this):A.call(this,pe)},A=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(T,R){this.pdf.internal.out(r(T)+" "+n(R)+" m")},M=function(T){var R;switch(T.align){case"right":case"end":R="right";break;case"center":R="center";break;default:R="left"}var F,H,W,te=this.pdf.getTextDimensions(T.text),pe=_.call(this,T.y),se=S.call(this,pe)-te.h,ce=this.ctx.transform.applyToPoint(new i(T.x,pe));if(this.autoPaging){var Ne=this.ctx.transform.decompose(),he=new c;he=(he=(he=he.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale);for(var ze=this.ctx.transform.applyToRectangle(new l(T.x,pe,te.w,te.h)),Pe=he.applyToRectangle(new l(T.x,se,te.w,te.h)),ee=x.call(this,Pe),We=[],be=0;be<ee.length;be+=1)We.indexOf(ee[be])===-1&&We.push(ee[be]);w(We);for(var wt=We[0],Qe=We[We.length-1],me=wt;me<Qe+1;me++){this.pdf.setPage(me);var we=me===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[2],Xe=Ge-this.margin[0],Ve=this.pdf.internal.pageSize.width-this.margin[1],st=Ve-this.margin[3],Nt=me===1?0:Me+(me-2)*Xe;if(this.ctx.clip_path.length!==0){var _t=this.path;F=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(F,this.posX+this.margin[3],-1*Nt+we),C.call(this,"fill",!0),this.path=_t}var vt=v([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-Nt+we+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(H=this.pdf.internal.getFontSize(),this.pdf.setFontSize(H*T.scale),W=this.lineWidth,this.lineWidth=W*T.scale);var zt=this.autoPaging!=="text";if(zt||vt.y+vt.h<=Ge){if(zt||vt.y>=we&&vt.x<=Ve){var At=zt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Ve-vt.x)[0],cr=v([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-Nt+we+this.ctx.prevPageLastElemOffset)[0],er=zt&&(me>wt||me<Qe)&&g.call(this);er&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Xe,null).clip().discardPath()),this.pdf.text(At,cr.x,cr.y,{angle:T.angle,align:R,renderingMode:T.renderingMode}),er&&this.pdf.restoreGraphicsState()}}else vt.y<Ge&&(this.ctx.prevPageLastElemOffset+=Ge-vt.y);T.scale>=.01&&(this.pdf.setFontSize(H),this.lineWidth=W)}}else T.scale>=.01&&(H=this.pdf.internal.getFontSize(),this.pdf.setFontSize(H*T.scale),W=this.lineWidth,this.lineWidth=W*T.scale),this.pdf.text(T.text,ce.x+this.posX,ce.y+this.posY,{angle:T.angle,align:R,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(H),this.lineWidth=W)},I=function(T,R,F,H){F=F||0,H=H||0,this.pdf.internal.out(r(T+F)+" "+n(R+H)+" l")},z=function(T,R,F){return this.pdf.lines(T,R,F,null,null)},Y=function(T,R,F,H,W,te,pe,se){this.pdf.internal.out([t(a(F+T)),t(s(H+R)),t(a(W+T)),t(s(te+R)),t(a(pe+T)),t(s(se+R)),"c"].join(" "))},X=function(T,R,F,H){for(var W=2*Math.PI,te=Math.PI/2;R>F;)R-=W;var pe=Math.abs(F-R);pe<W&&H&&(pe=W-pe);for(var se=[],ce=H?-1:1,Ne=R;pe>1e-5;){var he=Ne+ce*Math.min(pe,te);se.push(V.call(this,T,Ne,he)),pe-=Math.abs(he-Ne),Ne=he}return se},V=function(T,R,F){var H=(F-R)/2,W=T*Math.cos(H),te=T*Math.sin(H),pe=W,se=-te,ce=pe*pe+se*se,Ne=ce+pe*W+se*te,he=4/3*(Math.sqrt(2*ce*Ne)-Ne)/(pe*te-se*W),ze=pe-he*se,Pe=se+he*pe,ee=ze,We=-Pe,be=H+R,wt=Math.cos(be),Qe=Math.sin(be);return{x1:T*Math.cos(R),y1:T*Math.sin(R),x2:ze*wt-Pe*Qe,y2:ze*Qe+Pe*wt,x3:ee*wt-We*Qe,y3:ee*Qe+We*wt,x4:T*Math.cos(F),y4:T*Math.sin(F)}},G=function(T){return 180*T/Math.PI},J=function(T,R,F,H,W,te){var pe=T+.5*(F-T),se=R+.5*(H-R),ce=W+.5*(F-W),Ne=te+.5*(H-te),he=Math.min(T,W,pe,ce),ze=Math.max(T,W,pe,ce),Pe=Math.min(R,te,se,Ne),ee=Math.max(R,te,se,Ne);return new l(he,Pe,ze-he,ee-Pe)},B=function(T,R,F,H,W,te,pe,se){var ce,Ne,he,ze,Pe,ee,We,be,wt,Qe,me,we,Me,Ge,Xe=F-T,Ve=H-R,st=W-F,Nt=te-H,_t=pe-W,vt=se-te;for(Ne=0;Ne<41;Ne++)wt=(We=(he=T+(ce=Ne/40)*Xe)+ce*((Pe=F+ce*st)-he))+ce*(Pe+ce*(W+ce*_t-Pe)-We),Qe=(be=(ze=R+ce*Ve)+ce*((ee=H+ce*Nt)-ze))+ce*(ee+ce*(te+ce*vt-ee)-be),Ne==0?(me=wt,we=Qe,Me=wt,Ge=Qe):(me=Math.min(me,wt),we=Math.min(we,Qe),Me=Math.max(Me,wt),Ge=Math.max(Ge,Qe));return new l(Math.round(me),Math.round(we),Math.round(Me-me),Math.round(Ge-we))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,R,F=(T=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:R}));this.prevLineDash!==F&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=F)}}})(nr.API),function(e){var t=function(i){var l,c,d,u,f,p,h,m,g,x;for(c=[],d=0,u=(i+=l="\0\0\0\0".slice(i.length%4||4)).length;u>d;d+=4)(f=(i.charCodeAt(d)<<24)+(i.charCodeAt(d+1)<<16)+(i.charCodeAt(d+2)<<8)+i.charCodeAt(d+3))!==0?(p=(f=((f=((f=((f=(f-(x=f%85))/85)-(g=f%85))/85)-(m=f%85))/85)-(h=f%85))/85)%85,c.push(p+33,h+33,m+33,g+33,x+33)):c.push(122);return function(y,v){for(var w=v;w>0;w--)y.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(i){var l,c,d,u,f,p=String,h="length",m=255,g="charCodeAt",x="slice",y="replace";for(i[x](-2),i=i[x](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),d=[],u=0,f=(i+=l="uuuuu"[x](i[h]%5||5))[h];f>u;u+=5)c=52200625*(i[g](u)-33)+614125*(i[g](u+1)-33)+7225*(i[g](u+2)-33)+85*(i[g](u+3)-33)+(i[g](u+4)-33),d.push(m&c>>24,m&c>>16,m&c>>8,m&c);return function(v,w){for(var N=w;N>0;N--)v.pop()}(d,l[h]),p.fromCharCode.apply(p,d)},n=function(i){return i.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(i){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),l.test(i)===!1)return"";for(var c="",d=0;d<i.length;d+=2)c+=String.fromCharCode("0x"+(i[d]+i[d+1]));return c},s=function(i){for(var l=new Uint8Array(i.length),c=i.length;c--;)l[c]=i.charCodeAt(c);return(l=N6(l)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,l){var c=0,d=i||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=s(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}}(nr.API),function(e){e.loadFile=function(t,r,n){return function(a,s,i){s=s!==!1,i=typeof i=="function"?i:function(){};var l=void 0;try{l=function(c,d,u){var f=new XMLHttpRequest,p=0,h=function(m){var g=m.length,x=[],y=String.fromCharCode;for(p=0;p<g;p+=1)x.push(y(255&m.charCodeAt(p)));return x.join("")};if(f.open("GET",c,!d),f.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(f.onload=function(){f.status===200?u(h(this.responseText)):u(void 0)}),f.send(null),d&&f.status===200)return h(f.responseText)}(a,s,i)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(nr.API),function(e){function t(){return(gr.html2canvas?Promise.resolve(gr.html2canvas):C_(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(gr.DOMPurify?Promise.resolve(gr.DOMPurify):C_(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=En(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var d=document.createElement(l);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},s=function l(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)d!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(l(f,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},i=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),d);return(u=u.setProgress(1,l,1,[l])).set(c)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(l,c){return l.__proto__=c||i.prototype,l},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(d){return this.set({src:a("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},i.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var m=u[h],g=m.src.find(function(x){return x.format==="truetype"});g&&d.addFont(g.url,m.ref.name,m.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,d.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},i.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},i.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},i.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in i.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},i.prototype.get=function(l,c){return this.then(function(){var d=l in i.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},i.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},i.prototype.setPageSize=function(l){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(l=l||nr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},i.prototype.setProgress=function(l,c,d,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(l,c,d,u){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(u,f){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return d.updateProgress(null,u),p}).then(u,f).then(function(p){return d.updateProgress(1),p})})},i.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:i.convert(Object.assign({},u),Promise.prototype),p=d.call(f,l,c);return i.convert(p,u.__proto__)},i.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},i.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},i.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return i.convert(c,this)},i.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},i.prototype.error=function(l){return this.then(function(){throw new Error(l)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,nr.getPageSize=function(l,c,d){if(En(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var f,p=(""+d).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var m,g=0,x=0;if(h.hasOwnProperty(p))g=h[p][1]/f,x=h[p][0]/f;else try{g=d[1],x=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",x>g&&(m=x,x=g,g=m);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>x&&(m=x,x=g,g=m)}return{width:x,height:g,unit:c,k:f,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(SD):null;var d=new i(c);return c.worker?d:d.from(l).doCallback()}}(nr.API),nr.API.addJS=function(e){return uU=e,this.internal.events.subscribe("postPutResources",function(){n5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(n5+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),dU=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+uU+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){n5!==void 0&&dU!==void 0&&this.internal.out("/Names <</JavaScript "+n5+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var i=a[s],l=n.exec(i);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(i)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(s=0;s<d;s++){var f=r.internal.newObject();u.push(f);var p=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<u.length;s++)r.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var i={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(i),i},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var i=n.children[s];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var l=this.count=this.count_r({count:0},i);if(l>0&&this.line("/Count "+l),i.options&&i.options.pageNumber){var c=r.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(nr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,s,i,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=i||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,g={width:0,height:0,numcomponents:1},x=4;x<m;x+=2){if(x+=h,t.indexOf(f.charCodeAt(x+1))!==-1){p=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),g={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:p,numcomponents:f.charCodeAt(x+9)};break}h=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:a}}return u}}(nr.API),nr.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,s=GCe(e,{checkCrc:!0}),i=s.width,l=s.height,c=s.channels,d=s.palette,u=s.depth;a=d&&c===1?function(k){for(var A=k.width,O=k.height,D=k.data,M=k.palette,I=k.depth,z=!1,Y=[],X=[],V=void 0,G=!1,J=0,B=0;B<M.length;B++){var q=m$(M[B],4),T=q[0],R=q[1],F=q[2],H=q[3];Y.push(T,R,F),H!=null&&(H===0?(J++,X.length<1&&X.push(B)):H<255&&(G=!0))}if(G||J>1){z=!0,X=void 0;var W=A*O;V=new Uint8Array(W);for(var te=new DataView(D.buffer),pe=0;pe<W;pe++){var se=_D(te,pe,I),ce=m$(M[se],4)[3];V[pe]=ce}}else J===0&&(X=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:D,alphaBytes:V,needSMask:z,palette:Y,mask:X}}(s):c===2||c===4?function(k){for(var A=k.data,O=k.width,D=k.height,M=k.channels,I=k.depth,z=M===2?"DeviceGray":"DeviceRGB",Y=M-1,X=O*D,V=Y,G=X*V,J=1*X,B=Math.ceil(G*I/8),q=Math.ceil(J*I/8),T=new Uint8Array(B),R=new Uint8Array(q),F=new DataView(A.buffer),H=new DataView(T.buffer),W=new DataView(R.buffer),te=!1,pe=0;pe<X;pe++){for(var se=pe*M,ce=0;ce<V;ce++)bU(H,_D(F,se+ce,I),pe*V+ce,I);var Ne=_D(F,se+V,I);Ne<(1<<I)-1&&(te=!0),bU(W,Ne,1*pe,I)}return{colorSpace:z,colorsPerPixel:Y,sMaskBitsPerComponent:te?I:void 0,colorBytes:T,alphaBytes:R,needSMask:te}}(s):function(k){var A=k.data,O=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:O,colorsPerPixel:O==="DeviceGray"?1:3,colorBytes:A instanceof Uint16Array?function(D){for(var M=D.length,I=new Uint8Array(2*M),z=new DataView(I.buffer,I.byteOffset,I.byteLength),Y=0;Y<M;Y++)z.setUint16(2*Y,D[Y],!1);return I}(A):A,needSMask:!1}}(s);var f,p,h,m=a,g=m.colorSpace,x=m.colorsPerPixel,y=m.sMaskBitsPerComponent,v=m.colorBytes,w=m.alphaBytes,N=m.needSMask,C=m.palette,_=m.mask,S=null;return n!==nr.API.image_compression.NONE&&typeof N6=="function"?(S=function(k){var A;switch(k){case nr.API.image_compression.FAST:A=11;break;case nr.API.image_compression.MEDIUM:A=13;break;case nr.API.image_compression.SLOW:A=14;break;default:A=12}return A}(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(S," /Colors ").concat(x," /BitsPerComponent ").concat(u," /Columns ").concat(i),e=mU(v,Math.ceil(i*x*u/8),x,u,n),N&&(h=mU(w,Math.ceil(i*y/8),1,y,n))):(f=void 0,p=void 0,e=v,N&&(h=w)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:f,decodeParameters:p,transparency:_,palette:C,sMask:h,predictor:S,width:i,height:l,bitsPerComponent:u,sMaskBitsPerComponent:y,colorSpace:g}}},function(e){e.processGIF89A=function(t,r,n,a){var s=new mAe(t),i=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:i,height:l},u=new kD(100).encode(d,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(nr.API),Pd.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pd.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Hn.log("bit decode error:"+r)}},Pd.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[i+4*l]=c.blue,this.data[i+4*l+1]=c.green,this.data[i+4*l+2]=c.red,this.data[i+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Pd.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,l=s>>4,c=15&s,d=this.palette[l];if(this.data[i]=d.blue,this.data[i+1]=d.green,this.data[i+2]=d.red,this.data[i+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[i+4]=d.blue,this.data[i+4+1]=d.green,this.data[i+4+2]=d.red,this.data[i+4+3]=255}t!==0&&(this.pos+=4-t)}},Pd.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Pd.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,d=s>>15?255:0,u=n*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=i,this.data[u+3]=d}this.pos+=e}},Pd.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,c=(i>>5&r)/r*255|0,d=(i>>11)/t*255|0,u=a*this.width*4+4*s;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},Pd.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},Pd.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=i}},Pd.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var s=new Pd(t,!1),i=s.width,l=s.height,c={data:s.getData(),width:i,height:l},d=new kD(100).encode(c,100);return e.processJPEG.call(this,d,r,n,a)}}(nr.API),NU.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var s=new NU(t),i=s.width,l=s.height,c={data:s.getData(),width:i,height:l},d=new kD(100).encode(c,100);return e.processJPEG.call(this,d,r,n,a)}}(nr.API),nr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),i=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=n[d],f=n[d+1],p=n[d+2],h=n[d+3];s[l++]=u,s[l++]=f,s[l++]=p,i[c++]=h}var m=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:m,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},nr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Zx=nr.API,a5=Zx.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,f=t.doKerning!==!1,p=0,h=e.length,m=0,g=l[0]||c,x=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/s)||0)/1e3):(p=f&&En(d[n])==="object"&&!isNaN(parseInt(d[n][m],10))?d[n][m]/u:0,x.push((l[n]||g)/c+p)),m=n;return x},fU=Zx.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Zx.processArabic&&(e=Zx.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:a5.apply(this,arguments).reduce(function(s,i){return s+i},0)},hU=function(e,t,r,n){for(var a=[],s=0,i=e.length,l=0;s!==i&&l+t[s]<r;)l+=t[s],s++;a.push(e.slice(0,s));var c=s;for(l=0;s!==i;)l+t[s]>n&&(a.push(e.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&a.push(e.slice(c,s)),a},pU=function(e,t,r){r||(r={});var n,a,s,i,l,c,d,u=[],f=[u],p=r.textIndent||0,h=0,m=0,g=e.split(" "),x=a5.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var y=Array(c).join(" "),v=[];g.map(function(N){(N=N.split(/\s*\n/)).length>1?v=v.concat(N.map(function(C,_){return(_&&C.length?`
`:"")+C})):v.push(N[0])}),g=v,c=fU.apply(this,[y,r])}for(s=0,i=g.length;s<i;s++){var w=0;if(n=g[s],c&&n[0]==`
`&&(n=n.substr(1),w=1),p+h+(m=(a=a5.apply(this,[n,r])).reduce(function(N,C){return N+C},0))>t||w){if(m>t){for(l=hU.apply(this,[n,a,t-(p+h),t]),u.push(l.shift()),u=[l.pop()];l.length;)f.push([l.shift()]);m=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(N,C){return N+C},0)}else u=[n];f.push(u),p=m+c,h=x}else u.push(n),p+=h+m,h=x}return d=c?function(N,C){return(C?y:"")+N.join(" ")}:function(N){return N.join(" ")},f.map(d)},Zx.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(pU.apply(this,[n[l],i,s]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},s=0;s<16;s++)n[r[s]]=t[s],a[t[s]]=r[s];var i=function(p){return"0x"+parseInt(p,10).toString(16)},l=e.__fontmetrics__.compress=function(p){var h,m,g,x,y=["{"];for(var v in p){if(h=p[v],isNaN(parseInt(v,10))?m="'"+v+"'":(v=parseInt(v,10),m=(m=i(v).slice(2)).slice(0,-1)+a[m.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),x="-"):(g=i(h).slice(2),x=""),g=x+g.slice(0,-1)+a[g.slice(-1)];else{if(En(h)!=="object")throw new Error("Don't know what to do with value type "+En(h)+".");g=l(h)}y.push(m+g)}return y.push("}"),y.join("")},c=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,m,g,x,y={},v=1,w=y,N=[],C="",_="",S=p.length-1,k=1;k<S;k+=1)(x=p[k])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(N.push([w,g]),w={},g=void 0):x=="}"?((m=N.pop())[0][m[1]]=w,g=void 0,w=m[0]):x=="-"?v=-1:g===void 0?n.hasOwnProperty(x)?(C+=n[x],g=parseInt(C,16)*v,v=1,C=""):C+=x:n.hasOwnProperty(x)?(_+=n[x],w[g]=parseInt(_,16)*v,v=1,g=void 0,_=""):_+=x;return y},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var h=p.font,m=f.Unicode[h.postScriptName];m&&(h.metadata.Unicode={},h.metadata.Unicode.widths=m.widths,h.metadata.Unicode.kerning=m.kerning);var g=u.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(nr.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(E_(l)),i.metadata=e.API.TTFFont.open(l),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,n)}}])}(nr),nr.API.addSvgAsImage=function(e,t,r,n,a,s,i,l){if(isNaN(t)||isNaN(r))throw Hn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Hn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(gr.canvg?Promise.resolve(gr.canvg):C_(()=>import("./index.es-D2kJslVn.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,r,n,a,i,l)})},nr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},nr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(i),c=[],d=0,u=0,f=0;function p(m,g){var x,y=!1;for(x=0;x<m.length;x+=1)m[x]===g&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=l.length;for(f=0;f<h;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(En(e)==="object"){for(a in e)if(s=e[a],p(l,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&p(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")c.push(String(s[d]-1));else if(s[d].length>1){for(u=0;u<s[d].length;u+=1)typeof s[d][u]!="number"&&(n=!1);n===!0&&c.push([s[d][0]-1,s[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?g.push("/"+m+" /"+r[m].value):g.push("/"+m+" "+r[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+i.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+s+i+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(nr.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,i){for(var l,c=i.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],f=0,p=s.length;f<p;++f){if(l=i.metadata.characterToGlyph(s.charCodeAt(f)),i.metadata.glyIdsUsed.push(l),i.metadata.toUnicode[l]=s.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(i.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(s){var i,l,c,d,u,f,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,p=(l=Object.keys(s).sort(function(h,m){return h-m})).length;f<p;f++)i=l[f],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[i]!==void 0&&s[i]!==null&&typeof s[i].toString=="function"&&(d=("0000"+s[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),c.push("<"+i+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(i){var l=i.font,c=i.out,d=i.newObject,u=i.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",m=0;m<p.length;m++)h+=String.fromCharCode(p[m]);var g=d();u({data:h,addLength1:!0,objectId:g}),c("endobj");var x=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var y=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+xy(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var v=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+xy(l.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+xy(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+v+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(i){var l=i.font,c=i.out,d=i.newObject,u=i.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var m=d();u({data:p,addLength1:!0,objectId:m}),c("endobj");var g=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var x=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+m+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+xy(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+xy(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var i,l=s.text||"",c=s.x,d=s.y,u=s.options||{},f=s.mutex||{},p=f.pdfEscape,h=f.activeFontKey,m=f.fonts,g=h,x="",y=0,v="",w=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:f};for(v=l,g=h,Array.isArray(l)&&(v=l[0]),y=0;y<v.length;y+=1)m[g].metadata.hasOwnProperty("cmap")&&(i=m[g].metadata.cmap.unicode.codeMap[v[y].charCodeAt(0)]),i||v[y].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?x+=v[y]:x+="";var N="";return parseInt(g.slice(1))<14||w==="WinAnsiEncoding"?N=p(x,g).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(N=r(x,m[g])),f.isHex=!0,{text:N,x:c,y:d,options:u,mutex:f}};t.events.push(["postProcessText",function(s){var i=s.text||"",l=[],c={text:i,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(i)){var d=0;for(d=0;d<i.length;d+=1)Array.isArray(i[d])&&i[d].length===3?l.push([a(Object.assign({},c,{text:i[d][0]})).text,i[d][1],i[d][2]]):l.push(a(Object.assign({},c,{text:i[d]})).text);s.text=l}else s.text=a(Object.assign({},c,{text:i})).text}])}(nr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(nr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,i,l,c,d,u,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,w=0;this.__bidiEngine__={};var N=function(D){var M=D.charCodeAt(),I=M>>8,z=g[I];return z!==void 0?f[256*z+(255&M)]:I===252||I===253?"AL":y.test(I)?"L":I===8?"R":"N"},C=function(D){for(var M,I=0;I<D.length;I++){if((M=N(D.charAt(I)))==="L")return!1;if(M==="R")return!0}return!1},_=function(D,M,I,z){var Y,X,V,G,J=M[z];switch(J){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"N":case"AN":break;case"EN":v&&(J="AN");break;case"AL":v=!0,J="R";break;case"WS":case"BN":J="N";break;case"CS":z<1||z+1>=M.length||(Y=I[z-1])!=="EN"&&Y!=="AN"||(X=M[z+1])!=="EN"&&X!=="AN"?J="N":v&&(X="AN"),J=X===Y?X:"N";break;case"ES":J=(Y=z>0?I[z-1]:"B")==="EN"&&z+1<M.length&&M[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&I[z-1]==="EN"){J="EN";break}if(v){J="N";break}for(V=z+1,G=M.length;V<G&&M[V]==="ET";)V++;J=V<G&&M[V]==="EN"?"EN":"N";break;case"NSM":if(i&&!l){for(G=M.length,V=z+1;V<G&&M[V]==="NSM";)V++;if(V<G){var B=D[z],q=B>=1425&&B<=2303||B===64286;if(Y=M[V],q&&(Y==="R"||Y==="AL")){J="R";break}}}J=z<1||(Y=M[z-1])==="B"?"N":I[z-1];break;case"B":v=!1,a=!0,J=w;break;case"S":s=!0,J="N"}return J},S=function(D,M,I){var z=D.split("");return I&&k(z,I,{hiLevel:w}),z.reverse(),M&&M.reverse(),z.join("")},k=function(D,M,I){var z,Y,X,V,G,J=-1,B=D.length,q=0,T=[],R=w?h:p,F=[];for(v=!1,a=!1,s=!1,Y=0;Y<B;Y++)F[Y]=N(D[Y]);for(X=0;X<B;X++){if(G=q,T[X]=_(D,F,T,X),z=240&(q=R[G][m[T[X]]]),q&=15,M[X]=V=R[q][5],z>0)if(z===16){for(Y=J;Y<X;Y++)M[Y]=1;J=-1}else J=-1;if(R[q][6])J===-1&&(J=X);else if(J>-1){for(Y=J;Y<X;Y++)M[Y]=V;J=-1}F[X]==="B"&&(M[X]=0),I.hiLevel|=V}s&&function(H,W,te){for(var pe=0;pe<te;pe++)if(H[pe]==="S"){W[pe]=w;for(var se=pe-1;se>=0&&H[se]==="WS";se--)W[se]=w}}(F,M,B)},A=function(D,M,I,z,Y){if(!(Y.hiLevel<D)){if(D===1&&w===1&&!a)return M.reverse(),void(I&&I.reverse());for(var X,V,G,J,B=M.length,q=0;q<B;){if(z[q]>=D){for(G=q+1;G<B&&z[G]>=D;)G++;for(J=q,V=G-1;J<V;J++,V--)X=M[J],M[J]=M[V],M[V]=X,I&&(X=I[J],I[J]=I[V],I[V]=X);q=G}q++}}},O=function(D,M,I){var z=D.split(""),Y={hiLevel:w};return I||(I=[]),k(z,I,Y),function(X,V,G){if(G.hiLevel!==0&&u)for(var J,B=0;B<X.length;B++)V[B]===1&&(J=x.indexOf(X[B]))>=0&&(X[B]=x[J+1])}(z,I,Y),A(2,z,M,I,Y),A(1,z,M,I,Y),z.join("")};return this.__bidiEngine__.doBidiReorder=function(D,M,I){if(function(Y,X){if(X)for(var V=0;V<Y.length;V++)X[V]=V;l===void 0&&(l=C(Y)),d===void 0&&(d=C(Y))}(D,M),i||!c||d)if(i&&c&&l^d)w=l?1:0,D=S(D,M,I);else if(!i&&c&&d)w=l?1:0,D=O(D,M,I),D=S(D,M);else if(!i||l||c||d){if(i&&!c&&l^d)D=S(D,M),l?(w=0,D=O(D,M,I)):(w=1,D=O(D,M,I),D=S(D,M));else if(i&&l&&!c&&d)w=1,D=O(D,M,I),D=S(D,M);else if(!i&&!c&&l^d){var z=u;l?(w=1,D=O(D,M,I),w=0,u=!1,D=O(D,M,I),u=z):(w=0,D=O(D,M,I),D=S(D,M),w=1,u=!1,D=O(D,M,I),u=z,D=S(D,M))}}else w=0,D=O(D,M,I);else w=l?1:0,D=O(D,M,I);return D},this.__bidiEngine__.setOptions=function(D){D&&(i=D.isInputVisual,c=D.isOutputVisual,l=D.isInputRtl,d=D.isOutputRtl,u=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var i=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(i=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?i.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):i.push([r.doBidiReorder(a[l])]);n.text=i}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(nr),nr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new $m(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new TAe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new gAe(this.contents),this.head=new yAe(this),this.name=new SAe(this),this.cmap=new nre(this),this.toUnicode={},this.hhea=new vAe(this),this.maxp=new jAe(this),this.hmtx=new _Ae(this),this.post=new wAe(this),this.os2=new bAe(this),this.loca=new EAe(this),this.glyf=new kAe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,l,c,d;for(d=[],i=0,l=(c=this.bbox).length;i<l;i++)t=c[i],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,s,i,l;for(i=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=t.charCodeAt(s),i+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return i*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var uu,$m=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,s,i,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^i)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*i+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,s;for(s=[],n=0,a=t.length;n<a;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),gAe=function(){var e;function t(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,s,i,l,c,d,u,f,p,h,m,g;for(g in h=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),i=Math.floor(f/c),u=16*h-f,(a=new $m).writeInt(this.scalarType),a.writeShort(h),a.writeShort(f),a.writeShort(i),a.writeShort(u),s=16*h,d=a.pos+s,l=null,m=[],r)for(p=r[g],a.writeString(g),a.writeInt(e(p)),a.writeInt(d),a.writeInt(p.length),m=m.concat(p),g==="head"&&(l=d),d+=p.length;d%4;)m.push(0),d++;return a.write(m),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,s,i;for(r=are.call(r);r.length%4;)r.push(0);for(s=new $m(r),a=0,n=0,i=r.length;n<i;n=n+=4)a+=s.readUInt32();return 4294967295&a},t}(),xAe={}.hasOwnProperty,ff=function(e,t){for(var r in t)xAe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};uu=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var yAe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ff(e,uu),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new $m).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),SU=function(){function e(t,r){var n,a,s,i,l,c,d,u,f,p,h,m,g,x,y,v,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),p=h/2,t.pos+=6,s=function(){var N,C;for(C=[],c=N=0;0<=p?N<p:N>p;c=0<=p?++N:--N)C.push(t.readUInt16());return C}(),t.pos+=2,g=function(){var N,C;for(C=[],c=N=0;0<=p?N<p:N>p;c=0<=p?++N:--N)C.push(t.readUInt16());return C}(),d=function(){var N,C;for(C=[],c=N=0;0<=p?N<p:N>p;c=0<=p?++N:--N)C.push(t.readUInt16());return C}(),u=function(){var N,C;for(C=[],c=N=0;0<=p?N<p:N>p;c=0<=p?++N:--N)C.push(t.readUInt16());return C}(),a=(this.length-t.pos+this.offset)/2,l=function(){var N,C;for(C=[],c=N=0;0<=a?N<a:N>a;c=0<=a?++N:--N)C.push(t.readUInt16());return C}(),c=y=0,w=s.length;y<w;c=++y)for(x=s[c],n=v=m=g[c];m<=x?v<=x:v>=x;n=m<=x?++v:--v)u[c]===0?i=n+d[c]:(i=l[u[c]/2+(n-m)-(p-c)]||0)!==0&&(i+=d[c]),this.codeMap[n]=65535&i}t.pos=f}return e.encode=function(t,r){var n,a,s,i,l,c,d,u,f,p,h,m,g,x,y,v,w,N,C,_,S,k,A,O,D,M,I,z,Y,X,V,G,J,B,q,T,R,F,H,W,te,pe,se,ce,Ne,he;switch(z=new $m,i=Object.keys(t).sort(function(ze,Pe){return ze-Pe}),r){case"macroman":for(g=0,x=function(){var ze=[];for(m=0;m<256;++m)ze.push(0);return ze}(),v={0:0},s={},Y=0,J=i.length;Y<J;Y++)v[se=t[a=i[Y]]]==null&&(v[se]=++g),s[a]={old:t[a],new:v[t[a]]},x[a]=v[t[a]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(x),{charMap:s,subtable:z.data,maxGlyphID:g+1};case"unicode":for(M=[],f=[],w=0,v={},n={},y=d=null,X=0,B=i.length;X<B;X++)v[C=t[a=i[X]]]==null&&(v[C]=++w),n[a]={old:C,new:v[C]},l=v[C]-a,y!=null&&l===d||(y&&f.push(y),M.push(a),d=l),y=a;for(y&&f.push(y),f.push(65535),M.push(65535),O=2*(A=M.length),k=2*Math.pow(Math.log(A)/Math.LN2,2),p=Math.log(k/2)/Math.LN2,S=2*A-k,c=[],_=[],h=[],m=V=0,q=M.length;V<q;m=++V){if(D=M[m],u=f[m],D===65535){c.push(0),_.push(0);break}if(D-(I=n[D].new)>=32768)for(c.push(0),_.push(2*(h.length+A-m)),a=G=D;D<=u?G<=u:G>=u;a=D<=u?++G:--G)h.push(n[a].new);else c.push(I-D),_.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*A+2*h.length),z.writeUInt16(0),z.writeUInt16(O),z.writeUInt16(k),z.writeUInt16(p),z.writeUInt16(S),te=0,T=f.length;te<T;te++)a=f[te],z.writeUInt16(a);for(z.writeUInt16(0),pe=0,R=M.length;pe<R;pe++)a=M[pe],z.writeUInt16(a);for(ce=0,F=c.length;ce<F;ce++)l=c[ce],z.writeUInt16(l);for(Ne=0,H=_.length;Ne<H;Ne++)N=_[Ne],z.writeUInt16(N);for(he=0,W=h.length;he<W;he++)g=h[he],z.writeUInt16(g);return{charMap:n,subtable:z.data,maxGlyphID:w+1}}},e}(),nre=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ff(e,uu),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new SU(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=SU.encode(t,r),(a=new $m).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e}(),vAe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ff(e,uu),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),bAe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ff(e,uu),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),wAe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ff(e,uu),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var i,l,c;for(c=[],s=i=0,l=this.file.maxp.numGlyphs;0<=l?i<l:i>l;s=0<=l?++i:--i)c.push(t.readUInt32());return c}).call(this)}},e}(),NAe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},SAe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ff(e,uu),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,s,i,l,c,d,u,f,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},s=u=0,f=n.length;u<f;s=++u)a=n[s],t.pos=a.offset,d=t.readString(a.length),i=new NAe(d,a),c[p=a.nameID]==null&&(c[p]=[]),c[a.nameID].push(i);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),jAe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ff(e,uu),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),_Ae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ff(e,uu),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,s,i,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,u;for(u=[],r=d=0;0<=a?d<a:d>a;r=0<=a?++d:--d)u.push(t.readInt16());return u}(),this.widths=(function(){var d,u,f,p;for(p=[],d=0,u=(f=this.metrics).length;d<u;d++)s=f[d],p.push(s.advance);return p}).call(this),n=this.widths[this.widths.length-1],c=[],r=i=0;0<=a?i<a:i>a;r=0<=a?++i:--i)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),are=[].slice,kAe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ff(e,uu),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,s,i,l,c,d,u,f;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(t),(a=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,i=(l=new $m(r.read(a))).readShort(),d=l.readShort(),f=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[t]=i===-1?new AAe(l,d,f,c,u):new CAe(l,i,d,f,c,u),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,s,i,l,c;for(i=[],s=[],l=0,c=r.length;l<c;l++)a=t[r[l]],s.push(i.length),a&&(i=i.concat(a.encode(n)));return s.push(i.length),{table:i,offsets:s}},e}(),CAe=function(){function e(t,r,n,a,s,i){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),AAe=function(){function e(t,r,n,a,s){var i,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;l=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&l;)i.pos+=1&l?4:2,128&l?i.pos+=8:64&l?i.pos+=4:8&l&&(i.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new $m(are.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),EAe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ff(e,uu),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,s=0,i=0;i<n.length;++i)if(n[i]=a,s<r.length&&r[s]==i){++s,n[i]=a;var l=this.offsets[i],c=this.offsets[i+1]-l;c>0&&(a+=c)}for(var d=new Array(4*n.length),u=0;u<n.length;++u)d[4*u+3]=255&n[u],d[4*u+2]=(65280&n[u])>>8,d[4*u+1]=(16711680&n[u])>>16,d[4*u]=(4278190080&n[u])>>24;return d},e}(),TAe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,s,i,l,c;for(a={},i=0,l=t.length;i<l;i++)a[s=t[i]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],a[s]=n;return a},e.prototype.encode=function(t,r){var n,a,s,i,l,c,d,u,f,p,h,m,g,x,y;for(a in n=nre.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(t),h={0:0},y=n.charMap)h[(c=y[a]).old]=c.new;for(m in p=n.maxGlyphID,i)m in h||(h[m]=p++);return u=function(v){var w,N;for(w in N={},v)N[v[w]]=w;return N}(h),f=Object.keys(u).sort(function(v,w){return v-w}),g=function(){var v,w,N;for(N=[],v=0,w=f.length;v<w;v++)l=f[v],N.push(u[l]);return N}(),s=this.font.glyf.encode(i,g,h),d=this.font.loca.encode(s.offsets,g),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();nr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,s,i;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)i=r[a],s.push("/"+a+" "+t.convert(i));return s.push(">>"),s.join(`
`)}return""+r},t}();function sre(e,t,r,n,a){n=n||{};var s=1.15,i=a.internal.scaleFactor,l=a.internal.getFontSize()/i,c=a.getLineHeightFactor?a.getLineHeightFactor():s,d=l*c,u=/\r\n|\r|\n/g,f="",p=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(u):e,p=f.length||1),r+=l*(2-s),n.valign==="middle"?r-=p/2*d:n.valign==="bottom"&&(r-=p*d),n.halign==="center"||n.halign==="right"){var h=l;if(n.halign==="center"&&(h*=.5),f&&p>=1){for(var m=0;m<f.length;m++)a.text(f[m],t-a.getStringUnitWidth(f[m])*h,r),r+=d;return a}t-=a.getStringUnitWidth(e)*h}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var jU={},ov=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:jU=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,s;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var i=this.jsPDFDocument.internal.getFont(),l=i.fontStyle,c=i.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(s=this.jsPDFDocument).setDrawColor.apply(s,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,s){return this.jsPDFDocument.rect(t,r,n,a,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return jU||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),T6=function(e,t){return T6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},T6(e,t)};function ire(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");T6(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ore=function(e){ire(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function DAe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function MAe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Kk(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,i){return Math.max(s,i)},0);return a}function lre(e,t,r,n){var a=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:s});var i=cre(a,!1);i&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,i)}function cre(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function $4(e,t){var r,n,a,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function dre(e,t){var r=$4(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function OAe(e,t,r,n,a){var s={},i=1.3333333333333333,l=CD(t,function(w){return a.getComputedStyle(w).backgroundColor});l!=null&&(s.fillColor=l);var c=CD(t,function(w){return a.getComputedStyle(w).color});c!=null&&(s.textColor=c);var d=RAe(n,r);d&&(s.cellPadding=d);var u="borderTopColor",f=i*r,p=n.borderTopWidth;if(n.borderBottomWidth===p&&n.borderRightWidth===p&&n.borderLeftWidth===p){var h=(parseFloat(p)||0)/f;h&&(s.lineWidth=h)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},s.lineWidth.top||(s.lineWidth.right?u="borderRightColor":s.lineWidth.bottom?u="borderBottomColor":s.lineWidth.left&&(u="borderLeftColor"));var m=CD(t,function(w){return a.getComputedStyle(w)[u]});m!=null&&(s.lineColor=m);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var x=parseInt(n.fontSize||"");isNaN(x)||(s.fontSize=x/i);var y=PAe(n);y&&(s.fontStyle=y);var v=(n.fontFamily||"").toLowerCase();return e.indexOf(v)!==-1&&(s.font=v),s}function PAe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function CD(e,t){var r=ure(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function ure(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:ure(e.parentElement,t):r}function RAe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(l){return parseInt(l||"0")/n}),i=$4(s,0);return a>i.top&&(i.top=a),a>i.bottom&&(i.bottom=a),i}function fre(e,t,r,n,a){var s,i;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),u=[],f=[],p=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:p};for(var h=0;h<l.rows.length;h++){var m=l.rows[h],g=(i=(s=m==null?void 0:m.parentElement)===null||s===void 0?void 0:s.tagName)===null||i===void 0?void 0:i.toLowerCase(),x=LAe(c,d,r,m,n,a);x&&(g==="thead"?u.push(x):g==="tfoot"?p.push(x):f.push(x))}return{head:u,body:f,foot:p}}function LAe(e,t,r,n,a,s){for(var i=new ore(n),l=0;l<n.cells.length;l++){var c=n.cells[l],d=r.getComputedStyle(c);if(a||d.display!=="none"){var u=void 0;s&&(u=OAe(e,c,t,d,r)),i.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:IAe(c)})}}var f=r.getComputedStyle(n);if(i.length>0&&(a||f.display!=="none"))return i}function IAe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function FAe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var s=a[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function oh(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),i=1;i<arguments.length;i++){var l=arguments[i];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])}return s}function hre(e,t){var r=new ov(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();FAe(a,n,t);var s=oh({},a,n,t),i;typeof window<"u"&&(i=window);var l=zAe(a,n,t),c=BAe(a,n,t),d=HAe(r,s),u=UAe(r,s,i);return{id:t.tableId,content:u,hooks:c,styles:l,settings:d}}function zAe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var d=e[c],u=t[c],f=r[c];n.columnStyles=oh({},d,u,f)}else{var p=[e,t,r],h=p.map(function(m){return m[c]||{}});n[c]=oh({},h[0],h[1],h[2])}},s=0,i=Object.keys(n);s<i.length;s++){var l=i[s];a(l)}return n}function BAe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,i=n;s<i.length;s++){var l=i[s];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function HAe(e,t){var r,n,a,s,i,l,c,d,u,f,p,h,m=$4(t.margin,40/e.scaleFactor()),g=(r=$Ae(e,t.startY))!==null&&r!==void 0?r:m.top,x;t.showFoot===!0?x="everyPage":t.showFoot===!1?x="never":x=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var v=(s=t.useCss)!==null&&s!==void 0?s:!1,w=t.theme||(v?"plain":"striped"),N=!!t.horizontalPageBreak,C=(i=t.horizontalPageBreakRepeat)!==null&&i!==void 0?i:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:v,theme:w,startY:g,margin:m,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:x,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(p=t.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:N,horizontalPageBreakRepeat:C,horizontalPageBreakBehaviour:(h=t.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function $Ae(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),s=!1;if(r&&r.startPageNumber){var i=r.startPageNumber+r.pageNumber-1;s=i===a}return typeof t=="number"?t:(t==null||t===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function UAe(e,t,r){var n=t.head||[],a=t.body||[],s=t.foot||[];if(t.html){var i=t.includeHiddenHtml;if(r){var l=fre(e,t.html,r,i,t.useCss)||{};n=l.head||n,a=l.body||n,s=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||VAe(n,a,s);return{columns:c,head:n,body:a,foot:s}}function VAe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var i=1,l;Array.isArray(n)?l=n[parseInt(s)]:l=n[s],typeof l=="object"&&!Array.isArray(l)&&(i=(l==null?void 0:l.colSpan)||1);for(var c=0;c<i;c++){var d=void 0;Array.isArray(n)?d=a.length:d=s+(c>0?"_".concat(c):"");var u={dataKey:d};a.push(u)}}),a}var D6=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),qAe=function(e){ire(t,e);function t(r,n,a,s,i,l){var c=e.call(this,r,n,l)||this;return c.cell=a,c.row=s,c.column=i,c.section=s.section,c}return t}(D6),WAe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,s,i){for(var l=0,c=r;l<c.length;l++){var d=c[l],u=new qAe(t,this,n,a,s,i),f=d(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var s=a[n];s(new D6(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var s=a[n];s(new D6(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),pre=function(){function e(t,r,n,a,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof ore&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var s;return Math.max(n,((s=r.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,s){var i=n.cells[s.index];if(!i)return 0;var l=r.getLineHeight(i.styles.fontSize),c=i.padding("vertical"),d=c+l;return d>a?d:a},0)},e}(),mre=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var i=s!=null?""+s:"",l=/\r\n|\r|\n/g;this.text=i.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,s=n*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=$4(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),YAe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var s=a[n],i=s.cells[this.index];i&&typeof i.styles.cellWidth=="number"&&(r=Math.max(r,i.styles.cellWidth))}return r},e}();function GAe(e,t){KAe(e,t);var r=[],n=0;t.columns.forEach(function(s){var i=s.getMaxCustomCellWidth(t);i?s.width=i:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=M6(r,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=M6(r,a,function(s){return s.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),JAe(t),QAe(t,e),XAe(t)}function KAe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=dre(e,t);t.allRows().forEach(function(s){for(var i=0,l=t.columns;i<l.length;i++){var c=l[i],d=s.cells[c.index];if(d){var u=t.hooks.didParseCell;t.callCellHooks(e,u,d,s,c,null);var f=d.padding("horizontal");d.contentWidth=Kk(d.text,d.styles,e)+f;var p=Kk(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=p+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var h=10/r;d.minWidth=d.styles.minCellWidth||h,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(s){for(var i=0,l=t.columns;i<l.length;i++){var c=l[i],d=s.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var u=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function M6(e,t,r){for(var n=t,a=e.reduce(function(h,m){return h+m.wrappedWidth},0),s=0;s<e.length;s++){var i=e[s],l=i.wrappedWidth/a,c=n*l,d=i.width+c,u=r(i),f=d<u?u:d;t-=f-i.width,i.width=f}if(t=Math.round(t*1e10)/1e10,t){var p=e.filter(function(h){return t<0?h.width>r(h):!0});p.length&&(t=M6(p,t,r))}return t}function XAe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var s=n[a],i=0,l=e.columns;i<l.length;i++){var c=l[i],d=t[c.index];if(r>1)r--,delete s.cells[c.index];else if(d)d.cell.height+=s.height,r=d.cell.colSpan,delete s.cells[c.index],d.left--,d.left<=1&&delete t[c.index];else{var u=s.cells[c.index];if(!u)continue;if(u.height=s.height,u.rowSpan>1){var f=n.length-a,p=u.rowSpan>f?f:u.rowSpan;t[c.index]={cell:u,left:p,row:s}}}}}function JAe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,s=0,i=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(i-=1,i>1&&e.columns[l+1])s+=c.width,delete n.cells[c.index];else if(a){var d=a;delete n.cells[c.index],a=null,d.width=c.width+s}else{var d=n.cells[c.index];if(!d)continue;if(i=d.colSpan,s=0,d.colSpan>1){a=d,s+=c.width;continue}d.width=c.width+s}}}function QAe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var s=a[n],i=0,l=e.columns;i<l.length;i++){var c=l[i],d=s.cells[c.index];if(d){t.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,u+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=_U(d.text,u,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=_U(d.text,u,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var f=d.styles.overflow(d.text,u);typeof f=="string"?d.text=[f]:d.text=f}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var p=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<p*d.rowSpan?r={height:p,count:d.rowSpan}:r&&r.count>0&&r.height>p&&(p=r.height),p>s.height&&(s.height=p)}}r.count--}}function _U(e,t,r,n,a){return e.map(function(s){return ZAe(s,t,r,n,a)})}function ZAe(e,t,r,n,a){var s=1e4*n.scaleFactor();if(t=Math.ceil(t*s)/s,t>=Kk(e,r,n))return e;for(;t<Kk(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function gre(e,t){var r=new ov(e),n=e4e(t,r.scaleFactor()),a=new WAe(t,n);return GAe(r,a),r.applyStyles(r.userStyles),a}function e4e(e,t){var r=e.content,n=r4e(r.columns);if(r.head.length===0){var a=kU(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=kU(n,"foot");a&&r.foot.push(a)}var s=e.settings.theme,i=e.styles;return{columns:n,head:AD("head",r.head,n,i,s,t),body:AD("body",r.body,n,i,s,t),foot:AD("foot",r.foot,n,i,s,t)}}function AD(e,t,r,n,a,s){var i={},l=t.map(function(c,d){for(var u=0,f={},p=0,h=0,m=0,g=r;m<g.length;m++){var x=g[m];if(i[x.index]==null||i[x.index].left===0)if(h===0){var y=void 0;Array.isArray(c)?y=c[x.index-p-u]:y=c[x.dataKey];var v={};typeof y=="object"&&!Array.isArray(y)&&(v=(y==null?void 0:y.styles)||{});var w=n4e(e,x,d,a,n,s,v),N=new mre(y,w,e);f[x.dataKey]=N,f[x.index]=N,h=N.colSpan-1,i[x.index]={left:N.rowSpan-1,times:h}}else h--,p++;else i[x.index].left--,h=i[x.index].times,u++}return new pre(c,d,e,f)});return l}function kU(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=t4e(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function t4e(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function r4e(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new YAe(a,t,r)})}function n4e(e,t,r,n,a,s,i){var l=MAe(n),c;e==="head"?c=a.headStyles:e==="body"?c=a.bodyStyles:e==="foot"&&(c=a.footStyles);var d=oh({},l.table,l[e],a.styles,c),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?u:{},p=e==="body"&&r%2===0?oh({},l.alternateRow,a.alternateRowStyles):{},h=DAe(s),m=oh({},h,d,p,f);return oh(m,i)}function a4e(e,t,r){var n;r===void 0&&(r={});var a=dre(e,t),s=new Map,i=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(p){var h=t.columns.find(function(m){return m.dataKey===p||m.index===p});h&&!s.has(h.index)&&(s.set(h.index,!0),i.push(h.index),l.push(t.columns[h.index]),a-=h.wrappedWidth)});for(var d=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(s.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(d||a>=f)d=!1,i.push(u),l.push(t.columns[u]),a-=f;else break;u++}return{colIndexes:i,columns:l,lastIndex:u-1}}function s4e(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=a4e(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function xre(e,t){var r=t.settings,n=r.startY,a=r.margin,s={x:a.left,y:n},i=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=n+a.bottom+i;if(r.pageBreak==="avoid"){var c=t.body,d=c.reduce(function(p,h){return p+h.height},0);l+=d}var u=new ov(e);(r.pageBreak==="always"||r.startY!=null&&l>u.pageSize().height)&&(vre(u),s.y=a.top),t.callWillDrawPageHooks(u,s);var f=oh({},s);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?i4e(u,t,f,s):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(p){return Fh(u,t,p,s,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(p,h){var m=h===t.body.length-1;Xk(u,t,p,m,f,s,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(p){return Fh(u,t,p,s,t.columns)})),lre(u,t,f,s),t.callEndPageHooks(u,s),t.finalY=s.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function i4e(e,t,r,n){var a=s4e(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,u){e.applyStyles(e.userStyles),u>0?B2(e,t,r,n,d.columns,!0):CU(e,t,n,d.columns),o4e(e,t,r,n,d.columns),ED(e,t,n,d.columns)});else for(var i=-1,l=a[0],c=function(){var d=i;if(l){e.applyStyles(e.userStyles);var u=l.columns;i>=0?B2(e,t,r,n,u,!0):CU(e,t,n,u),d=AU(e,t,i+1,n,u),ED(e,t,n,u)}var f=d-i;a.slice(1).forEach(function(p){e.applyStyles(e.userStyles),B2(e,t,r,n,p.columns,!0),AU(e,t,i+1,n,p.columns,f),ED(e,t,n,p.columns)}),i=d};i<t.body.length-1;)c()}function CU(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(s){return Fh(e,t,s,r,n)})}function o4e(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(s,i){var l=i===t.body.length-1;Xk(e,t,s,l,r,n,a)})}function AU(e,t,r,n,a,s){e.applyStyles(e.userStyles),s=s??t.body.length;var i=Math.min(r+s,t.body.length),l=-1;return t.body.slice(r,i).forEach(function(c,d){var u=r+d===t.body.length-1,f=yre(e,t,u,n);c.canEntireRowFit(f,a)&&(Fh(e,t,c,n,a),l=r+d)}),l}function ED(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(s){return Fh(e,t,s,r,n)})}function l4e(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),s=Math.floor((t-a)/n);return Math.max(0,s)}function c4e(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var s=0,i=0,l=r.columns;i<l.length;i++){var c=l[i],d=e.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new mre(d.raw,d.styles,d.section);u=oh(u,d),u.text=[];var f=l4e(d,t,n);d.text.length>f&&(u.text=d.text.splice(f,d.text.length));var p=n.scaleFactor(),h=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(p,h),d.contentHeight>=t&&(d.contentHeight=t,u.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),u.contentHeight=u.getContentHeight(p,h),u.contentHeight>s&&(s=u.contentHeight),a[c.index]=u}}var m=new pre(e.raw,-1,e.section,a,!0);m.height=s;for(var g=0,x=r.columns;g<x.length;g++){var c=x[g],u=m.cells[c.index];u&&(u.height=m.height);var d=e.cells[c.index];d&&(d.height=e.height)}return m}function d4e(e,t,r,n){var a=e.pageSize().height,s=n.settings.margin,i=s.top+s.bottom,l=a-i;t.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),d=c<r;if(c>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>l;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function Xk(e,t,r,n,a,s,i){var l=yre(e,t,n,s);if(r.canEntireRowFit(l,i))Fh(e,t,r,s,i);else if(d4e(e,r,l,t)){var c=c4e(r,l,t,e);Fh(e,t,r,s,i),B2(e,t,a,s,i),Xk(e,t,c,n,a,s,i)}else B2(e,t,a,s,i),Xk(e,t,r,n,a,s,i)}function Fh(e,t,r,n,a){n.x=t.settings.margin.left;for(var s=0,i=a;s<i.length;s++){var l=i[s],c=r.cells[l.index];if(!c){n.x+=l.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,n);if(d===!1){n.x+=l.width;continue}u4e(e,c,n);var u=c.getTextPos();sre(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function u4e(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=cre(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),f4e(e,t,r,n.lineWidth))}function f4e(e,t,r,n){var a,s,i,l;n.top&&(a=r.x,s=r.y,i=r.x+t.width,l=r.y,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,s,i,l)),n.bottom&&(a=r.x,s=r.y+t.height,i=r.x+t.width,l=r.y+t.height,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,s,i,l)),n.left&&(a=r.x,s=r.y,i=r.x,l=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,s,i,l)),n.right&&(a=r.x+t.width,s=r.y,i=r.x+t.width,l=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,s,i,l));function c(d,u,f,p,h){e.getDocument().setLineWidth(d),e.getDocument().line(u,f,p,h,"S")}}function yre(e,t,r,n){var a=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function B2(e,t,r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(l){return Fh(e,t,l,n,a)}),t.callEndPageHooks(e,n);var i=t.settings.margin;lre(e,t,r,n),vre(e),t.pageNumber++,n.x=i.left,n.y=i.top,r.y=i.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return Fh(e,t,l,n,a)}),e.applyStyles(e.userStyles))}function vre(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function h4e(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=hre(this,n),s=gre(this,a);return xre(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){sre(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return ov.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){ov.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new ov(this),s=fre(a,t,window,r,!1),i=s.head,l=s.body,c=((n=i[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:c,rows:l,data:l}}}var TD;function DD(e,t){var r=hre(e,t),n=gre(e,r);xre(e,n)}try{if(typeof window<"u"&&window){var EU=window,TU=EU.jsPDF||((TD=EU.jspdf)===null||TD===void 0?void 0:TD.jsPDF);TU&&h4e(TU)}}catch(e){console.error("Could not apply autoTable plugin",e)}const p4e="/assets/payslip-logo-BamWBjEO.png",m4e=e=>new Promise((t,r)=>{const n=new Image;n.setAttribute("crossOrigin","anonymous"),n.onload=()=>{const a=document.createElement("canvas");a.width=n.width,a.height=n.height;const s=a.getContext("2d");s==null||s.drawImage(n,0,0);const i=a.toDataURL("image/png");t(i)},n.onerror=a=>r(a),n.src=e}),g4e=e=>"Rupees "+e.toLocaleString()+" Only",bre=async(e,t)=>{var g,x,y,v,w,N,C,_;const r=new nr,n=r.internal.pageSize.width;try{const S=await m4e(p4e);r.addImage(S,"PNG",15,15,60,15)}catch(S){console.error("Error loading logo",S),r.setFontSize(20),r.setFont("helvetica","bold"),r.text("neointeraction",23,20)}r.setFontSize(10),r.setFont("helvetica","bold"),r.text("Neointeraction Design",15,35),r.setFont("helvetica","normal"),r.setTextColor(80,80,80),r.text("# M-98, 2nd Floor, LIC Housing",15,40),r.text("Colony, HAL 3rd Stage, Jeevan Bima",15,44),r.text("Nagar, Bengaluru, Karnataka 560075",15,48),r.setTextColor(41,128,185),r.text("Phone: +91- 9513338744",15,56),r.text("Email: info@neointeraction.com",15,61),r.setFontSize(14),r.setTextColor(192,57,43),r.setFont("helvetica","bold"),r.text("PAYSLIP",n/2,35,{align:"center"});const a=70;r.setFillColor(100,100,100),r.rect(85,a,n-100,15,"F"),r.setTextColor(255,255,255),r.setFontSize(8),r.setFont("helvetica","bold"),r.text("PAY DATE",95,a+5),r.text("PERIOD",135,a+5),r.text("ISSUED ON",175,a+5),r.setFillColor(230,230,230),r.rect(85,a+7,n-100,8,"F"),r.setTextColor(0,0,0),r.setFontSize(8),r.text("Dec 01, 2025",95,a+12),r.text(`${e.month} ${e.year}`,135,a+12),r.text(new Date().toLocaleDateString(),175,a+12),r.setFillColor(100,100,100),r.rect(15,a+20,n-30,7,"F"),r.setTextColor(255,255,255),r.setFontSize(9),r.text("EMPLOYEE INFORMATION",n/2,a+25,{align:"center"}),r.setTextColor(0,0,0),r.setFontSize(9);const s=a+35,i=15,l=60,c=110,d=150,u=6;r.setFont("helvetica","normal"),r.text("Employee Name",i,s),r.setFont("helvetica","bold"),r.text((t==null?void 0:t.name)||"N/A",l,s),r.setFont("helvetica","normal"),r.text("Employee ID",i,s+u),r.setFont("helvetica","bold"),r.text((t==null?void 0:t.employeeId)||"N/A",l,s+u),r.setFont("helvetica","normal"),r.text("Designation",i,s+u*2),r.setFont("helvetica","bold"),r.text(((g=e==null?void 0:e.employee)==null?void 0:g.designation)||(t==null?void 0:t.designation)||"N/A",l,s+u*2),r.setFont("helvetica","normal"),r.text("Department",i,s+u*3),r.setFont("helvetica","bold"),r.text((t==null?void 0:t.department)||"N/A",l,s+u*3),r.setFont("helvetica","normal"),r.text("Project Location",i,s+u*4),r.setFont("helvetica","bold"),r.text("Bangalore",l,s+u*4),r.setFont("helvetica","normal"),r.text("Email",c,s),r.setFont("helvetica","bold"),r.text((t==null?void 0:t.email)||"N/A",d,s),r.setFont("helvetica","normal"),r.text("DOJ",c,s+u),r.setFont("helvetica","bold");const f=t!=null&&t.doj?new Date(t.doj).toLocaleDateString():"N/A";r.text(f,d,s+u),r.setFont("helvetica","normal"),r.text("PAN",c,s+u*2),r.setFont("helvetica","bold"),r.text((t==null?void 0:t.pan)||"N/A",d,s+u*2),r.setFont("helvetica","normal"),r.text("Bank Name",c,s+u*3),r.setFont("helvetica","bold"),r.text(((y=(x=e==null?void 0:e.employee)==null?void 0:x.bankDetails)==null?void 0:y.bankName)||((v=t==null?void 0:t.bankDetails)==null?void 0:v.bankName)||"N/A",d,s+u*3),r.setFont("helvetica","normal"),r.text("Bank Account No",c,s+u*4),r.setFont("helvetica","bold"),r.text(((N=(w=e==null?void 0:e.employee)==null?void 0:w.bankDetails)==null?void 0:N.accountNumber)||((C=t==null?void 0:t.bankDetails)==null?void 0:C.accountNumber)||"N/A",d,s+u*4);let p=s+u*6;const h=[["Basic Pay",e.basicPay.toFixed(2)],["House Rent Allowance",e.hra.toFixed(2)]];e.allowances&&Array.isArray(e.allowances)&&e.allowances.forEach(S=>{h.push([S.name,S.amount.toFixed(2)])}),h.push([{content:"Gross Earnings",styles:{fontStyle:"bold"}},{content:e.grossSalary.toFixed(2),styles:{fontStyle:"bold"}}]),DD(r,{startY:p,head:[["Earnings","Amount INR"]],body:h,theme:"plain",headStyles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"},styles:{fontSize:9,cellPadding:2,lineColor:[200,200,200],lineWidth:.1},columnStyles:{0:{cellWidth:130},1:{cellWidth:50,halign:"right"}},margin:{left:15,right:15}}),p=r.lastAutoTable.finalY+5;const m=(e.deductions||[]).map(S=>[S.name,S.amount.toFixed(2),"0.00"]);m.push([{content:"TOTAL DEDUCTIONS",styles:{fontStyle:"bold"}},{content:e.totalDeductions.toFixed(2),styles:{fontStyle:"bold"}},{content:"0.00",styles:{fontStyle:"bold"}}]),DD(r,{startY:p,head:[["DEDUCTIONS","CURRENT","YTD"]],body:m,theme:"plain",headStyles:{fillColor:[200,200,200],textColor:0,fontStyle:"bold"},styles:{fontSize:9,cellPadding:2,lineColor:[200,200,200],lineWidth:.1},columnStyles:{0:{cellWidth:90},1:{cellWidth:45,halign:"right"},2:{cellWidth:45,halign:"right"}},margin:{left:15,right:15}}),p=r.lastAutoTable.finalY+5,DD(r,{startY:p,body:[[{content:"Net Pay",styles:{halign:"right",fontStyle:"bold"}},{content:`Rs ${e.netSalary.toFixed(2)}`,styles:{halign:"left",fontStyle:"bold"}}],[{content:g4e(e.netSalary),colSpan:2,styles:{halign:"center",fontStyle:"italic",fontSize:9}}]],theme:"plain",styles:{cellPadding:3,lineColor:[200,200,200],lineWidth:.1,fillColor:[245,245,245]},columnStyles:{0:{cellWidth:130},1:{cellWidth:50}},margin:{left:15,right:15}}),r.save(`Payslip_${e.month}_${e.year}_${(_=t==null?void 0:t.name)==null?void 0:_.split(" ")[0]}.pdf`)},sd=e=>{if(!e)return"N/A";try{const t=new Date(e);return isNaN(t.getTime())?"N/A":new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).format(t)}catch(t){return console.error("Error formatting date:",t),"N/A"}};function eS(){const{user:e}=Sr(),[t,r]=b.useState(null),[n,a]=b.useState(!0);b.useEffect(()=>{(async()=>{try{a(!0);const c=await je.getMyPayslips();if(c.payslips&&c.payslips.length>0){const d=c.payslips.sort((u,f)=>new Date(f.createdAt).getTime()-new Date(u.createdAt).getTime());r(d[0])}}catch{}finally{a(!1)}})()},[]);const s=async()=>{t&&e&&await bre(t,e)},i=()=>{const l=new Date,c=new Date(l.getFullYear(),l.getMonth()+1,1);return sd(c)};return n?o.jsx("div",{className:"bg-bg-card rounded-lg shadow-sm border border-border p-6 h-full min-h-[180px] flex items-center justify-center",children:o.jsx("p",{className:"text-text-secondary",children:"Loading payroll info..."})}):t?o.jsxs("div",{className:"bg-bg-card rounded-lg shadow-sm border border-border p-6 h-full flex flex-col justify-between transition-all hover:shadow-md",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"p-2 bg-green-50 dark:bg-green-900/20 rounded-lg",children:o.jsx(Rv,{className:"text-green-600 dark:text-green-400",size:20})}),o.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Payroll & Salary"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("p",{className:"text-sm text-text-secondary mb-1",children:["Last Paid Salary (",t.month,")"]}),o.jsxs("h3",{className:"text-2xl font-bold text-text-primary",children:["",t.netSalary.toLocaleString()]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary mb-6",children:[o.jsx(Xa,{size:14}),o.jsxs("span",{children:["Next Pay Date:"," ",o.jsx("span",{className:"font-medium text-text-primary",children:i()})]})]})]}),o.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-brand-primary/10 hover:bg-brand-primary/20 text-brand-primary rounded-lg transition-colors text-sm font-medium",children:[o.jsx(cf,{size:16})," Download Payslip"]})]}):o.jsxs("div",{className:"bg-bg-card rounded-lg shadow-sm border border-border p-6 h-full min-h-[180px] flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"p-3 bg-brand-primary/10 rounded-full mb-3",children:o.jsx(Rv,{className:"text-brand-primary",size:24})}),o.jsx("p",{className:"text-text-secondary text-sm",children:"No payslip data available yet."})]})}function tS(){const[e,t]=b.useState("holiday"),{widgetAnimationPlayed:r,setWidgetAnimationPlayed:n}=sL(),[a,s]=b.useState(null),[i,l]=b.useState("birthdays"),[c,d]=b.useState({birthdays:[],anniversaries:[]}),[u,f]=b.useState(!0);b.useEffect(()=>{if((async()=>{try{f(!0);const[g,x]=await Promise.allSettled([je.getHolidays(new Date().getFullYear()),je.getUpcomingEvents()]);if(g.status==="fulfilled"){const y=g.value,v=new Date;v.setHours(0,0,0,0);const w=y.filter(N=>new Date(N.date)>=v).sort((N,C)=>new Date(N.date).getTime()-new Date(C.date).getTime())[0];s(w)}else console.error("Failed to fetch holidays:",g.reason);if(x.status==="fulfilled"){const y=x.value,v=new Date().getMonth(),w={birthdays:(y.birthdays||[]).filter(N=>new Date(N.date).getMonth()===v),anniversaries:(y.anniversaries||[]).filter(N=>new Date(N.date).getMonth()===v)};d(w)}else console.error("Failed to fetch upcoming events:",x.reason)}catch(g){console.error("Critical error in widget data fetching:",g)}finally{f(!1)}})(),!r){const g=setTimeout(()=>{t("celebrations")},5e3),x=setTimeout(()=>{t("holiday"),n()},1e4);return()=>{clearTimeout(g),clearTimeout(x)}}},[]);const p=i==="birthdays"?c.birthdays:c.anniversaries,h=a?qg(new Date(a.date),new Date):0;return e==="holiday"?o.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-indigo-600 to-violet-600 p-6 rounded-xl shadow-xl text-white relative overflow-hidden h-full transition-all duration-300 group",children:[o.jsx("div",{className:"absolute inset-0 opacity-20",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"32px 32px"}})}),o.jsx("div",{className:"absolute top-3 right-3 opacity-20 animate-pulse",children:o.jsx(w_,{size:32,className:"text-yellow-300"})}),o.jsx("div",{className:"absolute -bottom-8 -right-8 opacity-10 group-hover:scale-110 transition-transform duration-500",children:o.jsx(Xa,{size:140})}),o.jsxs("div",{className:"relative z-10 flex flex-col justify-between",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1 ",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/20 backdrop-blur-sm flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:o.jsx(Xa,{className:"text-white",size:20})}),o.jsx("h2",{className:"text-lg font-bold",children:"Upcoming Holiday"})]}),o.jsx("button",{onClick:()=>t("celebrations"),className:"w-9 h-9 rounded-lg bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all hover:scale-110 text-white/80 hover:text-white shadow-lg backdrop-blur-sm",title:"View Celebrations",children:o.jsx(XZ,{size:18})})]}),u?o.jsxs("div",{className:"flex flex-col items-center mt-8 space-y-4",children:[o.jsx(Se,{className:"h-3 w-24 bg-white/20 rounded-full"}),o.jsx(Se,{className:"h-10 w-48 bg-white/20 rounded-lg"}),o.jsx(Se,{className:"h-12 w-40 bg-white/20 rounded-xl mt-2"}),o.jsx(Se,{className:"h-6 w-32 bg-white/20 rounded-lg"})]}):a?o.jsxs("div",{className:"text-center space-y-2 mt-8",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsxs("p",{className:"text-white/80 font-semibold uppercase tracking-widest text-[10px] flex items-center justify-center gap-1.5",children:[o.jsx(w_,{size:10}),"Next Holiday",o.jsx(w_,{size:10})]}),o.jsx("h3",{className:"text-4xl font-black drop-shadow-lg line-clamp-2 m-4",style:{marginTop:8,marginBottom:8},title:a.name,children:a.name})]}),o.jsx("div",{className:"mb-5 inline-block px-4 py-1.5 rounded-xl bg-white/20 backdrop-blur-md shadow-lg border border-white/30",style:{marginBottom:"2rem"},children:o.jsx("p",{className:"text-white font-bold text-sm",children:sd(a.date)})}),o.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-xl bg-white/20 backdrop-blur-md  ",children:[o.jsx(Mn,{size:14,className:"text-white"}),o.jsx("p",{className:"text-sm font-bold text-white",children:h===0?"Today":`${h} ${h===1?"day":"days"} to go`})]})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"inline-block p-4 rounded-full bg-white/10 backdrop-blur-sm mb-3",children:o.jsx(Xa,{size:36,className:"text-white/50"})}),o.jsx("p",{className:"text-white/80 font-medium text-sm",children:"No upcoming holidays"})]})]})]}):o.jsxs("div",{className:"bg-bg-card rounded-xl shadow-lg border border-border h-full flex flex-col transition-all duration-300 overflow-hidden relative group",children:[o.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center bg-gradient-to-r from-bg-secondary/50 to-bg-card",children:[o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-pink-500/10 to-purple-500/10 flex items-center justify-center border border-pink-100 dark:border-transparent shadow-sm",children:o.jsx(Pj,{className:"text-pink-500 dark:text-pink-400",size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-base font-bold text-text-primary leading-tight",children:"Celebrations"}),o.jsx("p",{className:"text-[10px] text-text-secondary font-medium",children:"This Month"})]})]}),o.jsxs("button",{onClick:()=>t("holiday"),className:"flex items-center gap-1.5 px-3 py-1.5 bg-bg-card hover:bg-bg-main rounded-lg transition-all text-text-secondary hover:text-brand-primary border border-border shadow-sm hover:shadow",title:"View Holidays",children:[o.jsx(Xa,{size:14}),o.jsx("span",{className:"text-xs font-semibold",children:"Holidays"})]})]}),o.jsxs("div",{className:"p-1 mx-4 mt-4 bg-bg-main rounded-lg flex p-1 border border-border",children:[o.jsxs("button",{onClick:()=>l("birthdays"),className:`flex-1 py-1.5 text-xs font-bold rounded-md flex items-center justify-center gap-1.5 transition-all shadow-sm ${i==="birthdays"?"bg-bg-card text-pink-600 shadow-sm ring-1 ring-black/5 dark:ring-white/10":"text-text-secondary hover:text-text-primary hover:bg-bg-card/50 shadow-none"}`,children:[o.jsx(Pj,{size:14,className:i==="birthdays"?"text-pink-500":"text-text-muted"}),"Birthdays (",c.birthdays.length,")"]}),o.jsxs("button",{onClick:()=>l("anniversaries"),className:`flex-1 py-1.5 text-xs font-bold rounded-md flex items-center justify-center gap-1.5 transition-all shadow-sm ${i==="anniversaries"?"bg-bg-card text-amber-600 shadow-sm ring-1 ring-black/5 dark:ring-white/10":"text-text-secondary hover:text-text-primary hover:bg-bg-card/50 shadow-none"}`,children:[o.jsx(od,{size:14,className:i==="anniversaries"?"text-amber-500":"text-text-muted"}),"Work (",c.anniversaries.length,")"]})]}),o.jsx("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:u?o.jsx("div",{className:"space-y-3",children:[1,2,3].map(m=>o.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-bg-card border border-border rounded-xl",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Se,{className:"w-10 h-10 rounded-full"}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(Se,{className:"w-24 h-3.5"}),o.jsx(Se,{className:"w-16 h-2.5"})]})]}),o.jsx(Se,{className:"w-12 h-6 rounded-lg"})]},m))}):p.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center py-4",children:[o.jsx("div",{className:`p-4 rounded-full mb-3 ${i==="birthdays"?"bg-pink-50/50 dark:bg-pink-900/10":"bg-amber-50/50 dark:bg-amber-900/10"}`,children:i==="birthdays"?o.jsx(Pj,{size:28,className:"text-pink-300/70"}):o.jsx(od,{size:28,className:"text-amber-300/70"})}),o.jsxs("p",{className:"text-text-secondary text-xs font-medium",children:["No upcoming ",i]})]}):o.jsx("div",{className:"space-y-2.5",children:p.map(m=>o.jsxs("div",{className:"group flex items-center justify-between p-2.5 bg-bg-card hover:bg-bg-subtle rounded-xl border border-border hover:border-text-muted/20 transition-all shadow-sm hover:shadow-md",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[m.profilePicture?o.jsx("img",{src:`http://localhost:5001/${m.profilePicture}`,alt:m.name,className:"w-10 h-10 rounded-full object-cover border-2 border-bg-card shadow-sm"}):o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-xs shadow-sm ${i==="birthdays"?"bg-gradient-to-br from-pink-400 to-rose-500":"bg-gradient-to-br from-amber-400 to-orange-500"}`,children:m.name.charAt(0)}),o.jsx("div",{className:"absolute -bottom-1 -right-1 bg-bg-card rounded-full p-0.5 shadow-sm border border-border",children:i==="birthdays"?o.jsx(Pj,{size:10,className:"text-pink-500"}):o.jsx(od,{size:10,className:"text-amber-500"})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-bold text-text-primary leading-tight",children:m.name}),o.jsxs("p",{className:"text-[10px] text-text-secondary font-medium",children:[sd(m.date),"  ",m.designation]})]})]}),o.jsx("button",{className:`opacity-0 group-hover:opacity-100 transition-opacity px-3 py-1.5 rounded-lg text-[10px] font-bold shadow-sm ${i==="birthdays"?"bg-pink-50 text-pink-600 hover:bg-pink-100":"bg-amber-50 text-amber-600 hover:bg-amber-100"}`,children:"Wish"})]},m.id))})})]})}function rS(){const[e,t]=b.useState("clocked-out"),[r,n]=b.useState(null),[a,s]=b.useState(!0),[i,l]=b.useState(!1),[c,d]=b.useState("00:00:00"),[u,f]=b.useState("00:00"),[p,h]=b.useState(!1),[m,g]=b.useState(""),[x,y]=b.useState(!1),[v,w]=b.useState(""),[N,C]=b.useState(!1),_=async()=>{try{const M=await je.getAttendanceStatus();t(M.status),n(M.timeEntry);const I=new Date,z=new Date(I.setHours(0,0,0,0)).toISOString(),Y=new Date(I.setHours(23,59,59,999)).toISOString(),X=await je.getAttendanceHistory({startDate:z,endDate:Y}),V=Array.isArray(X)?X:X.entries||X.history||[];S(V,M.status,M.timeEntry)}catch(M){console.error("Failed to fetch attendance widget data:",M)}finally{s(!1)}};b.useEffect(()=>{_();const M=setInterval(_,6e4);return()=>clearInterval(M)},[]),b.useEffect(()=>{let M;return e==="clocked-in"&&(r!=null&&r.clockIn)?M=setInterval(()=>{const I=new Date(r.clockIn).getTime(),Y=new Date().getTime()-I,X=Math.floor(Y/(1e3*60*60)),V=Math.floor(Y%(1e3*60*60)/(1e3*60)),G=Math.floor(Y%(1e3*60)/1e3);d(`${X.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}:${G.toString().padStart(2,"0")}`)},1e3):d("00:00:00"),()=>clearInterval(M)},[e,r]);const S=(M,I,z)=>{let Y=0;if(M.forEach(G=>{if(G.clockIn&&G.clockOut){const J=new Date(G.clockIn).getTime(),B=new Date(G.clockOut).getTime();Y+=B-J}}),I==="clocked-in"&&(z!=null&&z.clockIn)){const G=new Date(z.clockIn).getTime(),J=new Date().getTime();Y+=J-G}const X=Math.floor(Y/(1e3*60*60)),V=Math.floor(Y%(1e3*60*60)/(1e3*60));f(`${X.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}`)},k=async()=>{l(!0);try{const M=await je.clockIn();t("clocked-in"),n(M.timeEntry),_()}catch(M){M.message&&M.message.toLowerCase().includes("approved leave")?(w(M.message),y(!0),C(!0)):alert(M.message)}finally{l(!1)}},A=async()=>{l(!0);try{const M=await je.startBreak();t("on-break"),n(M.timeEntry)}catch(M){alert(M.message)}finally{l(!1)}},O=async()=>{l(!0);try{const M=await je.endBreak();t("clocked-in"),n(M.timeEntry)}catch(M){alert(M.message)}finally{l(!1)}},D=async()=>{l(!0);try{await je.clockOut(m),t("clocked-out"),n(null),d("00:00:00"),h(!1),g(""),_()}catch(M){alert(M.message)}finally{l(!1)}};return a?o.jsxs("div",{className:"bg-bg-card p-6 rounded-xl shadow-sm border border-border",children:[o.jsx(Se,{className:"h-6 w-1/3 rounded mb-4"}),o.jsx(Se,{className:"h-32 w-full rounded-xl mb-4"}),o.jsx(Se,{className:"h-12 w-full rounded-lg"})]}):o.jsxs("div",{className:"bg-bg-card rounded-xl shadow-sm border border-border overflow-hidden",children:[o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h2",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-brand-primary/10 to-brand-secondary/10 flex items-center justify-center border border-brand-primary/20",children:o.jsx(Mn,{className:"text-brand-primary",size:20})}),"Time Tracking"]}),e==="clocked-in"&&o.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-semibold text-green-600 dark:text-green-400",children:[o.jsxs("span",{className:"relative flex h-2 w-2",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-2 w-2 rounded-full bg-green-400 dark:bg-green-500 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500 dark:bg-green-600"})]}),"LIVE"]})]}),o.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-brand-primary to-brand-secondary rounded-xl p-5 text-white",children:[o.jsx("div",{className:"absolute inset-0 opacity-10",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"40px 40px"}})}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[o.jsxs("div",{className:"w-12 h-12 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center",children:[e==="clocked-out"&&o.jsx(Mn,{size:24}),e==="clocked-in"&&o.jsx(Nm,{size:24,className:"animate-pulse"}),e==="on-break"&&o.jsx(J0,{size:24})]}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-white/80 text-xs",children:[e==="clocked-out"&&"Not Working",e==="clocked-in"&&"Current Session",e==="on-break"&&"On Break"]}),o.jsx("div",{className:"text-3xl font-mono font-bold tracking-wider",children:c})]})]}),e==="clocked-out"&&o.jsx("p",{className:"text-center text-white/90 text-sm mb-4",children:"Start your day by clocking in"}),o.jsxs("div",{className:"border-t border-white/20 pt-3 flex items-center justify-between",children:[o.jsxs("p",{className:"text-white/80 text-xs flex items-center gap-1.5",children:[o.jsx(wc,{size:14}),"Total Today"]}),o.jsx("p",{className:"text-white font-bold font-mono text-sm",children:u})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e==="clocked-out"&&o.jsxs("button",{onClick:k,disabled:i||N,className:"col-span-2 flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-semibold transition-all transform hover:scale-[1.02] active:scale-95 disabled:opacity-50 shadow-md",children:[i?o.jsx(Vn,{className:"animate-spin",size:18}):o.jsx(n6,{size:18}),"Clock In"]}),e==="clocked-in"&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:A,disabled:i,className:"flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white rounded-lg font-semibold transition-all transform hover:scale-[1.02] active:scale-95 disabled:opacity-50 shadow-md",children:[i?o.jsx(Vn,{className:"animate-spin",size:18}):o.jsx(J0,{size:18}),"Break"]}),o.jsxs("button",{onClick:()=>h(!0),disabled:i,className:"flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white rounded-lg font-semibold transition-all transform hover:scale-[1.02] active:scale-95 disabled:opacity-50 shadow-md",children:[i?o.jsx(Vn,{className:"animate-spin",size:18}):o.jsx(Iu,{size:18}),"Clock Out"]})]}),e==="on-break"&&o.jsxs("button",{onClick:O,disabled:i,className:"col-span-2 flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-semibold transition-all transform hover:scale-[1.02] active:scale-95 disabled:opacity-50 shadow-md",children:[i?o.jsx(Vn,{className:"animate-spin",size:18}):o.jsx(n6,{size:18}),"Resume Work"]})]})]}),p&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm animate-in fade-in duration-200",children:o.jsxs("div",{className:"bg-bg-card rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in duration-200 border border-border",children:[o.jsxs("div",{className:"p-6 border-b border-border bg-gradient-to-r from-brand-primary/10 to-brand-secondary/10",children:[o.jsxs("h3",{className:"font-bold text-xl text-text-primary flex items-center gap-2",children:[o.jsx(Iu,{size:24,className:"text-brand-primary"}),"Clock Out"]}),o.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"Great work today! Share what you accomplished"})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium text-text-primary flex items-center gap-2",children:[o.jsx(wc,{size:16}),"Today's Accomplishments"]}),o.jsx("textarea",{value:m,onChange:M=>g(M.target.value),placeholder:` Completed tasks
 Fixed bugs
 Attended meetings...`,className:"w-full p-3 border border-border rounded-xl bg-bg-main focus:outline-none focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary min-h-[100px] text-sm text-text-primary resize-none",autoFocus:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{onClick:()=>h(!1),className:"px-6 py-2.5 border border-border rounded-lg text-text-secondary hover:bg-bg-hover text-sm font-medium transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:D,disabled:i,className:"px-6 py-2.5 bg-gradient-to-r from-brand-primary to-brand-secondary text-white rounded-lg hover:opacity-90 text-sm font-medium flex items-center gap-2 transition-all disabled:opacity-50",children:[i&&o.jsx(Vn,{className:"animate-spin",size:16}),"Confirm Clock Out"]})]})]})]})}),o.jsx(_r,{isOpen:x,onClose:()=>y(!1),title:"Action Restricted",maxWidth:"max-w-md",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-lg flex items-start gap-3",children:[o.jsx(Nm,{className:"shrink-0 mt-0.5",size:20}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:"On Leave"}),o.jsx("p",{className:"text-sm mt-1",children:v})]})]}),o.jsx("p",{className:"text-text-secondary text-sm",children:"You cannot perform attendance actions on days you have approved leave. Please contact HR if this is a mistake."}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 transition-colors",children:"Understood"})})]})})]})}function nS(){const e=vs(),[t,r]=b.useState("my-leaves"),[n,a]=b.useState([]),[s,i]=b.useState([]),[l,c]=b.useState(!0),[d,u]=b.useState(0),{widgetAnimationPlayed:f}=sL();b.useEffect(()=>{if((async()=>{try{const[y,v]=await Promise.all([je.getLeaveStats(),je.getEmployeesOnLeave()]);a(y.stats||[]),i(v||[])}catch(y){console.error("Failed to fetch leave widget data:",y)}finally{c(!1)}})(),!f){const y=setTimeout(()=>{r("colleagues")},5e3),v=setTimeout(()=>{r("my-leaves")},1e4);return()=>{clearTimeout(y),clearTimeout(v)}}},[]);const p=s.slice(0,5),h=s.length-p.length,m=x=>{const y=x.toLowerCase();return y.includes("casual")?o.jsx(QZ,{className:"text-blue-600",size:16}):y.includes("sick")||y.includes("medical")?o.jsx(JZ,{className:"text-red-600",size:16}):y.includes("floating")?o.jsx(Gd,{className:"text-purple-600",size:16}):y.includes("maternity")||y.includes("paternity")?o.jsx(Da,{className:"text-pink-600",size:16}):o.jsx(Gd,{className:"text-gray-600",size:16})},g=x=>{const y=x.toLowerCase();return y.includes("casual")?"from-blue-500/10 to-blue-600/10 border-blue-200 dark:border-blue-800":y.includes("sick")||y.includes("medical")?"from-red-500/10 to-red-600/10 border-red-200 dark:border-red-800":y.includes("floating")?"from-purple-500/10 to-purple-600/10 border-purple-200 dark:border-purple-800":y.includes("maternity")||y.includes("paternity")?"from-pink-500/10 to-pink-600/10 border-pink-200 dark:border-pink-800":"from-gray-500/10 to-gray-600/10 border-gray-200 dark:border-gray-700"};return o.jsx("div",{className:"bg-bg-card rounded-xl shadow-sm border border-border overflow-hidden",children:o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h2",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-orange-500/10 to-yellow-500/10 flex items-center justify-center border border-orange-200 dark:border-transparent",children:o.jsx(Gd,{className:"text-orange-600 dark:text-orange-400",size:20})}),"Leave Status"]}),o.jsxs("button",{onClick:()=>r(t==="my-leaves"?"colleagues":"my-leaves"),className:"flex items-center gap-2 px-3 py-2 bg-bg-hover hover:bg-bg-main rounded-lg transition-all text-text-secondary hover:text-brand-primary border border-transparent hover:border-brand-primary/20",title:t==="my-leaves"?"View Colleagues on Leave":"View My Leave Balance",children:[t==="my-leaves"?o.jsx(Da,{size:18}):o.jsx(yo,{size:18}),o.jsx("span",{className:"text-xs font-medium",children:t==="my-leaves"?"Team":"Me"})]})]}),t==="my-leaves"?o.jsxs("div",{className:"space-y-3 animate-in fade-in duration-300",children:[l?o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsx(Se,{className:"h-24 w-full rounded-xl"}),o.jsx(Se,{className:"h-24 w-full rounded-xl"}),o.jsx(Se,{className:"h-24 w-full rounded-xl"})]}):n.length>0?n.length<=3?o.jsx("div",{className:"grid grid-cols-3 gap-3",children:n.map(x=>o.jsxs("div",{className:`bg-gradient-to-br ${g(x.type)} rounded-xl p-3 border-2 transition-all hover:shadow-lg hover:scale-105 cursor-pointer relative overflow-hidden group`,children:[o.jsx("div",{className:"absolute -right-2 -bottom-2 w-16 h-16 rounded-full bg-white/10 group-hover:scale-150 transition-transform duration-500"}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-bg-card flex items-center justify-center shadow-md group-hover:scale-110 transition-transform mb-2",children:m(x.type)}),o.jsx("p",{className:"text-xs font-bold text-text-primary mb-2 line-clamp-1",children:x.type}),o.jsxs("div",{children:[o.jsx("p",{className:"text-1.5xl font-black text-text-primary leading-none",children:x.pending}),o.jsx("p",{className:"text-[10px] text-text-secondary font-semibold",children:"days left"})]})]})]},x.type))}):o.jsxs("div",{className:"relative group/carousel",children:[o.jsx("div",{className:"overflow-hidden rounded-xl",children:o.jsx("div",{className:"flex gap-3 transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${d*(100/3)}%)`,width:`${n.length/3*100}%`},children:n.map(x=>o.jsxs("div",{className:`flex-shrink-0 bg-gradient-to-br ${g(x.type)} rounded-xl p-3 border-2 transition-all hover:shadow-lg hover:scale-105 cursor-pointer relative overflow-hidden group`,style:{width:`calc(${100/n.length}% - ${12*(n.length-1)/n.length}px)`},children:[o.jsx("div",{className:"absolute -right-2 -bottom-2 w-16 h-16 rounded-full bg-white/10 group-hover:scale-150 transition-transform duration-500"}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-bg-card flex items-center justify-center shadow-md group-hover:scale-110 transition-transform mb-2",children:m(x.type)}),o.jsx("p",{className:"text-xs font-bold text-text-primary mb-2 line-clamp-1",children:x.type}),o.jsxs("div",{children:[o.jsx("p",{className:"text-1.5xl font-black text-text-primary leading-none",children:x.pending}),o.jsx("p",{className:"text-[10px] text-text-secondary font-semibold",children:"days left"})]})]})]},x.type))})}),d>0&&o.jsx("button",{onClick:x=>{x.stopPropagation(),u(y=>Math.max(0,y-1))},className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2 bg-bg-card border border-border shadow-md rounded-full p-1.5 text-text-secondary hover:text-brand-primary z-20 opacity-0 group-hover/carousel:opacity-100 transition-opacity disabled:opacity-0",children:o.jsx(wi,{size:16})}),d<Math.max(0,n.length-3)&&o.jsx("button",{onClick:x=>{x.stopPropagation(),u(y=>Math.min(y+1,Math.max(0,n.length-3)))},className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2 bg-bg-card border border-border shadow-md rounded-full p-1.5 text-text-secondary hover:text-brand-primary z-20 opacity-0 group-hover/carousel:opacity-100 transition-opacity disabled:opacity-0",children:o.jsx(Wo,{size:16})})]}):o.jsxs("div",{className:"text-center py-8 text-sm text-text-secondary",children:[o.jsx(Gd,{className:"mx-auto mb-2 text-text-muted",size:32}),o.jsx("p",{className:"text-xs",children:"No leave data"})]}),n.length>0&&o.jsx("div",{className:"bg-gradient-to-r from-brand-primary/10 to-brand-secondary/10 rounded-lg p-3 border border-brand-primary/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wc,{className:"text-brand-primary",size:16}),o.jsx("p",{className:"text-xs font-medium text-text-primary",children:"Total Used"})]}),o.jsxs("div",{className:"flex items-baseline gap-1",children:[o.jsx("p",{className:"text-2xl font-bold text-brand-primary",children:n.reduce((x,y)=>x+(y.used||0),0)}),o.jsx("p",{className:"text-[10px] text-text-secondary",children:"days"})]})]})})]},"my-leaves"):o.jsxs("div",{className:"space-y-2.5 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Xa,{className:"text-text-secondary",size:14}),o.jsx("p",{className:"text-xs font-medium text-text-secondary",children:"On Leave Today"})]}),s.length>0?o.jsxs("div",{className:"space-y-2.5",children:[o.jsx("div",{className:"flex items-center justify-center py-3",children:o.jsxs("div",{className:"flex -space-x-4",children:[p.map(x=>o.jsxs("div",{className:"relative group cursor-pointer transition-transform hover:scale-110 hover:z-10",title:`${x.employee.firstName} ${x.employee.lastName} (${x.type})`,children:[o.jsx(Ac,{src:x.employee.profilePicture?`${Ma}${x.employee.profilePicture}`:void 0,name:`${x.employee.firstName} ${x.employee.lastName}`,alt:x.employee.firstName,className:"w-11 h-11 border-3 border-bg-card ring-2 ring-bg-card",size:"lg"}),o.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2.5 py-1 bg-bg-sidebar border border-border text-text-primary text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-20 shadow-lg",children:[o.jsxs("div",{className:"font-medium text-[11px]",children:[x.employee.firstName," ",x.employee.lastName]}),o.jsx("div",{className:"text-text-secondary text-[10px]",children:x.type})]})]},x._id)),h>0&&o.jsxs("div",{className:"w-11 h-11 rounded-full border-3 border-bg-card ring-2 ring-bg-card bg-gradient-to-br from-brand-primary to-brand-secondary flex items-center justify-center text-xs font-bold text-white hover:scale-110 cursor-pointer transition-transform z-0 shadow-md",title:`${h} more on leave`,onClick:()=>e("/leave"),children:["+",h]})]})}),o.jsx("div",{className:"bg-bg-hover rounded-lg p-2.5 text-center",children:o.jsxs("p",{className:"text-sm text-text-primary",children:[o.jsx("span",{className:"font-bold text-brand-primary",children:s.length})," ",s.length===1?"person":"people"," out"]})})]}):o.jsxs("div",{className:"text-center py-6 space-y-2",children:[o.jsx("div",{className:"w-14 h-14 mx-auto rounded-full bg-green-100 dark:bg-green-900/20 flex items-center justify-center",children:o.jsx(Da,{className:"text-green-600 dark:text-green-400",size:28})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-text-primary",children:"All present!"}),o.jsx("p",{className:"text-xs text-text-secondary",children:"Everyone is here today"})]})]})]},"colleagues")]})})}function Db(){const[e,t]=b.useState({text:"Good Morning"});return b.useEffect(()=>{const r=()=>{const a=new Date().getHours();a<12?t({text:"Good Morning"}):a<17?t({text:"Good Afternoon"}):t({text:"Good Evening"})};r();const n=setInterval(r,6e4);return()=>clearInterval(n)},[]),e}function aS(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,s]=b.useState(0);b.useEffect(()=>{i()},[]);const i=async()=>{try{const d=await je.getMyFeedbacks();t(d)}catch(d){console.error("Failed to fetch feedbacks",d)}finally{n(!1)}},l=()=>{s(d=>(d+1)%e.length)},c=()=>{s(d=>(d-1+e.length)%e.length)};return r?o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6 shadow-sm h-full animate-pulse ",children:[o.jsx("div",{className:"h-6 w-1/3 bg-bg-hover rounded mb-4"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"h-16 bg-bg-hover rounded"}),o.jsx("div",{className:"h-16 bg-bg-hover rounded"})]})]}):o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6 shadow-sm h-full md:col-span-2 lg:col-span-2 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-2 bg-brand-primary/10 rounded-lg",children:o.jsx(Mk,{className:"text-brand-primary",size:20})}),o.jsx("h3",{className:"font-semibold text-lg text-text-primary",children:"Recent Feedback"})]}),e.length>1&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dt,{variant:"ghost",size:"sm",onClick:c,className:"h-8 w-8 p-0 rounded-full",children:o.jsx(wi,{size:16})}),o.jsxs("span",{className:"text-xs text-text-secondary font-medium",children:[a+1," / ",e.length]}),o.jsx(dt,{variant:"ghost",size:"sm",onClick:l,className:"h-8 w-8 p-0 rounded-full",children:o.jsx(Wo,{size:16})})]})]}),o.jsx("div",{className:"flex-1 flex flex-col justify-center min-h-[120px]",children:e.length===0?o.jsx("div",{className:"flex flex-col items-center justify-center text-text-muted text-sm border-2 border-dashed border-border rounded-lg p-8",children:o.jsx("p",{children:"No feedback received yet."})}):o.jsx("div",{className:"animate-in fade-in slide-in-from-right-4 duration-300 w-full",children:o.jsxs("div",{className:"bg-bg-main p-6 rounded-lg border border-border relative",children:[o.jsx(Mk,{className:"absolute top-4 left-4 text-brand-primary/10 rotate-180",size:40}),o.jsxs("p",{className:"text-text-primary text-base italic mb-6 relative z-10 text-center px-4",children:['"',e[a].message,'"']}),o.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-text-muted relative z-10 border-t border-border/50 pt-4 w-full",children:[o.jsx("span",{className:"font-semibold text-brand-primary",children:e[a].sender.name}),o.jsx("span",{children:""}),o.jsx("span",{children:new Date(e[a].createdAt).toLocaleDateString()})]})]})})})]})}function Mb(){const{user:e}=Sr(),[t,r]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(0),l=b.useRef(!1);b.useEffect(()=>{e&&u()},[e]);const c=y=>{const v=(y.left+y.width/2)/window.innerWidth,w=(y.top+y.height/2)/window.innerHeight;i6({particleCount:100,spread:100,origin:{x:v,y:w},colors:["#FFD700","#FF69B4","#00BFFF","#32CD32","#FF4500","#9370DB"],gravity:1,scalar:1.2,startVelocity:30,ticks:200,zIndex:1e4})},d=(y,v)=>{if(!((e==null?void 0:e.id)||(e==null?void 0:e._id)))return y;const N=v.filter(_=>!_.isSeen),C=N.map(_=>_.badge._id);return C.length>0&&(y=y.map(_=>({..._,isNew:C.includes(_.badge._id)})),setTimeout(()=>{Array.from(new Set(C)).forEach(k=>{const A=document.getElementById(`badge-${k}`);if(A){const O=A.getBoundingClientRect();c(O)}});const S=N.map(k=>k._id);S.length>0&&je.markAppreciationsAsSeen(S).catch(k=>{console.error("Failed to mark appreciations as seen",k)})},500)),y},u=async()=>{try{const y=(e==null?void 0:e.id)||(e==null?void 0:e._id);if(!y)return;const v=await je.getAppreciations({recipientId:y}),w=new Map;v.forEach(C=>{if(C.badge){const _=w.get(C.badge._id);_?_.count+=1:w.set(C.badge._id,{badge:C.badge,count:1})}});let N=Array.from(w.values());l.current||(N=d(N,v),l.current=!0),r(N)}catch(y){console.error("Failed to fetch appreciations",y)}finally{a(!1)}},f=y=>{const v=y.currentTarget.getBoundingClientRect();c(v)},p=()=>{s>0&&i(y=>Math.max(0,y-1))},h=()=>{s+5<t.length&&i(y=>Math.min(t.length-5,y+1))};if(n)return o.jsx("div",{className:"flex gap-2 animate-pulse",children:[1,2,3].map(y=>o.jsx("div",{className:"h-10 w-10 bg-bg-hover rounded-full"},y))});if(t.length===0)return null;const m=t.slice(s,s+5),g=s>0,x=s+5<t.length;return o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/40 dark:bg-black/20 backdrop-blur-md border border-white/20 dark:border-white/10 shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden max-w-full",children:[g&&o.jsx("button",{onClick:p,className:"p-1 rounded-full hover:bg-black/10 dark:hover:bg-white/10 text-text-secondary transition-colors",children:o.jsx(wi,{size:16})}),o.jsx("div",{className:"flex items-center gap-3",children:m.map(y=>o.jsx(en,{content:`${y.badge.title} (x${y.count})`,children:o.jsxs("div",{id:`badge-${y.badge._id}`,onClick:f,className:`flex-shrink-0 relative group cursor-pointer transition-all duration-300 hover:-translate-y-0.5 ${y.isNew?"animate-bounce":""}`,children:[o.jsx("div",{className:"absolute inset-0 bg-brand-primary/20 blur-lg rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),y.count>1&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-brand-primary to-purple-500 text-white text-[9px] font-bold px-1.5 py-0.5 rounded-full z-10 border border-white dark:border-gray-800 shadow-sm leading-none ring-1 ring-black/5",children:y.count}),o.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-white/50 dark:bg-black/20 rounded-full border border-white/30 dark:border-white/10 shadow-sm group-hover:border-brand-primary/30 transition-colors",children:o.jsx("img",{src:y.badge.icon.startsWith("http")?y.badge.icon:`${Ma}${y.badge.icon}`,alt:y.badge.title,className:"w-7 h-7 object-contain drop-shadow-sm group-hover:scale-125 transition-transform duration-300"})})]})},y.badge._id))}),x&&o.jsx("button",{onClick:h,className:"p-1 rounded-full hover:bg-black/10 dark:hover:bg-white/10 text-text-secondary transition-colors",children:o.jsx(Wo,{size:16})})]})}function x4e(){var r,n,a,s;const{user:e}=Sr(),{text:t}=Db();return o.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-text-primary flex items-center gap-3",children:[t,", ",e==null?void 0:e.name.split(" ")[0],"!"," "]}),o.jsxs("p",{className:"text-text-secondary mt-1",children:["Here's your dashboard for today, ",sd(new Date)]})]}),o.jsx(Mb,{})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-8",children:[(!(e!=null&&e.tenantId)||typeof e.tenantId=="string"||!e.tenantId.limits||typeof e.tenantId=="string"||!e.tenantId.limits||e.tenantId.limits.enabledModules.includes("attendance")&&((r=e.accessibleModules)==null?void 0:r.includes("attendance")))&&o.jsx(rS,{}),(!(e!=null&&e.tenantId)||typeof e.tenantId=="string"||!e.tenantId.limits||typeof e.tenantId=="string"||!e.tenantId.limits||e.tenantId.limits.enabledModules.includes("leave")&&((n=e.accessibleModules)==null?void 0:n.includes("leave")))&&o.jsx(nS,{}),(!(e!=null&&e.tenantId)||typeof e.tenantId=="string"||!e.tenantId.limits||typeof e.tenantId=="string"||!e.tenantId.limits||e.tenantId.limits.enabledModules.includes("leave")&&((a=e.accessibleModules)==null?void 0:a.includes("leave")))&&o.jsx(tS,{}),(!(e!=null&&e.tenantId)||typeof e.tenantId=="string"||!e.tenantId.limits||typeof e.tenantId=="string"||!e.tenantId.limits||e.tenantId.limits.enabledModules.includes("payroll")&&((s=e.accessibleModules)==null?void 0:s.includes("payroll")))&&o.jsx(eS,{}),o.jsx(aS,{})]})]})}function y4e(){var y,v,w,N,C,_;const{user:e}=Sr(),{text:t}=Db(),[r,n]=b.useState([]),[a,s]=b.useState(!0),[i,l]=b.useState([]),[c,d]=b.useState(0),[u,f]=b.useState(0);b.useEffect(()=>{p(),h();const S=setInterval(()=>{p(),h()},3e4);return()=>clearInterval(S)},[]);const p=async()=>{try{const S=await je.getTeamStatus();n(S.teamStatus||[])}catch{}finally{s(!1)}},h=async()=>{try{const S=await je.getProjects();l(S.projects||[])}catch{}},m=()=>{const S=r.filter(O=>O.status==="clocked-in").length,k=r.filter(O=>O.status==="on-break").length,A=r.filter(O=>O.status==="clocked-out").length;return{clockedIn:S,onBreak:k,clockedOut:A,total:r.length}},g=S=>{switch(S){case"clocked-in":return o.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900/20 px-2 py-1 rounded-full border border-green-200 dark:border-green-800",children:[o.jsx(Mn,{size:12}),"Working"]});case"on-break":return o.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium text-yellow-700 dark:text-yellow-300 bg-yellow-100 dark:bg-yellow-900/20 px-2 py-1 rounded-full border border-yellow-200 dark:border-yellow-800",children:[o.jsx(J0,{size:12}),"Break"]});default:return o.jsx("span",{className:"text-xs font-medium text-text-muted bg-bg-main px-2 py-1 rounded-full border border-border",children:"Off"})}},x=m();return o.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-text-primary flex items-center gap-3",children:[t,", ",e==null?void 0:e.name.split(" ")[0],"!"," "]}),o.jsx("p",{className:"text-text-secondary mt-1",children:"Project status and team overview for today"})]}),o.jsx(Mb,{})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(!(e!=null&&e.tenantId)||typeof e.tenantId=="string"||!e.tenantId.limits||typeof e.tenantId=="string"||!e.tenantId.limits||e.tenantId.limits.enabledModules.includes("attendance")&&((y=e.accessibleModules)==null?void 0:y.includes("attendance")))&&o.jsx(rS,{}),(!(e!=null&&e.tenantId)||typeof e.tenantId=="string"||!e.tenantId.limits||typeof e.tenantId=="string"||!e.tenantId.limits||e.tenantId.limits.enabledModules.includes("leave")&&((v=e.accessibleModules)==null?void 0:v.includes("leave")))&&o.jsx(nS,{}),(!(e!=null&&e.tenantId)||typeof e.tenantId=="string"||!e.tenantId.limits||typeof e.tenantId=="string"||!e.tenantId.limits||e.tenantId.limits.enabledModules.includes("leave")&&((w=e.accessibleModules)==null?void 0:w.includes("leave")))&&o.jsx(tS,{}),(!(e!=null&&e.tenantId)||typeof e.tenantId=="string"||!e.tenantId.limits||typeof e.tenantId=="string"||!e.tenantId.limits||e.tenantId.limits.enabledModules.includes("attendance")&&((N=e.accessibleModules)==null?void 0:N.includes("attendance")))&&o.jsxs("div",{className:"bg-bg-card rounded-xl shadow-sm border border-border md:col-span-2 lg:col-span-2 overflow-hidden flex flex-col h-full",children:[o.jsxs("div",{className:"p-6 border-b border-border flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-brand-primary/10 to-brand-secondary/10 flex items-center justify-center border border-brand-primary/20",children:o.jsx(Da,{className:"text-brand-primary",size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-bold text-text-primary",children:"Live Team Status"}),o.jsxs("p",{className:"text-xs text-text-secondary",children:[r.length," Active Members"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 self-start sm:self-auto bg-bg-main p-1 rounded-lg border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-xs font-medium text-status-success bg-status-success/10 border border-status-success/20",children:[o.jsxs("span",{className:"relative flex h-2 w-2",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-status-success opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-status-success"})]}),x.clockedIn," Working"]}),o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-xs font-medium text-status-warning bg-status-warning/10 border border-status-warning/20",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-status-warning"}),x.onBreak," On Break"]}),o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-xs font-medium text-text-muted bg-bg-card border border-border",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-text-muted"}),x.clockedOut," Offline"]})]})]}),o.jsx("div",{className:"p-6 flex-1 bg-bg-main/30",children:a?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(S=>o.jsxs("div",{className:"bg-bg-card p-4 rounded-xl border border-border h-[100px] flex flex-col justify-between",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx(Se,{className:"w-10 h-10 rounded-full"}),o.jsx(Se,{className:"w-16 h-5 rounded-full"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{className:"w-24 h-3"}),o.jsx(Se,{className:"w-16 h-3"})]})]},S))}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.slice(u*3,(u+1)*3).map(S=>o.jsxs("div",{className:"group relative bg-bg-card p-4 rounded-xl border border-border hover:border-brand-primary/50 hover:shadow-md transition-all duration-300 ease-out hover:-translate-y-1",children:[o.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(dt,{size:"sm",variant:"ghost",className:"w-8 h-8 p-0 rounded-full hover:bg-bg-main",children:o.jsx(Wo,{size:16,className:"text-brand-primary"})})}),o.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[o.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold border-2 transition-colors ${S.status==="clocked-in"?"border-status-success/30 bg-status-success/10 text-status-success":S.status==="on-break"?"border-status-warning/30 bg-status-warning/10 text-status-warning":"border-border bg-bg-main text-text-muted"}`,children:S.name.split(" ").map(k=>k[0]).join("").substring(0,2)}),o.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[o.jsx("h3",{className:"font-semibold text-text-primary truncate",title:S.name,children:S.name}),o.jsx("p",{className:"text-xs text-text-secondary truncate",children:S.role||"Team Member"})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-border",children:[g(S.status),o.jsxs("span",{className:"text-[10px] font-mono text-text-muted",children:["ID: ",S.employeeId.slice(-4)]})]})]},S.employeeId)),r.length===0&&o.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-12 text-center bg-bg-card rounded-xl border border-dashed border-border",children:[o.jsx("div",{className:"w-16 h-16 bg-bg-main rounded-full flex items-center justify-center mb-4 text-text-muted",children:o.jsx(Da,{size:32})}),o.jsx("h3",{className:"text-base font-medium text-text-primary",children:"No Team Members Found"}),o.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"Your team list is currently empty."})]})]}),r.length>3&&o.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-border",children:[o.jsxs("p",{className:"text-xs text-text-secondary",children:["Showing ",u*3+1,"-",Math.min((u+1)*3,r.length)," of"," ",r.length]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>f(S=>Math.max(0,S-1)),disabled:u===0,className:"w-8 h-8 flex items-center justify-center rounded-lg border border-border bg-bg-card hover:bg-bg-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-text-secondary",children:o.jsx(wi,{size:16})}),o.jsx("button",{onClick:()=>f(S=>Math.min(Math.ceil(r.length/3)-1,S+1)),disabled:u>=Math.ceil(r.length/3)-1,className:"w-8 h-8 flex items-center justify-center rounded-lg border border-border bg-bg-card hover:bg-bg-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-text-secondary",children:o.jsx(Wo,{size:16})})]})]})]})})]}),(!(e!=null&&e.tenantId)||typeof e.tenantId=="string"||!e.tenantId.limits||e.tenantId.limits.enabledModules.includes("projects")&&((C=e.accessibleModules)==null?void 0:C.includes("projects")))&&o.jsxs("div",{className:"bg-bg-card p-0 rounded-xl shadow-sm border border-border h-full flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-border flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 rounded-lg border border-blue-200 dark:border-blue-800",children:o.jsx(cu,{size:20})}),o.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Active Projects"})]}),o.jsx(dt,{variant:"ghost",size:"sm",onClick:()=>window.location.href="/projects",className:"text-brand-primary hover:bg-brand-primary/10",children:"View All"})]}),o.jsx("div",{className:"flex-1 p-6 flex flex-col justify-center",children:a?[1,2].map(S=>o.jsxs("div",{className:"p-4 bg-bg-main rounded-xl border border-border h-[100px] mb-4 last:mb-0",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Se,{className:"w-32 h-4"}),o.jsx(Se,{className:"w-20 h-3"})]}),o.jsx(Se,{className:"w-16 h-5 rounded-full"})]}),o.jsx(Se,{className:"w-full h-8"})]},S)):i.filter(S=>S.status==="Active").length>0?(()=>{const S=i.filter(D=>D.status==="Active"),k=()=>{d(D=>(D+1)%S.length)},A=()=>{d(D=>(D-1+S.length)%S.length)},O=[];for(let D=0;D<Math.min(S.length,1);D++){const M=(c+D)%S.length;O.push(S[M])}return o.jsxs("div",{className:"flex-1 flex flex-col justify-center h-full",children:[o.jsx("div",{className:"flex-1 flex flex-col",children:O.map((D,M)=>o.jsxs("div",{className:"flex-1 bg-bg-main p-5 rounded-xl border border-border hover:border-brand-primary/30 transition-all duration-300 group flex flex-col justify-center",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-text-primary text-base group-hover:text-brand-primary transition-colors",children:D.name}),o.jsx("p",{className:"text-xs text-text-secondary mt-0.5",children:D.client})]}),o.jsx("span",{className:"px-2.5 py-0.5 bg-status-success/10 text-status-success text-[10px] font-bold uppercase rounded-full tracking-wider border border-status-success/20",children:D.status})]}),o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"flex-1 h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-brand-primary w-2/3 rounded-full"})}),o.jsx("span",{className:"text-xs font-medium text-text-primary",children:"66%"})]}),o.jsxs("div",{className:"flex justify-between text-xs text-text-muted",children:[o.jsxs("span",{children:["Due ",sd(D.endDate)]}),o.jsx("span",{children:"Team: 4"})]})]},`${D._id}-${M}`))}),S.length>1&&o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx("button",{onClick:A,className:"w-8 h-8 flex items-center justify-center rounded-lg border border-border bg-bg-card hover:bg-bg-hover transition-colors text-text-secondary hover:text-brand-primary hover:border-brand-primary/50",children:o.jsx(wi,{size:18})}),o.jsx("button",{onClick:k,className:"w-8 h-8 flex items-center justify-center rounded-lg border border-border bg-bg-card hover:bg-bg-hover transition-colors text-text-secondary hover:text-brand-primary hover:border-brand-primary/50",children:o.jsx(Wo,{size:18})})]})]})})():o.jsx("div",{className:"text-center py-8 text-text-secondary text-sm",children:"No active projects found."})})]}),(!(e!=null&&e.tenantId)||typeof e.tenantId=="string"||!e.tenantId.limits||typeof e.tenantId=="string"||!e.tenantId.limits||e.tenantId.limits.enabledModules.includes("payroll")&&((_=e.accessibleModules)==null?void 0:_.includes("payroll")))&&o.jsx(eS,{}),o.jsx(aS,{})]})]})}function v4e(){const{user:e}=Sr(),{text:t}=Db();return o.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-text-primary flex items-center gap-3",children:[t,", ",e==null?void 0:e.name.split(" ")[0],"!"," "]}),o.jsx("p",{className:"text-text-secondary mt-1",children:"HR Operations Overview"})]}),o.jsx(Mb,{})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(!(e!=null&&e.tenantId)||typeof e.tenantId=="string"||!e.tenantId.limits||e.tenantId.limits.enabledModules.includes("attendance"))&&o.jsx(rS,{}),(!(e!=null&&e.tenantId)||typeof e.tenantId=="string"||!e.tenantId.limits||e.tenantId.limits.enabledModules.includes("leave"))&&o.jsx(nS,{}),(!(e!=null&&e.tenantId)||typeof e.tenantId=="string"||!e.tenantId.limits||e.tenantId.limits.enabledModules.includes("leave"))&&o.jsx(tS,{}),(!(e!=null&&e.tenantId)||typeof e.tenantId=="string"||!e.tenantId.limits||e.tenantId.limits.enabledModules.includes("payroll"))&&o.jsx(eS,{}),o.jsx(aS,{})]})]})}function b4e(){const{user:e}=Sr(),{text:t}=Db(),[r,n]=b.useState(!0),[a,s]=b.useState({employeeCount:0,timesheetCount:0,projectCount:0,payrollTotal:0,assetValue:0,unbilledHours:0});b.useEffect(()=>{i()},[]);const i=async()=>{var l,c,d,u;try{const[f,p,h,m,g]=await Promise.all([je.getAllEmployees().catch(()=>({employees:[]})),je.getPendingTimesheetApprovals().catch(()=>({timesheets:[]})),je.getProjects().catch(()=>({projects:[]})),je.getPayrollStats().catch(()=>({totalNetSalary:0})),je.getAssetStats().catch(()=>({totalValue:0}))]),x=((l=p.timesheets)==null?void 0:l.reduce((y,v)=>y+(v.hours||0),0))||0;s({employeeCount:((c=f.employees)==null?void 0:c.length)||0,timesheetCount:((d=p.timesheets)==null?void 0:d.length)||0,projectCount:((u=h.projects)==null?void 0:u.filter(y=>y.status==="Active").length)||0,payrollTotal:m.totalNetSalary||0,assetValue:g.totalValue||0,unbilledHours:x})}catch(f){console.error("Failed to fetch accountant dashboard data",f)}finally{n(!1)}};return o.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[o.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-text-primary flex items-center gap-3",children:[t,", ",e==null?void 0:e.name.split(" ")[0],"!"," "]}),o.jsx("p",{className:"text-text-secondary mt-1",children:"Financial Overview & Payroll Status"})]})}),r?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(l=>o.jsxs("div",{className:"bg-bg-card p-6 rounded-lg shadow-sm border border-border h-[130px] animate-pulse",children:[o.jsx("div",{className:"h-4 w-8 bg-bg-main rounded mb-4"}),o.jsx("div",{className:"h-4 w-32 bg-bg-main rounded mb-4"}),o.jsx("div",{className:"h-8 w-16 bg-bg-main rounded mb-2"}),o.jsx("div",{className:"h-3 w-24 bg-bg-main rounded"})]},l))}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-bg-card p-6 rounded-lg shadow-sm border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg",children:o.jsx(Da,{size:20})}),o.jsx("h2",{className:"text-base font-semibold text-text-primary",children:"Employees on Payroll"})]}),o.jsx("p",{className:"text-3xl font-bold text-text-primary",children:a.employeeCount}),o.jsx("p",{className:"text-xs text-text-secondary mt-1",children:"Active headcount"})]}),o.jsxs("div",{className:"bg-bg-card p-6 rounded-lg shadow-sm border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400 rounded-lg",children:o.jsx(Mn,{size:20})}),o.jsx("h2",{className:"text-base font-semibold text-text-primary",children:"Pending Timesheets"})]}),o.jsx("p",{className:"text-3xl font-bold text-text-primary",children:a.timesheetCount}),o.jsx("p",{className:"text-xs text-text-secondary mt-1",children:"To be reviewed for payout"})]}),o.jsxs("div",{className:"bg-bg-card p-6 rounded-lg shadow-sm border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded-lg",children:o.jsx(cu,{size:20})}),o.jsx("h2",{className:"text-base font-semibold text-text-primary",children:"Active Projects"})]}),o.jsx("p",{className:"text-3xl font-bold text-text-primary",children:a.projectCount}),o.jsx("p",{className:"text-xs text-text-secondary mt-1",children:"Billable engagements"})]})]}),(!(e!=null&&e.tenantId)||typeof e.tenantId=="string"||!e.tenantId.limits||e.tenantId.limits.enabledModules.includes("payroll"))&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-bg-card p-6 rounded-lg shadow-sm border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Rv,{className:"text-brand-primary",size:24}),o.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Payroll Summary"})]}),o.jsxs("p",{className:"text-3xl font-bold text-text-primary",children:["$",a.payrollTotal.toLocaleString()]}),o.jsx("p",{className:"text-sm text-text-secondary mb-4",children:"Est. monthly cost"}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-status-success"}),o.jsx("span",{className:"text-status-success font-medium",children:"Active"})]})]}),o.jsxs("div",{className:"bg-bg-card p-6 rounded-lg shadow-sm border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(X8,{className:"text-status-success",size:24}),o.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Salary Structure"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-text-secondary",children:"Defined"}),o.jsx("span",{className:"font-bold text-status-success",children:"100%"})]}),o.jsx("div",{className:"w-full bg-bg-main rounded-full h-2",children:o.jsx("div",{className:"bg-status-success h-2 rounded-full w-[100%]"})}),o.jsxs("p",{className:"text-xs text-text-secondary text-right",children:[a.employeeCount," active employees"]})]})]}),o.jsxs("div",{className:"bg-bg-card p-6 rounded-lg shadow-sm border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(nve,{className:"text-status-info",size:24}),o.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Asset Value"})]}),o.jsxs("p",{className:"text-3xl font-bold text-text-primary",children:["$",a.assetValue.toLocaleString()]}),o.jsx("p",{className:"text-sm text-text-secondary mb-4",children:"Total inventory value"}),o.jsx("button",{className:"text-sm text-brand-primary font-medium hover:underline",children:"View Inventory"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-bg-card p-6 rounded-lg shadow-sm border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xn,{className:"text-brand-secondary",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Billing Overview"})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-bg-main rounded-lg",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"font-medium text-text-primary",children:"Unbilled Hours (Pending)"}),o.jsxs("span",{className:"text-brand-primary font-bold",children:[a.unbilledHours," hrs"]})]}),o.jsxs("p",{className:"text-xs text-text-secondary",children:["~ $",(a.unbilledHours*50).toLocaleString()," potential revenue (Est. $50/hr)"]})]}),o.jsxs("div",{className:"p-4 bg-bg-main rounded-lg",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"font-medium text-text-primary",children:"Active Projects"}),o.jsx("span",{className:"text-status-success font-bold",children:a.projectCount})]}),o.jsx("p",{className:"text-xs text-text-secondary",children:"Across all accounts"})]})]})]}),o.jsxs("div",{className:"bg-bg-card p-6 rounded-lg shadow-sm border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(wc,{className:"text-status-success",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Profitability"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"font-medium text-text-primary",children:"Fixed Bid Projects"}),o.jsx("span",{className:"text-status-success text-sm",children:"+15% Margin"})]}),o.jsx("div",{className:"h-2 bg-bg-main rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-status-success w-[65%] rounded-full"})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"font-medium text-text-primary",children:"Resource Utilization"}),o.jsx("span",{className:"text-brand-primary text-sm",children:"88%"})]}),o.jsx("div",{className:"h-2 bg-bg-main rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-brand-primary w-[88%] rounded-full"})})]})]})]})]}),o.jsxs("div",{className:"bg-bg-card p-6 rounded-lg shadow-sm border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(cf,{className:"text-text-secondary",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Quick Exports"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-border rounded-lg hover:bg-bg-hover transition-colors",children:[o.jsx(xn,{size:16,className:"text-status-success"}),o.jsx("span",{className:"text-sm font-medium",children:"Payroll Report (CSV)"})]}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-border rounded-lg hover:bg-bg-hover transition-colors",children:[o.jsx(xn,{size:16,className:"text-status-info"}),o.jsx("span",{className:"text-sm font-medium",children:"Tax Deductions (Excel)"})]}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-border rounded-lg hover:bg-bg-hover transition-colors",children:[o.jsx(xn,{size:16,className:"text-status-warning"}),o.jsx("span",{className:"text-sm font-medium",children:"Expense Sheet (PDF)"})]})]})]})]})}function w4e(){const{user:e}=Sr(),{text:t}=Db();return o.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-text-primary flex items-center gap-3",children:[t,", ",e==null?void 0:e.name.split(" ")[0],"!"," "]}),o.jsx("p",{className:"text-text-secondary mt-1",children:"Consultant Portal"})]}),o.jsx(Mb,{})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsx(rS,{}),o.jsx(nS,{}),o.jsx(tS,{}),o.jsx(eS,{}),o.jsx(aS,{})]})]})}function N4e(){const{user:e}=Sr(),{text:t}=Db();return o.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-text-primary flex items-center gap-3",children:[t,", ",e==null?void 0:e.name.split(" ")[0],"!"," "]}),o.jsx("p",{className:"text-text-secondary mt-1",children:"Learning & Development Track"})]}),o.jsx(Mb,{})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsx(rS,{}),o.jsx(nS,{}),o.jsx(tS,{}),o.jsx(eS,{}),o.jsx(aS,{})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-bg-card p-6 rounded-lg shadow-sm border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(L2,{className:"text-brand-primary",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Onboarding Checklist"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-status-success",children:o.jsx(L2,{size:18})}),o.jsx("span",{className:"text-text-primary line-through text-text-muted",children:"Setup Development Environment"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-status-success",children:o.jsx(L2,{size:18})}),o.jsx("span",{className:"text-text-primary line-through text-text-muted",children:"Company Policy Review"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-brand-primary rounded-sm"}),o.jsx("span",{className:"text-text-primary",children:"Complete React Fundamentals"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-text-muted rounded-sm"}),o.jsx("span",{className:"text-text-secondary",children:"Submit First Pull Request"})]})]})]}),o.jsxs("div",{className:"bg-bg-card p-6 rounded-lg shadow-sm border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(t6,{className:"text-status-info",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Training Modules"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"font-medium text-text-primary",children:"Frontend Basics"}),o.jsx("span",{className:"text-status-success text-sm",children:"Completed"})]}),o.jsx("div",{className:"h-2 bg-bg-main rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-status-success w-full rounded-full"})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"font-medium text-text-primary",children:"Advanced React"}),o.jsx("span",{className:"text-brand-primary text-sm",children:"45%"})]}),o.jsx("div",{className:"h-2 bg-bg-main rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-brand-primary w-[45%] rounded-full"})})]}),o.jsx("button",{className:"text-sm text-brand-primary font-medium hover:underline mt-2",children:"View All Modules"})]})]})]})]})}function S4e(){const{user:e}=Sr(),t=vs(),[r,n]=b.useState(!0),s=(()=>{if(e!=null&&e.tenantId&&typeof e.tenantId=="object"&&e.tenantId.status==="trial"&&e.tenantId.subscriptionEnd){const p=new Date(e.tenantId.subscriptionEnd),h=new Date,m=p.getTime()-h.getTime();return Math.ceil(m/(1e3*60*60*24))}return null})();console.log("AdminDashboard Check (Home):",{user:e,tenant:e==null?void 0:e.tenantId,daysRemaining:s});const[i,l]=b.useState({users:0,roles:0,assets:0,departments:0}),[c,d]=b.useState([]);b.useEffect(()=>{(async()=>{try{const[h,m,g,x]=await Promise.all([je.getAllEmployees().catch(()=>[]),je.getRoles().catch(()=>[]),je.getAssetStats().catch(()=>({totalAssets:0})),je.getAuditLogs({limit:5}).catch(()=>({logs:[]}))]),y=Array.isArray(h)?h:h.employees||[],v=y.length,w=new Set(y.map(C=>C.department).filter(C=>C)).size;l({users:v,roles:m.length||0,assets:g.totalAssets||0,departments:w});const N=(x.logs||[]).map(C=>{var M;const _=new Date(C.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),S=new Date,k=new Date(C.createdAt),A=Math.floor((S.getTime()-k.getTime())/1e3);let O=_;A<60?O="Just now":A<3600?O=`${Math.floor(A/60)} mins ago`:A<86400?O=`${Math.floor(A/3600)} hours ago`:O=`${Math.floor(A/86400)} days ago`;let D=(M=C.metadata)!=null&&M.name?`: ${C.metadata.name}`:"";if(C.action==="update"&&C.changes){const I=Object.keys(C.changes);if(I.length>0){const z=I[0],Y=C.changes[z];Y&&typeof Y=="object"&&"to"in Y?D+=` (${z} -> ${Y.to})`:D+=` (Updated ${I.join(", ")})`,I.length>1&&(D+=` +${I.length-1} more`)}}return{id:C._id,user:C.performedBy?C.performedBy.name:"System",action:u(C.action),target:`${C.entityType}${D}`,time:O,isAlert:C.action==="delete"||C.action==="reject"}});d(N)}catch(h){console.error("Failed to fetch admin stats:",h)}finally{n(!1)}})()},[]);const u=p=>p.charAt(0).toUpperCase()+p.slice(1).replace(/_/g," "),f=[{label:"Total Employees",value:i.users.toString(),change:"Active employees",icon:Da,color:"text-blue-600",bg:"bg-blue-100"},{label:"Active Roles",value:i.roles.toString(),change:"Configured roles",icon:gh,color:"text-purple-600",bg:"bg-purple-100"},{label:"Total Assets",value:i.assets.toString(),change:"Tracked inventory",icon:$ye,color:"text-amber-600",bg:"bg-amber-100"},{label:"Departments",value:i.departments.toString(),change:"Active departments",icon:$g,color:"text-green-600",bg:"bg-green-100"}];return o.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-text-primary",children:"Admin Console"}),o.jsxs("p",{className:"text-text-secondary mt-1",children:["Welcome back, ",e==null?void 0:e.name,".",(e==null?void 0:e.tenantId)&&typeof e.tenantId=="object"&&o.jsxs("span",{className:"ml-1 text-brand-primary font-medium",children:["@ ",e.tenantId.companyName]})]})]}),o.jsx(Mb,{})]}),s!==null&&o.jsxs("div",{className:`p-4 rounded-xl border flex items-center gap-3 ${s<=3?"bg-red-500/10 border-red-500/20 text-red-500":"bg-brand-primary/10 border-brand-primary/20 text-brand-primary"}`,children:[o.jsx(Mn,{className:"w-5 h-5"}),o.jsxs("div",{className:"font-medium",children:["Trial Account:"," ",o.jsxs("span",{className:"font-bold",children:[s," days remaining"]})," ","until expiration.",s<=0&&" (Expires Today)"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map((p,h)=>o.jsxs("div",{className:"bg-bg-card p-6 rounded-xl border border-border shadow-sm hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-text-secondary text-sm font-medium",children:p.label}),o.jsx("div",{className:"mt-2",children:r?o.jsx(Se,{className:"h-8 w-16"}):o.jsx("h3",{className:"text-2xl font-bold text-text-primary",children:p.value})})]}),o.jsx("div",{className:`p-3 rounded-lg ${p.bg.replace("bg-","bg-")}/10 ${p.color}`,children:o.jsx(p.icon,{size:20})})]}),o.jsx("div",{className:"mt-4",children:r?o.jsx(Se,{className:"h-4 w-24"}):o.jsx("p",{className:"text-xs text-text-secondary font-medium",children:p.change})})]},h))}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:o.jsx("div",{className:"lg:col-span-3 space-y-8",children:o.jsxs("section",{className:"bg-bg-card rounded-xl border border-border shadow-sm overflow-hidden h-full flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b border-border flex justify-between items-center bg-bg-main/30",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nm,{size:20,className:"text-brand-primary"}),o.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Recent System Activity"})]}),o.jsx("button",{onClick:()=>t("/audit"),className:"text-sm font-medium text-brand-primary hover:text-brand-secondary transition-colors",children:"View All Logs"})]}),o.jsx("div",{className:"p-6 flex-1 overflow-y-auto max-h-[500px]",children:r?o.jsx("div",{className:"space-y-6",children:[...Array(5)].map((p,h)=>o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(Se,{className:"w-8 h-8 rounded-full"}),h!==4&&o.jsx("div",{className:"w-0.5 h-full bg-border mt-2"})]}),o.jsxs("div",{className:"flex-1 pb-6",children:[o.jsx(Se,{className:"h-4 w-3/4 mb-2"}),o.jsx(Se,{className:"h-3 w-1/3"})]})]},h))}):c.length>0?o.jsx("div",{className:"space-y-0",children:c.map((p,h)=>{const m=h===c.length-1,x=(y=>{const v=y.toLowerCase();return v.includes("create")||v.includes("add")?ree:v.includes("login")?mbe:v.includes("update")||v.includes("edit")?xn:v.includes("delete")||v.includes("remove")?ta:Nm})(p.action);return o.jsxs("div",{className:"relative flex gap-4 group",children:[!m&&o.jsx("div",{className:"absolute left-[15px] top-8 bottom-[-8px] w-0.5 bg-border group-hover:bg-brand-primary/30 transition-colors"}),o.jsx("div",{className:`relative z-10 flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center border-2 transition-colors ${p.isAlert?"bg-status-error/10 border-status-error/20 text-status-error":"bg-brand-primary/10 border-brand-primary/20 text-brand-primary"}`,children:o.jsx(x,{size:14})}),o.jsx("div",{className:"flex-1 pb-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-1",children:[o.jsxs("p",{className:"text-sm font-medium text-text-primary",children:[o.jsx("span",{className:"font-bold hover:text-brand-primary transition-colors cursor-pointer",children:p.user})," ",o.jsx("span",{className:"text-text-secondary font-normal",children:p.action.toLowerCase()})," ",o.jsx("span",{className:"font-semibold text-text-primary",children:p.target})]}),o.jsxs("span",{className:"text-xs text-text-secondary whitespace-nowrap flex items-center gap-1 bg-bg-main px-2 py-0.5 rounded-full border border-border/50",children:[o.jsx(Mn,{size:10}),p.time]})]})})]},p.id)})}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-text-secondary",children:[o.jsx("div",{className:"w-12 h-12 bg-bg-main rounded-full flex items-center justify-center mb-3",children:o.jsx(Nm,{size:24,className:"opacity-50"})}),o.jsx("p",{children:"No recent activity found"})]})})]})})})]})}var j4e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ML(e){if(typeof e!="string")return!1;var t=j4e;return t.includes(e)}var _4e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],k4e=new Set(_4e);function wre(e){return typeof e!="string"?!1:k4e.has(e)}function Nre(e){return typeof e=="string"&&e.startsWith("data-")}function au(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(wre(r)||Nre(r))&&(t[r]=e[r]);return t}function Vw(e){if(e==null)return null;if(b.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return au(t)}return typeof e=="object"&&!Array.isArray(e)?au(e):null}function wd(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(wre(r)||Nre(r)||ML(r))&&(t[r]=e[r]);return t}var C4e=["children","width","height","viewBox","className","style","title","desc"];function O6(){return O6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O6.apply(null,arguments)}function A4e(e,t){if(e==null)return{};var r,n,a=E4e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function E4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OL=b.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:i,style:l,title:c,desc:d}=e,u=A4e(e,C4e),f=s||{width:n,height:a,x:0,y:0},p=ur("recharts-surface",i);return b.createElement("svg",O6({},wd(u),{className:p,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),b.createElement("title",null,c),b.createElement("desc",null,d),r)}),T4e=["children","className"];function P6(){return P6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P6.apply(null,arguments)}function D4e(e,t){if(e==null)return{};var r,n,a=M4e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function M4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Go=b.forwardRef((e,t)=>{var{children:r,className:n}=e,a=D4e(e,T4e),s=ur("recharts-layer",n);return b.createElement("g",P6({className:s},wd(a),{ref:t}),r)}),Sre=b.createContext(null),O4e=()=>b.useContext(Sre);function Zn(e){return function(){return e}}const jre=Math.cos,Jk=Math.sin,fu=Math.sqrt,Qk=Math.PI,U4=2*Qk,R6=Math.PI,L6=2*R6,z0=1e-6,P4e=L6-z0;function _re(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function R4e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _re;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class L4e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_re:R4e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-t,d=a-r,u=i-t,f=l-r,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>z0)if(!(Math.abs(f*c-d*u)>z0)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-i,m=a-l,g=c*c+d*d,x=h*h+m*m,y=Math.sqrt(g),v=Math.sqrt(p),w=s*Math.tan((R6-Math.acos((g+p-x)/(2*y*v)))/2),N=w/v,C=w/y;Math.abs(N-1)>z0&&this._append`L${t+N*u},${r+N*f}`,this._append`A${s},${s},0,0,${+(f*h>u*m)},${this._x1=t+C*c},${this._y1=r+C*d}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),d=t+l,u=r+c,f=1^i,p=i?a-s:s-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>z0||Math.abs(this._y1-u)>z0)&&this._append`L${d},${u}`,n&&(p<0&&(p=p%L6+L6),p>P4e?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=d},${this._y1=u}`:p>z0&&this._append`A${n},${n},0,${+(p>=R6)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function PL(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new L4e(t)}function RL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function kre(e){this._context=e}kre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function V4(e){return new kre(e)}function Cre(e){return e[0]}function Are(e){return e[1]}function Ere(e,t){var r=Zn(!0),n=null,a=V4,s=null,i=PL(l);e=typeof e=="function"?e:e===void 0?Cre:Zn(e),t=typeof t=="function"?t:t===void 0?Are:Zn(t);function l(c){var d,u=(c=RL(c)).length,f,p=!1,h;for(n==null&&(s=a(h=i())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+e(f,d,c),+t(f,d,c));if(h)return s=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Zn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Zn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Zn(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function s5(e,t,r){var n=null,a=Zn(!0),s=null,i=V4,l=null,c=PL(d);e=typeof e=="function"?e:e===void 0?Cre:Zn(+e),t=typeof t=="function"?t:Zn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Are:Zn(+r);function d(f){var p,h,m,g=(f=RL(f)).length,x,y=!1,v,w=new Array(g),N=new Array(g);for(s==null&&(l=i(v=c())),p=0;p<=g;++p){if(!(p<g&&a(x=f[p],p,f))===y)if(y=!y)h=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=p-1;m>=h;--m)l.point(w[m],N[m]);l.lineEnd(),l.areaEnd()}y&&(w[p]=+e(x,p,f),N[p]=+t(x,p,f),l.point(n?+n(x,p,f):w[p],r?+r(x,p,f):N[p]))}if(v)return l=null,v+""||null}function u(){return Ere().defined(a).curve(i).context(s)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Zn(+f),n=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Zn(+f),d):e},d.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Zn(+f),d):n},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Zn(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Zn(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Zn(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Zn(!!f),d):a},d.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),d):i},d.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),d):s},d}class Tre{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function I4e(e){return new Tre(e,!0)}function F4e(e){return new Tre(e,!1)}const LL={draw(e,t){const r=fu(t/Qk);e.moveTo(r,0),e.arc(0,0,r,0,U4)}},z4e={draw(e,t){const r=fu(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Dre=fu(1/3),B4e=Dre*2,H4e={draw(e,t){const r=fu(t/B4e),n=r*Dre;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},$4e={draw(e,t){const r=fu(t),n=-r/2;e.rect(n,n,r,r)}},U4e=.8908130915292852,Mre=Jk(Qk/10)/Jk(7*Qk/10),V4e=Jk(U4/10)*Mre,q4e=-jre(U4/10)*Mre,W4e={draw(e,t){const r=fu(t*U4e),n=V4e*r,a=q4e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=U4*s/5,l=jre(i),c=Jk(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},MD=fu(3),Y4e={draw(e,t){const r=-fu(t/(MD*3));e.moveTo(0,r*2),e.lineTo(-MD*r,-r),e.lineTo(MD*r,-r),e.closePath()}},zc=-.5,Bc=fu(3)/2,I6=1/fu(12),G4e=(I6/2+1)*3,K4e={draw(e,t){const r=fu(t/G4e),n=r/2,a=r*I6,s=n,i=r*I6+r,l=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(l,c),e.lineTo(zc*n-Bc*a,Bc*n+zc*a),e.lineTo(zc*s-Bc*i,Bc*s+zc*i),e.lineTo(zc*l-Bc*c,Bc*l+zc*c),e.lineTo(zc*n+Bc*a,zc*a-Bc*n),e.lineTo(zc*s+Bc*i,zc*i-Bc*s),e.lineTo(zc*l+Bc*c,zc*c-Bc*l),e.closePath()}};function X4e(e,t){let r=null,n=PL(a);e=typeof e=="function"?e:Zn(e||LL),t=typeof t=="function"?t:Zn(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Zn(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Zn(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Zk(){}function eC(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Ore(e){this._context=e}Ore.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eC(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function J4e(e){return new Ore(e)}function Pre(e){this._context=e}Pre.prototype={areaStart:Zk,areaEnd:Zk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:eC(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Q4e(e){return new Pre(e)}function Rre(e){this._context=e}Rre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:eC(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Z4e(e){return new Rre(e)}function Lre(e){this._context=e}Lre.prototype={areaStart:Zk,areaEnd:Zk,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function eEe(e){return new Lre(e)}function DU(e){return e<0?-1:1}function MU(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(DU(s)+DU(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function OU(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function OD(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,i-l*r,s,i)}function tC(e){this._context=e}tC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:OD(this,this._t0,OU(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,OD(this,OU(this,r=MU(this,e,t)),r);break;default:OD(this,this._t0,r=MU(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Ire(e){this._context=new Fre(e)}(Ire.prototype=Object.create(tC.prototype)).point=function(e,t){tC.prototype.point.call(this,t,e)};function Fre(e){this._context=e}Fre.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function tEe(e){return new tC(e)}function rEe(e){return new Ire(e)}function zre(e){this._context=e}zre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=PU(e),a=PU(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function PU(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function nEe(e){return new zre(e)}function q4(e,t){this._context=e,this._t=t}q4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function aEe(e){return new q4(e,.5)}function sEe(e){return new q4(e,0)}function iEe(e){return new q4(e,1)}function Kg(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,l=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function F6(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function oEe(e,t){return e[t]}function lEe(e){const t=[];return t.key=e,t}function cEe(){var e=Zn([]),t=F6,r=Kg,n=oEe;function a(s){var i=Array.from(e.apply(this,arguments),lEe),l,c=i.length,d=-1,u;for(const f of s)for(l=0,++d;l<c;++l)(i[l][d]=[0,+n(f,i[l].key,d,s)]).data=f;for(l=0,u=RL(t(i));l<c;++l)i[u[l]].index=l;return r(i,u),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Zn(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Zn(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?F6:typeof s=="function"?s:Zn(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Kg,a):r},a}function dEe(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Kg(e,t)}}function uEe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Kg(e,t)}}function fEe(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,d=0;l<i;++l){for(var u=e[t[l]],f=u[n][1]||0,p=u[n-1][1]||0,h=(f-p)/2,m=0;m<l;++m){var g=e[t[m]],x=g[n][1]||0,y=g[n-1][1]||0;h+=x-y}c+=f,d+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=d/c)}a[n-1][1]+=a[n-1][0]=r,Kg(e,t)}}var W4={},Bre={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Bre);var IL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(IL);var Y4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Y4);var G4={},Hre={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Hre);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hre,r=Y4;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],i=a.length;if(i===0)return s;let l=0,c="",d="",u=!1;for(a.charCodeAt(0)===46&&(s.push(""),l++);l<i;){const f=a[l];d?f==="\\"&&l+1<i?(l++,c+=a[l]):f===d?d="":c+=f:u?f==='"'||f==="'"?d=f:f==="]"?(u=!1,s.push(c),c=""):c+=f:f==="["?(u=!0,c&&(s.push(c),c="")):f==="."?c&&(s.push(c),c=""):c+=f,l++}return c&&s.push(c),s}e.toPath=n})(G4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bre,r=IL,n=Y4,a=G4;function s(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?r.isDeepKey(c)?s(l,a.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const u=l[c];return u===void 0?d:u}default:{if(Array.isArray(c))return i(l,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?d:u}}}function i(l,c,d){if(c.length===0)return d;let u=l;for(let f=0;f<c.length;f++){if(u==null||t.isUnsafeProperty(c[f]))return d;u=u[c[f]]}return u===void 0?d:u}e.get=s})(W4);var hEe=W4.get;const Xg=nf(hEe);var pEe=4;function rm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pEe,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Va(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,s,i)=>{var l=r[i-1];return typeof l=="string"?a+l+s:l!==void 0?a+rm(l)+s:a+s},"")}var gi=e=>e===0?0:e>0?1:-1,su=e=>typeof e=="number"&&e!=+e,zh=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Kt=e=>(typeof e=="number"||e instanceof Number)&&!su(e),Ku=e=>Kt(e)||typeof e=="string",mEe=0,qw=e=>{var t=++mEe;return"".concat(e||"").concat(t)},vo=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Kt(t)&&typeof t!="string")return n;var s;if(zh(t)){if(r==null)return n;var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return su(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},$re=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Ks(e,t,r){return Kt(e)&&Kt(t)?rm(e+r*(t-e)):t}function gEe(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Xg(n,t))===r)}var _i=e=>e===null||typeof e>"u",sS=e=>_i(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function xEe(e){return e!=null}function iS(){}var yEe=["type","size","sizeType"];function z6(){return z6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z6.apply(null,arguments)}function RU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RU(Object(r),!0).forEach(function(n){vEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vEe(e,t,r){return(t=bEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bEe(e){var t=wEe(e,"string");return typeof t=="symbol"?t:t+""}function wEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NEe(e,t){if(e==null)return{};var r,n,a=SEe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function SEe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ure={symbolCircle:LL,symbolCross:z4e,symbolDiamond:H4e,symbolSquare:$4e,symbolStar:W4e,symbolTriangle:Y4e,symbolWye:K4e},jEe=Math.PI/180,_Ee=e=>{var t="symbol".concat(sS(e));return Ure[t]||LL},kEe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*jEe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},CEe=(e,t)=>{Ure["symbol".concat(sS(e))]=t},FL=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=NEe(e,yEe),s=LU(LU({},a),{},{type:t,size:r,sizeType:n}),i="circle";typeof t=="string"&&(i=t);var l=()=>{var p=_Ee(i),h=X4e().type(p).size(kEe(r,n,i)),m=h();if(m!==null)return m},{className:c,cx:d,cy:u}=s,f=wd(s);return Kt(d)&&Kt(u)&&Kt(r)?b.createElement("path",z6({},f,{className:ur("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:l()})):null};FL.registerSymbol=CEe;var Vre=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,AEe=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{ML(a)&&(n[a]=s=>r[a](r,s))}),n},EEe=(e,t,r)=>n=>(e(t,r,n),null),oS=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];ML(a)&&typeof s=="function"&&(n||(n={}),n[a]=EEe(s,t,r))}),n};function IU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TEe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IU(Object(r),!0).forEach(function(n){DEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DEe(e,t,r){return(t=MEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MEe(e){var t=OEe(e,"string");return typeof t=="symbol"?t:t+""}function OEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ci(e,t){var r=TEe({},e),n=t,a=Object.keys(t),s=a.reduce((i,l)=>(i[l]===void 0&&n[l]!==void 0&&(i[l]=n[l]),i),r);return s}function rC(){return rC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rC.apply(null,arguments)}function FU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PEe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FU(Object(r),!0).forEach(function(n){REe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function REe(e,t,r){return(t=LEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LEe(e){var t=IEe(e,"string");return typeof t=="symbol"?t:t+""}function IEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vc=32,FEe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function zEe(e){var{data:t,iconType:r,inactiveColor:n}=e,a=Vc/2,s=Vc/6,i=Vc/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var d;return b.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(d=t.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:a,x2:Vc,y2:a,className:"recharts-legend-icon"})}if(c==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(Vc,"M").concat(2*i,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return b.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Vc/8,"h").concat(Vc,"v").concat(Vc*3/4,"h").concat(-Vc,"z"),className:"recharts-legend-icon"});if(b.isValidElement(t.legendIcon)){var u=PEe({},t);return delete u.legendIcon,b.cloneElement(t.legendIcon,u)}return b.createElement(FL,{fill:l,cx:a,cy:a,size:Vc,sizeType:"diameter",type:c})}function BEe(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:i}=e,l={x:0,y:0,width:Vc,height:Vc},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var p=u.formatter||a,h=ur({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var m=u.inactive?s:u.color,g=p?p(u.value,u,f):u.value;return b.createElement("li",rC({className:h,style:c,key:"legend-item-".concat(f)},oS(e,u,f)),b.createElement(OL,{width:r,height:r,viewBox:l,style:d,"aria-label":"".concat(g," legend icon")},b.createElement(zEe,{data:u,iconType:i,inactiveColor:s})),b.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},g))})}var HEe=e=>{var t=Ci(e,FEe),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:s},b.createElement(BEe,rC({},t,{payload:r})))},qre={},Wre={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const i=r[s],l=n(i);a.has(l)||a.set(l,i)}return Array.from(a.values())}e.uniqBy=t})(Wre);var zL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(zL);var Yre={},K4={},Gre={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Gre);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gre;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(K4);var Kre={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Kre);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K4,r=Kre;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(Yre);var Xre={},Jre={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W4;function r(n){return function(a){return t.get(a,n)}}e.property=r})(Jre);var Qre={},BL={},Zre={},HL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(HL);var $L={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})($L);var UL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(UL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HL,r=$L,n=UL;function a(u,f,p){return typeof p!="function"?a(u,f,()=>{}):s(u,f,function h(m,g,x,y,v,w){const N=p(m,g,x,y,v,w);return N!==void 0?!!N:s(m,g,h,w)},new Map)}function s(u,f,p,h){if(f===u)return!0;switch(typeof f){case"object":return i(u,f,p,h);case"function":return Object.keys(f).length>0?s(u,{...f},p,h):n.eq(u,f);default:return t.isObject(u)?typeof f=="string"?f==="":!0:n.eq(u,f)}}function i(u,f,p,h){if(f==null)return!0;if(Array.isArray(f))return c(u,f,p,h);if(f instanceof Map)return l(u,f,p,h);if(f instanceof Set)return d(u,f,p,h);const m=Object.keys(f);if(u==null||r.isPrimitive(u))return m.length===0;if(m.length===0)return!0;if(h!=null&&h.has(f))return h.get(f)===u;h==null||h.set(f,u);try{for(let g=0;g<m.length;g++){const x=m[g];if(!r.isPrimitive(u)&&!(x in u)||f[x]===void 0&&u[x]!==void 0||f[x]===null&&u[x]!==null||!p(u[x],f[x],x,u,f,h))return!1}return!0}finally{h==null||h.delete(f)}}function l(u,f,p,h){if(f.size===0)return!0;if(!(u instanceof Map))return!1;for(const[m,g]of f.entries()){const x=u.get(m);if(p(x,g,m,u,f,h)===!1)return!1}return!0}function c(u,f,p,h){if(f.length===0)return!0;if(!Array.isArray(u))return!1;const m=new Set;for(let g=0;g<f.length;g++){const x=f[g];let y=!1;for(let v=0;v<u.length;v++){if(m.has(v))continue;const w=u[v];let N=!1;if(p(w,x,g,u,f,h)&&(N=!0),N){m.add(v),y=!0;break}}if(!y)return!1}return!0}function d(u,f,p,h){return f.size===0?!0:u instanceof Set?c([...u],[...f],p,h):!1}e.isMatchWith=a,e.isSetMatch=d})(Zre);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zre;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(BL);var ene={},VL={},tne={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(tne);var qL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(qL);var WL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",i="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",f="[object Function]",p="[object ArrayBuffer]",h="[object Object]",m="[object Error]",g="[object DataView]",x="[object Uint8Array]",y="[object Uint8ClampedArray]",v="[object Uint16Array]",w="[object Uint32Array]",N="[object BigUint64Array]",C="[object Int8Array]",_="[object Int16Array]",S="[object Int32Array]",k="[object BigInt64Array]",A="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=p,e.arrayTag=u,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=N,e.booleanTag=a,e.dataViewTag=g,e.dateTag=l,e.errorTag=m,e.float32ArrayTag=A,e.float64ArrayTag=O,e.functionTag=f,e.int16ArrayTag=_,e.int32ArrayTag=S,e.int8ArrayTag=C,e.mapTag=c,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=i,e.uint16ArrayTag=v,e.uint32ArrayTag=w,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=y})(WL);var rne={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(rne);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tne,r=qL,n=WL,a=$L,s=rne;function i(u,f){return l(u,void 0,u,new Map,f)}function l(u,f,p,h=new Map,m=void 0){const g=m==null?void 0:m(u,f,p,h);if(g!==void 0)return g;if(a.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const x=new Array(u.length);h.set(u,x);for(let y=0;y<u.length;y++)x[y]=l(u[y],y,p,h,m);return Object.hasOwn(u,"index")&&(x.index=u.index),Object.hasOwn(u,"input")&&(x.input=u.input),x}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const x=new RegExp(u.source,u.flags);return x.lastIndex=u.lastIndex,x}if(u instanceof Map){const x=new Map;h.set(u,x);for(const[y,v]of u)x.set(y,l(v,y,p,h,m));return x}if(u instanceof Set){const x=new Set;h.set(u,x);for(const y of u)x.add(l(y,void 0,p,h,m));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(s.isTypedArray(u)){const x=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,x);for(let y=0;y<u.length;y++)x[y]=l(u[y],y,p,h,m);return x}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const x=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,x),c(x,u,p,h,m),x}if(typeof File<"u"&&u instanceof File){const x=new File([u],u.name,{type:u.type});return h.set(u,x),c(x,u,p,h,m),x}if(typeof Blob<"u"&&u instanceof Blob){const x=new Blob([u],{type:u.type});return h.set(u,x),c(x,u,p,h,m),x}if(u instanceof Error){const x=new u.constructor;return h.set(u,x),x.message=u.message,x.name=u.name,x.stack=u.stack,x.cause=u.cause,c(x,u,p,h,m),x}if(u instanceof Boolean){const x=new Boolean(u.valueOf());return h.set(u,x),c(x,u,p,h,m),x}if(u instanceof Number){const x=new Number(u.valueOf());return h.set(u,x),c(x,u,p,h,m),x}if(u instanceof String){const x=new String(u.valueOf());return h.set(u,x),c(x,u,p,h,m),x}if(typeof u=="object"&&d(u)){const x=Object.create(Object.getPrototypeOf(u));return h.set(u,x),c(x,u,p,h,m),x}return u}function c(u,f,p=u,h,m){const g=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<g.length;x++){const y=g[x],v=Object.getOwnPropertyDescriptor(u,y);(v==null||v.writable)&&(u[y]=l(f[y],y,p,h,m))}}function d(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=i,e.cloneDeepWithImpl=l,e.copyProperties=c})(VL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VL;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(ene);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BL,r=ene;function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(Qre);var nne={},ane={},sne={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VL,r=WL;function n(a,s){return t.cloneDeepWith(a,(i,l,c,d)=>{const u=s==null?void 0:s(i,l,c,d);if(u!==void 0)return u;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(sne);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sne;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(ane);var ine={},YL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(YL);var one={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qL;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(one);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IL,r=YL,n=one,a=G4;function s(i,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(i==null?void 0:i[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let d=i;for(let u=0;u<c.length;u++){const f=c[u];if((d==null||!Object.hasOwn(d,f))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(f)&&f<d.length))return!1;d=d[f]}return!0}e.has=s})(ine);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BL,r=Y4,n=ane,a=W4,s=ine;function i(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(d){const u=a.get(d,l);return u===void 0?s.has(d,l):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=i})(nne);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zL,r=Jre,n=Qre,a=nne;function s(i){if(i==null)return t.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?a.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return r.property(i)}}e.iteratee=s})(Xre);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wre,r=zL,n=Yre,a=Xre;function s(i,l=r.identity){return n.isArrayLikeObject(i)?t.uniqBy(Array.from(i),a.iteratee(l)):[]}e.uniqBy=s})(qre);var $Ee=qre.uniqBy;const zU=nf($Ee);function lne(e,t,r){return t===!0?zU(e,r):typeof t=="function"?zU(e,t):e}var cne={exports:{}},dne={},une={exports:{}},fne={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv=b;function UEe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VEe=typeof Object.is=="function"?Object.is:UEe,qEe=qv.useState,WEe=qv.useEffect,YEe=qv.useLayoutEffect,GEe=qv.useDebugValue;function KEe(e,t){var r=t(),n=qEe({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return YEe(function(){a.value=r,a.getSnapshot=t,PD(a)&&s({inst:a})},[e,r,t]),WEe(function(){return PD(a)&&s({inst:a}),e(function(){PD(a)&&s({inst:a})})},[e]),GEe(r),r}function PD(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!VEe(e,r)}catch{return!0}}function XEe(e,t){return t()}var JEe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?XEe:KEe;fne.useSyncExternalStore=qv.useSyncExternalStore!==void 0?qv.useSyncExternalStore:JEe;une.exports=fne;var GL=une.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X4=b,QEe=GL;function ZEe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var e3e=typeof Object.is=="function"?Object.is:ZEe,t3e=QEe.useSyncExternalStore,r3e=X4.useRef,n3e=X4.useEffect,a3e=X4.useMemo,s3e=X4.useDebugValue;dne.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=r3e(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=a3e(function(){function c(h){if(!d){if(d=!0,u=h,h=n(h),a!==void 0&&i.hasValue){var m=i.value;if(a(m,h))return f=m}return f=h}if(m=f,e3e(u,h))return m;var g=n(h);return a!==void 0&&a(m,g)?(u=h,m):(u=h,f=g)}var d=!1,u,f,p=r===void 0?null:r;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,r,n,a]);var l=t3e(e,s[0],s[1]);return n3e(function(){i.hasValue=!0,i.value=l},[l]),s3e(l),l};cne.exports=dne;var hne=cne.exports,KL=b.createContext(null),i3e=e=>e,ra=()=>{var e=b.useContext(KL);return e?e.store.dispatch:i3e},P_=()=>{},o3e=()=>P_,l3e=(e,t)=>e===t;function Qt(e){var t=b.useContext(KL);return hne.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:o3e,t?t.store.getState:P_,t?t.store.getState:P_,t?e:P_,l3e)}function c3e(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function d3e(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function u3e(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var BU=e=>Array.isArray(e)?e:[e];function f3e(e){const t=Array.isArray(e[0])?e[0]:e;return u3e(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function h3e(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var p3e=class{constructor(e){this.value=e}deref(){return this.value}},m3e=typeof WeakRef<"u"?WeakRef:p3e,g3e=0,HU=1;function i5(){return{s:g3e,v:void 0,o:null,p:null}}function pne(e,t={}){let r=i5();const{resultEqualityCheck:n}=t;let a,s=0;function i(){var f;let l=r;const{length:c}=arguments;for(let p=0,h=c;p<h;p++){const m=arguments[p];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const x=g.get(m);x===void 0?(l=i5(),g.set(m,l)):l=x}else{let g=l.p;g===null&&(l.p=g=new Map);const x=g.get(m);x===void 0?(l=i5(),g.set(m,l)):l=x}}const d=l;let u;if(l.s===HU)u=l.v;else if(u=e.apply(null,arguments),s++,n){const p=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;p!=null&&n(p,u)&&(u=p,s!==0&&s--),a=typeof u=="object"&&u!==null||typeof u=="function"?new m3e(u):u}return d.s=HU,d.v=u,u}return i.clearCache=()=>{r=i5(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function x3e(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,i=0,l,c={},d=a.pop();typeof d=="object"&&(c=d,d=a.pop()),c3e(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...r,...c},{memoize:f,memoizeOptions:p=[],argsMemoize:h=pne,argsMemoizeOptions:m=[]}=u,g=BU(p),x=BU(m),y=f3e(a),v=f(function(){return s++,d.apply(null,arguments)},...g),w=h(function(){i++;const C=h3e(y,arguments);return l=v.apply(null,C),l},...x);return Object.assign(w,{resultFunc:d,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var Ye=x3e(pne),y3e=Object.assign((e,t=Ye)=>{d3e(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((i,l,c)=>(i[r[c]]=l,i),{}))},{withTypes:()=>y3e}),mne={},gne={},xne={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const i=t(n),l=t(a);if(i===l&&i===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?l-i:i-l}return 0};e.compareValues=r})(xne);var yne={},XL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(XL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XL,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,i){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||i!=null&&Object.hasOwn(i,s)}e.isKey=a})(yne);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xne,r=yne,n=G4;function a(s,i,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(h=>String(h));const d=(h,m)=>{let g=h;for(let x=0;x<m.length&&g!=null;++x)g=g[m[x]];return g},u=(h,m)=>m==null||h==null?m:typeof h=="object"&&"key"in h?Object.hasOwn(m,h.key)?m[h.key]:d(m,h.path):typeof h=="function"?h(m):Array.isArray(h)?d(m,h):typeof m=="object"?m[h]:m,f=i.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return s.map(h=>({original:h,criteria:f.map(m=>u(m,h))})).slice().sort((h,m)=>{for(let g=0;g<f.length;g++){const x=t.compareValues(h.criteria[g],m.criteria[g],l[g]);if(x!==0)return x}return 0}).map(h=>h.original)}e.orderBy=a})(gne);var vne={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),i=(l,c)=>{for(let d=0;d<l.length;d++){const u=l[d];Array.isArray(u)&&c<s?i(u,c+1):a.push(u)}};return i(r,0),a}e.flatten=t})(vne);var JL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YL,r=K4,n=HL,a=UL;function s(i,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],i):!1}e.isIterateeCall=s})(JL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gne,r=vne,n=JL;function a(s,...i){const l=i.length;return l>1&&n.isIterateeCall(s,i[0],i[1])?i=[]:l>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(s,r.flatten(i),["asc"])}e.sortBy=a})(mne);var v3e=mne.sortBy;const J4=nf(v3e);var bne=e=>e.legend.settings,b3e=e=>e.legend.size,w3e=e=>e.legend.payload,N3e=Ye([w3e,bne],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?J4(n,r):n});function S3e(){return Qt(N3e)}var o5=1;function wne(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=b.useState({height:0,left:0,top:0,width:0}),n=b.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),i={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(i.height-t.height)>o5||Math.abs(i.left-t.left)>o5||Math.abs(i.top-t.top)>o5||Math.abs(i.width-t.width)>o5)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ri(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var j3e=typeof Symbol=="function"&&Symbol.observable||"@@observable",$U=j3e,RD=()=>Math.random().toString(36).substring(7).split("").join("."),_3e={INIT:`@@redux/INIT${RD()}`,REPLACE:`@@redux/REPLACE${RD()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${RD()}`},nC=_3e;function QL(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Nne(e,t,r){if(typeof e!="function")throw new Error(Ri(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ri(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ri(1));return r(Nne)(e,t)}let n=e,a=t,s=new Map,i=s,l=0,c=!1;function d(){i===s&&(i=new Map,s.forEach((x,y)=>{i.set(y,x)}))}function u(){if(c)throw new Error(Ri(3));return a}function f(x){if(typeof x!="function")throw new Error(Ri(4));if(c)throw new Error(Ri(5));let y=!0;d();const v=l++;return i.set(v,x),function(){if(y){if(c)throw new Error(Ri(6));y=!1,d(),i.delete(v),s=null}}}function p(x){if(!QL(x))throw new Error(Ri(7));if(typeof x.type>"u")throw new Error(Ri(8));if(typeof x.type!="string")throw new Error(Ri(17));if(c)throw new Error(Ri(9));try{c=!0,a=n(a,x)}finally{c=!1}return(s=i).forEach(v=>{v()}),x}function h(x){if(typeof x!="function")throw new Error(Ri(10));n=x,p({type:nC.REPLACE})}function m(){const x=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Ri(11));function v(){const N=y;N.next&&N.next(u())}return v(),{unsubscribe:x(v)}},[$U](){return this}}}return p({type:nC.INIT}),{dispatch:p,subscribe:f,getState:u,replaceReducer:h,[$U]:m}}function k3e(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:nC.INIT})>"u")throw new Error(Ri(12));if(typeof r(void 0,{type:nC.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ri(13))})}function Sne(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const i=t[s];typeof e[i]=="function"&&(r[i]=e[i])}const n=Object.keys(r);let a;try{k3e(r)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const d={};for(let u=0;u<n.length;u++){const f=n[u],p=r[f],h=i[f],m=p(h,l);if(typeof m>"u")throw l&&l.type,new Error(Ri(14));d[f]=m,c=c||m!==h}return c=c||n.length!==Object.keys(i).length,c?d:i}}function aC(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function C3e(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Ri(15))};const i={getState:a.getState,dispatch:(c,...d)=>s(c,...d)},l=e.map(c=>c(i));return s=aC(...l)(a.dispatch),{...a,dispatch:s}}}function jne(e){return QL(e)&&"type"in e&&typeof e.type=="string"}var _ne=Symbol.for("immer-nothing"),UU=Symbol.for("immer-draftable"),Ko=Symbol.for("immer-state");function Bd(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var fc=Object,Wv=fc.getPrototypeOf,sC="constructor",Q4="prototype",B6="configurable",iC="enumerable",R_="writable",Ww="value",Bh=e=>!!e&&!!e[Ko];function iu(e){var t;return e?kne(e)||Z4(e)||!!e[UU]||!!((t=e[sC])!=null&&t[UU])||eE(e)||tE(e):!1}var A3e=fc[Q4][sC].toString(),VU=new WeakMap;function kne(e){if(!e||!ZL(e))return!1;const t=Wv(e);if(t===null||t===fc[Q4])return!0;const r=fc.hasOwnProperty.call(t,sC)&&t[sC];if(r===Object)return!0;if(!yy(r))return!1;let n=VU.get(r);return n===void 0&&(n=Function.toString.call(r),VU.set(r,n)),n===A3e}function lS(e,t,r=!0){cS(e)===0?(r?Reflect.ownKeys(e):fc.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function cS(e){const t=e[Ko];return t?t.type_:Z4(e)?1:eE(e)?2:tE(e)?3:0}var qU=(e,t,r=cS(e))=>r===2?e.has(t):fc[Q4].hasOwnProperty.call(e,t),H6=(e,t,r=cS(e))=>r===2?e.get(t):e[t],oC=(e,t,r,n=cS(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function E3e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Z4=Array.isArray,eE=e=>e instanceof Map,tE=e=>e instanceof Set,ZL=e=>typeof e=="object",yy=e=>typeof e=="function",LD=e=>typeof e=="boolean",Jf=e=>e.copy_||e.base_,eI=e=>e.modified_?e.copy_:e.base_;function $6(e,t){if(eE(e))return new Map(e);if(tE(e))return new Set(e);if(Z4(e))return Array[Q4].slice.call(e);const r=kne(e);if(t===!0||t==="class_only"&&!r){const n=fc.getOwnPropertyDescriptors(e);delete n[Ko];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l[R_]===!1&&(l[R_]=!0,l[B6]=!0),(l.get||l.set)&&(n[i]={[B6]:!0,[R_]:!0,[iC]:l[iC],[Ww]:e[i]})}return fc.create(Wv(e),n)}else{const n=Wv(e);if(n!==null&&r)return{...e};const a=fc.create(n);return fc.assign(a,e)}}function tI(e,t=!1){return rE(e)||Bh(e)||!iu(e)||(cS(e)>1&&fc.defineProperties(e,{set:l5,add:l5,clear:l5,delete:l5}),fc.freeze(e),t&&lS(e,(r,n)=>{tI(n,!0)},!1)),e}function T3e(){Bd(2)}var l5={[Ww]:T3e};function rE(e){return e===null||!ZL(e)?!0:fc.isFrozen(e)}var lC="MapSet",U6="Patches",Cne={};function Yv(e){const t=Cne[e];return t||Bd(0,e),t}var D3e=e=>!!Cne[e],Yw,Ane=()=>Yw,M3e=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:D3e(lC)?Yv(lC):void 0});function WU(e,t){t&&(e.patchPlugin_=Yv(U6),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function V6(e){q6(e),e.drafts_.forEach(O3e),e.drafts_=null}function q6(e){e===Yw&&(Yw=e.parent_)}var YU=e=>Yw=M3e(Yw,e);function O3e(e){const t=e[Ko];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function GU(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Ko].modified_&&(V6(t),Bd(4)),iu(e)&&(e=KU(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Ko].base_,e,t)}else e=KU(t,r);return P3e(t,e,!0),V6(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==_ne?e:void 0}function KU(e,t){if(rE(t))return t;const r=t[Ko];if(!r)return rI(t,e.handledSet_,e);if(!nE(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);Dne(r,e)}return r.copy_}function P3e(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&tI(t,r)}function Ene(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var nE=(e,t)=>e.scope_===t,R3e=[];function Tne(e,t,r,n){const a=Jf(e),s=e.type_;if(n!==void 0&&H6(a,n,s)===t){oC(a,n,r,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;lS(a,(c,d)=>{if(Bh(d)){const u=l.get(d)||[];u.push(c),l.set(d,u)}})}const i=e.draftLocations_.get(t)??R3e;for(const l of i)oC(a,l,r,s)}function L3e(e,t,r){e.callbacks_.push(function(a){var l;const s=t;if(!s||!nE(s,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(s);const i=eI(s);Tne(e,s.draft_??s,i,r),Dne(s,a)})}function Dne(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}Ene(e)}}function I3e(e,t,r){const{scope_:n}=e;if(Bh(r)){const a=r[Ko];nE(a,n)&&a.callbacks_.push(function(){L_(e);const i=eI(a);Tne(e,r,i,t)})}else iu(r)&&e.callbacks_.push(function(){const s=Jf(e);H6(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&rI(H6(e.copy_,t,e.type_),n.handledSet_,n)})}function rI(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Bh(e)||t.has(e)||!iu(e)||rE(e)||(t.add(e),lS(e,(n,a)=>{if(Bh(a)){const s=a[Ko];if(nE(s,r)){const i=eI(s);oC(e,n,i,e.type_),Ene(s)}}else iu(a)&&rI(a,t,r)})),e}function F3e(e,t){const r=Z4(e),n={type_:r?1:0,scope_:t?t.scope_:Ane(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=nI;r&&(a=[n],s=Gw);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,[l,n]}var nI={get(e,t){if(t===Ko)return e;const r=Jf(e);if(!qU(r,t,e.type_))return z3e(e,r,t);const n=r[t];if(e.finalized_||!iu(n))return n;if(n===ID(e.base_,t)){L_(e);const a=e.type_===1?+t:t,s=Y6(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in Jf(e)},ownKeys(e){return Reflect.ownKeys(Jf(e))},set(e,t,r){const n=Mne(Jf(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=ID(Jf(e),t),s=a==null?void 0:a[Ko];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(E3e(r,a)&&(r!==void 0||qU(e.base_,t,e.type_)))return!0;L_(e),W6(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),I3e(e,t,r)),!0},deleteProperty(e,t){return L_(e),ID(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),W6(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Jf(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[R_]:!0,[B6]:e.type_!==1||t!=="length",[iC]:n[iC],[Ww]:r[t]}},defineProperty(){Bd(11)},getPrototypeOf(e){return Wv(e.base_)},setPrototypeOf(){Bd(12)}},Gw={};lS(nI,(e,t)=>{Gw[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Gw.deleteProperty=function(e,t){return Gw.set.call(this,e,t,void 0)};Gw.set=function(e,t,r){return nI.set.call(this,e[0],t,r,e[0])};function ID(e,t){const r=e[Ko];return(r?Jf(r):e)[t]}function z3e(e,t,r){var a;const n=Mne(t,r);return n?Ww in n?n[Ww]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function Mne(e,t){if(!(t in e))return;let r=Wv(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Wv(r)}}function W6(e){e.modified_||(e.modified_=!0,e.parent_&&W6(e.parent_))}function L_(e){e.copy_||(e.assigned_=new Map,e.copy_=$6(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var B3e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(yy(r)&&!yy(n)){const i=n;n=r;const l=this;return function(d=i,...u){return l.produce(d,f=>n.call(this,f,...u))}}yy(n)||Bd(6),a!==void 0&&!yy(a)&&Bd(7);let s;if(iu(r)){const i=YU(this),l=Y6(i,r,void 0);let c=!0;try{s=n(l),c=!1}finally{c?V6(i):q6(i)}return WU(i,a),GU(s,i)}else if(!r||!ZL(r)){if(s=n(r),s===void 0&&(s=r),s===_ne&&(s=void 0),this.autoFreeze_&&tI(s,!0),a){const i=[],l=[];Yv(U6).generateReplacementPatches_(r,s,{patches_:i,inversePatches_:l}),a(i,l)}return s}else Bd(1,r)},this.produceWithPatches=(r,n)=>{if(yy(r))return(l,...c)=>this.produceWithPatches(l,d=>r(d,...c));let a,s;return[this.produce(r,n,(l,c)=>{a=l,s=c}),a,s]},LD(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),LD(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),LD(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){iu(t)||Bd(8),Bh(t)&&(t=eu(t));const r=YU(this),n=Y6(r,t,void 0);return n[Ko].isManual_=!0,q6(r),n}finishDraft(t,r){const n=t&&t[Ko];(!n||!n.isManual_)&&Bd(9);const{scope_:a}=n;return WU(a,r),GU(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Yv(U6).applyPatches_;return Bh(t)?a(t,r):this.produce(t,s=>a(s,r))}};function Y6(e,t,r,n){const[a,s]=eE(t)?Yv(lC).proxyMap_(t,r):tE(t)?Yv(lC).proxySet_(t,r):F3e(t,r);return((r==null?void 0:r.scope_)??Ane()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?L3e(r,s,n):s.callbacks_.push(function(c){var u;(u=c.mapSetPlugin_)==null||u.fixSetContents(s);const{patchPlugin_:d}=c;s.modified_&&d&&d.generatePatches_(s,[],c)}),a}function eu(e){return Bh(e)||Bd(10,e),One(e)}function One(e){if(!iu(e)||rE(e))return e;const t=e[Ko];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=$6(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=$6(e,!0);return lS(r,(a,s)=>{oC(r,a,One(s))},n),t&&(t.finalized_=!1),r}var H3e=new B3e,Pne=H3e.produce;function Rne(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var $3e=Rne(),U3e=Rne,V3e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?aC:aC.apply(null,arguments)};function Nd(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Sc(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>jne(n)&&n.type===e,r}var Lne=class l2 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,l2.prototype)}static get[Symbol.species](){return l2}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new l2(...t[0].concat(this)):new l2(...t.concat(this))}};function XU(e){return iu(e)?Pne(e,()=>{}):e}function c5(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function q3e(e){return typeof e=="boolean"}var W3e=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let i=new Lne;return r&&(q3e(r)?i.push($3e):i.push(U3e(r.extraArgument))),i},Ine="RTK_autoBatch",va=()=>e=>({payload:e,meta:{[Ine]:!0}}),JU=e=>t=>{setTimeout(t,e)},Fne=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,i=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:JU(10):e.type==="callback"?e.queueNotification:JU(e.timeout),d=()=>{i=!1,s&&(s=!1,l.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>a&&u(),p=n.subscribe(f);return l.add(u),()=>{p(),l.delete(u)}},dispatch(u){var f;try{return a=!((f=u==null?void 0:u.meta)!=null&&f[Ine]),s=!a,s&&(i||(i=!0,c(d))),n.dispatch(u)}finally{a=!0}}})},Y3e=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new Lne(e);return n&&a.push(Fne(typeof n=="object"?n:void 0)),a};function G3e(e){const t=W3e(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(QL(r))l=Sne(r);else throw new Error(Sc(1));let c;typeof n=="function"?c=n(t):c=t();let d=aC;a&&(d=V3e({trace:!1,...typeof a=="object"&&a}));const u=C3e(...c),f=Y3e(u);let p=typeof i=="function"?i(f):f();const h=d(...p);return Nne(l,s,h)}function zne(e){const t={},r=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Sc(28));if(l in t)throw new Error(Sc(29));return t[l]=i,a},addAsyncThunk(s,i){return i.pending&&(t[s.pending.type]=i.pending),i.rejected&&(t[s.rejected.type]=i.rejected),i.fulfilled&&(t[s.fulfilled.type]=i.fulfilled),i.settled&&r.push({matcher:s.settled,reducer:i.settled}),a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function K3e(e){return typeof e=="function"}function X3e(e,t){let[r,n,a]=zne(t),s;if(K3e(e))s=()=>XU(e());else{const l=XU(e);s=()=>l}function i(l=s(),c){let d=[r[c.type],...n.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[a]),d.reduce((u,f)=>{if(f)if(Bh(u)){const h=f(u,c);return h===void 0?u:h}else{if(iu(u))return Pne(u,p=>f(p,c));{const p=f(u,c);if(p===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return u},l)}return i.getInitialState=s,i}var J3e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Q3e=(e=21)=>{let t="",r=e;for(;r--;)t+=J3e[Math.random()*64|0];return t},Z3e=Symbol.for("rtk-slice-createasyncthunk");function eTe(e,t){return`${e}/${t}`}function tTe({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[Z3e];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(Sc(11));const l=(typeof a.reducers=="function"?a.reducers(nTe()):a.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(N,C){const _=typeof N=="string"?N:N.type;if(!_)throw new Error(Sc(12));if(_ in d.sliceCaseReducersByType)throw new Error(Sc(13));return d.sliceCaseReducersByType[_]=C,u},addMatcher(N,C){return d.sliceMatchers.push({matcher:N,reducer:C}),u},exposeAction(N,C){return d.actionCreators[N]=C,u},exposeCaseReducer(N,C){return d.sliceCaseReducersByName[N]=C,u}};c.forEach(N=>{const C=l[N],_={reducerName:N,type:eTe(s,N),createNotation:typeof a.reducers=="function"};sTe(C)?oTe(_,C,u,t):aTe(_,C,u)});function f(){const[N={},C=[],_=void 0]=typeof a.extraReducers=="function"?zne(a.extraReducers):[a.extraReducers],S={...N,...d.sliceCaseReducersByType};return X3e(a.initialState,k=>{for(let A in S)k.addCase(A,S[A]);for(let A of d.sliceMatchers)k.addMatcher(A.matcher,A.reducer);for(let A of C)k.addMatcher(A.matcher,A.reducer);_&&k.addDefaultCase(_)})}const p=N=>N,h=new Map,m=new WeakMap;let g;function x(N,C){return g||(g=f()),g(N,C)}function y(){return g||(g=f()),g.getInitialState()}function v(N,C=!1){function _(k){let A=k[N];return typeof A>"u"&&C&&(A=c5(m,_,y)),A}function S(k=p){const A=c5(h,C,()=>new WeakMap);return c5(A,k,()=>{const O={};for(const[D,M]of Object.entries(a.selectors??{}))O[D]=rTe(M,k,()=>c5(m,k,y),C);return O})}return{reducerPath:N,getSelectors:S,get selectors(){return S(_)},selectSlice:_}}const w={name:s,reducer:x,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:y,...v(i),injectInto(N,{reducerPath:C,..._}={}){const S=C??i;return N.inject({reducerPath:S,reducer:x},_),{...w,...v(S,!0)}}};return w}}function rTe(e,t,r,n){function a(s,...i){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...i)}return a.unwrapped=e,a}var Tl=tTe();function nTe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function aTe({type:e,reducerName:t,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!iTe(n))throw new Error(Sc(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?Nd(e,i):Nd(e))}function sTe(e){return e._reducerDefinitionType==="asyncThunk"}function iTe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function oTe({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Sc(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:d,options:u}=r,f=a(e,s,u);n.exposeAction(t,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),d&&n.addMatcher(f.settled,d),n.exposeCaseReducer(t,{fulfilled:i||d5,pending:l||d5,rejected:c||d5,settled:d||d5})}function d5(){}var lTe="task",Bne="listener",Hne="completed",aI="cancelled",cTe=`task-${aI}`,dTe=`task-${Hne}`,G6=`${Bne}-${aI}`,uTe=`${Bne}-${Hne}`,aE=class{constructor(e){St(this,"name","TaskAbortError");St(this,"message");this.code=e,this.message=`${lTe} ${aI} (reason: ${e})`}},sI=(e,t)=>{if(typeof e!="function")throw new TypeError(Sc(32))},cC=()=>{},$ne=(e,t=cC)=>(e.catch(t),e),Une=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),vg=e=>{if(e.aborted)throw new aE(e.reason)};function Vne(e,t){let r=cC;return new Promise((n,a)=>{const s=()=>a(new aE(e.reason));if(e.aborted){s();return}r=Une(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=cC})}var fTe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof aE?"cancelled":"rejected",error:r}}finally{t==null||t()}},dC=e=>t=>$ne(Vne(e,t).then(r=>(vg(e),r))),qne=e=>{const t=dC(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:lv}=Object,QU={},sE="listenerMiddleware",hTe=(e,t)=>{const r=n=>Une(e,()=>n.abort(e.reason));return(n,a)=>{sI(n);const s=new AbortController;r(s);const i=fTe(async()=>{vg(e),vg(s.signal);const l=await n({pause:dC(s.signal),delay:qne(s.signal),signal:s.signal});return vg(s.signal),l},()=>s.abort(dTe));return a!=null&&a.autoJoin&&t.push(i.catch(cC)),{result:dC(e)(i),cancel(){s.abort(cTe)}}}},pTe=(e,t)=>{const r=async(n,a)=>{vg(t);let s=()=>{};const l=[new Promise((c,d)=>{let u=e({predicate:n,effect:(f,p)=>{p.unsubscribe(),c([f,p.getState(),p.getOriginalState()])}});s=()=>{u(),d()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await Vne(t,Promise.race(l));return vg(t),c}finally{s()}};return(n,a)=>$ne(r(n,a))},Wne=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=Nd(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Sc(21));return sI(s),{predicate:a,type:t,effect:s}},Yne=lv(e=>{const{type:t,predicate:r,effect:n}=Wne(e);return{id:Q3e(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Sc(22))}}},{withTypes:()=>Yne}),ZU=(e,t)=>{const{type:r,effect:n,predicate:a}=Wne(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},K6=e=>{e.pending.forEach(t=>{t.abort(G6)})},mTe=(e,t)=>()=>{for(const r of t.keys())K6(r);e.clear()},eV=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Gne=lv(Nd(`${sE}/add`),{withTypes:()=>Gne}),gTe=Nd(`${sE}/removeAll`),Kne=lv(Nd(`${sE}/remove`),{withTypes:()=>Kne}),xTe=(...e)=>{console.error(`${sE}/error`,...e)},dS=(e={})=>{const t=new Map,r=new Map,n=h=>{const m=r.get(h)??0;r.set(h,m+1)},a=h=>{const m=r.get(h)??1;m===1?r.delete(h):r.set(h,m-1)},{extra:s,onError:i=xTe}=e;sI(i);const l=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),m=>{h.unsubscribe(),m!=null&&m.cancelActive&&K6(h)}),c=h=>{const m=ZU(t,h)??Yne(h);return l(m)};lv(c,{withTypes:()=>c});const d=h=>{const m=ZU(t,h);return m&&(m.unsubscribe(),h.cancelActive&&K6(m)),!!m};lv(d,{withTypes:()=>d});const u=async(h,m,g,x)=>{const y=new AbortController,v=pTe(c,y.signal),w=[];try{h.pending.add(y),n(h),await Promise.resolve(h.effect(m,lv({},g,{getOriginalState:x,condition:(N,C)=>v(N,C).then(Boolean),take:v,delay:qne(y.signal),pause:dC(y.signal),extra:s,signal:y.signal,fork:hTe(y.signal,w),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((N,C,_)=>{N!==y&&(N.abort(G6),_.delete(N))})},cancel:()=>{y.abort(G6),h.pending.delete(y)},throwIfCancelled:()=>{vg(y.signal)}})))}catch(N){N instanceof aE||eV(i,N,{raisedBy:"effect"})}finally{await Promise.all(w),y.abort(uTe),a(h),h.pending.delete(y)}},f=mTe(t,r);return{middleware:h=>m=>g=>{if(!jne(g))return m(g);if(Gne.match(g))return c(g.payload);if(gTe.match(g)){f();return}if(Kne.match(g))return d(g.payload);let x=h.getState();const y=()=>{if(x===QU)throw new Error(Sc(23));return x};let v;try{if(v=m(g),t.size>0){const w=h.getState(),N=Array.from(t.values());for(const C of N){let _=!1;try{_=C.predicate(g,w,x)}catch(S){_=!1,eV(i,S,{raisedBy:"predicate"})}_&&u(C,g,h,y)}}}finally{x=QU}return v},startListening:c,stopListening:d,clearListeners:f}};function Sc(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var yTe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Xne=Tl({name:"chartLayout",initialState:yTe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:vTe,setLayout:bTe,setChartSize:wTe,setScale:NTe}=Xne.actions,STe=Xne.reducer;function Jne(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Oa(e){return Number.isFinite(e)}function Xu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function tV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function By(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tV(Object(r),!0).forEach(function(n){jTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jTe(e,t,r){return(t=_Te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Te(e){var t=kTe(e,"string");return typeof t=="symbol"?t:t+""}function kTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fa(e,t,r){return _i(e)||_i(t)?r:Ku(t)?Xg(e,t,r):typeof t=="function"?t(e):r}var CTe=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:i,layout:l}=t;if((l==="vertical"||l==="horizontal"&&i==="middle")&&s!=="center"&&Kt(e[s]))return By(By({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&i!=="middle"&&Kt(e[i]))return By(By({},e),{},{[i]:e[i]+(a||0)})}return e},Nx=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Qne=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,s,i=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate));return a||i.push(t),s||i.push(r),i},Zne=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:f,niceTicks:p,axisType:h}=e;if(!i)return null;var m=l==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,g=a==="category"&&i.bandwidth?i.bandwidth()/m:0;if(g=h==="angleAxis"&&s&&s.length>=2?gi(s[0]-s[1])*2*g:g,f||p){var x=(f||p||[]).map((y,v)=>{var w=n?n.indexOf(y):y;return{coordinate:i(w)+g,value:y,offset:g,index:v}});return x.filter(y=>!su(y.coordinate))}return c&&d?d.map((y,v)=>({coordinate:i(y)+g,value:y,index:v,offset:g})):i.ticks&&u!=null?i.ticks(u).map((y,v)=>({coordinate:i(y)+g,value:y,offset:g,index:v})):i.domain().map((y,v)=>({coordinate:i(y)+g,value:n?n[y]:y,index:v,offset:g}))},rV=1e-4,ATe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-rV,s=Math.max(n[0],n[1])+rV,i=e(t[0]),l=e(t[r-1]);(i<a||i>s||l<a||l>s)&&e.domain([t[0],t[r-1]])}},ETe=(e,t)=>{if(!t||t.length!==2||!Kt(t[0])||!Kt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Kt(e[0])||e[0]<r)&&(a[0]=r),(!Kt(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},TTe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,i=0,l=0;l<r;++l){var c=e[l],d=c==null?void 0:c[a];if(d!=null){var u=d[1],f=d[0],p=su(u)?f:u;p>=0?(d[0]=s,d[1]=s+p,s=u):(d[0]=i,d[1]=i+p,i=u)}}}},DTe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,i=0;i<r;++i){var l=e[i],c=l==null?void 0:l[a];if(c!=null){var d=su(c[1])?c[0]:c[1];d>=0?(c[0]=s,c[1]=s+d,s=c[1]):(c[0]=0,c[1]=0)}}}},MTe={sign:TTe,expand:dEe,none:Kg,silhouette:uEe,wiggle:fEe,positive:DTe},OTe=(e,t,r)=>{var n,a=(n=MTe[r])!==null&&n!==void 0?n:Kg,s=cEe().keys(t).value((l,c)=>Number(fa(l,c,0))).order(F6).offset(a),i=s(e);return i.forEach((l,c)=>{l.forEach((d,u)=>{var f=fa(e[u],t[c],0);Array.isArray(f)&&f.length===2&&Kt(f[0])&&Kt(f[1])&&(d[0]=f[0],d[1]=f[1])})}),i};function PTe(e){return e==null?void 0:String(e)}var nV=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:i}=e;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var l=fa(s,t.dataKey,t.scale.domain()[i]);return _i(l)?null:t.scale(l)-a/2+n},RTe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},LTe=e=>{var t=e.flat(2).filter(Kt);return[Math.min(...t),Math.max(...t)]},ITe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],FTe=(e,t,r)=>{if(e!=null)return ITe(Object.keys(e).reduce((n,a)=>{var s=e[a];if(!s)return n;var{stackedData:i}=s,l=i.reduce((c,d)=>{var u=Jne(d,t,r),f=LTe(u);return!Oa(f[0])||!Oa(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},aV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uC=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=J4(t,u=>u.coordinate),s=1/0,i=1,l=a.length;i<l;i++){var c=a[i],d=a[i-1];s=Math.min(((c==null?void 0:c.coordinate)||0)-((d==null?void 0:d.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function iV(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return By(By({},t),{},{dataKey:r,payload:n,value:a,name:s})}function iE(e,t){if(e)return String(e);if(typeof t=="string")return t}var zTe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},BTe=(e,t)=>t==="centric"?e.angle:e.radius,Qh=e=>e.layout.width,Zh=e=>e.layout.height,HTe=e=>e.layout.scale,eae=e=>e.layout.margin,oE=Ye(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),lE=Ye(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),tae="data-recharts-item-index",rae="data-recharts-item-id",uS=60;function oV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oV(Object(r),!0).forEach(function(n){$Te(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Te(e,t,r){return(t=UTe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UTe(e){var t=VTe(e,"string");return typeof t=="symbol"?t:t+""}function VTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qTe=e=>e.brush.height;function WTe(e){var t=lE(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:uS;return r+a}return r},0)}function YTe(e){var t=lE(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:uS;return r+a}return r},0)}function GTe(e){var t=oE(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function KTe(e){var t=oE(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var ei=Ye([Qh,Zh,eae,qTe,WTe,YTe,GTe,KTe,bne,b3e],(e,t,r,n,a,s,i,l,c,d)=>{var u={left:(r.left||0)+a,right:(r.right||0)+s},f={top:(r.top||0)+i,bottom:(r.bottom||0)+l},p=u5(u5({},f),u),h=p.bottom;p.bottom+=n,p=CTe(p,c,d);var m=e-p.left-p.right,g=t-p.top-p.bottom;return u5(u5({brushBottom:h},p),{},{width:Math.max(m,0),height:Math.max(g,0)})}),XTe=Ye(ei,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),iI=Ye(Qh,Zh,(e,t)=>({x:0,y:0,width:e,height:t})),JTe=b.createContext(null),Dl=()=>b.useContext(JTe)!=null,cE=e=>e.brush,dE=Ye([cE,ei,eae],(e,t,r)=>({height:e.height,x:Kt(e.x)?e.x:t.left,y:Kt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Kt(e.width)?e.width:t.width})),nae={},aae={},sae={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let i,l=null;const c=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),u=()=>{l!==null&&(r.apply(i,l),i=void 0,l=null)},f=()=>{d&&u(),g()};let p=null;const h=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},n)},m=()=>{p!==null&&(clearTimeout(p),p=null)},g=()=>{m(),i=void 0,l=null},x=()=>{u()},y=function(...v){if(a!=null&&a.aborted)return;i=this,l=v;const w=p==null;h(),c&&w&&u()};return y.schedule=h,y.cancel=g,y.flush=x,a==null||a.addEventListener("abort",g,{once:!0}),y}e.debounce=t})(sae);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sae;function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:l=!0,maxWait:c}=s,d=Array(2);i&&(d[0]="leading"),l&&(d[1]="trailing");let u,f=null;const p=t.debounce(function(...g){u=n.apply(this,g),f=null},a,{edges:d}),h=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(u=n.apply(this,g),f=Date.now(),p.cancel(),p.schedule(),u):(p.apply(this,g),u)},m=()=>(p.flush(),u);return h.cancel=p.cancel,h.flush=m,h}e.debounce=r})(aae);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aae;function r(n,a=0,s={}){const{leading:i=!0,trailing:l=!0}=s;return t.debounce(n,a,{leading:i,maxWait:a,trailing:l})}e.throttle=r})(nae);var QTe=nae.throttle;const ZTe=nf(QTe);var fC=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(r.replace(/%s/g,()=>a[i++]))}},iae=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:i}=r,l=zh(n)?e:Number(n),c=zh(a)?t:Number(a);return s&&s>0&&(l?c=l/s:c&&(l=c*s),i&&c!=null&&c>i&&(c=i)),{calculatedWidth:l,calculatedHeight:c}},eDe={width:0,height:0,overflow:"visible"},tDe={width:0,overflowX:"visible"},rDe={height:0,overflowY:"visible"},nDe={},aDe=e=>{var{width:t,height:r}=e,n=zh(t),a=zh(r);return n&&a?eDe:n?tDe:a?rDe:nDe};function sDe(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function X6(){return X6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X6.apply(null,arguments)}function lV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lV(Object(r),!0).forEach(function(n){iDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iDe(e,t,r){return(t=oDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oDe(e){var t=lDe(e,"string");return typeof t=="symbol"?t:t+""}function lDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oae=b.createContext({width:-1,height:-1});function cDe(e){return Xu(e.width)&&Xu(e.height)}function lae(e){var{children:t,width:r,height:n}=e,a=b.useMemo(()=>({width:r,height:n}),[r,n]);return cDe(a)?b.createElement(oae.Provider,{value:a},t):null}var oI=()=>b.useContext(oae),dDe=b.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:i=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:f,className:p,onResize:h,style:m={}}=e,g=b.useRef(null),x=b.useRef();x.current=h,b.useImperativeHandle(t,()=>g.current);var[y,v]=b.useState({containerWidth:n.width,containerHeight:n.height}),w=b.useCallback((k,A)=>{v(O=>{var D=Math.round(k),M=Math.round(A);return O.containerWidth===D&&O.containerHeight===M?O:{containerWidth:D,containerHeight:M}})},[]);b.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return iS;var k=M=>{var I,{width:z,height:Y}=M[0].contentRect;w(z,Y),(I=x.current)===null||I===void 0||I.call(x,z,Y)};u>0&&(k=ZTe(k,u,{trailing:!0,leading:!1}));var A=new ResizeObserver(k),{width:O,height:D}=g.current.getBoundingClientRect();return w(O,D),A.observe(g.current),()=>{A.disconnect()}},[w,u]);var{containerWidth:N,containerHeight:C}=y;fC(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:_,calculatedHeight:S}=iae(N,C,{width:a,height:s,aspect:r,maxHeight:c});return fC(_!=null&&_>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,S,a,s,i,l,r),b.createElement("div",{id:f?"".concat(f):void 0,className:ur("recharts-responsive-container",p),style:cV(cV({},m),{},{width:a,height:s,minWidth:i,minHeight:l,maxHeight:c}),ref:g},b.createElement("div",{style:aDe({width:a,height:s})},b.createElement(lae,{width:_,height:S},d)))}),cae=b.forwardRef((e,t)=>{var r=oI();if(Xu(r.width)&&Xu(r.height))return e.children;var{width:n,height:a}=sDe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:i}=iae(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Kt(s)&&Kt(i)?b.createElement(lae,{width:s,height:i},e.children):b.createElement(dDe,X6({},e,{width:n,height:a,ref:t}))});function dae(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var uE=()=>{var e,t=Dl(),r=Qt(XTe),n=Qt(dE),a=(e=Qt(cE))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},uDe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},uae=()=>{var e;return(e=Qt(ei))!==null&&e!==void 0?e:uDe},lI=()=>Qt(Qh),cI=()=>Qt(Zh),fDe=()=>Qt(e=>e.layout.margin),ln=e=>e.layout.layoutType,fS=()=>Qt(ln),hDe=()=>{var e=fS();return e!==void 0},fE=e=>{var t=ra(),r=Dl(),{width:n,height:a}=e,s=oI(),i=n,l=a;return s&&(i=s.width>0?s.width:n,l=s.height>0?s.height:a),b.useEffect(()=>{!r&&Xu(i)&&Xu(l)&&t(wTe({width:i,height:l}))},[t,r,i,l]),null},fae=Symbol.for("immer-nothing"),dV=Symbol.for("immer-draftable"),Tc=Symbol.for("immer-state");function Hd(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Kw=Object.getPrototypeOf;function Gv(e){return!!e&&!!e[Tc]}function Jg(e){var t;return e?hae(e)||Array.isArray(e)||!!e[dV]||!!((t=e.constructor)!=null&&t[dV])||hS(e)||pE(e):!1}var pDe=Object.prototype.constructor.toString(),uV=new WeakMap;function hae(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=uV.get(r);return n===void 0&&(n=Function.toString.call(r),uV.set(r,n)),n===pDe}function hC(e,t,r=!0){hE(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function hE(e){const t=e[Tc];return t?t.type_:Array.isArray(e)?1:hS(e)?2:pE(e)?3:0}function J6(e,t){return hE(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function pae(e,t,r){const n=hE(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function mDe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function hS(e){return e instanceof Map}function pE(e){return e instanceof Set}function B0(e){return e.copy_||e.base_}function Q6(e,t){if(hS(e))return new Map(e);if(pE(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=hae(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Tc];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[i]})}return Object.create(Kw(e),n)}else{const n=Kw(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function dI(e,t=!1){return mE(e)||Gv(e)||!Jg(e)||(hE(e)>1&&Object.defineProperties(e,{set:f5,add:f5,clear:f5,delete:f5}),Object.freeze(e),t&&Object.values(e).forEach(r=>dI(r,!0))),e}function gDe(){Hd(2)}var f5={value:gDe};function mE(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var xDe={};function Qg(e){const t=xDe[e];return t||Hd(0,e),t}var Xw;function mae(){return Xw}function yDe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fV(e,t){t&&(Qg("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Z6(e){eP(e),e.drafts_.forEach(vDe),e.drafts_=null}function eP(e){e===Xw&&(Xw=e.parent_)}function hV(e){return Xw=yDe(Xw,e)}function vDe(e){const t=e[Tc];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pV(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Tc].modified_&&(Z6(t),Hd(4)),Jg(e)&&(e=pC(t,e),t.parent_||mC(t,e)),t.patches_&&Qg("Patches").generateReplacementPatches_(r[Tc].base_,e,t.patches_,t.inversePatches_)):e=pC(t,r,[]),Z6(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==fae?e:void 0}function pC(e,t,r){if(mE(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Tc];if(!a)return hC(t,(s,i)=>mV(e,a,t,s,i,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return mC(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let i=s,l=!1;a.type_===3&&(i=new Set(s),s.clear(),l=!0),hC(i,(c,d)=>mV(e,a,s,c,d,r,l),n),mC(e,s,!1),r&&e.patches_&&Qg("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function mV(e,t,r,n,a,s,i){if(a==null||typeof a!="object"&&!i)return;const l=mE(a);if(!(l&&!i)){if(Gv(a)){const c=s&&t&&t.type_!==3&&!J6(t.assigned_,n)?s.concat(n):void 0,d=pC(e,a,c);if(pae(r,n,d),Gv(d))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(Jg(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;pC(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(hS(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&mC(e,a)}}}function mC(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&dI(t,r)}function bDe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:mae(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=uI;r&&(a=[n],s=Jw);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var uI={get(e,t){if(t===Tc)return e;const r=B0(e);if(!J6(r,t))return wDe(e,r,t);const n=r[t];return e.finalized_||!Jg(n)?n:n===FD(e.base_,t)?(zD(e),e.copy_[t]=rP(n,e)):n},has(e,t){return t in B0(e)},ownKeys(e){return Reflect.ownKeys(B0(e))},set(e,t,r){const n=gae(B0(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=FD(B0(e),t),s=a==null?void 0:a[Tc];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(mDe(r,a)&&(r!==void 0||J6(e.base_,t)))return!0;zD(e),tP(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return FD(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,zD(e),tP(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=B0(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Hd(11)},getPrototypeOf(e){return Kw(e.base_)},setPrototypeOf(){Hd(12)}},Jw={};hC(uI,(e,t)=>{Jw[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Jw.deleteProperty=function(e,t){return Jw.set.call(this,e,t,void 0)};Jw.set=function(e,t,r){return uI.set.call(this,e[0],t,r,e[0])};function FD(e,t){const r=e[Tc];return(r?B0(r):e)[t]}function wDe(e,t,r){var a;const n=gae(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function gae(e,t){if(!(t in e))return;let r=Kw(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Kw(r)}}function tP(e){e.modified_||(e.modified_=!0,e.parent_&&tP(e.parent_))}function zD(e){e.copy_||(e.copy_=Q6(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var NDe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const i=this;return function(c=s,...d){return i.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&Hd(6),n!==void 0&&typeof n!="function"&&Hd(7);let a;if(Jg(t)){const s=hV(this),i=rP(t,void 0);let l=!0;try{a=r(i),l=!1}finally{l?Z6(s):eP(s)}return fV(s,n),pV(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===fae&&(a=void 0),this.autoFreeze_&&dI(a,!0),n){const s=[],i=[];Qg("Patches").generateReplacementPatches_(t,a,s,i),n(s,i)}return a}else Hd(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...l)=>this.produceWithPatches(i,c=>t(c,...l));let n,a;return[this.produce(t,r,(i,l)=>{n=i,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Jg(e)||Hd(8),Gv(e)&&(e=SDe(e));const t=hV(this),r=rP(e,void 0);return r[Tc].isManual_=!0,eP(t),r}finishDraft(e,t){const r=e&&e[Tc];(!r||!r.isManual_)&&Hd(9);const{scope_:n}=r;return fV(n,t),pV(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Qg("Patches").applyPatches_;return Gv(e)?n(e,t):this.produce(e,a=>n(a,t))}};function rP(e,t){const r=hS(e)?Qg("MapSet").proxyMap_(e,t):pE(e)?Qg("MapSet").proxySet_(e,t):bDe(e,t);return(t?t.scope_:mae()).drafts_.push(r),r}function SDe(e){return Gv(e)||Hd(10,e),xae(e)}function xae(e){if(!Jg(e)||mE(e))return e;const t=e[Tc];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Q6(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Q6(e,!0);return hC(r,(a,s)=>{pae(r,a,xae(s))},n),t&&(t.finalized_=!1),r}var jDe=new NDe;jDe.produce;var _De={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},yae=Tl({name:"legend",initialState:_De,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:va()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=eu(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:va()},removeLegendPayload:{reducer(e,t){var r=eu(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:va()}}}),{setLegendSize:gV,setLegendSettings:kDe,addLegendPayload:vae,replaceLegendPayload:bae,removeLegendPayload:wae}=yae.actions,CDe=yae.reducer,ADe=["contextPayload"];function nP(){return nP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nP.apply(null,arguments)}function xV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xV(Object(r),!0).forEach(function(n){EDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EDe(e,t,r){return(t=TDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TDe(e){var t=DDe(e,"string");return typeof t=="symbol"?t:t+""}function DDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MDe(e,t){if(e==null)return{};var r,n,a=ODe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ODe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PDe(e){return e.value}function RDe(e){var{contextPayload:t}=e,r=MDe(e,ADe),n=lne(t,e.payloadUniqBy,PDe),a=Kv(Kv({},r),{},{payload:n});return b.isValidElement(e.content)?b.cloneElement(e.content,a):typeof e.content=="function"?b.createElement(e.content,a):b.createElement(HEe,a)}function LDe(e,t,r,n,a,s){var{layout:i,align:l,verticalAlign:c}=t,d,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&i==="vertical"?d={left:((n||0)-s.width)/2}:d=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?u={top:((a||0)-s.height)/2}:u=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Kv(Kv({},d),u)}function IDe(e){var t=ra();return b.useEffect(()=>{t(kDe(e))},[t,e]),null}function FDe(e){var t=ra();return b.useEffect(()=>(t(gV(e)),()=>{t(gV({width:0,height:0}))}),[t,e]),null}function zDe(e,t,r,n){return e==="vertical"&&Kt(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var BDe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Nae(e){var t=Ci(e,BDe),r=S3e(),n=O4e(),a=fDe(),{width:s,height:i,wrapperStyle:l,portal:c}=t,[d,u]=wne([r]),f=lI(),p=cI();if(f==null||p==null)return null;var h=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),m=zDe(t.layout,i,s,h),g=c?l:Kv(Kv({position:"absolute",width:(m==null?void 0:m.width)||s||"auto",height:(m==null?void 0:m.height)||i||"auto"},LDe(l,t,a,f,p,d)),l),x=c??n;if(x==null||r==null)return null;var y=b.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},b.createElement(IDe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&b.createElement(FDe,{width:d.width,height:d.height}),b.createElement(RDe,nP({},t,m,{margin:a,chartWidth:f,chartHeight:p,contextPayload:r})));return af.createPortal(y,x)}Nae.displayName="Legend";function aP(){return aP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aP.apply(null,arguments)}function yV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yV(Object(r),!0).forEach(function(n){HDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HDe(e,t,r){return(t=$De(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $De(e){var t=UDe(e,"string");return typeof t=="symbol"?t:t+""}function UDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VDe(e){return Array.isArray(e)&&Ku(e[0])&&Ku(e[1])?e.join(" ~ "):e}var qDe=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:f,accessibilityLayer:p=!1}=e,h=()=>{if(s&&s.length){var C={padding:0,margin:0},_=(l?J4(s,l):s).map((S,k)=>{if(S.type==="none")return null;var A=S.formatter||i||VDe,{value:O,name:D}=S,M=O,I=D;if(A){var z=A(O,D,S,k,s);if(Array.isArray(z))[M,I]=z;else if(z!=null)M=z;else return null}var Y=BD({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:Y},Ku(I)?b.createElement("span",{className:"recharts-tooltip-item-name"},I):null,Ku(I)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},M),b.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:C},_)}return null},m=BD({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=BD({margin:0},a),x=!_i(u),y=x?u:"",v=ur("recharts-default-tooltip",c),w=ur("recharts-tooltip-label",d);x&&f&&s!==void 0&&s!==null&&(y=f(u,s));var N=p?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",aP({className:v,style:m},N),b.createElement("p",{className:w,style:g},b.isValidElement(y)?y:"".concat(y)),h())},F1="recharts-tooltip-wrapper",WDe={visibility:"hidden"};function YDe(e){var{coordinate:t,translateX:r,translateY:n}=e;return ur(F1,{["".concat(F1,"-right")]:Kt(r)&&t&&Kt(t.x)&&r>=t.x,["".concat(F1,"-left")]:Kt(r)&&t&&Kt(t.x)&&r<t.x,["".concat(F1,"-bottom")]:Kt(n)&&t&&Kt(t.y)&&n>=t.y,["".concat(F1,"-top")]:Kt(n)&&t&&Kt(t.y)&&n<t.y})}function vV(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=e;if(s&&Kt(s[n]))return s[n];var u=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return i[n]?u:f;var p=c[n];if(p==null)return 0;if(i[n]){var h=u,m=p;return h<m?Math.max(f,p):Math.max(u,p)}if(d==null)return 0;var g=f+l,x=p+d;return g>x?Math.max(u,p):Math.max(f,p)}function GDe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function KDe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:i,useTranslate3d:l,viewBox:c}=e,d,u,f;return i.height>0&&i.width>0&&r?(u=vV({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=vV({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),d=GDe({translateX:u,translateY:f,useTranslate3d:l})):d=WDe,{cssProperties:d,cssClasses:YDe({translateX:u,translateY:f,coordinate:r})}}function bV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function h5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bV(Object(r),!0).forEach(function(n){sP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sP(e,t,r){return(t=XDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XDe(e){var t=JDe(e,"string");return typeof t=="symbol"?t:t+""}function JDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class QDe extends b.PureComponent{constructor(){super(...arguments),sP(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),sP(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:l,isAnimationActive:c,offset:d,position:u,reverseDirection:f,useTranslate3d:p,viewBox:h,wrapperStyle:m,lastBoundingBox:g,innerRef:x,hasPortalFromProps:y}=this.props,{cssClasses:v,cssProperties:w}=KDe({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:d,position:u,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:p,viewBox:h}),N=y?{}:h5(h5({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),C=h5(h5({},N),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},m);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:C,ref:x},s)}}var Sae=()=>{var e;return(e=Qt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function iP(){return iP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iP.apply(null,arguments)}function wV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wV(Object(r),!0).forEach(function(n){ZDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZDe(e,t,r){return(t=eMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eMe(e){var t=tMe(e,"string");return typeof t=="symbol"?t:t+""}function tMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SV={curveBasisClosed:Q4e,curveBasisOpen:Z4e,curveBasis:J4e,curveBumpX:I4e,curveBumpY:F4e,curveLinearClosed:eEe,curveLinear:V4,curveMonotoneX:tEe,curveMonotoneY:rEe,curveNatural:nEe,curveStep:aEe,curveStepAfter:iEe,curveStepBefore:sEe},gC=e=>Oa(e.x)&&Oa(e.y),jV=e=>e.base!=null&&gC(e.base)&&gC(e),z1=e=>e.x,B1=e=>e.y,rMe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(sS(e));return(r==="curveMonotone"||r==="curveBump")&&t?SV["".concat(r).concat(t==="vertical"?"Y":"X")]:SV[r]||V4},nMe=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,i=rMe(t,a),l=s?r.filter(gC):r,c;if(Array.isArray(n)){var d=r.map((h,m)=>NV(NV({},h),{},{base:n[m]}));a==="vertical"?c=s5().y(B1).x1(z1).x0(h=>h.base.x):c=s5().x(z1).y1(B1).y0(h=>h.base.y);var u=c.defined(jV).curve(i),f=s?d.filter(jV):d;return u(f)}a==="vertical"&&Kt(n)?c=s5().y(B1).x1(z1).x0(n):Kt(n)?c=s5().x(z1).y1(B1).y0(n):c=Ere().x(z1).y(B1);var p=c.defined(gC).curve(i);return p(l)},fI=e=>{var{className:t,points:r,path:n,pathRef:a}=e,s=fS();if((!r||!r.length)&&!n)return null;var i={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},l=r&&r.length?nMe(i):n;return b.createElement("path",iP({},au(e),AEe(e),{className:ur("recharts-curve",t),d:l===null?void 0:l,ref:a}))},aMe=["x","y","top","left","width","height","className"];function oP(){return oP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oP.apply(null,arguments)}function _V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sMe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_V(Object(r),!0).forEach(function(n){iMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_V(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iMe(e,t,r){return(t=oMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oMe(e){var t=lMe(e,"string");return typeof t=="symbol"?t:t+""}function lMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cMe(e,t){if(e==null)return{};var r,n,a=dMe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dMe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uMe=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),fMe=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:i=0,className:l}=e,c=cMe(e,aMe),d=sMe({x:t,y:r,top:n,left:a,width:s,height:i},c);return!Kt(t)||!Kt(r)||!Kt(s)||!Kt(i)||!Kt(n)||!Kt(a)?null:b.createElement("path",oP({},wd(d),{className:ur("recharts-cross",l),d:uMe(t,r,s,i,n,a)}))};function hMe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function kV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kV(Object(r),!0).forEach(function(n){pMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pMe(e,t,r){return(t=mMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mMe(e){var t=gMe(e,"string");return typeof t=="symbol"?t:t+""}function gMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xMe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),jae=(e,t,r)=>e.map(n=>"".concat(xMe(n)," ").concat(t,"ms ").concat(r)).join(","),yMe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Qw=(e,t)=>Object.keys(t).reduce((r,n)=>CV(CV({},r),{},{[n]:e(n,t[n])}),{});function AV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AV(Object(r),!0).forEach(function(n){vMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vMe(e,t,r){return(t=bMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bMe(e){var t=wMe(e,"string");return typeof t=="symbol"?t:t+""}function wMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xC=(e,t,r)=>e+(t-e)*r,lP=e=>{var{from:t,to:r}=e;return t!==r},_ae=(e,t,r)=>{var n=Qw((a,s)=>{if(lP(s)){var[i,l]=e(s.from,s.to,s.velocity);return Xs(Xs({},s),{},{from:i,velocity:l})}return s},t);return r<1?Qw((a,s)=>lP(s)&&n[a]!=null?Xs(Xs({},s),{},{velocity:xC(s.velocity,n[a].velocity,r),from:xC(s.from,n[a].from,r)}):s,t):_ae(e,n,r-1)};function NMe(e,t,r,n,a,s){var i,l=n.reduce((p,h)=>Xs(Xs({},p),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>Qw((p,h)=>h.from,l),d=()=>!Object.values(l).filter(lP).length,u=null,f=p=>{i||(i=p);var h=p-i,m=h/r.dt;l=_ae(r,l,m),a(Xs(Xs(Xs({},e),t),c())),i=p,d()||(u=s.setTimeout(f))};return()=>(u=s.setTimeout(f),()=>{var p;(p=u)===null||p===void 0||p()})}function SMe(e,t,r,n,a,s,i){var l=null,c=a.reduce((f,p)=>{var h=e[p],m=t[p];return h==null||m==null?f:Xs(Xs({},f),{},{[p]:[h,m]})},{}),d,u=f=>{d||(d=f);var p=(f-d)/n,h=Qw((g,x)=>xC(...x,r(p)),c);if(s(Xs(Xs(Xs({},e),t),h)),p<1)l=i.setTimeout(u);else{var m=Qw((g,x)=>xC(...x,r(1)),c);s(Xs(Xs(Xs({},e),t),m))}};return()=>(l=i.setTimeout(u),()=>{var f;(f=l)===null||f===void 0||f()})}const jMe=(e,t,r,n,a,s)=>{var i=yMe(e,t);return r==null?()=>(a(Xs(Xs({},e),t)),()=>{}):r.isStepper===!0?NMe(e,t,r,i,a,s):SMe(e,t,r,n,i,a,s)};var yC=1e-4,kae=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Cae=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),EV=(e,t)=>r=>{var n=kae(e,t);return Cae(n,r)},_Me=(e,t)=>r=>{var n=kae(e,t),a=[...n.map((s,i)=>s*i).slice(1),0];return Cae(a,r)},kMe=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},CMe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=kMe(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},AMe=(e,t,r,n)=>{var a=EV(e,r),s=EV(t,n),i=_Me(e,r),l=d=>d>1?1:d<0?0:d,c=d=>{for(var u=d>1?1:d,f=u,p=0;p<8;++p){var h=a(f)-u,m=i(f);if(Math.abs(h-u)<yC||m<yC)return s(f);f=l(f-h/m)}return s(f)};return c.isStepper=!1,c},TV=function(){return AMe(...CMe(...arguments))},EMe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(i,l,c)=>{var d=-(i-l)*r,u=c*n,f=c+(d-u)*a/1e3,p=c*a/1e3+i;return Math.abs(p-l)<yC&&Math.abs(f)<yC?[l,0]:[p,f]};return s.isStepper=!0,s.dt=a,s},TMe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TV(e);case"spring":return EMe();default:if(e.split("(")[0]==="cubic-bezier")return TV(e)}return typeof e=="function"?e:null};function DMe(e){var t,r=()=>null,n=!1,a=null,s=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var l=i,[c,...d]=l;if(typeof c=="number"){a=e.setTimeout(s.bind(null,d),c);return}s(c),a=e.setTimeout(s.bind(null,d));return}typeof i=="string"&&(t=i,r(t)),typeof i=="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,a&&(a(),a=null),s(i)},subscribe:i=>(r=i,()=>{r=()=>null}),getTimeoutController:()=>e}}class MMe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=i=>{i-n>=r?t(i):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function OMe(){return DMe(new MMe)}var PMe=b.createContext(OMe);function RMe(e,t){var r=b.useContext(PMe);return b.useMemo(()=>t??r(e),[e,t,r])}var LMe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),gE={isSsr:LMe()},IMe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},DV={t:0},HD={t:1};function xE(e){var t=Ci(e,IMe),{isActive:r,canBegin:n,duration:a,easing:s,begin:i,onAnimationEnd:l,onAnimationStart:c,children:d}=t,u=r==="auto"?!gE.isSsr:r,f=RMe(t.animationId,t.animationManager),[p,h]=b.useState(u?DV:HD),m=b.useRef(null);return b.useEffect(()=>{u||h(HD)},[u]),b.useEffect(()=>{if(!u||!n)return iS;var g=jMe(DV,HD,TMe(s),a,h,f.getTimeoutController()),x=()=>{m.current=g()};return f.start([c,i,x,a,l]),()=>{f.stop(),m.current&&m.current(),l()}},[u,n,a,s,i,c,l,f]),d(p.t)}function yE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=b.useRef(qw(t)),n=b.useRef(e);return n.current!==e&&(r.current=qw(t),n.current=e),r.current}var FMe=["radius"],zMe=["radius"],MV,OV,PV,RV,LV,IV,FV,zV,BV,HV;function $V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$V(Object(r),!0).forEach(function(n){BMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$V(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BMe(e,t,r){return(t=HMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HMe(e){var t=$Me(e,"string");return typeof t=="symbol"?t:t+""}function $Me(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vC(){return vC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vC.apply(null,arguments)}function VV(e,t){if(e==null)return{};var r,n,a=UMe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UMe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var qV=(e,t,r,n,a)=>{var s=rm(r),i=rm(n),l=Math.min(Math.abs(s)/2,Math.abs(i)/2),c=i>=0?1:-1,d=s>=0?1:-1,u=i>=0&&s>=0||i<0&&s<0?1:0,f;if(l>0&&a instanceof Array){for(var p=[0,0,0,0],h=0,m=4;h<m;h++)p[h]=a[h]>l?l:a[h];f=Va(MV||(MV=bu(["M",",",""])),e,t+c*p[0]),p[0]>0&&(f+=Va(OV||(OV=bu(["A ",",",",0,0,",",",",",""])),p[0],p[0],u,e+d*p[0],t)),f+=Va(PV||(PV=bu(["L ",",",""])),e+r-d*p[1],t),p[1]>0&&(f+=Va(RV||(RV=bu(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],u,e+r,t+c*p[1])),f+=Va(LV||(LV=bu(["L ",",",""])),e+r,t+n-c*p[2]),p[2]>0&&(f+=Va(IV||(IV=bu(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],u,e+r-d*p[2],t+n)),f+=Va(FV||(FV=bu(["L ",",",""])),e+d*p[3],t+n),p[3]>0&&(f+=Va(zV||(zV=bu(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],u,e,t+n-c*p[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var g=Math.min(l,a);f=Va(BV||(BV=bu(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*g,g,g,u,e+d*g,t,e+r-d*g,t,g,g,u,e+r,t+c*g,e+r,t+n-c*g,g,g,u,e+r-d*g,t+n,e+d*g,t+n,g,g,u,e,t+n-c*g)}else f=Va(HV||(HV=bu(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},WV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Aae=e=>{var t=Ci(e,WV),r=b.useRef(null),[n,a]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&a(V)}catch{}},[]);var{x:s,y:i,width:l,height:c,radius:d,className:u}=t,{animationEasing:f,animationDuration:p,animationBegin:h,isAnimationActive:m,isUpdateAnimationActive:g}=t,x=b.useRef(l),y=b.useRef(c),v=b.useRef(s),w=b.useRef(i),N=b.useMemo(()=>({x:s,y:i,width:l,height:c,radius:d}),[s,i,l,c,d]),C=yE(N,"rectangle-");if(s!==+s||i!==+i||l!==+l||c!==+c||l===0||c===0)return null;var _=ur("recharts-rectangle",u);if(!g){var S=wd(t),{radius:k}=S,A=VV(S,FMe);return b.createElement("path",vC({},A,{x:rm(s),y:rm(i),width:rm(l),height:rm(c),radius:typeof d=="number"?d:void 0,className:_,d:qV(s,i,l,c,d)}))}var O=x.current,D=y.current,M=v.current,I=w.current,z="0px ".concat(n===-1?1:n,"px"),Y="".concat(n,"px 0px"),X=jae(["strokeDasharray"],p,typeof f=="string"?f:WV.animationEasing);return b.createElement(xE,{animationId:C,key:C,canBegin:n>0,duration:p,easing:f,isActive:g,begin:h},V=>{var G=Ks(O,l,V),J=Ks(D,c,V),B=Ks(M,s,V),q=Ks(I,i,V);r.current&&(x.current=G,y.current=J,v.current=B,w.current=q);var T;m?V>0?T={transition:X,strokeDasharray:Y}:T={strokeDasharray:z}:T={strokeDasharray:Y};var R=wd(t),{radius:F}=R,H=VV(R,zMe);return b.createElement("path",vC({},H,{radius:typeof d=="number"?d:void 0,className:_,d:qV(B,q,G,J,d),ref:r,style:UV(UV({},T),t.style)}))})};function YV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YV(Object(r),!0).forEach(function(n){VMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VMe(e,t,r){return(t=qMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qMe(e){var t=WMe(e,"string");return typeof t=="symbol"?t:t+""}function WMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bC=Math.PI/180,YMe=e=>e*180/Math.PI,Ms=(e,t,r,n)=>({x:e+Math.cos(-bC*n)*r,y:t+Math.sin(-bC*n)*r}),Eae=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},GMe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},KMe=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,i=GMe({x:r,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var l=(r-a)/i,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:i,angle:YMe(c),angleInRadian:c}},XMe=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},JMe=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return e+i*360},QMe=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=KMe({x:r,y:n},t),{innerRadius:i,outerRadius:l}=t;if(a<i||a>l||a===0)return null;var{startAngle:c,endAngle:d}=XMe(t),u=s,f;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;f=u>=d&&u<=c}return f?GV(GV({},t),{},{radius:a,angle:JMe(u,t)}):null};function Tae(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,i=Ms(t,r,n,a),l=Ms(t,r,n,s);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}var KV,XV,JV,QV,ZV,eq,tq;function cP(){return cP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cP.apply(null,arguments)}function eg(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ZMe=(e,t)=>{var r=gi(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},p5=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:l,cornerIsExternal:c}=e,d=l*(i?1:-1)+n,u=Math.asin(l/d)/bC,f=c?a:a+s*u,p=Ms(t,r,d,f),h=Ms(t,r,n,f),m=c?a-s*u:a,g=Ms(t,r,d*Math.cos(u*bC),m);return{center:p,circleTangency:h,lineTangency:g,theta:u}},Dae=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=e,l=ZMe(s,i),c=s+l,d=Ms(t,r,a,s),u=Ms(t,r,a,c),f=Va(KV||(KV=eg(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,a,a,+(Math.abs(l)>180),+(s>c),u.x,u.y);if(n>0){var p=Ms(t,r,n,s),h=Ms(t,r,n,c);f+=Va(XV||(XV=eg(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),h.x,h.y,n,n,+(Math.abs(l)>180),+(s<=c),p.x,p.y)}else f+=Va(JV||(JV=eg(["L ",","," Z"])),t,r);return f},eOe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:l,startAngle:c,endAngle:d}=e,u=gi(d-c),{circleTangency:f,lineTangency:p,theta:h}=p5({cx:t,cy:r,radius:a,angle:c,sign:u,cornerRadius:s,cornerIsExternal:l}),{circleTangency:m,lineTangency:g,theta:x}=p5({cx:t,cy:r,radius:a,angle:d,sign:-u,cornerRadius:s,cornerIsExternal:l}),y=l?Math.abs(c-d):Math.abs(c-d)-h-x;if(y<0)return i?Va(QV||(QV=eg(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,s,s,s*2,s,s,-s*2):Dae({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:d});var v=Va(ZV||(ZV=eg(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,s,s,+(u<0),f.x,f.y,a,a,+(y>180),+(u<0),m.x,m.y,s,s,+(u<0),g.x,g.y);if(n>0){var{circleTangency:w,lineTangency:N,theta:C}=p5({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:_,lineTangency:S,theta:k}=p5({cx:t,cy:r,radius:n,angle:d,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=l?Math.abs(c-d):Math.abs(c-d)-C-k;if(A<0&&s===0)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+=Va(eq||(eq=eg(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),S.x,S.y,s,s,+(u<0),_.x,_.y,n,n,+(A>180),+(u>0),w.x,w.y,s,s,+(u<0),N.x,N.y)}else v+=Va(tq||(tq=eg(["L",",","Z"])),t,r);return v},tOe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Mae=e=>{var t=Ci(e,tOe),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:f}=t;if(s<a||d===u)return null;var p=ur("recharts-sector",f),h=s-a,m=vo(i,h,0,!0),g;return m>0&&Math.abs(d-u)<360?g=eOe({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(m,h/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):g=Dae({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:d,endAngle:u}),b.createElement("path",cP({},wd(t),{className:p,d:g}))};function rOe(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(Vre(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:i,angle:l}=t,c=Ms(n,a,s,l),d=Ms(n,a,i,l);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return Tae(t)}}var Oae={},Pae={},Rae={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XL;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Rae);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rae;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Pae);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JL,r=Pae;function n(a,s,i){i&&typeof i!="number"&&t.isIterateeCall(a,s,i)&&(s=i=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),i=i===void 0?a<s?1:-1:r.toFinite(i);const l=Math.max(Math.ceil((s-a)/(i||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=a,a+=i;return c}e.range=n})(Oae);var nOe=Oae.range;const Lae=nf(nOe);function _m(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function aOe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hI(e){let t,r,n;e.length!==2?(t=_m,r=(l,c)=>_m(e(l),c),n=(l,c)=>e(l)-c):(t=e===_m||e===aOe?e:sOe,r=e,n=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function i(l,c,d=0,u=l.length){const f=a(l,c,d,u-1);return f>d&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function sOe(){return 0}function Iae(e){return e===null?NaN:+e}function*iOe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const oOe=hI(_m),pS=oOe.right;hI(Iae).center;class rq extends Map{constructor(t,r=dOe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(nq(this,t))}has(t){return super.has(nq(this,t))}set(t,r){return super.set(lOe(this,t),r)}delete(t){return super.delete(cOe(this,t))}}function nq({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function lOe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function cOe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function dOe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function uOe(e=_m){if(e===_m)return Fae;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Fae(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const fOe=Math.sqrt(50),hOe=Math.sqrt(10),pOe=Math.sqrt(2);function wC(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=fOe?10:s>=hOe?5:s>=pOe?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/i,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*i,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?wC(e,t,r*2):[l,c,d]}function dP(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?wC(t,e,r):wC(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let d=0;d<l;++d)c[d]=(s-d)/-i;else for(let d=0;d<l;++d)c[d]=(s-d)*i;else if(i<0)for(let d=0;d<l;++d)c[d]=(a+d)/-i;else for(let d=0;d<l;++d)c[d]=(a+d)*i;return c}function uP(e,t,r){return t=+t,e=+e,r=+r,wC(e,t,r)[2]}function fP(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?uP(t,e,r):uP(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function aq(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function sq(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function zae(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Fae:uOe(a);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),h=Math.max(r,Math.floor(t-d*f/c+p)),m=Math.min(n,Math.floor(t+(c-d)*f/c+p));zae(e,t,h,m,a)}const s=e[t];let i=r,l=n;for(H1(e,r,t),a(e[n],s)>0&&H1(e,r,n);i<l;){for(H1(e,i,l),++i,--l;a(e[i],s)<0;)++i;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?H1(e,r,l):(++l,H1(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function H1(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function mOe(e,t,r){if(e=Float64Array.from(iOe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return sq(e);if(t>=1)return aq(e);var n,a=(n-1)*t,s=Math.floor(a),i=aq(zae(e,s).subarray(0,s+1)),l=sq(e.subarray(s+1));return i+(l-i)*(a-s)}}function gOe(e,t,r=Iae){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return i+(l-i)*(a-s)}}function xOe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function _d(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ep(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hP=Symbol("implicit");function pI(){var e=new rq,t=[],r=[],n=hP;function a(s){let i=e.get(s);if(i===void 0){if(n!==hP)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new rq;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return pI(t,r).unknown(n)},_d.apply(a,arguments),a}function mI(){var e=pI().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var p=t().length,h=a<n,m=h?a:n,g=h?n:a;s=(g-m)/Math.max(1,p-c+d*2),l&&(s=Math.floor(s)),m+=(g-m-s*(p-c))*u,i=s*(1-c),l&&(m=Math.round(m),i=Math.round(i));var x=xOe(p).map(function(y){return m+s*y});return r(h?x.reverse():x)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(p){return arguments.length?(l=!!p,f()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(d=+p,f()):d},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},e.copy=function(){return mI(t(),[n,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},_d.apply(f(),arguments)}function Bae(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Bae(t())},e}function yOe(){return Bae(mI.apply(null,arguments).paddingInner(1))}function gI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Hae(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function mS(){}var Zw=.7,NC=1/Zw,cv="\\s*([+-]?\\d+)\\s*",eN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vOe=/^#([0-9a-f]{3,8})$/,bOe=new RegExp(`^rgb\\(${cv},${cv},${cv}\\)$`),wOe=new RegExp(`^rgb\\(${Wu},${Wu},${Wu}\\)$`),NOe=new RegExp(`^rgba\\(${cv},${cv},${cv},${eN}\\)$`),SOe=new RegExp(`^rgba\\(${Wu},${Wu},${Wu},${eN}\\)$`),jOe=new RegExp(`^hsl\\(${eN},${Wu},${Wu}\\)$`),_Oe=new RegExp(`^hsla\\(${eN},${Wu},${Wu},${eN}\\)$`),iq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gI(mS,tN,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oq,formatHex:oq,formatHex8:kOe,formatHsl:COe,formatRgb:lq,toString:lq});function oq(){return this.rgb().formatHex()}function kOe(){return this.rgb().formatHex8()}function COe(){return $ae(this).formatHsl()}function lq(){return this.rgb().formatRgb()}function tN(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=vOe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?cq(t):r===3?new fl(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?m5(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?m5(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bOe.exec(e))?new fl(t[1],t[2],t[3],1):(t=wOe.exec(e))?new fl(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=NOe.exec(e))?m5(t[1],t[2],t[3],t[4]):(t=SOe.exec(e))?m5(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=jOe.exec(e))?fq(t[1],t[2]/100,t[3]/100,1):(t=_Oe.exec(e))?fq(t[1],t[2]/100,t[3]/100,t[4]):iq.hasOwnProperty(e)?cq(iq[e]):e==="transparent"?new fl(NaN,NaN,NaN,0):null}function cq(e){return new fl(e>>16&255,e>>8&255,e&255,1)}function m5(e,t,r,n){return n<=0&&(e=t=r=NaN),new fl(e,t,r,n)}function AOe(e){return e instanceof mS||(e=tN(e)),e?(e=e.rgb(),new fl(e.r,e.g,e.b,e.opacity)):new fl}function pP(e,t,r,n){return arguments.length===1?AOe(e):new fl(e,t,r,n??1)}function fl(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}gI(fl,pP,Hae(mS,{brighter(e){return e=e==null?NC:Math.pow(NC,e),new fl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zw:Math.pow(Zw,e),new fl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fl(bg(this.r),bg(this.g),bg(this.b),SC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dq,formatHex:dq,formatHex8:EOe,formatRgb:uq,toString:uq}));function dq(){return`#${tg(this.r)}${tg(this.g)}${tg(this.b)}`}function EOe(){return`#${tg(this.r)}${tg(this.g)}${tg(this.b)}${tg((isNaN(this.opacity)?1:this.opacity)*255)}`}function uq(){const e=SC(this.opacity);return`${e===1?"rgb(":"rgba("}${bg(this.r)}, ${bg(this.g)}, ${bg(this.b)}${e===1?")":`, ${e})`}`}function SC(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bg(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tg(e){return e=bg(e),(e<16?"0":"")+e.toString(16)}function fq(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new $d(e,t,r,n)}function $ae(e){if(e instanceof $d)return new $d(e.h,e.s,e.l,e.opacity);if(e instanceof mS||(e=tN(e)),!e)return new $d;if(e instanceof $d)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(t===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new $d(i,l,c,e.opacity)}function TOe(e,t,r,n){return arguments.length===1?$ae(e):new $d(e,t,r,n??1)}function $d(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}gI($d,TOe,Hae(mS,{brighter(e){return e=e==null?NC:Math.pow(NC,e),new $d(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zw:Math.pow(Zw,e),new $d(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new fl($D(e>=240?e-240:e+120,a,n),$D(e,a,n),$D(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new $d(hq(this.h),g5(this.s),g5(this.l),SC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=SC(this.opacity);return`${e===1?"hsl(":"hsla("}${hq(this.h)}, ${g5(this.s)*100}%, ${g5(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hq(e){return e=(e||0)%360,e<0?e+360:e}function g5(e){return Math.max(0,Math.min(1,e||0))}function $D(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const xI=e=>()=>e;function DOe(e,t){return function(r){return e+r*t}}function MOe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function OOe(e){return(e=+e)==1?Uae:function(t,r){return r-t?MOe(t,r,e):xI(isNaN(t)?r:t)}}function Uae(e,t){var r=t-e;return r?DOe(e,r):xI(isNaN(e)?t:e)}const pq=function e(t){var r=OOe(t);function n(a,s){var i=r((a=pP(a)).r,(s=pP(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),d=Uae(a.opacity,s.opacity);return function(u){return a.r=i(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return n.gamma=e,n}(1);function POe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function ROe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function LOe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=Ob(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function IOe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function jC(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function FOe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ob(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var mP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,UD=new RegExp(mP.source,"g");function zOe(e){return function(){return e}}function BOe(e){return function(t){return e(t)+""}}function HOe(e,t){var r=mP.lastIndex=UD.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=mP.exec(e))&&(a=UD.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:jC(n,a)})),r=UD.lastIndex;return r<t.length&&(s=t.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?BOe(c[0].x):zOe(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function Ob(e,t){var r=typeof t,n;return t==null||r==="boolean"?xI(t):(r==="number"?jC:r==="string"?(n=tN(t))?(t=n,pq):HOe:t instanceof tN?pq:t instanceof Date?IOe:ROe(t)?POe:Array.isArray(t)?LOe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?FOe:jC)(e,t)}function yI(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function $Oe(e,t){t===void 0&&(t=e,e=Ob);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function UOe(e){return function(){return e}}function _C(e){return+e}var mq=[0,1];function Vo(e){return e}function gP(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:UOe(isNaN(t)?NaN:.5)}function VOe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function qOe(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=gP(a,n),s=r(i,s)):(n=gP(n,a),s=r(s,i)),function(l){return s(n(l))}}function WOe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=gP(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(l){var c=pS(e,l,1,n)-1;return s[c](a[c](l))}}function gS(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vE(){var e=mq,t=mq,r=Ob,n,a,s,i=Vo,l,c,d;function u(){var p=Math.min(e.length,t.length);return i!==Vo&&(i=VOe(e[0],e[p-1])),l=p>2?WOe:qOe,c=d=null,f}function f(p){return p==null||isNaN(p=+p)?s:(c||(c=l(e.map(n),t,r)))(n(i(p)))}return f.invert=function(p){return i(a((d||(d=l(t,e.map(n),jC)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,_C),u()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=yI,u()},f.clamp=function(p){return arguments.length?(i=p?!0:Vo,u()):i!==Vo},f.interpolate=function(p){return arguments.length?(r=p,u()):r},f.unknown=function(p){return arguments.length?(s=p,f):s},function(p,h){return n=p,a=h,u()}}function vI(){return vE()(Vo,Vo)}function YOe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function kC(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Xv(e){return e=kC(Math.abs(e)),e?e[1]:NaN}function GOe(e,t){return function(r,n){for(var a=r.length,s=[],i=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return s.reverse().join(t)}}function KOe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var XOe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rN(e){if(!(t=XOe.exec(e)))throw new Error("invalid format: "+e);var t;return new bI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}rN.prototype=bI.prototype;function bI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JOe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Vae;function QOe(e,t){var r=kC(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(Vae=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+kC(e,Math.max(0,t+s-1))[0]}function gq(e,t){var r=kC(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const xq={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:YOe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gq(e*100,t),r:gq,s:QOe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yq(e){return e}var vq=Array.prototype.map,bq=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ZOe(e){var t=e.grouping===void 0||e.thousands===void 0?yq:GOe(vq.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?yq:KOe(vq.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=rN(f);var p=f.fill,h=f.align,m=f.sign,g=f.symbol,x=f.zero,y=f.width,v=f.comma,w=f.precision,N=f.trim,C=f.type;C==="n"?(v=!0,C="g"):xq[C]||(w===void 0&&(w=12),N=!0,C="g"),(x||p==="0"&&h==="=")&&(x=!0,p="0",h="=");var _=g==="$"?r:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",S=g==="$"?n:/[%p]/.test(C)?i:"",k=xq[C],A=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(D){var M=_,I=S,z,Y,X;if(C==="c")I=k(D)+I,D="";else{D=+D;var V=D<0||1/D<0;if(D=isNaN(D)?c:k(Math.abs(D),w),N&&(D=JOe(D)),V&&+D==0&&m!=="+"&&(V=!1),M=(V?m==="("?m:l:m==="-"||m==="("?"":m)+M,I=(C==="s"?bq[8+Vae/3]:"")+I+(V&&m==="("?")":""),A){for(z=-1,Y=D.length;++z<Y;)if(X=D.charCodeAt(z),48>X||X>57){I=(X===46?a+D.slice(z+1):D.slice(z))+I,D=D.slice(0,z);break}}}v&&!x&&(D=t(D,1/0));var G=M.length+D.length+I.length,J=G<y?new Array(y-G+1).join(p):"";switch(v&&x&&(D=t(J+D,J.length?y-I.length:1/0),J=""),h){case"<":D=M+D+I+J;break;case"=":D=M+J+D+I;break;case"^":D=J.slice(0,G=J.length>>1)+M+D+I+J.slice(G);break;default:D=J+M+D+I;break}return s(D)}return O.toString=function(){return f+""},O}function u(f,p){var h=d((f=rN(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Xv(p)/3)))*3,g=Math.pow(10,-m),x=bq[8+m/3];return function(y){return h(g*y)+x}}return{format:d,formatPrefix:u}}var x5,wI,qae;e6e({thousands:",",grouping:[3],currency:["$",""]});function e6e(e){return x5=ZOe(e),wI=x5.format,qae=x5.formatPrefix,x5}function t6e(e){return Math.max(0,-Xv(Math.abs(e)))}function r6e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xv(t)/3)))*3-Xv(Math.abs(e)))}function n6e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xv(t)-Xv(e))+1}function Wae(e,t,r,n){var a=fP(e,t,r),s;switch(n=rN(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=r6e(a,i))&&(n.precision=s),qae(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=n6e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=t6e(a))&&(n.precision=s-(n.type==="%")*2);break}}return wI(n)}function a0(e){var t=e.domain;return e.ticks=function(r){var n=t();return dP(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Wae(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],l=n[s],c,d,u=10;for(l<i&&(d=i,i=l,l=d,d=a,a=s,s=d);u-- >0;){if(d=uP(i,l,r),d===c)return n[a]=i,n[s]=l,t(n);if(d>0)i=Math.floor(i/d)*d,l=Math.ceil(l/d)*d;else if(d<0)i=Math.ceil(i*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function Yae(){var e=vI();return e.copy=function(){return gS(e,Yae())},_d.apply(e,arguments),a0(e)}function Gae(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,_C),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Gae(e).unknown(t)},e=arguments.length?Array.from(e,_C):[0,1],a0(r)}function Kae(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function wq(e){return Math.log(e)}function Nq(e){return Math.exp(e)}function a6e(e){return-Math.log(-e)}function s6e(e){return-Math.exp(-e)}function i6e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function o6e(e){return e===10?i6e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function l6e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Sq(e){return(t,r)=>-e(-t,r)}function NI(e){const t=e(wq,Nq),r=t.domain;let n=10,a,s;function i(){return a=l6e(n),s=o6e(n),r()[0]<0?(a=Sq(a),s=Sq(s),e(a6e,s6e)):e(wq,Nq),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let p=a(d),h=a(u),m,g;const x=l==null?10:+l;let y=[];if(!(n%1)&&h-p<x){if(p=Math.floor(p),h=Math.ceil(h),d>0){for(;p<=h;++p)for(m=1;m<n;++m)if(g=p<0?m/s(-p):m*s(p),!(g<d)){if(g>u)break;y.push(g)}}else for(;p<=h;++p)for(m=n-1;m>=1;--m)if(g=p>0?m/s(-p):m*s(p),!(g<d)){if(g>u)break;y.push(g)}y.length*2<x&&(y=dP(d,u,x))}else y=dP(p,h,Math.min(h-p,x)).map(s);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=rN(c)).precision==null&&(c.trim=!0),c=wI(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let f=u/s(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=d?c(u):""}},t.nice=()=>r(Kae(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function Xae(){const e=NI(vE()).domain([1,10]);return e.copy=()=>gS(e,Xae()).base(e.base()),_d.apply(e,arguments),e}function jq(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _q(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function SI(e){var t=1,r=e(jq(t),_q(t));return r.constant=function(n){return arguments.length?e(jq(t=+n),_q(t)):t},a0(r)}function Jae(){var e=SI(vE());return e.copy=function(){return gS(e,Jae()).constant(e.constant())},_d.apply(e,arguments)}function kq(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function c6e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function d6e(e){return e<0?-e*e:e*e}function jI(e){var t=e(Vo,Vo),r=1;function n(){return r===1?e(Vo,Vo):r===.5?e(c6e,d6e):e(kq(r),kq(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},a0(t)}function _I(){var e=jI(vE());return e.copy=function(){return gS(e,_I()).exponent(e.exponent())},_d.apply(e,arguments),e}function u6e(){return _I.apply(null,arguments).exponent(.5)}function Cq(e){return Math.sign(e)*e*e}function f6e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Qae(){var e=vI(),t=[0,1],r=!1,n;function a(s){var i=f6e(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(Cq(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,_C)).map(Cq)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Qae(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},_d.apply(a,arguments),a0(a)}function Zae(){var e=[],t=[],r=[],n;function a(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=gOe(e,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:t[pS(r,i)]}return s.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(_m),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return Zae().domain(e).range(t).unknown(n)},_d.apply(s,arguments)}function ese(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[pS(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return ese().domain([e,t]).range(a).unknown(s)},_d.apply(a0(i),arguments)}function tse(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[pS(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return tse().domain(e).range(t).unknown(r)},_d.apply(a,arguments)}const VD=new Date,qD=new Date;function ti(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let d;do c.push(d=new Date(+s)),t(s,l),e(s);while(d<s&&s<i);return c},a.filter=s=>ti(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!s(i););else for(;--l>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(VD.setTime(+s),qD.setTime(+i),e(VD),e(qD),Math.floor(r(VD,qD))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const CC=ti(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);CC.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ti(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):CC);CC.range;const lh=1e3,ld=lh*60,ch=ld*60,Hh=ch*24,kI=Hh*7,Aq=Hh*30,WD=Hh*365,rg=ti(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*lh)},(e,t)=>(t-e)/lh,e=>e.getUTCSeconds());rg.range;const CI=ti(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lh)},(e,t)=>{e.setTime(+e+t*ld)},(e,t)=>(t-e)/ld,e=>e.getMinutes());CI.range;const AI=ti(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ld)},(e,t)=>(t-e)/ld,e=>e.getUTCMinutes());AI.range;const EI=ti(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lh-e.getMinutes()*ld)},(e,t)=>{e.setTime(+e+t*ch)},(e,t)=>(t-e)/ch,e=>e.getHours());EI.range;const TI=ti(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ch)},(e,t)=>(t-e)/ch,e=>e.getUTCHours());TI.range;const xS=ti(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ld)/Hh,e=>e.getDate()-1);xS.range;const bE=ti(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hh,e=>e.getUTCDate()-1);bE.range;const rse=ti(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hh,e=>Math.floor(e/Hh));rse.range;function Sx(e){return ti(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ld)/kI)}const wE=Sx(0),AC=Sx(1),h6e=Sx(2),p6e=Sx(3),Jv=Sx(4),m6e=Sx(5),g6e=Sx(6);wE.range;AC.range;h6e.range;p6e.range;Jv.range;m6e.range;g6e.range;function jx(e){return ti(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/kI)}const NE=jx(0),EC=jx(1),x6e=jx(2),y6e=jx(3),Qv=jx(4),v6e=jx(5),b6e=jx(6);NE.range;EC.range;x6e.range;y6e.range;Qv.range;v6e.range;b6e.range;const DI=ti(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());DI.range;const MI=ti(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());MI.range;const $h=ti(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$h.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ti(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});$h.range;const Uh=ti(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Uh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ti(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Uh.range;function nse(e,t,r,n,a,s){const i=[[rg,1,lh],[rg,5,5*lh],[rg,15,15*lh],[rg,30,30*lh],[s,1,ld],[s,5,5*ld],[s,15,15*ld],[s,30,30*ld],[a,1,ch],[a,3,3*ch],[a,6,6*ch],[a,12,12*ch],[n,1,Hh],[n,2,2*Hh],[r,1,kI],[t,1,Aq],[t,3,3*Aq],[e,1,WD]];function l(d,u,f){const p=u<d;p&&([d,u]=[u,d]);const h=f&&typeof f.range=="function"?f:c(d,u,f),m=h?h.range(d,+u+1):[];return p?m.reverse():m}function c(d,u,f){const p=Math.abs(u-d)/f,h=hI(([,,x])=>x).right(i,p);if(h===i.length)return e.every(fP(d/WD,u/WD,f));if(h===0)return CC.every(Math.max(fP(d,u,f),1));const[m,g]=i[p/i[h-1][2]<i[h][2]/p?h-1:h];return m.every(g)}return[l,c]}const[w6e,N6e]=nse(Uh,MI,NE,rse,TI,AI),[S6e,j6e]=nse($h,DI,wE,xS,EI,CI);function YD(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function GD(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $1(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function _6e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,d=U1(a),u=V1(a),f=U1(s),p=V1(s),h=U1(i),m=V1(i),g=U1(l),x=V1(l),y=U1(c),v=V1(c),w={a:V,A:G,b:J,B,c:null,d:Pq,e:Pq,f:G6e,g:aPe,G:iPe,H:q6e,I:W6e,j:Y6e,L:ase,m:K6e,M:X6e,p:q,q:T,Q:Iq,s:Fq,S:J6e,u:Q6e,U:Z6e,V:ePe,w:tPe,W:rPe,x:null,X:null,y:nPe,Y:sPe,Z:oPe,"%":Lq},N={a:R,A:F,b:H,B:W,c:null,d:Rq,e:Rq,f:uPe,g:wPe,G:SPe,H:lPe,I:cPe,j:dPe,L:ise,m:fPe,M:hPe,p:te,q:pe,Q:Iq,s:Fq,S:pPe,u:mPe,U:gPe,V:xPe,w:yPe,W:vPe,x:null,X:null,y:bPe,Y:NPe,Z:jPe,"%":Lq},C={a:O,A:D,b:M,B:I,c:z,d:Mq,e:Mq,f:H6e,g:Dq,G:Tq,H:Oq,I:Oq,j:I6e,L:B6e,m:L6e,M:F6e,p:A,q:R6e,Q:U6e,s:V6e,S:z6e,u:T6e,U:D6e,V:M6e,w:E6e,W:O6e,x:Y,X,y:Dq,Y:Tq,Z:P6e,"%":$6e};w.x=_(r,w),w.X=_(n,w),w.c=_(t,w),N.x=_(r,N),N.X=_(n,N),N.c=_(t,N);function _(se,ce){return function(Ne){var he=[],ze=-1,Pe=0,ee=se.length,We,be,wt;for(Ne instanceof Date||(Ne=new Date(+Ne));++ze<ee;)se.charCodeAt(ze)===37&&(he.push(se.slice(Pe,ze)),(be=Eq[We=se.charAt(++ze)])!=null?We=se.charAt(++ze):be=We==="e"?" ":"0",(wt=ce[We])&&(We=wt(Ne,be)),he.push(We),Pe=ze+1);return he.push(se.slice(Pe,ze)),he.join("")}}function S(se,ce){return function(Ne){var he=$1(1900,void 0,1),ze=k(he,se,Ne+="",0),Pe,ee;if(ze!=Ne.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(ce&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Pe=GD($1(he.y,0,1)),ee=Pe.getUTCDay(),Pe=ee>4||ee===0?EC.ceil(Pe):EC(Pe),Pe=bE.offset(Pe,(he.V-1)*7),he.y=Pe.getUTCFullYear(),he.m=Pe.getUTCMonth(),he.d=Pe.getUTCDate()+(he.w+6)%7):(Pe=YD($1(he.y,0,1)),ee=Pe.getDay(),Pe=ee>4||ee===0?AC.ceil(Pe):AC(Pe),Pe=xS.offset(Pe,(he.V-1)*7),he.y=Pe.getFullYear(),he.m=Pe.getMonth(),he.d=Pe.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),ee="Z"in he?GD($1(he.y,0,1)).getUTCDay():YD($1(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(ee+5)%7:he.w+he.U*7-(ee+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,GD(he)):YD(he)}}function k(se,ce,Ne,he){for(var ze=0,Pe=ce.length,ee=Ne.length,We,be;ze<Pe;){if(he>=ee)return-1;if(We=ce.charCodeAt(ze++),We===37){if(We=ce.charAt(ze++),be=C[We in Eq?ce.charAt(ze++):We],!be||(he=be(se,Ne,he))<0)return-1}else if(We!=Ne.charCodeAt(he++))return-1}return he}function A(se,ce,Ne){var he=d.exec(ce.slice(Ne));return he?(se.p=u.get(he[0].toLowerCase()),Ne+he[0].length):-1}function O(se,ce,Ne){var he=h.exec(ce.slice(Ne));return he?(se.w=m.get(he[0].toLowerCase()),Ne+he[0].length):-1}function D(se,ce,Ne){var he=f.exec(ce.slice(Ne));return he?(se.w=p.get(he[0].toLowerCase()),Ne+he[0].length):-1}function M(se,ce,Ne){var he=y.exec(ce.slice(Ne));return he?(se.m=v.get(he[0].toLowerCase()),Ne+he[0].length):-1}function I(se,ce,Ne){var he=g.exec(ce.slice(Ne));return he?(se.m=x.get(he[0].toLowerCase()),Ne+he[0].length):-1}function z(se,ce,Ne){return k(se,t,ce,Ne)}function Y(se,ce,Ne){return k(se,r,ce,Ne)}function X(se,ce,Ne){return k(se,n,ce,Ne)}function V(se){return i[se.getDay()]}function G(se){return s[se.getDay()]}function J(se){return c[se.getMonth()]}function B(se){return l[se.getMonth()]}function q(se){return a[+(se.getHours()>=12)]}function T(se){return 1+~~(se.getMonth()/3)}function R(se){return i[se.getUTCDay()]}function F(se){return s[se.getUTCDay()]}function H(se){return c[se.getUTCMonth()]}function W(se){return l[se.getUTCMonth()]}function te(se){return a[+(se.getUTCHours()>=12)]}function pe(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ce=_(se+="",w);return ce.toString=function(){return se},ce},parse:function(se){var ce=S(se+="",!1);return ce.toString=function(){return se},ce},utcFormat:function(se){var ce=_(se+="",N);return ce.toString=function(){return se},ce},utcParse:function(se){var ce=S(se+="",!0);return ce.toString=function(){return se},ce}}}var Eq={"-":"",_:" ",0:"0"},Ai=/^\s*\d+/,k6e=/^%/,C6e=/[\\^$*+?|[\]().{}]/g;function on(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function A6e(e){return e.replace(C6e,"\\$&")}function U1(e){return new RegExp("^(?:"+e.map(A6e).join("|")+")","i")}function V1(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function E6e(e,t,r){var n=Ai.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function T6e(e,t,r){var n=Ai.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function D6e(e,t,r){var n=Ai.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function M6e(e,t,r){var n=Ai.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function O6e(e,t,r){var n=Ai.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Tq(e,t,r){var n=Ai.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Dq(e,t,r){var n=Ai.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function P6e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function R6e(e,t,r){var n=Ai.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function L6e(e,t,r){var n=Ai.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Mq(e,t,r){var n=Ai.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function I6e(e,t,r){var n=Ai.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Oq(e,t,r){var n=Ai.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function F6e(e,t,r){var n=Ai.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function z6e(e,t,r){var n=Ai.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function B6e(e,t,r){var n=Ai.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function H6e(e,t,r){var n=Ai.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function $6e(e,t,r){var n=k6e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function U6e(e,t,r){var n=Ai.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function V6e(e,t,r){var n=Ai.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Pq(e,t){return on(e.getDate(),t,2)}function q6e(e,t){return on(e.getHours(),t,2)}function W6e(e,t){return on(e.getHours()%12||12,t,2)}function Y6e(e,t){return on(1+xS.count($h(e),e),t,3)}function ase(e,t){return on(e.getMilliseconds(),t,3)}function G6e(e,t){return ase(e,t)+"000"}function K6e(e,t){return on(e.getMonth()+1,t,2)}function X6e(e,t){return on(e.getMinutes(),t,2)}function J6e(e,t){return on(e.getSeconds(),t,2)}function Q6e(e){var t=e.getDay();return t===0?7:t}function Z6e(e,t){return on(wE.count($h(e)-1,e),t,2)}function sse(e){var t=e.getDay();return t>=4||t===0?Jv(e):Jv.ceil(e)}function ePe(e,t){return e=sse(e),on(Jv.count($h(e),e)+($h(e).getDay()===4),t,2)}function tPe(e){return e.getDay()}function rPe(e,t){return on(AC.count($h(e)-1,e),t,2)}function nPe(e,t){return on(e.getFullYear()%100,t,2)}function aPe(e,t){return e=sse(e),on(e.getFullYear()%100,t,2)}function sPe(e,t){return on(e.getFullYear()%1e4,t,4)}function iPe(e,t){var r=e.getDay();return e=r>=4||r===0?Jv(e):Jv.ceil(e),on(e.getFullYear()%1e4,t,4)}function oPe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+on(t/60|0,"0",2)+on(t%60,"0",2)}function Rq(e,t){return on(e.getUTCDate(),t,2)}function lPe(e,t){return on(e.getUTCHours(),t,2)}function cPe(e,t){return on(e.getUTCHours()%12||12,t,2)}function dPe(e,t){return on(1+bE.count(Uh(e),e),t,3)}function ise(e,t){return on(e.getUTCMilliseconds(),t,3)}function uPe(e,t){return ise(e,t)+"000"}function fPe(e,t){return on(e.getUTCMonth()+1,t,2)}function hPe(e,t){return on(e.getUTCMinutes(),t,2)}function pPe(e,t){return on(e.getUTCSeconds(),t,2)}function mPe(e){var t=e.getUTCDay();return t===0?7:t}function gPe(e,t){return on(NE.count(Uh(e)-1,e),t,2)}function ose(e){var t=e.getUTCDay();return t>=4||t===0?Qv(e):Qv.ceil(e)}function xPe(e,t){return e=ose(e),on(Qv.count(Uh(e),e)+(Uh(e).getUTCDay()===4),t,2)}function yPe(e){return e.getUTCDay()}function vPe(e,t){return on(EC.count(Uh(e)-1,e),t,2)}function bPe(e,t){return on(e.getUTCFullYear()%100,t,2)}function wPe(e,t){return e=ose(e),on(e.getUTCFullYear()%100,t,2)}function NPe(e,t){return on(e.getUTCFullYear()%1e4,t,4)}function SPe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Qv(e):Qv.ceil(e),on(e.getUTCFullYear()%1e4,t,4)}function jPe(){return"+0000"}function Lq(){return"%"}function Iq(e){return+e}function Fq(e){return Math.floor(+e/1e3)}var ey,lse,cse;_Pe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _Pe(e){return ey=_6e(e),lse=ey.format,ey.parse,cse=ey.utcFormat,ey.utcParse,ey}function kPe(e){return new Date(e)}function CPe(e){return e instanceof Date?+e:+new Date(+e)}function OI(e,t,r,n,a,s,i,l,c,d){var u=vI(),f=u.invert,p=u.domain,h=d(".%L"),m=d(":%S"),g=d("%I:%M"),x=d("%I %p"),y=d("%a %d"),v=d("%b %d"),w=d("%B"),N=d("%Y");function C(_){return(c(_)<_?h:l(_)<_?m:i(_)<_?g:s(_)<_?x:n(_)<_?a(_)<_?y:v:r(_)<_?w:N)(_)}return u.invert=function(_){return new Date(f(_))},u.domain=function(_){return arguments.length?p(Array.from(_,CPe)):p().map(kPe)},u.ticks=function(_){var S=p();return e(S[0],S[S.length-1],_??10)},u.tickFormat=function(_,S){return S==null?C:d(S)},u.nice=function(_){var S=p();return(!_||typeof _.range!="function")&&(_=t(S[0],S[S.length-1],_??10)),_?p(Kae(S,_)):u},u.copy=function(){return gS(u,OI(e,t,r,n,a,s,i,l,c,d))},u}function APe(){return _d.apply(OI(S6e,j6e,$h,DI,wE,xS,EI,CI,rg,lse).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function EPe(){return _d.apply(OI(w6e,N6e,Uh,MI,NE,bE,TI,AI,rg,cse).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function SE(){var e=0,t=1,r,n,a,s,i=Vo,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(i=f,d):i};function u(f){return function(p){var h,m;return arguments.length?([h,m]=p,i=f(h,m),d):[i(0),i(1)]}}return d.range=u(Ob),d.rangeRound=u(yI),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),d}}function s0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function dse(){var e=a0(SE()(Vo));return e.copy=function(){return s0(e,dse())},ep.apply(e,arguments)}function use(){var e=NI(SE()).domain([1,10]);return e.copy=function(){return s0(e,use()).base(e.base())},ep.apply(e,arguments)}function fse(){var e=SI(SE());return e.copy=function(){return s0(e,fse()).constant(e.constant())},ep.apply(e,arguments)}function PI(){var e=jI(SE());return e.copy=function(){return s0(e,PI()).exponent(e.exponent())},ep.apply(e,arguments)}function TPe(){return PI.apply(null,arguments).exponent(.5)}function hse(){var e=[],t=Vo;function r(n){if(n!=null&&!isNaN(n=+n))return t((pS(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(_m),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>mOe(e,s/n))},r.copy=function(){return hse(t).domain(e)},ep.apply(r,arguments)}function jE(){var e=0,t=.5,r=1,n=1,a,s,i,l,c,d=Vo,u,f=!1,p;function h(g){return isNaN(g=+g)?p:(g=.5+((g=+u(g))-s)*(n*g<n*s?l:c),d(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,r]=g,a=u(e=+e),s=u(t=+t),i=u(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h):[e,t,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(d=g,h):d};function m(g){return function(x){var y,v,w;return arguments.length?([y,v,w]=x,d=$Oe(g,[y,v,w]),h):[d(0),d(.5),d(1)]}}return h.range=m(Ob),h.rangeRound=m(yI),h.unknown=function(g){return arguments.length?(p=g,h):p},function(g){return u=g,a=g(e),s=g(t),i=g(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h}}function pse(){var e=a0(jE()(Vo));return e.copy=function(){return s0(e,pse())},ep.apply(e,arguments)}function mse(){var e=NI(jE()).domain([.1,1,10]);return e.copy=function(){return s0(e,mse()).base(e.base())},ep.apply(e,arguments)}function gse(){var e=SI(jE());return e.copy=function(){return s0(e,gse()).constant(e.constant())},ep.apply(e,arguments)}function RI(){var e=jI(jE());return e.copy=function(){return s0(e,RI()).exponent(e.exponent())},ep.apply(e,arguments)}function DPe(){return RI.apply(null,arguments).exponent(.5)}const c2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mI,scaleDiverging:pse,scaleDivergingLog:mse,scaleDivergingPow:RI,scaleDivergingSqrt:DPe,scaleDivergingSymlog:gse,scaleIdentity:Gae,scaleImplicit:hP,scaleLinear:Yae,scaleLog:Xae,scaleOrdinal:pI,scalePoint:yOe,scalePow:_I,scaleQuantile:Zae,scaleQuantize:ese,scaleRadial:Qae,scaleSequential:dse,scaleSequentialLog:use,scaleSequentialPow:PI,scaleSequentialQuantile:hse,scaleSequentialSqrt:TPe,scaleSequentialSymlog:fse,scaleSqrt:u6e,scaleSymlog:Jae,scaleThreshold:tse,scaleTime:APe,scaleUtc:EPe,tickFormat:Wae},Symbol.toStringTag,{value:"Module"}));var tp=e=>e.chartData,_E=Ye([tp],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),xse=(e,t,r,n)=>n?_E(e):tp(e),MPe=(e,t,r)=>r?_E(e):tp(e);function Um(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Oa(t)&&Oa(r))return!0}return!1}function zq(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function yse(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(Oa(r))a=r;else if(typeof r=="function")return;if(Oa(n))s=n;else if(typeof n=="function")return;var i=[a,s];if(Um(i))return i}}function OPe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Um(n))return zq(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,i,l;if(a==="auto")t!=null&&(i=Math.min(...t));else if(Kt(a))i=a;else if(typeof a=="function")try{t!=null&&(i=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&aV.test(a)){var c=aV.exec(a);if(c==null||c[1]==null||t==null)i=void 0;else{var d=+c[1];i=t[0]-d}}else i=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(Kt(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&sV.test(s)){var u=sV.exec(s);if(u==null||u[1]==null||t==null)l=void 0;else{var f=+u[1];l=t[1]+f}}else l=t==null?void 0:t[1];var p=[i,l];if(Um(p))return t==null?p:zq(p,t,r)}}}var Pb=1e9,PPe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},II,wa=!0,Sd="[DecimalError] ",wg=Sd+"Invalid argument: ",LI=Sd+"Exponent out of range: ",Rb=Math.floor,H0=Math.pow,RPe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sc,di=1e7,oa=7,vse=9007199254740991,TC=Rb(vse/oa),Bt={};Bt.absoluteValue=Bt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Bt.comparedTo=Bt.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Bt.decimalPlaces=Bt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*oa;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Bt.dividedBy=Bt.div=function(e){return wh(this,new this.constructor(e))};Bt.dividedToIntegerBy=Bt.idiv=function(e){var t=this,r=t.constructor;return Wn(wh(t,new r(e),0,1),r.precision)};Bt.equals=Bt.eq=function(e){return!this.cmp(e)};Bt.exponent=function(){return Ps(this)};Bt.greaterThan=Bt.gt=function(e){return this.cmp(e)>0};Bt.greaterThanOrEqualTo=Bt.gte=function(e){return this.cmp(e)>=0};Bt.isInteger=Bt.isint=function(){return this.e>this.d.length-2};Bt.isNegative=Bt.isneg=function(){return this.s<0};Bt.isPositive=Bt.ispos=function(){return this.s>0};Bt.isZero=function(){return this.s===0};Bt.lessThan=Bt.lt=function(e){return this.cmp(e)<0};Bt.lessThanOrEqualTo=Bt.lte=function(e){return this.cmp(e)<1};Bt.logarithm=Bt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(sc))throw Error(Sd+"NaN");if(r.s<1)throw Error(Sd+(r.s?"NaN":"-Infinity"));return r.eq(sc)?new n(0):(wa=!1,t=wh(nN(r,s),nN(e,s),s),wa=!0,Wn(t,a))};Bt.minus=Bt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Nse(t,e):bse(t,(e.s=-e.s,e))};Bt.modulo=Bt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Sd+"NaN");return r.s?(wa=!1,t=wh(r,e,0,1).times(e),wa=!0,r.minus(t)):Wn(new n(r),a)};Bt.naturalExponential=Bt.exp=function(){return wse(this)};Bt.naturalLogarithm=Bt.ln=function(){return nN(this)};Bt.negated=Bt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Bt.plus=Bt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bse(t,e):Nse(t,(e.s=-e.s,e))};Bt.precision=Bt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(wg+e);if(t=Ps(a)+1,n=a.d.length-1,r=n*oa+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Bt.squareRoot=Bt.sqrt=function(){var e,t,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Sd+"NaN")}for(e=Ps(l),wa=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Hu(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Rb((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(wh(l,s,i+2)).times(.5),Hu(s.d).slice(0,i)===(t=Hu(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Wn(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;i+=4}return wa=!0,Wn(n,r)};Bt.times=Bt.mul=function(e){var t,r,n,a,s,i,l,c,d,u=this,f=u.constructor,p=u.d,h=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=p.length,d=h.length,c<d&&(s=p,p=h,h=s,i=c,c=d,d=i),s=[],i=c+d,n=i;n--;)s.push(0);for(n=d;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+h[n]*p[a-n-1]+t,s[a--]=l%di|0,t=l/di|0;s[a]=(s[a]+t)%di|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,wa?Wn(e,f.precision):e};Bt.toDecimalPlaces=Bt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ju(e,0,Pb),t===void 0?t=n.rounding:Ju(t,0,8),Wn(r,e+Ps(r)+1,t))};Bt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Zg(n,!0):(Ju(e,0,Pb),t===void 0?t=a.rounding:Ju(t,0,8),n=Wn(new a(n),e+1,t),r=Zg(n,!0,e+1)),r};Bt.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Zg(a):(Ju(e,0,Pb),t===void 0?t=s.rounding:Ju(t,0,8),n=Wn(new s(a),e+Ps(a)+1,t),r=Zg(n.abs(),!1,e+Ps(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Bt.toInteger=Bt.toint=function(){var e=this,t=e.constructor;return Wn(new t(e),Ps(e)+1,t.rounding)};Bt.toNumber=function(){return+this};Bt.toPower=Bt.pow=function(e){var t,r,n,a,s,i,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(sc);if(l=new c(l),!l.s){if(e.s<1)throw Error(Sd+"Infinity");return l}if(l.eq(sc))return l;if(n=c.precision,e.eq(sc))return Wn(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=l.s,i){if((r=u<0?-u:u)<=vse){for(a=new c(sc),t=Math.ceil(n/oa+4),wa=!1;r%2&&(a=a.times(l),Hq(a.d,t)),r=Rb(r/2),r!==0;)l=l.times(l),Hq(l.d,t);return wa=!0,e.s<0?new c(sc).div(a):Wn(a,n)}}else if(s<0)throw Error(Sd+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,wa=!1,a=e.times(nN(l,n+d)),wa=!0,a=wse(a),a.s=s,a};Bt.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Ps(a),n=Zg(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ju(e,1,Pb),t===void 0?t=s.rounding:Ju(t,0,8),a=Wn(new s(a),e,t),r=Ps(a),n=Zg(a,e<=r||r<=s.toExpNeg,e)),n};Bt.toSignificantDigits=Bt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ju(e,1,Pb),t===void 0?t=n.rounding:Ju(t,0,8)),Wn(new n(r),e,t)};Bt.toString=Bt.valueOf=Bt.val=Bt.toJSON=Bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ps(e),r=e.constructor;return Zg(e,t<=r.toExpNeg||t>=r.toExpPos)};function bse(e,t){var r,n,a,s,i,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),wa?Wn(t,f):t;if(c=e.d,d=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=d.length):(n=d,a=i,l=c.length),i=Math.ceil(f/oa),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=d.length,l-s<0&&(s=l,n=d,d=c,c=n),r=0;s;)r=(c[--s]=c[s]+d[s]+r)/di|0,c[s]%=di;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,wa?Wn(t,f):t}function Ju(e,t,r){if(e!==~~e||e<t||e>r)throw Error(wg+e)}function Hu(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=oa-n.length,r&&(s+=Rp(r)),s+=n;i=e[t],n=i+"",r=oa-n.length,r&&(s+=Rp(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var wh=function(){function e(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%di|0,i=s/di|0;return i&&n.unshift(i),n}function t(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*di+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,d,u,f,p,h,m,g,x,y,v,w,N,C,_,S,k,A=n.constructor,O=n.s==a.s?1:-1,D=n.d,M=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Sd+"Division by zero");for(c=n.e-a.e,S=M.length,C=D.length,h=new A(O),m=h.d=[],d=0;M[d]==(D[d]||0);)++d;if(M[d]>(D[d]||0)&&--c,s==null?v=s=A.precision:i?v=s+(Ps(n)-Ps(a))+1:v=s,v<0)return new A(0);if(v=v/oa+2|0,d=0,S==1)for(u=0,M=M[0],v++;(d<C||u)&&v--;d++)w=u*di+(D[d]||0),m[d]=w/M|0,u=w%M|0;else{for(u=di/(M[0]+1)|0,u>1&&(M=e(M,u),D=e(D,u),S=M.length,C=D.length),N=S,g=D.slice(0,S),x=g.length;x<S;)g[x++]=0;k=M.slice(),k.unshift(0),_=M[0],M[1]>=di/2&&++_;do u=0,l=t(M,g,S,x),l<0?(y=g[0],S!=x&&(y=y*di+(g[1]||0)),u=y/_|0,u>1?(u>=di&&(u=di-1),f=e(M,u),p=f.length,x=g.length,l=t(f,g,p,x),l==1&&(u--,r(f,S<p?k:M,p))):(u==0&&(l=u=1),f=M.slice()),p=f.length,p<x&&f.unshift(0),r(g,f,x),l==-1&&(x=g.length,l=t(M,g,S,x),l<1&&(u++,r(g,S<x?k:M,x))),x=g.length):l===0&&(u++,g=[0]),m[d++]=u,l&&g[0]?g[x++]=D[N]||0:(g=[D[N]],x=1);while((N++<C||g[0]!==void 0)&&v--)}return m[0]||m.shift(),h.e=c,Wn(h,i?s+Ps(h)+1:s)}}();function wse(e,t){var r,n,a,s,i,l,c=0,d=0,u=e.constructor,f=u.precision;if(Ps(e)>16)throw Error(LI+Ps(e));if(!e.s)return new u(sc);for(wa=!1,l=f,i=new u(.03125);e.abs().gte(.1);)e=e.times(i),d+=5;for(n=Math.log(H0(2,d))/Math.LN10*2+5|0,l+=n,r=a=s=new u(sc),u.precision=l;;){if(a=Wn(a.times(e),l),r=r.times(++c),i=s.plus(wh(a,r,l)),Hu(i.d).slice(0,l)===Hu(s.d).slice(0,l)){for(;d--;)s=Wn(s.times(s),l);return u.precision=f,t==null?(wa=!0,Wn(s,f)):s}s=i}}function Ps(e){for(var t=e.e*oa,r=e.d[0];r>=10;r/=10)t++;return t}function KD(e,t,r){if(t>e.LN10.sd())throw wa=!0,r&&(e.precision=r),Error(Sd+"LN10 precision limit exceeded");return Wn(new e(e.LN10),t)}function Rp(e){for(var t="";e--;)t+="0";return t}function nN(e,t){var r,n,a,s,i,l,c,d,u,f=1,p=10,h=e,m=h.d,g=h.constructor,x=g.precision;if(h.s<1)throw Error(Sd+(h.s?"NaN":"-Infinity"));if(h.eq(sc))return new g(0);if(t==null?(wa=!1,d=x):d=t,h.eq(10))return t==null&&(wa=!0),KD(g,d);if(d+=p,g.precision=d,r=Hu(m),n=r.charAt(0),s=Ps(h),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Hu(h.d),n=r.charAt(0),f++;s=Ps(h),n>1?(h=new g("0."+r),s++):h=new g(n+"."+r.slice(1))}else return c=KD(g,d+2,x).times(s+""),h=nN(new g(n+"."+r.slice(1)),d-p).plus(c),g.precision=x,t==null?(wa=!0,Wn(h,x)):h;for(l=i=h=wh(h.minus(sc),h.plus(sc),d),u=Wn(h.times(h),d),a=3;;){if(i=Wn(i.times(u),d),c=l.plus(wh(i,new g(a),d)),Hu(c.d).slice(0,d)===Hu(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(KD(g,d+2,x).times(s+""))),l=wh(l,new g(f),d),g.precision=x,t==null?(wa=!0,Wn(l,x)):l;l=c,a+=2}}function Bq(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Rb(r/oa),e.d=[],n=(r+1)%oa,r<0&&(n+=oa),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=oa;n<a;)e.d.push(+t.slice(n,n+=oa));t=t.slice(n),n=oa-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),wa&&(e.e>TC||e.e<-TC))throw Error(LI+r)}else e.s=0,e.e=0,e.d=[0];return e}function Wn(e,t,r){var n,a,s,i,l,c,d,u,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=oa,a=t,d=f[u=0];else{if(u=Math.ceil((n+1)/oa),s=f.length,u>=s)return e;for(d=s=f[u],i=1;s>=10;s/=10)i++;n%=oa,a=n-oa+i}if(r!==void 0&&(s=H0(10,i-a-1),l=d/s%10|0,c=t<0||f[u+1]!==void 0||d%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?d/H0(10,i-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Ps(e),f.length=1,t=t-s-1,f[0]=H0(10,(oa-t%oa)%oa),e.e=Rb(-t/oa)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,s=1,u--):(f.length=u+1,s=H0(10,oa-n),f[u]=a>0?(d/H0(10,i-a)%H0(10,a)|0)*s:0),c)for(;;)if(u==0){(f[0]+=s)==di&&(f[0]=1,++e.e);break}else{if(f[u]+=s,f[u]!=di)break;f[u--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(wa&&(e.e>TC||e.e<-TC))throw Error(LI+Ps(e));return e}function Nse(e,t){var r,n,a,s,i,l,c,d,u,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),wa?Wn(t,h):t;if(c=e.d,f=t.d,n=t.e,d=e.e,c=c.slice(),i=d-n,i){for(u=i<0,u?(r=c,i=-i,l=f.length):(r=f,n=d,l=c.length),a=Math.max(Math.ceil(h/oa),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){u=c[a]<f[a];break}i=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=di-1;--c[s],c[a]+=di}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,wa?Wn(t,h):t):new p(0)}function Zg(e,t,r){var n,a=Ps(e),s=Hu(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+Rp(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Rp(-a-1)+s,r&&(n=r-i)>0&&(s+=Rp(n))):a>=i?(s+=Rp(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+Rp(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=Rp(n))),e.s<0?"-"+s:s}function Hq(e,t){if(e.length>t)return e.length=t,!0}function Sse(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(wg+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return Bq(i,s.toString())}else if(typeof s!="string")throw Error(wg+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,RPe.test(s))Bq(i,s);else throw Error(wg+s)}if(a.prototype=Bt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Sse,a.config=a.set=LPe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function LPe(e){if(!e||typeof e!="object")throw Error(Sd+"Object expected");var t,r,n,a=["precision",1,Pb,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Rb(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(wg+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(wg+r+": "+n);return this}var II=Sse(PPe);sc=new II(1);const An=II;var IPe=e=>e,jse={},_se=e=>e===jse,$q=e=>function t(){return arguments.length===0||arguments.length===1&&_se(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},kse=(e,t)=>e===1?t:$q(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(i=>i!==jse).length;return s>=e?t(...n):kse(e-s,$q(function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];var d=n.map(u=>_se(u)?l.shift():u);return t(...d,...l)}))}),FPe=e=>kse(e.length,e),xP=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},zPe=FPe((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),BPe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return IPe;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce((l,c)=>c(l),s(...arguments))}};function Cse(e){var t;return e===0?t=1:t=Math.floor(new An(e).abs().log(10).toNumber())+1,t}function Ase(e,t,r){for(var n=new An(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var Ese=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},Tse=(e,t,r)=>{if(e.lte(0))return new An(0);var n=Cse(e.toNumber()),a=new An(10).pow(n),s=e.div(a),i=n!==1?.05:.1,l=new An(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return t?new An(c.toNumber()):new An(Math.ceil(c.toNumber()))},HPe=(e,t,r)=>{var n=new An(1),a=new An(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new An(10).pow(Cse(e)-1),a=new An(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new An(Math.floor(e)))}else e===0?a=new An(Math.floor((t-1)/2)):r||(a=new An(Math.floor(e)));var i=Math.floor((t-1)/2),l=BPe(zPe(c=>a.add(new An(c-i).mul(n)).toNumber()),xP);return l(0,t)},Dse=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new An(0),tickMin:new An(0),tickMax:new An(0)};var i=Tse(new An(r).sub(t).div(n-1),a,s),l;t<=0&&r>=0?l=new An(0):(l=new An(t).add(r).div(2),l=l.sub(new An(l).mod(i)));var c=Math.ceil(l.sub(t).div(i).toNumber()),d=Math.ceil(new An(r).sub(l).div(i).toNumber()),u=c+d+1;return u>n?Dse(t,r,n,a,s+1):(u<n&&(d=r>0?d+(n-u):d,c=r>0?c:c+(n-u)),{step:i,tickMin:l.sub(new An(c).mul(i)),tickMax:l.add(new An(d).mul(i))})},$Pe=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[l,c]=Ese([r,n]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...xP(0,a-1).map(()=>1/0)]:[...xP(0,a-1).map(()=>-1/0),c];return r>n?d.reverse():d}if(l===c)return HPe(l,a,s);var{step:u,tickMin:f,tickMax:p}=Dse(l,c,i,s,0),h=Ase(f,p.add(new An(.1).mul(u)),u);return r>n?h.reverse():h},UPe=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=Ese([n,a]);if(i===-1/0||l===1/0)return[n,a];if(i===l)return[i];var c=Math.max(r,2),d=Tse(new An(l).sub(i).div(c-1),s,0),u=[...Ase(new An(i),new An(l),d),l];return s===!1&&(u=u.map(f=>Math.round(f))),n>a?u.reverse():u},Mse=e=>e.rootProps.maxBarSize,VPe=e=>e.rootProps.barGap,Ose=e=>e.rootProps.barCategoryGap,qPe=e=>e.rootProps.barSize,yS=e=>e.rootProps.stackOffset,Pse=e=>e.rootProps.reverseStackOrder,FI=e=>e.options.chartName,zI=e=>e.rootProps.syncId,Rse=e=>e.rootProps.syncMethod,BI=e=>e.options.eventEmitter,Yi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},eh={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Xl={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},kE=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},WPe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:eh.angleAxisId,includeHidden:!1,name:void 0,reversed:eh.reversed,scale:eh.scale,tick:eh.tick,tickCount:void 0,ticks:void 0,type:eh.type,unit:void 0},YPe={allowDataOverflow:Xl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xl.scale,tick:Xl.tick,tickCount:Xl.tickCount,ticks:void 0,type:Xl.type,unit:void 0},GPe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:eh.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:eh.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:eh.scale,tick:eh.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},KPe={allowDataOverflow:Xl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xl.scale,tick:Xl.tick,tickCount:Xl.tickCount,ticks:void 0,type:"category",unit:void 0},HI=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?GPe:WPe,$I=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?KPe:YPe,CE=e=>e.polarOptions,UI=Ye([Qh,Zh,ei],Eae),Lse=Ye([CE,UI],(e,t)=>{if(e!=null)return vo(e.innerRadius,t,0)}),Ise=Ye([CE,UI],(e,t)=>{if(e!=null)return vo(e.outerRadius,t,t*.8)}),XPe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},Fse=Ye([CE],XPe);Ye([HI,Fse],kE);var zse=Ye([UI,Lse,Ise],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Ye([$I,zse],kE);var Bse=Ye([ln,CE,Lse,Ise,Qh,Zh],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:i,cy:l,startAngle:c,endAngle:d}=t;return{cx:vo(i,a,a/2),cy:vo(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),Sa=(e,t)=>t,vS=(e,t,r)=>r;function VI(e){return e==null?void 0:e.id}function Hse(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,i=new Map;return e.forEach(l=>{var c,d=(c=l.data)!==null&&c!==void 0?c:n;if(!(d==null||d.length===0)){var u=VI(l);d.forEach((f,p)=>{var h=s==null||a?p:String(fa(f,s,null)),m=fa(f,l.dataKey,0),g;i.has(h)?g=i.get(h):g={},Object.assign(g,{[u]:m}),i.set(h,g)})}}),Array.from(i.values())}function AE(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var EE=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function TE(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function JPe(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var ri=e=>{var t=ln(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Lb=e=>e.tooltip.settings.axisId;function Uq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uq(Object(r),!0).forEach(function(n){QPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QPe(e,t,r){return(t=ZPe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZPe(e){var t=eRe(e,"string");return typeof t=="symbol"?t:t+""}function eRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yP=[0,"auto"],ii={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},$se=(e,t)=>e.cartesianAxis.xAxis[t],rp=(e,t)=>{var r=$se(e,t);return r??ii},oi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:yP,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:uS},Use=(e,t)=>e.cartesianAxis.yAxis[t],np=(e,t)=>{var r=Use(e,t);return r??oi},tRe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},qI=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??tRe},Pa=(e,t,r)=>{switch(t){case"xAxis":return rp(e,r);case"yAxis":return np(e,r);case"zAxis":return qI(e,r);case"angleAxis":return HI(e,r);case"radiusAxis":return $I(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},rRe=(e,t,r)=>{switch(t){case"xAxis":return rp(e,r);case"yAxis":return np(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},bS=(e,t,r)=>{switch(t){case"xAxis":return rp(e,r);case"yAxis":return np(e,r);case"angleAxis":return HI(e,r);case"radiusAxis":return $I(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Vse=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function WI(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var YI=e=>e.graphicalItems.cartesianItems,nRe=Ye([Sa,vS],WI),GI=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),wS=Ye([YI,Pa,nRe],GI,{memoizeOptions:{resultEqualityCheck:TE}}),qse=Ye([wS],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(AE)),Wse=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),aRe=Ye([wS],Wse),KI=e=>e.map(t=>t.data).filter(Boolean).flat(1),sRe=Ye([wS],KI,{memoizeOptions:{resultEqualityCheck:TE}}),XI=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},JI=Ye([sRe,xse],XI),QI=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:fa(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:fa(a,n)}))):e.map(n=>({value:n})),DE=Ye([JI,Pa,wS],QI);function Yse(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function I_(e){if(Ku(e)||e instanceof Date){var t=Number(e);if(Oa(t))return t}}function Vq(e){if(Array.isArray(e)){var t=[I_(e[0]),I_(e[1])];return Um(t)?t:void 0}var r=I_(e);if(r!=null)return[r,r]}function Vh(e){return e.map(I_).filter(xEe)}function iRe(e,t,r){return!r||typeof t!="number"||su(t)?[]:r.length?Vh(r.flatMap(n=>{var a=fa(e,n.dataKey),s,i;if(Array.isArray(a)?[s,i]=a:s=i=a,!(!Oa(s)||!Oa(i)))return[t-s,t+i]})):[]}var ni=e=>{var t=ri(e),r=Lb(e);return bS(e,t,r)},NS=Ye([ni],e=>e==null?void 0:e.dataKey),oRe=Ye([qse,xse,ni],Hse),Gse=(e,t,r,n)=>{var a={},s=t.reduce((i,l)=>{if(l.stackId==null)return i;var c=i[l.stackId];return c==null&&(c=[]),c.push(l),i[l.stackId]=c,i},a);return Object.fromEntries(Object.entries(s).map(i=>{var[l,c]=i,d=n?[...c].reverse():c,u=d.map(VI);return[l,{stackedData:OTe(e,u,r),graphicalItems:d}]}))},vP=Ye([oRe,qse,yS,Pse],Gse),Kse=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var i=FTe(e,a,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},lRe=Ye([Pa],e=>e.allowDataOverflow),ZI=e=>{var t;if(e==null||!("domain"in e))return yP;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Vh(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:yP},eF=Ye([Pa],ZI),tF=Ye([eF,lRe],yse),cRe=Ye([vP,tp,Sa,tF],Kse,{memoizeOptions:{resultEqualityCheck:EE}}),ME=e=>e.errorBars,dRe=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Yse(r,n)),MC=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),i=Math.min(...s),l=Math.max(...s);return[i,l]}},rF=(e,t,r,n,a)=>{var s,i;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var d,u,f=(d=n[c.id])===null||d===void 0?void 0:d.filter(y=>Yse(a,y)),p=fa(l,(u=t.dataKey)!==null&&u!==void 0?u:c.dataKey),h=iRe(l,p,f);if(h.length>=2){var m=Math.min(...h),g=Math.max(...h);(s==null||m<s)&&(s=m),(i==null||g>i)&&(i=g)}var x=Vq(p);x!=null&&(s=s==null?x[0]:Math.min(s,x[0]),i=i==null?x[1]:Math.max(i,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=Vq(fa(l,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),i=i==null?c[1]:Math.max(i,c[1]))}),Oa(s)&&Oa(i))return[s,i]},uRe=Ye([JI,Pa,aRe,ME,Sa],rF,{memoizeOptions:{resultEqualityCheck:EE}});function fRe(e){var{value:t}=e;if(Ku(t)||t instanceof Date)return t}var hRe=(e,t,r)=>{var n=e.map(fRe).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&$re(n))?Lae(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Xse=e=>e.referenceElements.dots,Ib=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),pRe=Ye([Xse,Sa,vS],Ib),Jse=e=>e.referenceElements.areas,mRe=Ye([Jse,Sa,vS],Ib),Qse=e=>e.referenceElements.lines,gRe=Ye([Qse,Sa,vS],Ib),Zse=(e,t)=>{if(e!=null){var r=Vh(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},xRe=Ye(pRe,Sa,Zse),eie=(e,t)=>{if(e!=null){var r=Vh(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},yRe=Ye([mRe,Sa],eie);function vRe(e){var t;if(e.x!=null)return Vh([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Vh(r)}function bRe(e){var t;if(e.y!=null)return Vh([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Vh(r)}var tie=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?vRe(n):bRe(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},wRe=Ye([gRe,Sa],tie),NRe=Ye(xRe,wRe,yRe,(e,t,r)=>MC(e,r,t)),nF=(e,t,r,n,a,s,i,l)=>{if(r!=null)return r;var c=i==="vertical"&&l==="xAxis"||i==="horizontal"&&l==="yAxis",d=c?MC(n,s,a):MC(s,a);return OPe(t,d,e.allowDataOverflow)},SRe=Ye([Pa,eF,tF,cRe,uRe,NRe,ln,Sa],nF,{memoizeOptions:{resultEqualityCheck:EE}}),jRe=[0,1],aF=(e,t,r,n,a,s,i)=>{if(!((e==null||r==null||r.length===0)&&i===void 0)){var{dataKey:l,type:c}=e,d=Nx(t,s);if(d&&l==null){var u;return Lae(0,(u=r==null?void 0:r.length)!==null&&u!==void 0?u:0)}return c==="category"?hRe(n,e,d):a==="expand"?jRe:i}},sF=Ye([Pa,ln,JI,DE,yS,Sa,SRe],aF),rie=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:i}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":i==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(sS(s));return l in c2?l:"point"}}},Fb=Ye([Pa,ln,Vse,FI,Sa],rie);function _Re(e){if(e!=null){if(e in c2)return c2[e]();var t="scale".concat(sS(e));if(t in c2)return c2[t]()}}function iF(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=_Re(t);if(a!=null){var s=a.domain(r).range(n);return ATe(s),s}}}var oF=(e,t,r)=>{var n=ZI(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Um(e))return $Pe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Um(e))return UPe(e,t.tickCount,t.allowDecimals)}},lF=Ye([sF,bS,Fb],oF),cF=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Um(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],i=t[1],l=r[r.length-1];return[Math.min(a,s),Math.max(i,l)]}return t},kRe=Ye([Pa,sF,lF,Sa],cF),CRe=Ye(DE,Pa,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Vh(e.map(f=>f.value))).sort((f,p)=>f-p),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var i=s-a;if(i===0)return 1/0;for(var l=0;l<n.length-1;l++){var c=n[l],d=n[l+1];if(!(c==null||d==null)){var u=d-c;r=Math.min(r,u)}}return r/i}}),nie=Ye(CRe,ln,Ose,ei,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Oa(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var i=vo(r,e*s),l=e*s/2;return l-i-(l-i)/s*i}return 0}),ARe=(e,t,r)=>{var n=rp(e,t);return n==null||typeof n.padding!="string"?0:nie(e,"xAxis",t,r,n.padding)},ERe=(e,t,r)=>{var n=np(e,t);return n==null||typeof n.padding!="string"?0:nie(e,"yAxis",t,r,n.padding)},TRe=Ye(rp,ARe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),DRe=Ye(np,ERe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),MRe=Ye([ei,TRe,dE,cE,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),ORe=Ye([ei,ln,DRe,dE,cE,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),SS=(e,t,r,n)=>{var a;switch(t){case"xAxis":return MRe(e,r,n);case"yAxis":return ORe(e,r,n);case"zAxis":return(a=qI(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return Fse(e);case"radiusAxis":return zse(e,r);default:return}},aie=Ye([Pa,SS],kE),OE=Ye([Pa,Fb,kRe,aie],iF);Ye([wS,ME,Sa],dRe);function sie(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var PE=(e,t)=>t,RE=(e,t,r)=>r,PRe=Ye(oE,PE,RE,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(sie)),RRe=Ye(lE,PE,RE,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(sie)),iie=(e,t)=>({width:e.width,height:t.height}),LRe=(e,t)=>{var r=typeof t.width=="number"?t.width:uS;return{width:r,height:e.height}},oie=Ye(ei,rp,iie),IRe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},FRe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},zRe=Ye(Zh,ei,PRe,PE,RE,(e,t,r,n,a)=>{var s={},i;return r.forEach(l=>{var c=iie(t,l);i==null&&(i=IRe(t,n,e));var d=n==="top"&&!a||n==="bottom"&&a;s[l.id]=i-Number(d)*c.height,i+=(d?-1:1)*c.height}),s}),BRe=Ye(Qh,ei,RRe,PE,RE,(e,t,r,n,a)=>{var s={},i;return r.forEach(l=>{var c=LRe(t,l);i==null&&(i=FRe(t,n,e));var d=n==="left"&&!a||n==="right"&&a;s[l.id]=i-Number(d)*c.width,i+=(d?-1:1)*c.width}),s}),HRe=(e,t)=>{var r=rp(e,t);if(r!=null)return zRe(e,r.orientation,r.mirror)},$Re=Ye([ei,rp,HRe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),URe=(e,t)=>{var r=np(e,t);if(r!=null)return BRe(e,r.orientation,r.mirror)},VRe=Ye([ei,np,URe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),lie=Ye(ei,np,(e,t)=>{var r=typeof t.width=="number"?t.width:uS;return{width:r,height:e.height}}),qq=(e,t,r)=>{switch(t){case"xAxis":return oie(e,r).width;case"yAxis":return lie(e,r).height;default:return}},cie=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:i}=r,l=Nx(e,n),c=t.map(d=>d.value);if(i&&l&&s==="category"&&a&&$re(c))return c}},dF=Ye([ln,DE,Pa,Sa],cie),die=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,i=Nx(e,n);if(i&&(a==="number"||s!=="auto"))return t.map(l=>l.value)}},uF=Ye([ln,DE,bS,Sa],die),Wq=Ye([ln,rRe,Fb,OE,dF,uF,SS,lF,Sa],(e,t,r,n,a,s,i,l,c)=>{if(t!=null){var d=Nx(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:d,niceTicks:l,range:i,realScaleType:r,scale:n}}}),qRe=(e,t,r,n,a,s,i,l,c)=>{if(!(t==null||n==null)){var d=Nx(e,c),{type:u,ticks:f,tickCount:p}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/h:0;m=c==="angleAxis"&&s!=null&&s.length>=2?gi(s[0]-s[1])*2*m:m;var g=f||a;if(g){var x=g.map((y,v)=>{var w=i?i.indexOf(y):y;return{index:v,coordinate:n(w)+m,value:y,offset:m}});return x.filter(y=>Oa(y.coordinate))}return d&&l?l.map((y,v)=>({coordinate:n(y)+m,value:y,index:v,offset:m})).filter(y=>Oa(y.coordinate)):n.ticks?n.ticks(p).map(y=>({coordinate:n(y)+m,value:y,offset:m})):n.domain().map((y,v)=>({coordinate:n(y)+m,value:i?i[y]:y,index:v,offset:m}))}},uie=Ye([ln,bS,Fb,OE,lF,SS,dF,uF,Sa],qRe),WRe=(e,t,r,n,a,s,i)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Nx(e,i),{tickCount:c}=t,d=0;return d=i==="angleAxis"&&(n==null?void 0:n.length)>=2?gi(n[0]-n[1])*2*d:d,l&&s?s.map((u,f)=>({coordinate:r(u)+d,value:u,index:f,offset:d})):r.ticks?r.ticks(c).map(u=>({coordinate:r(u)+d,value:u,offset:d})):r.domain().map((u,f)=>({coordinate:r(u)+d,value:a?a[u]:u,index:f,offset:d}))}},Zv=Ye([ln,bS,OE,SS,dF,uF,Sa],WRe),eb=Ye(Pa,OE,(e,t)=>{if(!(e==null||t==null))return DC(DC({},e),{},{scale:t})}),YRe=Ye([Pa,Fb,sF,aie],iF);Ye((e,t,r)=>qI(e,r),YRe,(e,t)=>{if(!(e==null||t==null))return DC(DC({},e),{},{scale:t})});var GRe=Ye([ln,oE,lE],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),fie=e=>e.options.defaultTooltipEventType,hie=e=>e.options.validateTooltipEventTypes;function pie(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function fF(e,t){var r=fie(e),n=hie(e);return pie(t,r,n)}function KRe(e){return Qt(t=>fF(t,e))}var mie=(e,t)=>{var r,n=Number(t);if(!(su(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},XRe=e=>e.tooltip.settings,Vp={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},JRe={itemInteraction:{click:Vp,hover:Vp},axisInteraction:{click:Vp,hover:Vp},keyboardInteraction:Vp,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},gie=Tl({name:"tooltip",initialState:JRe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:va()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=eu(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:va()},removeTooltipEntrySettings:{reducer(e,t){var r=eu(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:va()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:QRe,replaceTooltipEntrySettings:ZRe,removeTooltipEntrySettings:e8e,setTooltipSettingsState:t8e,setActiveMouseOverItemIndex:xie,mouseLeaveItem:r8e,mouseLeaveChart:yie,setActiveClickItemIndex:n8e,setMouseOverAxisIndex:vie,setMouseClickAxisIndex:a8e,setSyncInteraction:bP,setKeyboardInteraction:wP}=gie.actions,s8e=gie.reducer;function Yq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yq(Object(r),!0).forEach(function(n){i8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i8e(e,t,r){return(t=o8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o8e(e){var t=l8e(e,"string");return typeof t=="symbol"?t:t+""}function l8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c8e(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function d8e(e){return e.index!=null}var bie=(e,t,r,n)=>{if(t==null)return Vp;var a=c8e(e,t,r);if(a==null)return Vp;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(d8e(a)){if(s)return y5(y5({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return y5(y5({},Vp),{},{coordinate:a.coordinate})};function u8e(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function f8e(e,t){var r=u8e(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),i=Math.max(n,a);return r>=s&&r<=i}function h8e(e,t,r){if(r==null||t==null)return!0;var n=fa(e,t);return n==null||!Um(r)?!0:f8e(n,r)}var hF=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!Oa(s))return a;var i=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(i,Math.min(s,l)),d=t[c];return d==null||h8e(d,r,n)?String(c):null},wie=(e,t,r,n,a,s,i,l)=>{if(!(s==null||l==null)){var c=i[0],d=c==null?void 0:l(c.positions,s);if(d!=null)return d;var u=a==null?void 0:a[Number(s)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},Nie=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},jS=e=>e.options.tooltipPayloadSearcher,zb=e=>e.tooltip;function Gq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gq(Object(r),!0).forEach(function(n){p8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p8e(e,t,r){return(t=m8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m8e(e){var t=g8e(e,"string");return typeof t=="symbol"?t:t+""}function g8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x8e(e,t){return e??t}var Sie=(e,t,r,n,a,s,i)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:u}=r,f=[];return e.reduce((p,h)=>{var m,{dataDefinedOnItem:g,settings:x}=h,y=x8e(g,l),v=Array.isArray(y)?Jne(y,d,u):y,w=(m=x==null?void 0:x.dataKey)!==null&&m!==void 0?m:n,N=x==null?void 0:x.nameKey,C;if(n&&Array.isArray(v)&&!Array.isArray(v[0])&&i==="axis"?C=gEe(v,n,a):C=s(v,t,c,N),Array.isArray(C))C.forEach(S=>{var k=Kq(Kq({},x),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});p.push(iV({tooltipEntrySettings:k,dataKey:S.dataKey,payload:S.payload,value:fa(S.payload,S.dataKey),name:S.name}))});else{var _;p.push(iV({tooltipEntrySettings:x,dataKey:w,payload:C,value:fa(C,w),name:(_=fa(C,N))!==null&&_!==void 0?_:x==null?void 0:x.name}))}return p},f)}},pF=Ye([ni,ln,Vse,FI,ri],rie),y8e=Ye([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),v8e=Ye([ri,Lb],WI),Bb=Ye([y8e,ni,v8e],GI,{memoizeOptions:{resultEqualityCheck:TE}}),b8e=Ye([Bb],e=>e.filter(AE)),w8e=Ye([Bb],KI,{memoizeOptions:{resultEqualityCheck:TE}}),Hb=Ye([w8e,tp],XI),N8e=Ye([b8e,tp,ni],Hse),mF=Ye([Hb,ni,Bb],QI),jie=Ye([ni],ZI),S8e=Ye([ni],e=>e.allowDataOverflow),_ie=Ye([jie,S8e],yse),j8e=Ye([Bb],e=>e.filter(AE)),_8e=Ye([N8e,j8e,yS,Pse],Gse),k8e=Ye([_8e,tp,ri,_ie],Kse),C8e=Ye([Bb],Wse),A8e=Ye([Hb,ni,C8e,ME,ri],rF,{memoizeOptions:{resultEqualityCheck:EE}}),E8e=Ye([Xse,ri,Lb],Ib),T8e=Ye([E8e,ri],Zse),D8e=Ye([Jse,ri,Lb],Ib),M8e=Ye([D8e,ri],eie),O8e=Ye([Qse,ri,Lb],Ib),P8e=Ye([O8e,ri],tie),R8e=Ye([T8e,P8e,M8e],MC),L8e=Ye([ni,jie,_ie,k8e,A8e,R8e,ln,ri],nF),_S=Ye([ni,ln,Hb,mF,yS,ri,L8e],aF),I8e=Ye([_S,ni,pF],oF),F8e=Ye([ni,_S,I8e,ri],cF),kie=e=>{var t=ri(e),r=Lb(e),n=!1;return SS(e,t,r,n)},Cie=Ye([ni,kie],kE),Aie=Ye([ni,pF,F8e,Cie],iF),z8e=Ye([ln,mF,ni,ri],cie),B8e=Ye([ln,mF,ni,ri],die),H8e=(e,t,r,n,a,s,i,l)=>{if(t){var{type:c}=t,d=Nx(e,l);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?gi(a[0]-a[1])*2*f:f,d&&i?i.map((p,h)=>({coordinate:n(p)+f,value:p,index:h,offset:f})):n.domain().map((p,h)=>({coordinate:n(p)+f,value:s?s[p]:p,index:h,offset:f}))}}},ap=Ye([ln,ni,pF,Aie,kie,z8e,B8e,ri],H8e),gF=Ye([fie,hie,XRe],(e,t,r)=>pie(r.shared,e,t)),Eie=e=>e.tooltip.settings.trigger,xF=e=>e.tooltip.settings.defaultIndex,kS=Ye([zb,gF,Eie,xF],bie),ex=Ye([kS,Hb,NS,_S],hF),Tie=Ye([ap,ex],mie),yF=Ye([kS],e=>{if(e)return e.dataKey}),$8e=Ye([kS],e=>{if(e)return e.graphicalItemId}),Die=Ye([zb,gF,Eie,xF],Nie),U8e=Ye([Qh,Zh,ln,ei,ap,xF,Die,jS],wie),V8e=Ye([kS,U8e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),q8e=Ye([kS],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),W8e=Ye([Die,ex,tp,NS,Tie,jS,gF],Sie);Ye([W8e],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Xq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xq(Object(r),!0).forEach(function(n){Y8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y8e(e,t,r){return(t=G8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G8e(e){var t=K8e(e,"string");return typeof t=="symbol"?t:t+""}function K8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X8e=()=>Qt(ni),J8e=()=>{var e=X8e(),t=Qt(ap),r=Qt(Aie);return uC(!e||!r?void 0:Jq(Jq({},e),{},{scale:r}),t)};function Qq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ty(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qq(Object(r),!0).forEach(function(n){Q8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q8e(e,t,r){return(t=Z8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z8e(e){var t=eLe(e,"string");return typeof t=="symbol"?t:t+""}function eLe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tLe=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},rLe=(e,t,r,n)=>{var a=t.find(d=>d&&d.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:i}=n;return ty(ty(ty({},n),Ms(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var l=a.coordinate,{angle:c}=n;return ty(ty(ty({},n),Ms(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function nLe(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var Mie=(e,t,r,n,a)=>{var s,i=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(i<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<i;l++){var c,d,u,f,p,h=l>0?(c=r[l-1])===null||c===void 0?void 0:c.coordinate:(d=r[i-1])===null||d===void 0?void 0:d.coordinate,m=(u=r[l])===null||u===void 0?void 0:u.coordinate,g=l>=i-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(p=r[l+1])===null||p===void 0?void 0:p.coordinate,x=void 0;if(!(h==null||m==null||g==null))if(gi(m-h)!==gi(g-m)){var y=[];if(gi(g-m)===gi(a[1]-a[0])){x=g;var v=m+a[1]-a[0];y[0]=Math.min(v,(v+h)/2),y[1]=Math.max(v,(v+h)/2)}else{x=h;var w=g+a[1]-a[0];y[0]=Math.min(m,(w+m)/2),y[1]=Math.max(m,(w+m)/2)}var N=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(e>N[0]&&e<=N[1]||e>=y[0]&&e<=y[1]){var C;return(C=r[l])===null||C===void 0?void 0:C.index}}else{var _=Math.min(h,g),S=Math.max(h,g);if(e>(_+m)/2&&e<=(S+m)/2){var k;return(k=r[l])===null||k===void 0?void 0:k.index}}}else if(t)for(var A=0;A<i;A++){var O=t[A];if(O!=null){var D=t[A+1],M=t[A-1];if(A===0&&D!=null&&e<=(O.coordinate+D.coordinate)/2||A===i-1&&M!=null&&e>(O.coordinate+M.coordinate)/2||A>0&&A<i-1&&M!=null&&D!=null&&e>(O.coordinate+M.coordinate)/2&&e<=(O.coordinate+D.coordinate)/2)return O.index}}return-1},aLe=()=>Qt(FI),vF=(e,t)=>t,Oie=(e,t,r)=>r,bF=(e,t,r,n)=>n,sLe=Ye(ap,e=>J4(e,t=>t.coordinate)),wF=Ye([zb,vF,Oie,bF],bie),NF=Ye([wF,Hb,NS,_S],hF),iLe=(e,t,r)=>{if(t!=null){var n=zb(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Pie=Ye([zb,vF,Oie,bF],Nie),OC=Ye([Qh,Zh,ln,ei,ap,bF,Pie,jS],wie),oLe=Ye([wF,OC],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Rie=Ye([ap,NF],mie),lLe=Ye([Pie,NF,tp,NS,Rie,jS,vF],Sie),cLe=Ye([wF,NF],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),dLe=(e,t,r,n,a,s,i)=>{if(!(!e||!r||!n||!a)&&nLe(e,i)){var l=zTe(e,t),c=Mie(l,s,a,r,n),d=tLe(t,a,c,e);return{activeIndex:String(c),activeCoordinate:d}}},uLe=(e,t,r,n,a,s,i)=>{if(!(!e||!n||!a||!s||!r)){var l=QMe(e,r);if(l){var c=BTe(l,t),d=Mie(c,i,s,n,a),u=rLe(t,s,d,l);return{activeIndex:String(d),activeCoordinate:u}}}},fLe=(e,t,r,n,a,s,i,l)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?dLe(e,t,n,a,s,i,l):uLe(e,t,r,n,a,s,i)},hLe=Ye(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),pLe=Ye(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Yi)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:JPe}});function Zq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zq(Object(r),!0).forEach(function(n){mLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mLe(e,t,r){return(t=gLe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gLe(e){var t=xLe(e,"string");return typeof t=="symbol"?t:t+""}function xLe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yLe={},vLe={zIndexMap:Object.values(Yi).reduce((e,t)=>eW(eW({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),yLe)},bLe=new Set(Object.values(Yi));function wLe(e){return bLe.has(e)}var Lie=Tl({name:"zIndex",initialState:vLe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:va()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!wLe(r)&&delete e.zIndexMap[r])},prepare:va()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:va()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:va()}}}),{registerZIndexPortal:NLe,unregisterZIndexPortal:SLe,registerZIndexPortalElement:jLe,unregisterZIndexPortalElement:_Le}=Lie.actions,kLe=Lie.reducer;function hu(e){var{zIndex:t,children:r}=e,n=hDe(),a=n&&t!==void 0&&t!==0,s=Dl(),i=ra();b.useLayoutEffect(()=>a?(i(NLe({zIndex:t})),()=>{i(SLe({zIndex:t}))}):iS,[i,t,a]);var l=Qt(c=>hLe(c,t,s));return a?l?af.createPortal(r,l):null:r}function NP(){return NP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NP.apply(null,arguments)}function tW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tW(Object(r),!0).forEach(function(n){CLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CLe(e,t,r){return(t=ALe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ALe(e){var t=ELe(e,"string");return typeof t=="symbol"?t:t+""}function ELe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TLe(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return b.isValidElement(t)?b.cloneElement(t,n):b.createElement(r,n)}function DLe(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:i,layout:l,cursor:c,tooltipEventType:d,chartName:u}=e,f=r,p=n,h=a;if(!c||!f||u!=="ScatterChart"&&d!=="axis")return null;var m,g,x;if(u==="ScatterChart")m=f,g=fMe,x=Yi.cursorLine;else if(u==="BarChart")m=hMe(l,f,s,i),g=Aae,x=Yi.cursorRectangle;else if(l==="radial"&&Vre(f)){var{cx:y,cy:v,radius:w,startAngle:N,endAngle:C}=Tae(f);m={cx:y,cy:v,startAngle:N,endAngle:C,innerRadius:w,outerRadius:w},g=Mae,x=Yi.cursorLine}else m={points:rOe(l,f,s)},g=fI,x=Yi.cursorLine;var _=typeof c=="object"&&"className"in c?c.className:void 0,S=v5(v5(v5(v5({stroke:"#ccc",pointerEvents:"none"},s),m),Vw(c)),{},{payload:p,payloadIndex:h,className:ur("recharts-tooltip-cursor",_)});return b.createElement(hu,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},b.createElement(TLe,{cursor:c,cursorComp:g,cursorProps:S}))}function MLe(e){var t=J8e(),r=uae(),n=fS(),a=aLe();return t==null||r==null||n==null||a==null?null:b.createElement(DLe,NP({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var Iie=b.createContext(null),OLe=()=>b.useContext(Iie),Fie={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function s(c,d,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new a(u,f||c,p),m=r?r+d:d;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],h]:c._events[m].push(h):(c._events[m]=h,c._eventsCount++),c}function i(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,m=new Array(h);p<h;p++)m[p]=f[p].fn;return m},l.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,p,h,m){var g=r?r+d:d;if(!this._events[g])return!1;var x=this._events[g],y=arguments.length,v,w;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,f),!0;case 4:return x.fn.call(x.context,u,f,p),!0;case 5:return x.fn.call(x.context,u,f,p,h),!0;case 6:return x.fn.call(x.context,u,f,p,h,m),!0}for(w=1,v=new Array(y-1);w<y;w++)v[w-1]=arguments[w];x.fn.apply(x.context,v)}else{var N=x.length,C;for(w=0;w<N;w++)switch(x[w].once&&this.removeListener(d,x[w].fn,void 0,!0),y){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,u);break;case 3:x[w].fn.call(x[w].context,u,f);break;case 4:x[w].fn.call(x[w].context,u,f,p);break;default:if(!v)for(C=1,v=new Array(y-1);C<y;C++)v[C-1]=arguments[C];x[w].fn.apply(x[w].context,v)}}return!0},l.prototype.on=function(d,u,f){return s(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return s(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,p){var h=r?r+d:d;if(!this._events[h])return this;if(!u)return i(this,h),this;var m=this._events[h];if(m.fn)m.fn===u&&(!p||m.once)&&(!f||m.context===f)&&i(this,h);else{for(var g=0,x=[],y=m.length;g<y;g++)(m[g].fn!==u||p&&!m[g].once||f&&m[g].context!==f)&&x.push(m[g]);x.length?this._events[h]=x.length===1?x[0]:x:i(this,h)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&i(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Fie);var PLe=Fie.exports;const RLe=nf(PLe);var aN=new RLe,SP="recharts.syncEvent.tooltip",rW="recharts.syncEvent.brush";function zie(e,t){if(t){var r=Number.parseInt(t,10);if(!su(r))return e==null?void 0:e[r]}}var LLe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Bie=Tl({name:"options",initialState:LLe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ILe=Bie.reducer,{createEventEmitter:FLe}=Bie.actions;function zLe(e){return e.tooltip.syncInteraction}var BLe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Hie=Tl({name:"chartData",initialState:BLe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:nW,setDataStartEndIndexes:HLe,setComputedData:rot}=Hie.actions,$Le=Hie.reducer,ULe=["x","y"];function aW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ry(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aW(Object(r),!0).forEach(function(n){VLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VLe(e,t,r){return(t=qLe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qLe(e){var t=WLe(e,"string");return typeof t=="symbol"?t:t+""}function WLe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YLe(e,t){if(e==null)return{};var r,n,a=GLe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GLe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function KLe(){var e=Qt(zI),t=Qt(BI),r=ra(),n=Qt(Rse),a=Qt(ap),s=fS(),i=uE(),l=Qt(c=>c.rootProps.className);b.useEffect(()=>{if(e==null)return iS;var c=(d,u,f)=>{if(t!==f&&e===d){if(n==="index"){var p;if(i&&u!==null&&u!==void 0&&(p=u.payload)!==null&&p!==void 0&&p.coordinate&&u.payload.sourceViewBox){var h=u.payload.coordinate,{x:m,y:g}=h,x=YLe(h,ULe),{x:y,y:v,width:w,height:N}=u.payload.sourceViewBox,C=ry(ry({},x),{},{x:i.x+(w?(m-y)/w:0)*i.width,y:i.y+(N?(g-v)/N:0)*i.height});r(ry(ry({},u),{},{payload:ry(ry({},u.payload),{},{coordinate:C})}))}else r(u);return}if(a!=null){var _;if(typeof n=="function"){var S={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},k=n(a,S);_=a[k]}else n==="value"&&(_=a.find(X=>String(X.value)===u.payload.label));var{coordinate:A}=u.payload;if(_==null||u.payload.active===!1||A==null||i==null){r(bP({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:O,y:D}=A,M=Math.min(O,i.x+i.width),I=Math.min(D,i.y+i.height),z={x:s==="horizontal"?_.coordinate:M,y:s==="horizontal"?I:_.coordinate},Y=bP({active:u.payload.active,coordinate:z,dataKey:u.payload.dataKey,index:String(_.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox,graphicalItemId:u.payload.graphicalItemId});r(Y)}}};return aN.on(SP,c),()=>{aN.off(SP,c)}},[l,r,t,e,n,a,s,i])}function XLe(){var e=Qt(zI),t=Qt(BI),r=ra();b.useEffect(()=>{if(e==null)return iS;var n=(a,s,i)=>{t!==i&&e===a&&r(HLe(s))};return aN.on(rW,n),()=>{aN.off(rW,n)}},[r,t,e])}function JLe(){var e=ra();b.useEffect(()=>{e(FLe())},[e]),KLe(),XLe()}function QLe(e,t,r,n,a,s){var i=Qt(h=>iLe(h,e,t)),l=Qt(BI),c=Qt(zI),d=Qt(Rse),u=Qt(zLe),f=u==null?void 0:u.active,p=uE();b.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=bP({active:s,coordinate:r,dataKey:i,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});aN.emit(SP,c,h,l)}},[f,r,i,a,n,l,c,d,s,p])}function sW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sW(Object(r),!0).forEach(function(n){ZLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZLe(e,t,r){return(t=eIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eIe(e){var t=tIe(e,"string");return typeof t=="symbol"?t:t+""}function tIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rIe(e){return e.dataKey}function nIe(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(qDe,t)}var oW=[],aIe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function $ie(e){var t,r,n=Ci(e,aIe),{active:a,allowEscapeViewBox:s,animationDuration:i,animationEasing:l,content:c,filterNull:d,isAnimationActive:u,offset:f,payloadUniqBy:p,position:h,reverseDirection:m,useTranslate3d:g,wrapperStyle:x,cursor:y,shared:v,trigger:w,defaultIndex:N,portal:C,axisId:_}=n,S=ra(),k=typeof N=="number"?String(N):N;b.useEffect(()=>{S(t8e({shared:v,trigger:w,axisId:_,active:a,defaultIndex:k}))},[S,v,w,_,a,k]);var A=uE(),O=Sae(),D=KRe(v),{activeIndex:M,isActive:I}=(t=Qt(te=>cLe(te,D,w,k)))!==null&&t!==void 0?t:{},z=Qt(te=>lLe(te,D,w,k)),Y=Qt(te=>Rie(te,D,w,k)),X=Qt(te=>oLe(te,D,w,k)),V=z,G=OLe(),J=(r=a??I)!==null&&r!==void 0?r:!1,[B,q]=wne([V,J]),T=D==="axis"?Y:void 0;QLe(D,w,X,T,M,J);var R=C??G;if(R==null||A==null||D==null)return null;var F=V??oW;J||(F=oW),d&&F.length&&(F=lne(F.filter(te=>te.value!=null&&(te.hide!==!0||n.includeHidden)),p,rIe));var H=F.length>0,W=b.createElement(QDe,{allowEscapeViewBox:s,animationDuration:i,animationEasing:l,isAnimationActive:u,active:J,coordinate:X,hasPayload:H,offset:f,position:h,reverseDirection:m,useTranslate3d:g,viewBox:A,wrapperStyle:x,lastBoundingBox:B,innerRef:q,hasPortalFromProps:!!C},nIe(c,iW(iW({},n),{},{payload:F,label:T,active:J,activeIndex:M,coordinate:X,accessibilityLayer:O})));return b.createElement(b.Fragment,null,af.createPortal(W,R),J&&b.createElement(MLe,{cursor:y,tooltipEventType:D,coordinate:X,payload:F,index:M}))}var $b=e=>null;$b.displayName="Cell";function sIe(e,t,r){return(t=iIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iIe(e){var t=oIe(e,"string");return typeof t=="symbol"?t:t+""}function oIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class lIe{constructor(t){sIe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function lW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cIe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lW(Object(r),!0).forEach(function(n){dIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dIe(e,t,r){return(t=uIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uIe(e){var t=fIe(e,"string");return typeof t=="symbol"?t:t+""}function fIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hIe={cacheSize:2e3,enableCache:!0},Uie=cIe({},hIe),cW=new lIe(Uie.cacheSize),pIe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dW="recharts_measurement_span";function mIe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(l)}var uW=(e,t)=>{try{var r=document.getElementById(dW);r||(r=document.createElement("span"),r.setAttribute("id",dW),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,pIe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},H2=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||gE.isSsr)return{width:0,height:0};if(!Uie.enableCache)return uW(t,r);var n=mIe(t,r),a=cW.get(n);if(a)return a;var s=uW(t,r);return cW.set(n,s),s},Vie;function gIe(e,t,r){return(t=xIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xIe(e){var t=yIe(e,"string");return typeof t=="symbol"?t:t+""}function yIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fW=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hW=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vIe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bIe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wIe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},NIe=["cm","mm","pt","pc","in","Q","px"];function SIe(e){return NIe.includes(e)}var Hy="NaN";function jIe(e,t){return e*wIe[t]}class Fi{static parse(t){var r,[,n,a]=(r=bIe.exec(t))!==null&&r!==void 0?r:[];return n==null?Fi.NaN:new Fi(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,su(t)&&(this.unit=""),r!==""&&!vIe.test(r)&&(this.num=NaN,this.unit=""),SIe(r)&&(this.num=jIe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Fi(NaN,""):new Fi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Fi(NaN,""):new Fi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fi(NaN,""):new Fi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fi(NaN,""):new Fi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return su(this.num)}}Vie=Fi;gIe(Fi,"NaN",new Vie(NaN,""));function qie(e){if(e==null||e.includes(Hy))return Hy;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=fW.exec(t))!==null&&r!==void 0?r:[],i=Fi.parse(n??""),l=Fi.parse(s??""),c=a==="*"?i.multiply(l):i.divide(l);if(c.isNaN())return Hy;t=t.replace(fW,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,f,p]=(d=hW.exec(t))!==null&&d!==void 0?d:[],h=Fi.parse(u??""),m=Fi.parse(p??""),g=f==="+"?h.add(m):h.subtract(m);if(g.isNaN())return Hy;t=t.replace(hW,g.toString())}return t}var pW=/\(([^()]*)\)/;function _Ie(e){for(var t=e,r;(r=pW.exec(t))!=null;){var[,n]=r;t=t.replace(pW,qie(n))}return t}function kIe(e){var t=e.replace(/\s+/g,"");return t=_Ie(t),t=qie(t),t}function CIe(e){try{return kIe(e)}catch{return Hy}}function XD(e){var t=CIe(e.slice(5,-1));return t===Hy?"":t}var AIe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],EIe=["dx","dy","angle","className","breakAll"];function jP(){return jP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jP.apply(null,arguments)}function mW(e,t){if(e==null)return{};var r,n,a=TIe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TIe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Wie=/[ \f\n\r\t\v\u2028\u2029]+/,Yie=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];_i(t)||(r?a=t.toString().split(""):a=t.toString().split(Wie));var s=a.map(l=>({word:l,width:H2(l,n).width})),i=r?0:H2("",n).width;return{wordsWithComputedWidth:s,spaceWidth:i}}catch{return null}};function DIe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Gie=(e,t,r,n)=>e.reduce((a,s)=>{var{word:i,width:l}=s,c=a[a.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(i),c.width+=l+r;else{var d={words:[i],width:l};a.push(d)}return a},[]),Kie=e=>e.reduce((t,r)=>t.width>r.width?t:r),MIe="",gW=(e,t,r,n,a,s,i,l)=>{var c=e.slice(0,t),d=Yie({breakAll:r,style:n,children:c+MIe});if(!d)return[!1,[]];var u=Gie(d.wordsWithComputedWidth,s,i,l),f=u.length>a||Kie(u).width>Number(s);return[f,u]},OIe=(e,t,r,n,a)=>{var{maxLines:s,children:i,style:l,breakAll:c}=e,d=Kt(s),u=String(i),f=Gie(t,n,r,a);if(!d||a)return f;var p=f.length>s||Kie(f).width>Number(n);if(!p)return f;for(var h=0,m=u.length-1,g=0,x;h<=m&&g<=u.length-1;){var y=Math.floor((h+m)/2),v=y-1,[w,N]=gW(u,v,c,l,s,n,r,a),[C]=gW(u,y,c,l,s,n,r,a);if(!w&&!C&&(h=y+1),w&&C&&(m=y-1),!w&&C){x=N;break}g++}return x||f},xW=e=>{var t=_i(e)?[]:e.toString().split(Wie);return[{words:t,width:void 0}]},PIe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:i}=e;if((t||r)&&!gE.isSsr){var l,c,d=Yie({breakAll:s,children:n,style:a});if(d){var{wordsWithComputedWidth:u,spaceWidth:f}=d;l=u,c=f}else return xW(n);return OIe({breakAll:s,children:n,maxLines:i,style:a},l,c,t,!!r)}return xW(n)},Xie="#808080",RIe={angle:0,breakAll:!1,capHeight:"0.71em",fill:Xie,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},LE=b.forwardRef((e,t)=>{var r=Ci(e,RIe),{x:n,y:a,lineHeight:s,capHeight:i,fill:l,scaleToFit:c,textAnchor:d,verticalAnchor:u}=r,f=mW(r,AIe),p=b.useMemo(()=>PIe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:h,dy:m,angle:g,className:x,breakAll:y}=f,v=mW(f,EIe);if(!Ku(n)||!Ku(a)||p.length===0)return null;var w=Number(n)+(Kt(h)?h:0),N=Number(a)+(Kt(m)?m:0);if(!Oa(w)||!Oa(N))return null;var C;switch(u){case"start":C=XD("calc(".concat(i,")"));break;case"middle":C=XD("calc(".concat((p.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:C=XD("calc(".concat(p.length-1," * -").concat(s,")"));break}var _=[];if(c){var S=p[0].width,{width:k}=f;_.push("scale(".concat(Kt(k)&&Kt(S)?k/S:1,")"))}return g&&_.push("rotate(".concat(g,", ").concat(w,", ").concat(N,")")),_.length&&(v.transform=_.join(" ")),b.createElement("text",jP({},wd(v),{ref:t,x:w,y:N,className:ur("recharts-text",x),textAnchor:d,fill:l.includes("url")?Xie:l}),p.map((A,O)=>{var D=A.words.join(y?"":" ");return b.createElement("tspan",{x:w,dy:O===0?C:s,key:"".concat(D,"-").concat(O)},D)}))});LE.displayName="Text";var LIe=["labelRef"],IIe=["content"];function yW(e,t){if(e==null)return{};var r,n,a=FIe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function FIe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vW(Object(r),!0).forEach(function(n){zIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zIe(e,t,r){return(t=BIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BIe(e){var t=HIe(e,"string");return typeof t=="symbol"?t:t+""}function HIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},th.apply(null,arguments)}var Jie=b.createContext(null),$Ie=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i,children:l}=e,c=b.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i}),[t,r,n,a,s,i]);return b.createElement(Jie.Provider,{value:c},l)},Qie=()=>{var e=b.useContext(Jie),t=uE();return e||dae(t)},UIe=b.createContext(null),VIe=()=>{var e=b.useContext(UIe),t=Qt(Bse);return e||t},qIe=e=>{var{value:t,formatter:r}=e,n=_i(e.children)?t:e.children;return typeof r=="function"?r(n):n},SF=e=>e!=null&&typeof e=="function",WIe=(e,t)=>{var r=gi(t-e),n=Math.min(Math.abs(t-e),360);return r*n},YIe=(e,t,r,n,a)=>{var{offset:s,className:i}=e,{cx:l,cy:c,innerRadius:d,outerRadius:u,startAngle:f,endAngle:p,clockWise:h}=a,m=(d+u)/2,g=WIe(f,p),x=g>=0?1:-1,y,v;switch(t){case"insideStart":y=f+x*s,v=h;break;case"insideEnd":y=p-x*s,v=!h;break;case"end":y=p+x*s,v=h;break;default:throw new Error("Unsupported position ".concat(t))}v=g<=0?v:!v;var w=Ms(l,c,m,y),N=Ms(l,c,m,y+(v?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(v?0:1,`,
    `).concat(N.x,",").concat(N.y),_=_i(e.id)?qw("recharts-radial-line-"):e.id;return b.createElement("text",th({},n,{dominantBaseline:"central",className:ur("recharts-radial-bar-label",i)}),b.createElement("defs",null,b.createElement("path",{id:_,d:C})),b.createElement("textPath",{xlinkHref:"#".concat(_)},r))},GIe=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:l,endAngle:c}=e,d=(l+c)/2;if(r==="outside"){var{x:u,y:f}=Ms(n,a,i+t,d);return{x:u,y:f,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(s+i)/2,{x:h,y:m}=Ms(n,a,p,d);return{x:h,y:m,textAnchor:"middle",verticalAnchor:"middle"}},_P=e=>"cx"in e&&Kt(e.cx),KIe=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!_P(r)&&(s=r);var{x:i,y:l,upperWidth:c,lowerWidth:d,height:u}=t,f=i,p=i+(c-d)/2,h=(f+p)/2,m=(c+d)/2,g=f+c/2,x=u>=0?1:-1,y=x*n,v=x>0?"end":"start",w=x>0?"start":"end",N=c>=0?1:-1,C=N*n,_=N>0?"end":"start",S=N>0?"start":"end";if(a==="top"){var k={x:f+c/2,y:l-y,textAnchor:"middle",verticalAnchor:v};return ls(ls({},k),s?{height:Math.max(l-s.y,0),width:c}:{})}if(a==="bottom"){var A={x:p+d/2,y:l+u+y,textAnchor:"middle",verticalAnchor:w};return ls(ls({},A),s?{height:Math.max(s.y+s.height-(l+u),0),width:d}:{})}if(a==="left"){var O={x:h-C,y:l+u/2,textAnchor:_,verticalAnchor:"middle"};return ls(ls({},O),s?{width:Math.max(O.x-s.x,0),height:u}:{})}if(a==="right"){var D={x:h+m+C,y:l+u/2,textAnchor:S,verticalAnchor:"middle"};return ls(ls({},D),s?{width:Math.max(s.x+s.width-D.x,0),height:u}:{})}var M=s?{width:m,height:u}:{};return a==="insideLeft"?ls({x:h+C,y:l+u/2,textAnchor:S,verticalAnchor:"middle"},M):a==="insideRight"?ls({x:h+m-C,y:l+u/2,textAnchor:_,verticalAnchor:"middle"},M):a==="insideTop"?ls({x:f+c/2,y:l+y,textAnchor:"middle",verticalAnchor:w},M):a==="insideBottom"?ls({x:p+d/2,y:l+u-y,textAnchor:"middle",verticalAnchor:v},M):a==="insideTopLeft"?ls({x:f+C,y:l+y,textAnchor:S,verticalAnchor:w},M):a==="insideTopRight"?ls({x:f+c-C,y:l+y,textAnchor:_,verticalAnchor:w},M):a==="insideBottomLeft"?ls({x:p+C,y:l+u-y,textAnchor:S,verticalAnchor:v},M):a==="insideBottomRight"?ls({x:p+d-C,y:l+u-y,textAnchor:_,verticalAnchor:v},M):a&&typeof a=="object"&&(Kt(a.x)||zh(a.x))&&(Kt(a.y)||zh(a.y))?ls({x:i+vo(a.x,m),y:l+vo(a.y,u),textAnchor:"end",verticalAnchor:"end"},M):ls({x:g,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},M)},XIe={angle:0,offset:5,zIndex:Yi.label,position:"middle",textBreakAll:!1};function Lp(e){var t=Ci(e,XIe),{viewBox:r,position:n,value:a,children:s,content:i,className:l="",textBreakAll:c,labelRef:d}=t,u=VIe(),f=Qie(),p=n==="center"?f:u??f,h,m,g;if(r==null?h=p:_P(r)?h=r:h=dae(r),!h||_i(a)&&_i(s)&&!b.isValidElement(i)&&typeof i!="function")return null;var x=ls(ls({},t),{},{viewBox:h});if(b.isValidElement(i)){var{labelRef:y}=x,v=yW(x,LIe);return b.cloneElement(i,v)}if(typeof i=="function"){var{content:w}=x,N=yW(x,IIe);if(m=b.createElement(i,N),b.isValidElement(m))return m}else m=qIe(t);var C=wd(t);if(_P(h)){if(n==="insideStart"||n==="insideEnd"||n==="end")return YIe(t,n,m,C,h);g=GIe(h,t.offset,t.position)}else g=KIe(t,h);return b.createElement(hu,{zIndex:t.zIndex},b.createElement(LE,th({ref:d,className:ur("recharts-label",l)},C,g,{textAnchor:DIe(C.textAnchor)?C.textAnchor:g.textAnchor,breakAll:c}),m))}Lp.displayName="Label";var JIe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?b.createElement(Lp,th({key:"label-implicit"},n)):Ku(e)?b.createElement(Lp,th({key:"label-implicit",value:e},n)):b.isValidElement(e)?e.type===Lp?b.cloneElement(e,ls({key:"label-implicit"},n)):b.createElement(Lp,th({key:"label-implicit",content:e},n)):SF(e)?b.createElement(Lp,th({key:"label-implicit",content:e},n)):e&&typeof e=="object"?b.createElement(Lp,th({},e,{key:"label-implicit"},n)):null};function QIe(e){var{label:t,labelRef:r}=e,n=Qie();return JIe(t,n,r)||null}var Zie={},eoe={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(eoe);var toe={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(toe);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eoe,r=toe,n=K4;function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(Zie);var ZIe=Zie.last;const eFe=nf(ZIe);var tFe=["valueAccessor"],rFe=["dataKey","clockWise","id","textBreakAll","zIndex"];function PC(){return PC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PC.apply(null,arguments)}function bW(e,t){if(e==null)return{};var r,n,a=nFe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nFe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aFe=e=>Array.isArray(e.value)?eFe(e.value):e.value,roe=b.createContext(void 0),sFe=roe.Provider,noe=b.createContext(void 0),iFe=noe.Provider;function oFe(){return b.useContext(roe)}function lFe(){return b.useContext(noe)}function F_(e){var{valueAccessor:t=aFe}=e,r=bW(e,tFe),{dataKey:n,clockWise:a,id:s,textBreakAll:i,zIndex:l}=r,c=bW(r,rFe),d=oFe(),u=lFe(),f=d||u;return!f||!f.length?null:b.createElement(hu,{zIndex:l??Yi.label},b.createElement(Go,{className:"recharts-label-list"},f.map((p,h)=>{var m,g=_i(n)?t(p,h):fa(p&&p.payload,n),x=_i(s)?{}:{id:"".concat(s,"-").concat(h)};return b.createElement(Lp,PC({key:"label-".concat(h)},wd(p),c,x,{fill:(m=r.fill)!==null&&m!==void 0?m:p.fill,parentViewBox:p.parentViewBox,value:g,textBreakAll:i,viewBox:p.viewBox,index:h,zIndex:0}))})))}F_.displayName="LabelList";function aoe(e){var{label:t}=e;return t?t===!0?b.createElement(F_,{key:"labelList-implicit"}):b.isValidElement(t)||SF(t)?b.createElement(F_,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(F_,PC({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var soe=e=>e.graphicalItems.polarItems,cFe=Ye([Sa,vS],WI),IE=Ye([soe,Pa,cFe],GI),dFe=Ye([IE],KI),FE=Ye([dFe,_E],XI),uFe=Ye([FE,Pa,IE],QI);Ye([FE,Pa,IE],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,i=fa(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:i,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:fa(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var wW=()=>{},fFe=Ye([FE,Pa,IE,ME,Sa],rF),hFe=Ye([Pa,eF,tF,wW,fFe,wW,ln,Sa],nF),ioe=Ye([Pa,ln,FE,uFe,yS,Sa,hFe],aF),pFe=Ye([ioe,Pa,Fb],oF);Ye([Pa,ioe,pFe,Sa],cF);var mFe={radiusAxis:{},angleAxis:{}},ooe=Tl({name:"polarAxis",initialState:mFe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:not,removeRadiusAxis:aot,addAngleAxis:sot,removeAngleAxis:iot}=ooe.actions,gFe=ooe.reducer;function NW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NW(Object(r),!0).forEach(function(n){xFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xFe(e,t,r){return(t=yFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yFe(e){var t=vFe(e,"string");return typeof t=="symbol"?t:t+""}function vFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bFe=(e,t)=>t,jF=Ye([soe,bFe],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),wFe=[],_F=(e,t,r)=>(r==null?void 0:r.length)===0?wFe:r,loe=Ye([_E,jF,_F],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>SW(SW({},t.presentationProps),s.props))),a!=null)return a}}),NFe=Ye([loe,jF,_F],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,i=fa(n,t.nameKey,t.name),l;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:iE(i,t.dataKey),color:l,payload:n,type:t.legendType}})}),SFe=Ye([loe,jF,_F,ei],(e,t,r,n)=>{if(!(t==null||e==null))return _7e({offset:n,pieSettings:t,displayedData:e,cells:r})}),coe={exports:{}},Gn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kF=Symbol.for("react.transitional.element"),CF=Symbol.for("react.portal"),zE=Symbol.for("react.fragment"),BE=Symbol.for("react.strict_mode"),HE=Symbol.for("react.profiler"),$E=Symbol.for("react.consumer"),UE=Symbol.for("react.context"),VE=Symbol.for("react.forward_ref"),qE=Symbol.for("react.suspense"),WE=Symbol.for("react.suspense_list"),YE=Symbol.for("react.memo"),GE=Symbol.for("react.lazy"),jFe=Symbol.for("react.view_transition"),_Fe=Symbol.for("react.client.reference");function kd(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case kF:switch(e=e.type,e){case zE:case HE:case BE:case qE:case WE:case jFe:return e;default:switch(e=e&&e.$$typeof,e){case UE:case VE:case GE:case YE:return e;case $E:return e;default:return t}}case CF:return t}}}Gn.ContextConsumer=$E;Gn.ContextProvider=UE;Gn.Element=kF;Gn.ForwardRef=VE;Gn.Fragment=zE;Gn.Lazy=GE;Gn.Memo=YE;Gn.Portal=CF;Gn.Profiler=HE;Gn.StrictMode=BE;Gn.Suspense=qE;Gn.SuspenseList=WE;Gn.isContextConsumer=function(e){return kd(e)===$E};Gn.isContextProvider=function(e){return kd(e)===UE};Gn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===kF};Gn.isForwardRef=function(e){return kd(e)===VE};Gn.isFragment=function(e){return kd(e)===zE};Gn.isLazy=function(e){return kd(e)===GE};Gn.isMemo=function(e){return kd(e)===YE};Gn.isPortal=function(e){return kd(e)===CF};Gn.isProfiler=function(e){return kd(e)===HE};Gn.isStrictMode=function(e){return kd(e)===BE};Gn.isSuspense=function(e){return kd(e)===qE};Gn.isSuspenseList=function(e){return kd(e)===WE};Gn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===zE||e===HE||e===BE||e===qE||e===WE||typeof e=="object"&&e!==null&&(e.$$typeof===GE||e.$$typeof===YE||e.$$typeof===UE||e.$$typeof===$E||e.$$typeof===VE||e.$$typeof===_Fe||e.getModuleId!==void 0)};Gn.typeOf=kd;coe.exports=Gn;var kFe=coe.exports,jW=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",_W=null,JD=null,doe=e=>{if(e===_W&&Array.isArray(JD))return JD;var t=[];return b.Children.forEach(e,r=>{_i(r)||(kFe.isFragment(r)?t=t.concat(doe(r.props.children)):t.push(r))}),JD=t,_W=e,t};function AF(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>jW(a)):n=[jW(t)],doe(e).forEach(a=>{var s=Xg(a,"type.displayName")||Xg(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var uoe={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(uoe);var CFe=uoe.isPlainObject;const AFe=nf(CFe);var kW,CW,AW,EW,TW;function DW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DW(Object(r),!0).forEach(function(n){EFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EFe(e,t,r){return(t=TFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TFe(e){var t=DFe(e,"string");return typeof t=="symbol"?t:t+""}function DFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RC(){return RC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RC.apply(null,arguments)}function q1(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var OW=(e,t,r,n,a)=>{var s=r-n,i;return i=Va(kW||(kW=q1(["M ",",",""])),e,t),i+=Va(CW||(CW=q1(["L ",",",""])),e+r,t),i+=Va(AW||(AW=q1(["L ",",",""])),e+r-s/2,t+a),i+=Va(EW||(EW=q1(["L ",",",""])),e+r-s/2-n,t+a),i+=Va(TW||(TW=q1(["L ",","," Z"])),e,t),i},MFe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OFe=e=>{var t=Ci(e,MFe),{x:r,y:n,upperWidth:a,lowerWidth:s,height:i,className:l}=t,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:f}=t,p=b.useRef(null),[h,m]=b.useState(-1),g=b.useRef(a),x=b.useRef(s),y=b.useRef(i),v=b.useRef(r),w=b.useRef(n),N=yE(e,"trapezoid-");if(b.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var z=p.current.getTotalLength();z&&m(z)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||i!==+i||a===0&&s===0||i===0)return null;var C=ur("recharts-trapezoid",l);if(!f)return b.createElement("g",null,b.createElement("path",RC({},wd(t),{className:C,d:OW(r,n,a,s,i)})));var _=g.current,S=x.current,k=y.current,A=v.current,O=w.current,D="0px ".concat(h===-1?1:h,"px"),M="".concat(h,"px 0px"),I=jae(["strokeDasharray"],d,c);return b.createElement(xE,{animationId:N,key:N,canBegin:h>0,duration:d,easing:c,isActive:f,begin:u},z=>{var Y=Ks(_,a,z),X=Ks(S,s,z),V=Ks(k,i,z),G=Ks(A,r,z),J=Ks(O,n,z);p.current&&(g.current=Y,x.current=X,y.current=V,v.current=G,w.current=J);var B=z>0?{transition:I,strokeDasharray:M}:{strokeDasharray:D};return b.createElement("path",RC({},wd(t),{className:C,d:OW(G,J,Y,X,V),ref:p,style:MW(MW({},B),t.style)}))})},PFe=["option","shapeType","activeClassName"];function RFe(e,t){if(e==null)return{};var r,n,a=LFe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function LFe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PW(Object(r),!0).forEach(function(n){IFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IFe(e,t,r){return(t=FFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FFe(e){var t=zFe(e,"string");return typeof t=="symbol"?t:t+""}function zFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BFe(e,t){return LC(LC({},t),e)}function HFe(e,t){return e==="symbols"}function RW(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return b.createElement(Aae,r);case"trapezoid":return b.createElement(OFe,r);case"sector":return b.createElement(Mae,r);case"symbols":if(HFe(t))return b.createElement(FL,r);break;case"curve":return b.createElement(fI,r);default:return null}}function $Fe(e){return b.isValidElement(e)?e.props:e}function foe(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=RFe(e,PFe),s;if(b.isValidElement(t))s=b.cloneElement(t,LC(LC({},a),$Fe(t)));else if(typeof t=="function")s=t(a,a.index);else if(AFe(t)&&typeof t!="boolean"){var i=BFe(t,a);s=b.createElement(RW,{shapeType:r,elementProps:i})}else{var l=a;s=b.createElement(RW,{shapeType:r,elementProps:l})}return a.isActive?b.createElement(Go,{className:n},s):s}var EF=(e,t,r)=>{var n=ra();return(a,s)=>i=>{e==null||e(a,s,i),n(xie({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},TF=e=>{var t=ra();return(r,n)=>a=>{e==null||e(r,n,a),t(r8e())}},DF=(e,t,r)=>{var n=ra();return(a,s)=>i=>{e==null||e(a,s,i),n(n8e({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function hoe(e){var{tooltipEntrySettings:t}=e,r=ra(),n=Dl(),a=b.useRef(null);return b.useLayoutEffect(()=>{n||(a.current===null?r(QRe(t)):a.current!==t&&r(ZRe({prev:a.current,next:t})),a.current=t)},[t,r,n]),b.useLayoutEffect(()=>()=>{a.current&&(r(e8e(a.current)),a.current=null)},[r]),null}function UFe(e){var{legendPayload:t}=e,r=ra(),n=Dl(),a=b.useRef(null);return b.useLayoutEffect(()=>{n||(a.current===null?r(vae(t)):a.current!==t&&r(bae({prev:a.current,next:t})),a.current=t)},[r,n,t]),b.useLayoutEffect(()=>()=>{a.current&&(r(wae(a.current)),a.current=null)},[r]),null}function VFe(e){var{legendPayload:t}=e,r=ra(),n=Qt(ln),a=b.useRef(null);return b.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(vae(t)):a.current!==t&&r(bae({prev:a.current,next:t})),a.current=t)},[r,n,t]),b.useLayoutEffect(()=>()=>{a.current&&(r(wae(a.current)),a.current=null)},[r]),null}var QD,qFe=()=>{var[e]=b.useState(()=>qw("uid-"));return e},WFe=(QD=i4.useId)!==null&&QD!==void 0?QD:qFe;function YFe(e,t){var r=WFe();return t||(e?"".concat(e,"-").concat(r):r)}var GFe=b.createContext(void 0),poe=e=>{var{id:t,type:r,children:n}=e,a=YFe("recharts-".concat(r),t);return b.createElement(GFe.Provider,{value:a},n(a))},KFe={cartesianItems:[],polarItems:[]},moe=Tl({name:"graphicalItems",initialState:KFe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:va()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=eu(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:va()},removeCartesianGraphicalItem:{reducer(e,t){var r=eu(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:va()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:va()},removePolarGraphicalItem:{reducer(e,t){var r=eu(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:va()}}}),{addCartesianGraphicalItem:XFe,replaceCartesianGraphicalItem:JFe,removeCartesianGraphicalItem:QFe,addPolarGraphicalItem:ZFe,removePolarGraphicalItem:e7e}=moe.actions,t7e=moe.reducer,r7e=e=>{var t=ra(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(XFe(e)):r.current!==e&&t(JFe({prev:r.current,next:e})),r.current=e},[t,e]),b.useLayoutEffect(()=>()=>{r.current&&(t(QFe(r.current)),r.current=null)},[t]),null},n7e=b.memo(r7e);function a7e(e){var t=ra();return b.useLayoutEffect(()=>(t(ZFe(e)),()=>{t(e7e(e))}),[t,e]),null}var s7e=["key"],i7e=["onMouseEnter","onClick","onMouseLeave"],o7e=["id"],l7e=["id"];function LW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LW(Object(r),!0).forEach(function(n){c7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c7e(e,t,r){return(t=d7e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d7e(e){var t=u7e(e,"string");return typeof t=="symbol"?t:t+""}function u7e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vm.apply(null,arguments)}function KE(e,t){if(e==null)return{};var r,n,a=f7e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function f7e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function h7e(e){var t=b.useMemo(()=>AF(e.children,$b),[e.children]),r=Qt(n=>NFe(n,e.id,t));return r==null?null:b.createElement(VFe,{legendPayload:r})}var p7e=b.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:i,name:l,hide:c,tooltipType:d,id:u}=e,f={dataDefinedOnItem:n.map(p=>p.tooltipPayload),positions:n.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:r,name:iE(l,t),hide:c,type:d,color:i,unit:"",graphicalItemId:u}};return b.createElement(hoe,{tooltipEntrySettings:f})}),m7e=(e,t)=>e>t?"start":e<t?"end":"middle",g7e=(e,t,r)=>vo(typeof t=="function"?t(e):t,r,r*.8),x7e=(e,t,r)=>{var{top:n,left:a,width:s,height:i}=t,l=Eae(s,i),c=a+vo(e.cx,s,s/2),d=n+vo(e.cy,i,i/2),u=vo(e.innerRadius,l,0),f=g7e(r,e.outerRadius,l),p=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:c,cy:d,innerRadius:u,outerRadius:f,maxRadius:p}},y7e=(e,t)=>{var r=gi(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function v7e(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var b7e=(e,t)=>{if(b.isValidElement(e))return b.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ur("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=KE(t,s7e);return b.createElement(fI,Vm({},a,{type:"linear",className:r}))},w7e=(e,t,r)=>{if(b.isValidElement(e))return b.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),b.isValidElement(n)))return n;var a=ur("recharts-pie-label-text",v7e(e));return b.createElement(LE,Vm({},t,{alignmentBaseline:"middle",className:a}),n)};function N7e(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:i}=r;if(!n||!a||!t)return null;var l=au(r),c=Vw(a),d=Vw(s),u=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((p,h)=>{var m=(p.startAngle+p.endAngle)/2,g=Ms(p.cx,p.cy,p.outerRadius+u,m),x=qa(qa(qa(qa({},l),p),{},{stroke:"none"},c),{},{index:h,textAnchor:m7e(g.x,p.cx)},g),y=qa(qa(qa(qa({},l),p),{},{fill:"none",stroke:p.fill},d),{},{index:h,points:[Ms(p.cx,p.cy,p.outerRadius,m),g],key:"line"});return b.createElement(hu,{zIndex:Yi.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(h)},b.createElement(Go,null,s&&b7e(s,y),w7e(a,x,fa(p,i))))});return b.createElement(Go,{className:"recharts-pie-labels"},f)}function S7e(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?b.createElement(aoe,{label:a}):b.createElement(N7e,{sectors:t,props:r,showLabels:n})}function j7e(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:i}=e,l=Qt(ex),c=Qt(yF),d=Qt($8e),{onMouseEnter:u,onClick:f,onMouseLeave:p}=a,h=KE(a,i7e),m=EF(u,a.dataKey,i),g=TF(p),x=DF(f,a.dataKey,i);return t==null||t.length===0?null:b.createElement(b.Fragment,null,t.map((y,v)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&t.length!==1)return null;var w=d==null||d===i,N=String(v)===l&&(c==null||a.dataKey===c)&&w,C=l?n:null,_=r&&N?r:C,S=qa(qa({},y),{},{stroke:y.stroke,tabIndex:-1,[tae]:v,[rae]:i});return b.createElement(Go,Vm({key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(v),tabIndex:-1,className:"recharts-pie-sector"},oS(h,y,v),{onMouseEnter:m(y,v),onMouseLeave:g(y,v),onClick:x(y,v)}),b.createElement(foe,Vm({option:s??_,index:v,shapeType:"sector",isActive:N},S)))}))}function _7e(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:i,startAngle:l,endAngle:c,dataKey:d,nameKey:u,tooltipType:f}=r,p=Math.abs(r.minAngle),h=y7e(l,c),m=Math.abs(h),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,x=n.filter(_=>fa(_,d,0)!==0).length,y=(m>=360?x:x-1)*g,v=m-x*p-y,w=n.reduce((_,S)=>{var k=fa(S,d,0);return _+(Kt(k)?k:0)},0),N;if(w>0){var C;N=n.map((_,S)=>{var k=fa(_,d,0),A=fa(_,u,S),O=x7e(r,s,_),D=(Kt(k)?k:0)/w,M,I=qa(qa({},_),a&&a[S]&&a[S].props);S?M=C.endAngle+gi(h)*g*(k!==0?1:0):M=l;var z=M+gi(h)*((k!==0?p:0)+D*v),Y=(M+z)/2,X=(O.innerRadius+O.outerRadius)/2,V=[{name:A,value:k,payload:I,dataKey:d,type:f,graphicalItemId:r.id}],G=Ms(O.cx,O.cy,X,Y);return C=qa(qa(qa(qa({},r.presentationProps),{},{percent:D,cornerRadius:typeof i=="string"?parseFloat(i):i,name:A,tooltipPayload:V,midAngle:Y,middleRadius:X,tooltipPosition:G},I),O),{},{value:k,dataKey:d,startAngle:M,endAngle:z,payload:I,paddingAngle:gi(h)*g}),C})}return N}function k7e(e){var{showLabels:t,sectors:r,children:n}=e,a=b.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return b.createElement(iFe,{value:t?a:void 0},n)}function C7e(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:s,animationBegin:i,animationDuration:l,animationEasing:c,activeShape:d,inactiveShape:u,onAnimationStart:f,onAnimationEnd:p}=t,h=yE(t,"recharts-pie-"),m=r.current,[g,x]=b.useState(!1),y=b.useCallback(()=>{typeof p=="function"&&p(),x(!1)},[p]),v=b.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return b.createElement(k7e,{showLabels:!g,sectors:a},b.createElement(xE,{animationId:h,begin:i,duration:l,isActive:s,easing:c,onAnimationStart:v,onAnimationEnd:y,key:h},w=>{var N=[],C=a&&a[0],_=C==null?void 0:C.startAngle;return a==null||a.forEach((S,k)=>{var A=m&&m[k],O=k>0?Xg(S,"paddingAngle",0):0;if(A){var D=Ks(A.endAngle-A.startAngle,S.endAngle-S.startAngle,w),M=qa(qa({},S),{},{startAngle:_+O,endAngle:_+D+O});N.push(M),_=M.endAngle}else{var{endAngle:I,startAngle:z}=S,Y=Ks(0,I-z,w),X=qa(qa({},S),{},{startAngle:_+O,endAngle:_+Y+O});N.push(X),_=X.endAngle}}),r.current=N,b.createElement(Go,null,b.createElement(j7e,{sectors:N,activeShape:d,inactiveShape:u,allOtherPieProps:t,shape:t.shape,id:n}))}),b.createElement(S7e,{showLabels:!g,sectors:a,props:t}),t.children)}var A7e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Yi.area};function E7e(e){var{id:t}=e,r=KE(e,o7e),{hide:n,className:a,rootTabIndex:s}=e,i=b.useMemo(()=>AF(e.children,$b),[e.children]),l=Qt(u=>SFe(u,t,i)),c=b.useRef(null),d=ur("recharts-pie",a);return n||l==null?(c.current=null,b.createElement(Go,{tabIndex:s,className:d})):b.createElement(hu,{zIndex:e.zIndex},b.createElement(p7e,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),b.createElement(Go,{tabIndex:s,className:d},b.createElement(C7e,{props:qa(qa({},r),{},{sectors:l}),previousSectorsRef:c,id:t})))}function goe(e){var t=Ci(e,A7e),{id:r}=t,n=KE(t,l7e),a=au(n);return b.createElement(poe,{id:r,type:"pie"},s=>b.createElement(b.Fragment,null,b.createElement(a7e,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),b.createElement(h7e,Vm({},n,{id:s})),b.createElement(E7e,Vm({},n,{id:s}))))}goe.displayName="Pie";function IW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IW(Object(r),!0).forEach(function(n){T7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T7e(e,t,r){return(t=D7e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D7e(e){var t=M7e(e,"string");return typeof t=="symbol"?t:t+""}function M7e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xoe=0,O7e={xAxis:{},yAxis:{},zAxis:{}},yoe=Tl({name:"cartesianAxis",initialState:O7e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:va()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:va()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:va()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:va()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:va()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:va()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:va()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:va()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:va()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var i=[...s,n].slice(-3);e.yAxis[r]=FW(FW({},e.yAxis[r]),{},{width:n,widthHistory:i})}}}}),{addXAxis:P7e,replaceXAxis:R7e,removeXAxis:L7e,addYAxis:I7e,replaceYAxis:F7e,removeYAxis:z7e,addZAxis:oot,replaceZAxis:lot,removeZAxis:cot,updateYAxisWidth:B7e}=yoe.actions,H7e=yoe.reducer,$7e=Ye([ei],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),U7e=Ye([$7e,Qh,Zh],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),voe=()=>Qt(U7e),zW=(e,t,r)=>{var n=r??e;if(!_i(n))return vo(n,t,0)},V7e=(e,t,r)=>{var n={},a=e.filter(AE),s=e.filter(d=>d.stackId==null),i=a.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),n),l=Object.entries(i).map(d=>{var[u,f]=d,p=f.map(m=>m.dataKey),h=zW(t,r,f[0].barSize);return{stackId:u,dataKeys:p,barSize:h}}),c=s.map(d=>{var u=[d.dataKey].filter(p=>p!=null),f=zW(t,r,d.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...l,...c]};function BW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BW(Object(r),!0).forEach(function(n){q7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q7e(e,t,r){return(t=W7e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W7e(e){var t=Y7e(e,"string");return typeof t=="symbol"?t:t+""}function Y7e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G7e(e,t,r,n,a){var s=n.length;if(!(s<1)){var i=vo(e,r,0,!0),l,c=[];if(Oa(n[0].barSize)){var d=!1,u=r/s,f=n.reduce((y,v)=>y+(v.barSize||0),0);f+=(s-1)*i,f>=r&&(f-=(s-1)*i,i=0),f>=r&&u>0&&(d=!0,u*=.9,f=s*u);var p=(r-f)/2>>0,h={offset:p-i,size:0};l=n.reduce((y,v)=>{var w,N={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:h.offset+h.size+i,size:d?u:(w=v.barSize)!==null&&w!==void 0?w:0}},C=[...y,N];return h=C[C.length-1].position,C},c)}else{var m=vo(t,r,0,!0);r-2*m-(s-1)*i<=0&&(i=0);var g=(r-2*m-(s-1)*i)/s;g>1&&(g>>=0);var x=Oa(a)?Math.min(g,a):g;l=n.reduce((y,v,w)=>[...y,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:m+(g+i)*w+(g-x)/2,size:x}}],c)}return l}}var K7e=(e,t,r,n,a,s,i)=>{var l=_i(i)?t:i,c=G7e(r,n,a!==s?a:s,e,l);return a!==s&&c!=null&&(c=c.map(d=>b5(b5({},d),{},{position:b5(b5({},d.position),{},{offset:d.position.offset-a/2})}))),c},X7e=(e,t)=>{var r=VI(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(i=>i.key===r)}}}};function J7e(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Oa(e.zIndex)?e.zIndex:t}var boe=e=>{var{chartData:t}=e,r=ra(),n=Dl();return b.useEffect(()=>n?()=>{}:(r(nW(t)),()=>{r(nW(void 0))}),[t,r,n]),null},HW={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},woe=Tl({name:"brush",initialState:HW,reducers:{setBrushSettings(e,t){return t.payload==null?HW:t.payload}}}),{setBrushSettings:dot}=woe.actions,Q7e=woe.reducer;function Z7e(e,t,r){return(t=eze(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eze(e){var t=tze(e,"string");return typeof t=="symbol"?t:t+""}function tze(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class MF{static create(t){return new MF(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}Z7e(MF,"EPS",1e-4);function rze(e){return(e%180+180)%180}var nze=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=rze(a),i=s*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},aze={dots:[],areas:[],lines:[]},Noe=Tl({name:"referenceElements",initialState:aze,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=eu(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=eu(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=eu(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:uot,removeDot:fot,addArea:hot,removeArea:pot,addLine:mot,removeLine:got}=Noe.actions,sze=Noe.reducer,ize=b.createContext(void 0),oze=e=>{var{children:t}=e,[r]=b.useState("".concat(qw("recharts"),"-clip")),n=voe();if(n==null)return null;var{x:a,y:s,width:i,height:l}=n;return b.createElement(ize.Provider,{value:r},b.createElement("defs",null,b.createElement("clipPath",{id:r},b.createElement("rect",{x:a,y:s,height:l,width:i}))),t)};function Soe(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function lze(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return nze(n,r)}function cze(e,t,r){var n=r==="width",{x:a,y:s,width:i,height:l}=e;return t===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function sN(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function dze(e,t){return Soe(e,t+1)}function uze(e,t,r,n,a){for(var s=(n||[]).slice(),{start:i,end:l}=t,c=0,d=1,u=i,f=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:Soe(n,d)};var g=c,x,y=()=>(x===void 0&&(x=r(m,g)),x),v=m.coordinate,w=c===0||sN(e,v,y,u,l);w||(c=0,u=i,d+=1),w&&(u=v+e*(y()/2+a),c+=d)},p;d<=s.length;)if(p=f(),p)return p.v;return[]}function fze(e,t,r,n,a){var s=(n||[]).slice(),i=s.length;if(i===0)return[];for(var{start:l,end:c}=t,d=1;d<=i;d++){for(var u=(i-1)%d,f=l,p=!0,h=function(){var v=n[m],w=m,N,C=()=>(N===void 0&&(N=r(v,w)),N),_=v.coordinate,S=m===u||sN(e,_,C,f,c);if(!S)return p=!1,1;S&&(f=_+e*(C()/2+a))},m=u;m<i&&!h();m+=d);if(p){for(var g=[],x=u;x<i;x+=d)g.push(n[x]);return g}}return[]}function $W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$W(Object(r),!0).forEach(function(n){hze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$W(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hze(e,t,r){return(t=pze(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pze(e){var t=mze(e,"string");return typeof t=="symbol"?t:t+""}function mze(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gze(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,{start:l}=t,{end:c}=t,d=function(p){var h=s[p],m,g=()=>(m===void 0&&(m=r(h,p)),m);if(p===i-1){var x=e*(h.coordinate+e*g()/2-c);s[p]=h=co(co({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate})}else s[p]=h=co(co({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var y=sN(e,h.tickCoord,g,l,c);y&&(c=h.tickCoord-e*(g()/2+a),s[p]=co(co({},h),{},{isShow:!0}))}},u=i-1;u>=0;u--)d(u);return s}function xze(e,t,r,n,a,s){var i=(n||[]).slice(),l=i.length,{start:c,end:d}=t;if(s){var u=n[l-1],f=r(u,l-1),p=e*(u.coordinate+e*f/2-d);if(i[l-1]=u=co(co({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate}),u.tickCoord!=null){var h=sN(e,u.tickCoord,()=>f,c,d);h&&(d=u.tickCoord-e*(f/2+a),i[l-1]=co(co({},u),{},{isShow:!0}))}}for(var m=s?l-1:l,g=function(v){var w=i[v],N,C=()=>(N===void 0&&(N=r(w,v)),N);if(v===0){var _=e*(w.coordinate-e*C()/2-c);i[v]=w=co(co({},w),{},{tickCoord:_<0?w.coordinate-_*e:w.coordinate})}else i[v]=w=co(co({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var S=sN(e,w.tickCoord,C,c,d);S&&(c=w.tickCoord+e*(C()/2+a),i[v]=co(co({},w),{},{isShow:!0}))}},x=0;x<m;x++)g(x);return i}function OF(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:i,orientation:l,interval:c,tickFormatter:d,unit:u,angle:f}=e;if(!a||!a.length||!n)return[];if(Kt(c)||gE.isSsr){var p;return(p=dze(a,Kt(c)?c:0))!==null&&p!==void 0?p:[]}var h=[],m=l==="top"||l==="bottom"?"width":"height",g=u&&m==="width"?H2(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(w,N)=>{var C=typeof d=="function"?d(w.value,N):w.value;return m==="width"?lze(H2(C,{fontSize:t,letterSpacing:r}),g,f):H2(C,{fontSize:t,letterSpacing:r})[m]},y=a.length>=2?gi(a[1].coordinate-a[0].coordinate):1,v=cze(s,y,m);return c==="equidistantPreserveStart"?uze(y,v,x,a,i):c==="equidistantPreserveEnd"?fze(y,v,x,a,i):(c==="preserveStart"||c==="preserveStartEnd"?h=xze(y,v,x,a,i,c==="preserveStartEnd"):h=gze(y,v,x,a,i),h.filter(w=>w.isShow))}var yze=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,i=0;if(t){Array.from(t).forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>i&&(i=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+s,d=i+c+l+(r?n:0);return Math.round(d)}return 0},vze=["axisLine","width","height","className","hide","ticks","axisType"];function bze(e,t){if(e==null)return{};var r,n,a=wze(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wze(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tx.apply(null,arguments)}function UW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UW(Object(r),!0).forEach(function(n){Nze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nze(e,t,r){return(t=Sze(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sze(e){var t=jze(e,"string");return typeof t=="symbol"?t:t+""}function jze(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nh={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Yi.axis};function _ze(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:i,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var d=ks(ks(ks({},c),au(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!i||s==="bottom"&&i);d=ks(ks({},d),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var f=+(s==="left"&&!i||s==="right"&&i);d=ks(ks({},d),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return b.createElement("line",tx({},d,{className:ur("recharts-cartesian-axis-line",Xg(l,"className"))}))}function kze(e,t,r,n,a,s,i,l,c){var d,u,f,p,h,m,g=l?-1:1,x=e.tickSize||i,y=Kt(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":d=u=e.coordinate,p=r+ +!l*a,f=p-g*x,m=f-g*c,h=y;break;case"left":f=p=e.coordinate,u=t+ +!l*n,d=u-g*x,h=d-g*c,m=y;break;case"right":f=p=e.coordinate,u=t+ +l*n,d=u+g*x,h=d+g*c,m=y;break;default:d=u=e.coordinate,p=r+ +l*a,f=p+g*x,m=f+g*c,h=y;break}return{line:{x1:d,y1:f,x2:u,y2:p},tick:{x:h,y:m}}}function Cze(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Aze(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Eze(e){var{option:t,tickProps:r,value:n}=e,a,s=ur(r.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))a=b.cloneElement(t,ks(ks({},r),{},{className:s}));else if(typeof t=="function")a=t(ks(ks({},r),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(i=ur(i,t==null?void 0:t.className)),a=b.createElement(LE,tx({},r,{className:i}),n)}return a}var Tze=b.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:i,unit:l,padding:c,tickTextProps:d,orientation:u,mirror:f,x:p,y:h,width:m,height:g,tickSize:x,tickMargin:y,fontSize:v,letterSpacing:w,getTicksConfig:N,events:C,axisType:_}=e,S=OF(ks(ks({},N),{},{ticks:r}),v,w),k=Cze(u,f),A=Aze(u,f),O=au(N),D=Vw(n),M={};typeof a=="object"&&(M=a);var I=ks(ks({},O),{},{fill:"none"},M),z=S.map(V=>ks({entry:V},kze(V,p,h,m,g,u,x,f,y))),Y=z.map(V=>{var{entry:G,line:J}=V;return b.createElement(Go,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},a&&b.createElement("line",tx({},I,J,{className:ur("recharts-cartesian-axis-tick-line",Xg(a,"className"))})))}),X=z.map((V,G)=>{var{entry:J,tick:B}=V,q=ks(ks(ks(ks({textAnchor:k,verticalAnchor:A},O),{},{stroke:"none",fill:s},D),B),{},{index:G,payload:J,visibleTicksCount:S.length,tickFormatter:i,padding:c},d);return b.createElement(Go,tx({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},oS(C,J,G)),n&&b.createElement(Eze,{option:n,tickProps:q,value:"".concat(typeof i=="function"?i(J.value,G):J.value).concat(l||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(_,"-ticks")},X.length>0&&b.createElement(hu,{zIndex:Yi.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(_,"-tick-labels"),ref:t},X)),Y.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(_,"-tick-lines")},Y))}),Dze=b.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:i,ticks:l,axisType:c}=e,d=bze(e,vze),[u,f]=b.useState(""),[p,h]=b.useState(""),m=b.useRef(null);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return yze({ticks:m.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=b.useCallback(x=>{if(x){var y=x.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=y;var v=y[0];if(v){var w=window.getComputedStyle(v),N=w.fontSize,C=w.letterSpacing;(N!==u||C!==p)&&(f(N),h(C))}}},[u,p]);return i||n!=null&&n<=0||a!=null&&a<=0?null:b.createElement(hu,{zIndex:e.zIndex},b.createElement(Go,{className:ur("recharts-cartesian-axis",s)},b.createElement(_ze,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:au(e)}),b.createElement(Tze,{ref:g,axisType:c,events:d,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),b.createElement($Ie,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},b.createElement(QIe,{label:e.label,labelRef:e.labelRef}),e.children)))}),PF=b.forwardRef((e,t)=>{var r=Ci(e,Nh);return b.createElement(Dze,tx({},r,{ref:t}))});PF.displayName="CartesianAxis";var Mze=["x1","y1","x2","y2","key"],Oze=["offset"],Pze=["xAxisId","yAxisId"],Rze=["xAxisId","yAxisId"];function VW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VW(Object(r),!0).forEach(function(n){Lze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lze(e,t,r){return(t=Ize(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ize(e){var t=Fze(e,"string");return typeof t=="symbol"?t:t+""}function Fze(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ng(){return ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ng.apply(null,arguments)}function IC(e,t){if(e==null)return{};var r,n,a=zze(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zze(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bze=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:i,ry:l}=e;return b.createElement("rect",{x:n,y:a,ry:l,width:s,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function joe(e){var{option:t,lineItemProps:r}=e,n;if(b.isValidElement(t))n=b.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:i,x2:l,y2:c,key:d}=r,u=IC(r,Mze),f=(a=au(u))!==null&&a!==void 0?a:{},{offset:p}=f,h=IC(f,Oze);n=b.createElement("line",ng({},h,{x1:s,y1:i,x2:l,y2:c,fill:"none",key:d}))}return n}function Hze(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,l=IC(e,Pze),c=a.map((d,u)=>{var f=mo(mo({},l),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(u),index:u});return b.createElement(joe,{key:"line-".concat(u),option:n,lineItemProps:f})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function $ze(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,l=IC(e,Rze),c=a.map((d,u)=>{var f=mo(mo({},l),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(u),index:u});return b.createElement(joe,{option:n,lineItemProps:f,key:"line-".concat(u)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Uze(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:i,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var d=l.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==d[0]&&d.unshift(0);var u=d.map((f,p)=>{var h=!d[p+1],m=h?a+i-f:d[p+1]-f;if(m<=0)return null;var g=p%t.length;return b.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:m,width:s,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Vze(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:i,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==d[0]&&d.unshift(0);var u=d.map((f,p)=>{var h=!d[p+1],m=h?a+i-f:d[p+1]-f;if(m<=0)return null;var g=p%r.length;return b.createElement("rect",{key:"react-".concat(p),x:f,y:s,width:m,height:l,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var qze=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return Qne(OF(mo(mo(mo({},Nh),r),{},{ticks:Zne(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},Wze=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return Qne(OF(mo(mo(mo({},Nh),r),{},{ticks:Zne(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},Yze={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Yi.grid};function _oe(e){var t=lI(),r=cI(),n=uae(),a=mo(mo({},Ci(e,Yze)),{},{x:Kt(e.x)?e.x:n.left,y:Kt(e.y)?e.y:n.top,width:Kt(e.width)?e.width:n.width,height:Kt(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:i,x:l,y:c,width:d,height:u,syncWithTicks:f,horizontalValues:p,verticalValues:h}=a,m=Dl(),g=Qt(A=>Wq(A,"xAxis",s,m)),x=Qt(A=>Wq(A,"yAxis",i,m));if(!Xu(d)||!Xu(u)||!Kt(l)||!Kt(c))return null;var y=a.verticalCoordinatesGenerator||qze,v=a.horizontalCoordinatesGenerator||Wze,{horizontalPoints:w,verticalPoints:N}=a;if((!w||!w.length)&&typeof v=="function"){var C=p&&p.length,_=v({yAxis:x?mo(mo({},x),{},{ticks:C?p:x.ticks}):void 0,width:t??d,height:r??u,offset:n},C?!0:f);fC(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(w=_)}if((!N||!N.length)&&typeof y=="function"){var S=h&&h.length,k=y({xAxis:g?mo(mo({},g),{},{ticks:S?h:g.ticks}):void 0,width:t??d,height:r??u,offset:n},S?!0:f);fC(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(N=k)}return b.createElement(hu,{zIndex:a.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(Bze,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),b.createElement(Uze,ng({},a,{horizontalPoints:w})),b.createElement(Vze,ng({},a,{verticalPoints:N})),b.createElement(Hze,ng({},a,{offset:n,horizontalPoints:w,xAxis:g,yAxis:x})),b.createElement($ze,ng({},a,{offset:n,verticalPoints:N,xAxis:g,yAxis:x}))))}_oe.displayName="CartesianGrid";var Gze={},koe=Tl({name:"errorBars",initialState:Gze,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:xot,replaceErrorBar:yot,removeErrorBar:vot}=koe.actions,Kze=koe.reducer,Xze=["children"];function Jze(e,t){if(e==null)return{};var r,n,a=Qze(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Qze(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zze={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},e9e=b.createContext(Zze);function t9e(e){var{children:t}=e,r=Jze(e,Xze);return b.createElement(e9e.Provider,{value:r},t)}function Coe(e,t){var r,n,a=Qt(d=>rp(d,e)),s=Qt(d=>np(d,t)),i=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ii.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:oi.allowDataOverflow,c=i||l;return{needClip:c,needClipX:i,needClipY:l}}function r9e(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=voe(),{needClipX:s,needClipY:i,needClip:l}=Coe(t,r);if(!l||!a)return null;var{x:c,y:d,width:u,height:f}=a;return b.createElement("clipPath",{id:"clipPath-".concat(n)},b.createElement("rect",{x:s?c:c-u/2,y:i?d:d-f/2,width:s?u:u*2,height:i?f:f*2}))}var n9e={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CS=b;function a9e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var s9e=typeof Object.is=="function"?Object.is:a9e,i9e=CS.useSyncExternalStore,o9e=CS.useRef,l9e=CS.useEffect,c9e=CS.useMemo,d9e=CS.useDebugValue;n9e.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=o9e(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=c9e(function(){function c(h){if(!d){if(d=!0,u=h,h=n(h),a!==void 0&&i.hasValue){var m=i.value;if(a(m,h))return f=m}return f=h}if(m=f,s9e(u,h))return m;var g=n(h);return a!==void 0&&a(m,g)?(u=h,m):(u=h,f=g)}var d=!1,u,f,p=r===void 0?null:r;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,r,n,a]);var l=i9e(e,s[0],s[1]);return l9e(function(){i.hasValue=!0,i.value=l},[l]),d9e(l),l};function u9e(e){e()}function f9e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){u9e(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var qW={notify(){},get:()=>[]};function h9e(e,t){let r,n=qW,a=0,s=!1;function i(g){u();const x=n.subscribe(g);let y=!1;return()=>{y||(y=!0,x(),f())}}function l(){n.notify()}function c(){m.onStateChange&&m.onStateChange()}function d(){return s}function u(){a++,r||(r=e.subscribe(c),n=f9e())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=qW)}function p(){s||(s=!0,u())}function h(){s&&(s=!1,f())}const m={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:p,tryUnsubscribe:h,getListeners:()=>n};return m}var p9e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m9e=p9e(),g9e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",x9e=g9e(),y9e=()=>m9e||x9e?b.useLayoutEffect:b.useEffect,v9e=y9e();function WW(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function b9e(e,t){if(WW(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!WW(e[r[a]],t[r[a]]))return!1;return!0}var ZD=Symbol.for("react-redux-context"),eM=typeof globalThis<"u"?globalThis:{};function w9e(){if(!b.createContext)return{};const e=eM[ZD]??(eM[ZD]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var N9e=w9e();function S9e(e){const{children:t,context:r,serverState:n,store:a}=e,s=b.useMemo(()=>{const c=h9e(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=b.useMemo(()=>a.getState(),[a]);v9e(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=r||N9e;return b.createElement(l.Provider,{value:s},t)}var j9e=S9e,_9e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function k9e(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function RF(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(_9e.has(n)){if(e[n]==null&&t[n]==null)continue;if(!b9e(e[n],t[n]))return!1}else if(!k9e(e[n],t[n]))return!1;return!0}function _x(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:xoe}function kx(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:xoe}var C9e="Invariant failed";function A9e(e,t){throw new Error(C9e)}function kP(){return kP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kP.apply(null,arguments)}function FC(e){return b.createElement(foe,kP({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var E9e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Kt(t))return t;var s=Kt(n)||_i(n);return s?t(n,a):(s||A9e(),r)}},T9e=(e,t,r)=>r,D9e=(e,t)=>t,AS=Ye([YI,D9e],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),M9e=Ye([AS],e=>e==null?void 0:e.maxBarSize),O9e=(e,t,r,n)=>n,P9e=Ye([ln,YI,_x,kx,T9e],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),R9e=(e,t,r)=>{var n=ln(e),a=_x(e,t),s=kx(e,t);if(!(a==null||s==null))return n==="horizontal"?vP(e,"yAxis",s,r):vP(e,"xAxis",a,r)},L9e=(e,t)=>{var r=ln(e),n=_x(e,t),a=kx(e,t);if(!(n==null||a==null))return r==="horizontal"?qq(e,"xAxis",n):qq(e,"yAxis",a)},I9e=Ye([P9e,qPe,L9e],V7e),F9e=(e,t,r)=>{var n,a,s=AS(e,t);if(s!=null){var i=_x(e,t),l=kx(e,t);if(!(i==null||l==null)){var c=ln(e),d=Mse(e),{maxBarSize:u}=s,f=_i(u)?d:u,p,h;return c==="horizontal"?(p=eb(e,"xAxis",i,r),h=Zv(e,"xAxis",i,r)):(p=eb(e,"yAxis",l,r),h=Zv(e,"yAxis",l,r)),(n=(a=uC(p,h,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0}}},Aoe=(e,t,r)=>{var n=ln(e),a=_x(e,t),s=kx(e,t);if(!(a==null||s==null)){var i,l;return n==="horizontal"?(i=eb(e,"xAxis",a,r),l=Zv(e,"xAxis",a,r)):(i=eb(e,"yAxis",s,r),l=Zv(e,"yAxis",s,r)),uC(i,l)}},z9e=Ye([I9e,Mse,VPe,Ose,F9e,Aoe,M9e],K7e),B9e=(e,t,r)=>{var n=_x(e,t);if(n!=null)return eb(e,"xAxis",n,r)},H9e=(e,t,r)=>{var n=kx(e,t);if(n!=null)return eb(e,"yAxis",n,r)},$9e=(e,t,r)=>{var n=_x(e,t);if(n!=null)return Zv(e,"xAxis",n,r)},U9e=(e,t,r)=>{var n=kx(e,t);if(n!=null)return Zv(e,"yAxis",n,r)},V9e=Ye([z9e,AS],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),q9e=Ye([R9e,AS],X7e),W9e=Ye([ei,iI,B9e,H9e,$9e,U9e,V9e,ln,MPe,Aoe,q9e,AS,O9e],(e,t,r,n,a,s,i,l,c,d,u,f,p)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:g}=c;if(!(f==null||i==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||s==null||d==null)){var{data:x}=f,y;if(x!=null&&x.length>0?y=x:y=h==null?void 0:h.slice(m,g+1),y!=null)return wBe({layout:l,barSettings:f,pos:i,parentViewBox:t,bandSize:d,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:u,displayedData:y,offset:e,cells:p,dataStartIndex:m})}}),Y9e=["index"];function CP(){return CP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CP.apply(null,arguments)}function G9e(e,t){if(e==null)return{};var r,n,a=K9e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function K9e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Eoe=b.createContext(void 0),X9e=e=>{var t=b.useContext(Eoe);if(t!=null)return t.stackId;if(e!=null)return PTe(e)},J9e=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Q9e=e=>{var t=b.useContext(Eoe);if(t!=null){var{stackId:r}=t;return"url(#".concat(J9e(r,e),")")}},Z9e=e=>{var{index:t}=e,r=G9e(e,Y9e),n=Q9e(t);return b.createElement(Go,CP({className:"recharts-bar-stack-layer",clipPath:n},r))},eBe=["onMouseEnter","onMouseLeave","onClick"],tBe=["value","background","tooltipPosition"],rBe=["id"],nBe=["onMouseEnter","onClick","onMouseLeave"];function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qh.apply(null,arguments)}function YW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YW(Object(r),!0).forEach(function(n){aBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aBe(e,t,r){return(t=sBe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sBe(e){var t=iBe(e,"string");return typeof t=="symbol"?t:t+""}function iBe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zC(e,t){if(e==null)return{};var r,n,a=oBe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oBe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lBe=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:iE(r,t),payload:e}]},cBe=b.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:i,unit:l,tooltipType:c,id:d}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:iE(s,t),hide:i,type:c,color:a,unit:l,graphicalItemId:d}};return b.createElement(hoe,{tooltipEntrySettings:u})});function dBe(e){var t=Qt(ex),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:i,onMouseLeave:l,onClick:c}=s,d=zC(s,eBe),u=EF(i,n,s.id),f=TF(l),p=DF(c,n,s.id);if(!a||r==null)return null;var h=Vw(a);return b.createElement(hu,{zIndex:J7e(a,Yi.barBackground)},r.map((m,g)=>{var{value:x,background:y,tooltipPosition:v}=m,w=zC(m,tBe);if(!y)return null;var N=u(m,g),C=f(m,g),_=p(m,g),S=zo(zo(zo(zo(zo({option:a,isActive:String(g)===t},w),{},{fill:"#eee"},y),h),oS(d,m,g)),{},{onMouseEnter:N,onMouseLeave:C,onClick:_,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return b.createElement(FC,qh({key:"background-bar-".concat(g)},S))}))}function uBe(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var i={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return zo(zo({},i),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:i,fill:s.fill})});return b.createElement(sFe,{value:t?a:void 0},r)}function fBe(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:i}=e,l=Qt(ex),c=Qt(yF),d=r&&String(s)===l&&(c==null||i===c),u=d?r:t;return d?b.createElement(hu,{zIndex:Yi.activeBar},b.createElement(FC,qh({},n,{name:String(n.name)},a,{isActive:d,option:u,index:s,dataKey:i}))):b.createElement(FC,qh({},n,{name:String(n.name)},a,{isActive:d,option:u,index:s,dataKey:i}))}function hBe(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return b.createElement(FC,qh({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function pBe(e){var t,{data:r,props:n}=e,a=(t=au(n))!==null&&t!==void 0?t:{},{id:s}=a,i=zC(a,rBe),{shape:l,dataKey:c,activeBar:d}=n,{onMouseEnter:u,onClick:f,onMouseLeave:p}=n,h=zC(n,nBe),m=EF(u,c,s),g=TF(p),x=DF(f,c,s);return r?b.createElement(b.Fragment,null,r.map((y,v)=>b.createElement(Z9e,qh({index:v,key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(v),className:"recharts-bar-rectangle"},oS(h,y,v),{onMouseEnter:m(y,v),onMouseLeave:g(y,v),onClick:x(y,v)}),d?b.createElement(fBe,{shape:l,activeBar:d,baseProps:i,entry:y,index:v,dataKey:c}):b.createElement(hBe,{shape:l,baseProps:i,entry:y,index:v,dataKey:c})))):null}function mBe(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,f=r.current,p=yE(t,"recharts-bar-"),[h,m]=b.useState(!1),g=!h,x=b.useCallback(()=>{typeof d=="function"&&d(),m(!1)},[d]),y=b.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return b.createElement(uBe,{showLabels:g,rects:n},b.createElement(xE,{animationId:p,begin:i,duration:l,isActive:s,easing:c,onAnimationEnd:x,onAnimationStart:y,key:p},v=>{var w=v===1?n:n==null?void 0:n.map((N,C)=>{var _=f&&f[C];if(_)return zo(zo({},N),{},{x:Ks(_.x,N.x,v),y:Ks(_.y,N.y,v),width:Ks(_.width,N.width,v),height:Ks(_.height,N.height,v)});if(a==="horizontal"){var S=Ks(0,N.height,v),k=Ks(N.stackedBarStart,N.y,v);return zo(zo({},N),{},{y:k,height:S})}var A=Ks(0,N.width,v),O=Ks(N.stackedBarStart,N.x,v);return zo(zo({},N),{},{width:A,x:O})});return v>0&&(r.current=w??null),w==null?null:b.createElement(Go,null,b.createElement(pBe,{props:t,data:w}))}),b.createElement(aoe,{label:t.label}),t.children)}function gBe(e){var t=b.useRef(null);return b.createElement(mBe,{previousRectanglesRef:t,props:e})}var Toe=0,xBe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:fa(e,t)}};class yBe extends b.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:l,background:c,id:d}=this.props;if(t||r==null)return null;var u=ur("recharts-bar",a),f=d;return b.createElement(Go,{className:u,id:d},l&&b.createElement("defs",null,b.createElement(r9e,{clipPathId:f,xAxisId:s,yAxisId:i})),b.createElement(Go,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},b.createElement(dBe,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),b.createElement(gBe,this.props)))}}var vBe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Toe,xAxisId:0,yAxisId:0,zIndex:Yi.bar};function bBe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:f}=Coe(t,r),p=fS(),h=Dl(),m=AF(e.children,$b),g=Qt(v=>W9e(v,e.id,h,m));if(p!=="vertical"&&p!=="horizontal")return null;var x,y=g==null?void 0:g[0];return y==null||y.height==null||y.width==null?x=0:x=p==="vertical"?y.height/2:y.width/2,b.createElement(t9e,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:xBe,errorBarOffset:x},b.createElement(yBe,qh({},e,{layout:p,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function wBe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:l,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:f,offset:p,cells:h,parentViewBox:m,dataStartIndex:g}=e,x=t==="horizontal"?l:i,y=u?x.scale.domain():null,v=RTe({numericAxis:x}),w=x.scale(v);return f.map((N,C)=>{var _,S,k,A,O,D;if(u){var M=u[C+g];if(M==null)return null;_=ETe(M,y)}else _=fa(N,r),Array.isArray(_)||(_=[v,_]);var I=E9e(n,Toe)(_[1],C);if(t==="horizontal"){var z,[Y,X]=[l.scale(_[0]),l.scale(_[1])];S=nV({axis:i,ticks:c,bandSize:s,offset:a.offset,entry:N,index:C}),k=(z=X??Y)!==null&&z!==void 0?z:void 0,A=a.size;var V=Y-X;if(O=su(V)?0:V,D={x:S,y:p.top,width:A,height:p.height},Math.abs(I)>0&&Math.abs(O)<Math.abs(I)){var G=gi(O||I)*(Math.abs(I)-Math.abs(O));k-=G,O+=G}}else{var[J,B]=[i.scale(_[0]),i.scale(_[1])];if(S=J,k=nV({axis:l,ticks:d,bandSize:s,offset:a.offset,entry:N,index:C}),A=B-J,O=a.size,D={x:p.left,y:k,width:p.width,height:O},Math.abs(I)>0&&Math.abs(A)<Math.abs(I)){var q=gi(A||I)*(Math.abs(I)-Math.abs(A));A+=q}}if(S==null||k==null||A==null||O==null)return null;var T=zo(zo({},N),{},{stackedBarStart:w,x:S,y:k,width:A,height:O,value:u?_:_[1],payload:N,background:D,tooltipPosition:{x:S+A/2,y:k+O/2},parentViewBox:m},h&&h[C]&&h[C].props);return T}).filter(Boolean)}function NBe(e){var t=Ci(e,vBe),r=X9e(t.stackId),n=Dl();return b.createElement(poe,{id:t.id,type:"bar"},a=>b.createElement(b.Fragment,null,b.createElement(UFe,{legendPayload:lBe(t)}),b.createElement(cBe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),b.createElement(n7e,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),b.createElement(hu,{zIndex:t.zIndex},b.createElement(bBe,qh({},t,{id:a})))))}var Doe=b.memo(NBe,RF);Doe.displayName="Bar";var SBe=["domain","range"],jBe=["domain","range"];function GW(e,t){if(e==null)return{};var r,n,a=_Be(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _Be(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function KW(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Moe(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=GW(e,SBe),{domain:s,range:i}=t,l=GW(t,jBe);return!KW(r,s)||!KW(n,i)?!1:RF(a,l)}var kBe=["dangerouslySetInnerHTML","ticks","scale"],CBe=["id","scale"];function AP(){return AP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AP.apply(null,arguments)}function XW(e,t){if(e==null)return{};var r,n,a=ABe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ABe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function EBe(e){var t=ra(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(P7e(e)):r.current!==e&&t(R7e({prev:r.current,next:e})),r.current=e},[e,t]),b.useLayoutEffect(()=>()=>{r.current&&(t(L7e(r.current)),r.current=null)},[t]),null}var TBe=e=>{var{xAxisId:t,className:r}=e,n=Qt(iI),a=Dl(),s="xAxis",i=Qt(y=>uie(y,s,t,a)),l=Qt(y=>oie(y,t)),c=Qt(y=>$Re(y,t)),d=Qt(y=>$se(y,t));if(l==null||c==null||d==null)return null;var{dangerouslySetInnerHTML:u,ticks:f,scale:p}=e,h=XW(e,kBe),{id:m,scale:g}=d,x=XW(d,CBe);return b.createElement(PF,AP({},h,x,{x:c.x,y:c.y,width:l.width,height:l.height,className:ur("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:i,axisType:s}))},DBe={allowDataOverflow:ii.allowDataOverflow,allowDecimals:ii.allowDecimals,allowDuplicatedCategory:ii.allowDuplicatedCategory,angle:ii.angle,axisLine:Nh.axisLine,height:ii.height,hide:!1,includeHidden:ii.includeHidden,interval:ii.interval,minTickGap:ii.minTickGap,mirror:ii.mirror,orientation:ii.orientation,padding:ii.padding,reversed:ii.reversed,scale:ii.scale,tick:ii.tick,tickCount:ii.tickCount,tickLine:Nh.tickLine,tickSize:Nh.tickSize,type:ii.type,xAxisId:0},MBe=e=>{var t=Ci(e,DBe);return b.createElement(b.Fragment,null,b.createElement(EBe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),b.createElement(TBe,t))},Ooe=b.memo(MBe,Moe);Ooe.displayName="XAxis";var OBe=["dangerouslySetInnerHTML","ticks","scale"],PBe=["id","scale"];function EP(){return EP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EP.apply(null,arguments)}function JW(e,t){if(e==null)return{};var r,n,a=RBe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RBe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function LBe(e){var t=ra(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(I7e(e)):r.current!==e&&t(F7e({prev:r.current,next:e})),r.current=e},[e,t]),b.useLayoutEffect(()=>()=>{r.current&&(t(z7e(r.current)),r.current=null)},[t]),null}var IBe=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=b.useRef(null),i=b.useRef(null),l=Qt(iI),c=Dl(),d=ra(),u="yAxis",f=Qt(_=>lie(_,t)),p=Qt(_=>VRe(_,t)),h=Qt(_=>uie(_,u,t,c)),m=Qt(_=>Use(_,t));if(b.useLayoutEffect(()=>{if(!(n!=="auto"||!f||SF(a)||b.isValidElement(a)||m==null)){var _=s.current;if(_){var S=_.getCalculatedWidth();Math.round(f.width)!==Math.round(S)&&d(B7e({id:t,width:S}))}}},[h,f,d,a,t,n,m]),f==null||p==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:x,scale:y}=e,v=JW(e,OBe),{id:w,scale:N}=m,C=JW(m,PBe);return b.createElement(PF,EP({},v,C,{ref:s,labelRef:i,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:ur("recharts-".concat(u," ").concat(u),r),viewBox:l,ticks:h,axisType:u}))},FBe={allowDataOverflow:oi.allowDataOverflow,allowDecimals:oi.allowDecimals,allowDuplicatedCategory:oi.allowDuplicatedCategory,angle:oi.angle,axisLine:Nh.axisLine,hide:!1,includeHidden:oi.includeHidden,interval:oi.interval,minTickGap:oi.minTickGap,mirror:oi.mirror,orientation:oi.orientation,padding:oi.padding,reversed:oi.reversed,scale:oi.scale,tick:oi.tick,tickCount:oi.tickCount,tickLine:Nh.tickLine,tickSize:Nh.tickSize,type:oi.type,width:oi.width,yAxisId:0},zBe=e=>{var t=Ci(e,FBe);return b.createElement(b.Fragment,null,b.createElement(LBe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),b.createElement(IBe,t))},Poe=b.memo(zBe,Moe);Poe.displayName="YAxis";var BBe=(e,t)=>t,LF=Ye([BBe,ln,Bse,ri,Cie,ap,sLe,ei],fLe),IF=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},Roe=Nd("mouseClick"),Loe=dS();Loe.startListening({actionCreator:Roe,effect:(e,t)=>{var r=e.payload,n=LF(t.getState(),IF(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(a8e({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var TP=Nd("mouseMove"),Ioe=dS(),w5=null;Ioe.startListening({actionCreator:TP,effect:(e,t)=>{var r=e.payload;w5!==null&&cancelAnimationFrame(w5);var n=IF(r);w5=requestAnimationFrame(()=>{var a=t.getState(),s=fF(a,a.tooltip.settings.shared);if(s==="axis"){var i=LF(a,n);(i==null?void 0:i.activeIndex)!=null?t.dispatch(vie({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(yie())}w5=null})}});function HBe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var QW={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Foe=Tl({name:"rootProps",initialState:QW,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:QW.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),$Be=Foe.reducer,{updateOptions:UBe}=Foe.actions,zoe=Tl({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:VBe}=zoe.actions,qBe=zoe.reducer,Boe=Nd("keyDown"),Hoe=Nd("focus"),FF=dS();FF.startListening({actionCreator:Boe,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var i=hF(a,Hb(r),NS(r),_S(r)),l=i==null?-1:Number(i);if(!(!Number.isFinite(l)||l<0)){var c=ap(r);if(s==="Enter"){var d=OC(r,"axis","hover",String(a.index));t.dispatch(wP({active:!a.active,activeIndex:a.index,activeCoordinate:d}));return}var u=GRe(r),f=u==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,h=l+p*f;if(!(c==null||h>=c.length||h<0)){var m=OC(r,"axis","hover",String(h));t.dispatch(wP({active:!0,activeIndex:h.toString(),activeCoordinate:m}))}}}}}});FF.startListening({actionCreator:Hoe,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",i=OC(r,"axis","hover",String(s));t.dispatch(wP({active:!0,activeIndex:s,activeCoordinate:i}))}}}});var $c=Nd("externalEvent"),$oe=dS(),tM=new Map;$oe.startListening({actionCreator:$c,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=tM.get(a);s!==void 0&&cancelAnimationFrame(s);var i=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:V8e(l),activeDataKey:yF(l),activeIndex:ex(l),activeLabel:Tie(l),activeTooltipIndex:ex(l),isTooltipActive:q8e(l)};r(c,n)}finally{tM.delete(a)}});tM.set(a,i)}}});var WBe=Ye([zb],e=>e.tooltipItemPayloads),YBe=Ye([WBe,jS,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.graphicalItemId===n);if(a!=null){var{positions:s}=a;if(s!=null){var i=t(s,r);return i}}}),Uoe=Nd("touchMove"),Voe=dS();Voe.startListening({actionCreator:Uoe,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=fF(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var i=LF(n,IF({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(vie({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var l,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var u=d.getAttribute(tae),f=(l=d.getAttribute(rae))!==null&&l!==void 0?l:void 0,p=Bb(n).find(g=>g.id===f);if(u==null||p==null||f==null)return;var{dataKey:h}=p,m=YBe(n,u,f);t.dispatch(xie({activeDataKey:h,activeIndex:u,activeCoordinate:m,activeGraphicalItemId:f}))}}}});var GBe=Sne({brush:Q7e,cartesianAxis:H7e,chartData:$Le,errorBars:Kze,graphicalItems:t7e,layout:STe,legend:CDe,options:ILe,polarAxis:gFe,polarOptions:qBe,referenceElements:sze,rootProps:$Be,tooltip:s8e,zIndex:kLe}),KBe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return G3e({reducer:GBe,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([Loe.middleware,Ioe.middleware,FF.middleware,$oe.middleware,Voe.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(Fne({type:"raf"}))},devTools:{serialize:{replacer:HBe},name:"recharts-".concat(r)}})};function qoe(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Dl(),s=b.useRef(null);if(a)return r;s.current==null&&(s.current=KBe(t,n));var i=KL;return b.createElement(j9e,{context:i,store:s.current},r)}function XBe(e){var{layout:t,margin:r}=e,n=ra(),a=Dl();return b.useEffect(()=>{a||(n(bTe(t)),n(vTe(r)))},[n,a,t,r]),null}var Woe=b.memo(XBe,RF);function Yoe(e){var t=ra();return b.useEffect(()=>{t(UBe(e))},[t,e]),null}function ZW(e){var{zIndex:t,isPanorama:r}=e,n=b.useRef(null),a=ra();return b.useLayoutEffect(()=>(n.current&&a(jLe({zIndex:t,element:n.current,isPanorama:r})),()=>{a(_Le({zIndex:t,isPanorama:r}))}),[a,t,r]),b.createElement("g",{tabIndex:-1,ref:n})}function eY(e){var{children:t,isPanorama:r}=e,n=Qt(pLe);if(!n||n.length===0)return t;var a=n.filter(i=>i<0),s=n.filter(i=>i>0);return b.createElement(b.Fragment,null,a.map(i=>b.createElement(ZW,{key:i,zIndex:i,isPanorama:r})),t,s.map(i=>b.createElement(ZW,{key:i,zIndex:i,isPanorama:r})))}var JBe=["children"];function QBe(e,t){if(e==null)return{};var r,n,a=ZBe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZBe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BC(){return BC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BC.apply(null,arguments)}var eHe={width:"100%",height:"100%",display:"block"},tHe=b.forwardRef((e,t)=>{var r=lI(),n=cI(),a=Sae();if(!Xu(r)||!Xu(n))return null;var{children:s,otherAttributes:i,title:l,desc:c}=e,d,u;return i!=null&&(typeof i.tabIndex=="number"?d=i.tabIndex:d=a?0:void 0,typeof i.role=="string"?u=i.role:u=a?"application":void 0),b.createElement(OL,BC({},i,{title:l,desc:c,role:u,tabIndex:d,width:r,height:n,style:eHe,ref:t}),s)}),rHe=e=>{var{children:t}=e,r=Qt(dE);if(!r)return null;var{width:n,height:a,y:s,x:i}=r;return b.createElement(OL,{width:n,height:a,x:i,y:s},t)},tY=b.forwardRef((e,t)=>{var{children:r}=e,n=QBe(e,JBe),a=Dl();return a?b.createElement(rHe,null,b.createElement(eY,{isPanorama:!0},r)):b.createElement(tHe,BC({ref:t},n),b.createElement(eY,{isPanorama:!1},r))});function nHe(){var e=ra(),[t,r]=b.useState(null),n=Qt(HTe);return b.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;Oa(s)&&s!==n&&e(NTe(s))}},[t,e,n]),r}function rY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aHe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rY(Object(r),!0).forEach(function(n){sHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sHe(e,t,r){return(t=iHe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iHe(e){var t=oHe(e,"string");return typeof t=="symbol"?t:t+""}function oHe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rx.apply(null,arguments)}var lHe=()=>(JLe(),null);function HC(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var cHe=b.forwardRef((e,t)=>{var r,n,a=b.useRef(null),[s,i]=b.useState({containerWidth:HC((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:HC((n=e.style)===null||n===void 0?void 0:n.height)}),l=b.useCallback((d,u)=>{i(f=>{var p=Math.round(d),h=Math.round(u);return f.containerWidth===p&&f.containerHeight===h?f:{containerWidth:p,containerHeight:h}})},[]),c=b.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:u,height:f}=d.getBoundingClientRect();l(u,f);var p=m=>{var{width:g,height:x}=m[0].contentRect;l(g,x)},h=new ResizeObserver(p);h.observe(d),a.current=h}},[t,l]);return b.useEffect(()=>()=>{var d=a.current;d!=null&&d.disconnect()},[l]),b.createElement(b.Fragment,null,b.createElement(fE,{width:s.containerWidth,height:s.containerHeight}),b.createElement("div",rx({ref:c},e)))}),dHe=b.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=b.useState({containerWidth:HC(r),containerHeight:HC(n)}),i=b.useCallback((c,d)=>{s(u=>{var f=Math.round(c),p=Math.round(d);return u.containerWidth===f&&u.containerHeight===p?u:{containerWidth:f,containerHeight:p}})},[]),l=b.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:d,height:u}=c.getBoundingClientRect();i(d,u)}},[t,i]);return b.createElement(b.Fragment,null,b.createElement(fE,{width:a.containerWidth,height:a.containerHeight}),b.createElement("div",rx({ref:l},e)))}),uHe=b.forwardRef((e,t)=>{var{width:r,height:n}=e;return b.createElement(b.Fragment,null,b.createElement(fE,{width:r,height:n}),b.createElement("div",rx({ref:t},e)))}),fHe=b.forwardRef((e,t)=>{var{width:r,height:n}=e;return zh(r)||zh(n)?b.createElement(dHe,rx({},e,{ref:t})):b.createElement(uHe,rx({},e,{ref:t}))});function hHe(e){return e===!0?cHe:fHe}var pHe=b.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:f,onMouseUp:p,onTouchEnd:h,onTouchMove:m,onTouchStart:g,style:x,width:y,responsive:v,dispatchTouchEvents:w=!0}=e,N=b.useRef(null),C=ra(),[_,S]=b.useState(null),[k,A]=b.useState(null),O=nHe(),D=oI(),M=(D==null?void 0:D.width)>0?D.width:y,I=(D==null?void 0:D.height)>0?D.height:a,z=b.useCallback(se=>{O(se),typeof t=="function"&&t(se),S(se),A(se),se!=null&&(N.current=se)},[O,t,S,A]),Y=b.useCallback(se=>{C(Roe(se)),C($c({handler:s,reactEvent:se}))},[C,s]),X=b.useCallback(se=>{C(TP(se)),C($c({handler:d,reactEvent:se}))},[C,d]),V=b.useCallback(se=>{C(yie()),C($c({handler:u,reactEvent:se}))},[C,u]),G=b.useCallback(se=>{C(TP(se)),C($c({handler:f,reactEvent:se}))},[C,f]),J=b.useCallback(()=>{C(Hoe())},[C]),B=b.useCallback(se=>{C(Boe(se.key))},[C]),q=b.useCallback(se=>{C($c({handler:i,reactEvent:se}))},[C,i]),T=b.useCallback(se=>{C($c({handler:l,reactEvent:se}))},[C,l]),R=b.useCallback(se=>{C($c({handler:c,reactEvent:se}))},[C,c]),F=b.useCallback(se=>{C($c({handler:p,reactEvent:se}))},[C,p]),H=b.useCallback(se=>{C($c({handler:g,reactEvent:se}))},[C,g]),W=b.useCallback(se=>{w&&C(Uoe(se)),C($c({handler:m,reactEvent:se}))},[C,w,m]),te=b.useCallback(se=>{C($c({handler:h,reactEvent:se}))},[C,h]),pe=hHe(v);return b.createElement(Iie.Provider,{value:_},b.createElement(Sre.Provider,{value:k},b.createElement(pe,{width:M??(x==null?void 0:x.width),height:I??(x==null?void 0:x.height),className:ur("recharts-wrapper",n),style:aHe({position:"relative",cursor:"default",width:M,height:I},x),onClick:Y,onContextMenu:q,onDoubleClick:T,onFocus:J,onKeyDown:B,onMouseDown:R,onMouseEnter:X,onMouseLeave:V,onMouseMove:G,onMouseUp:F,onTouchEnd:te,onTouchMove:W,onTouchStart:H,ref:z},b.createElement(lHe,null),r)))}),mHe=["width","height","responsive","children","className","style","compact","title","desc"];function gHe(e,t){if(e==null)return{};var r,n,a=xHe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xHe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Goe=b.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:i,style:l,compact:c,title:d,desc:u}=e,f=gHe(e,mHe),p=au(f);return c?b.createElement(b.Fragment,null,b.createElement(fE,{width:r,height:n}),b.createElement(tY,{otherAttributes:p,title:d,desc:u},s)):b.createElement(pHe,{className:i,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(tY,{otherAttributes:p,title:d,desc:u,ref:t},b.createElement(oze,null,s)))});function DP(){return DP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DP.apply(null,arguments)}var yHe={top:5,right:5,bottom:5,left:5},vHe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:yHe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},bHe=b.forwardRef(function(t,r){var n,a=Ci(t.categoricalChartProps,vHe),{chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:d}=t,u={chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return b.createElement(qoe,{preloadedState:{options:u},reduxStoreName:(n=d.id)!==null&&n!==void 0?n:s},b.createElement(boe,{chartData:d.data}),b.createElement(Woe,{layout:a.layout,margin:a.margin}),b.createElement(Yoe,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),b.createElement(Goe,DP({},a,{ref:r})))}),wHe=["axis","item"],NHe=b.forwardRef((e,t)=>b.createElement(bHe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wHe,tooltipPayloadSearcher:zie,categoricalChartProps:e,ref:t}));function SHe(e){var t=ra();return b.useEffect(()=>{t(VBe(e))},[t,e]),null}var jHe=["layout"];function MP(){return MP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MP.apply(null,arguments)}function _He(e,t){if(e==null)return{};var r,n,a=kHe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kHe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CHe={top:5,right:5,bottom:5,left:5},Koe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:CHe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},AHe=b.forwardRef(function(t,r){var n,a=Ci(t.categoricalChartProps,Koe),{layout:s}=a,i=_He(a,jHe),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u}=t,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,eventEmitter:void 0};return b.createElement(qoe,{preloadedState:{options:f},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:l},b.createElement(boe,{chartData:a.data}),b.createElement(Woe,{layout:s,margin:a.margin}),b.createElement(Yoe,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),b.createElement(SHe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),b.createElement(Goe,MP({},i,{ref:r})))});function nY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nY(Object(r),!0).forEach(function(n){EHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EHe(e,t,r){return(t=THe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function THe(e){var t=DHe(e,"string");return typeof t=="symbol"?t:t+""}function DHe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MHe=["item"],OHe=aY(aY({},Koe),{},{layout:"centric",startAngle:0,endAngle:360}),PHe=b.forwardRef((e,t)=>{var r=Ci(e,OHe);return b.createElement(AHe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:MHe,tooltipPayloadSearcher:zie,categoricalChartProps:r,ref:t})});const RHe=({data:e})=>!e||e.length===0?o.jsx("div",{className:"h-full w-full flex items-center justify-center text-text-muted text-sm",children:"No payment data available for this month"}):o.jsxs("div",{className:"h-full w-full p-2",children:[o.jsx("h3",{className:"text-sm font-medium text-text-secondary mb-4",children:"Payment Distribution (This Month)"}),o.jsx("div",{className:"h-[250px]",children:o.jsx(cae,{width:"100%",height:"100%",children:o.jsxs(NHe,{data:e,margin:{top:5,right:20,left:0,bottom:20},children:[o.jsx(_oe,{strokeDasharray:"3 3",vertical:!1,stroke:"#E5E7EB"}),o.jsx(Ooe,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#6B7280",fontSize:10},dy:10,interval:0,stroke:"#E5E7EB"}),o.jsx(Poe,{axisLine:!1,tickLine:!1,tick:{fill:"#6B7280",fontSize:10},tickFormatter:t=>`${t/1e3}k`,dx:-10,stroke:"#E5E7EB"}),o.jsx($ie,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"#FFFFFF",borderColor:"#E5E7EB",borderRadius:"8px",fontSize:"12px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:t=>[Number(t||0).toLocaleString("en-IN",{style:"currency",currency:"INR"}),"Net Salary"],labelStyle:{color:"#374151",fontWeight:"bold",marginBottom:"4px"}}),o.jsx(Doe,{dataKey:"amount",radius:[4,4,0,0],barSize:40,children:e.map((t,r)=>o.jsx($b,{fill:r%2===0?"#4F46E5":"#6366F1"},`cell-${r}`))})]})})})]}),sY={Active:"#10B981",Completed:"#3B82F6","On Hold":"#F59E0B",Cancelled:"#EF4444",Default:"#6B7280"},LHe=({data:e})=>!e||e.length===0?o.jsx("div",{className:"h-full w-full flex items-center justify-center text-text-muted text-sm",children:"No project data available"}):o.jsxs("div",{className:"h-full w-full p-2",children:[o.jsx("h3",{className:"text-sm font-medium text-text-secondary mb-4",children:"Project Status Overview"}),o.jsx("div",{className:"h-[250px]",children:o.jsx(cae,{width:"100%",height:"100%",children:o.jsxs(PHe,{children:[o.jsx(goe,{data:e,cx:"50%",cy:"50%",innerRadius:0,outerRadius:80,paddingAngle:2,dataKey:"value",children:e.map((t,r)=>o.jsx($b,{fill:sY[t.name]||sY.Default},`cell-${r}`))}),o.jsx($ie,{contentStyle:{backgroundColor:"#FFFFFF",borderColor:"#E5E7EB",borderRadius:"8px",fontSize:"12px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:t=>[t,"Projects"],itemStyle:{color:"#374151",fontWeight:"bold"}}),o.jsx(Nae,{verticalAlign:"bottom",height:36,iconType:"circle",iconSize:8,wrapperStyle:{fontSize:"12px",color:"#6B7280"}})]})})})]}),IHe=()=>{var c;const[e,t]=b.useState(null),[r,n]=b.useState(!0),[a,s]=b.useState(null);b.useEffect(()=>{i()},[]);const i=async()=>{try{const d=await je.getCEOStats();t(d)}catch(d){s(d.message||"Failed to load dashboard data")}finally{n(!1)}},l=[{label:"Total Employees",value:e==null?void 0:e.totalEmployees,icon:Da,color:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/20"},{label:"On Leave Today",value:e==null?void 0:e.onLeaveToday,subValue:`${e==null?void 0:e.pendingLeaves} Pending Requests`,icon:Gd,color:"text-orange-600",bg:"bg-orange-50 dark:bg-orange-900/20"},{label:"Active Projects",value:e==null?void 0:e.activeProjects,icon:cu,color:"text-purple-600",bg:"bg-purple-50 dark:bg-purple-900/20"},{label:"Total Hours (This Month)",value:e==null?void 0:e.totalHours,icon:Mn,color:"text-cyan-600",bg:"bg-cyan-50 dark:bg-cyan-900/20"},{label:"Total Clients",value:e==null?void 0:e.totalClients,icon:$g,color:"text-indigo-600",bg:"bg-indigo-50 dark:bg-indigo-900/20"}];return r?o.jsxs("div",{className:"space-y-6 animate-pulse",children:[o.jsx("div",{className:"h-8 w-48 bg-gray-200 dark:bg-gray-700 rounded"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5].map(d=>o.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded-xl"},d))}),o.jsx("div",{className:"h-80 bg-gray-200 dark:bg-gray-700 rounded-xl mt-6"})]}):a?o.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg",children:a}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"CEO Dashboard"}),o.jsx("p",{className:"text-text-secondary",children:"Welcome back! Here's what's happening today."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.map((d,u)=>o.jsxs("div",{className:"p-4 bg-white dark:bg-bg-card border border-border rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"flex items-start justify-between mb-2",children:o.jsx("div",{className:`p-2 rounded-lg ${d.bg}`,children:o.jsx(d.icon,{size:20,className:d.color})})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-text-secondary mb-1",children:d.label}),o.jsx("h3",{className:"text-xl font-bold text-text-primary",children:d.value||0}),d.subValue&&o.jsx("p",{className:"text-[10px] text-text-muted mt-1",children:d.subValue})]})]},u)),o.jsxs("div",{className:"p-4 bg-white dark:bg-bg-card border border-border rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"flex items-start justify-between mb-2",children:o.jsx("div",{className:"p-2 rounded-lg bg-green-50 dark:bg-green-900/20",children:o.jsx(FZ,{size:20,className:"text-green-600"})})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-text-secondary mb-1",children:"Total Payment Outflow"}),o.jsx("h3",{className:"text-xl font-bold text-text-primary",children:((c=e==null?void 0:e.paymentOutflow)==null?void 0:c.toLocaleString("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}))||0}),o.jsx("p",{className:"text-[10px] text-text-muted mt-1",children:"This Month"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx("div",{className:"h-80 bg-white dark:bg-bg-card border border-border rounded-xl p-6 shadow-sm",children:o.jsx(RHe,{data:(e==null?void 0:e.payrollBreakdown)||[]})}),o.jsx("div",{className:"h-80 bg-white dark:bg-bg-card border border-border rounded-xl p-6 shadow-sm",children:o.jsx(LHe,{data:(e==null?void 0:e.projectDistribution)||[]})})]})]})};function FHe(){const{user:e}=Sr();if(!e)return null;if(e.role==="Super Admin")return o.jsx(Ov,{to:"/superadmin/analytics",replace:!0});switch(e.role){case"Admin":return o.jsx(S4e,{});case"HR":return o.jsx(v4e,{});case"Project Manager":return o.jsx(y4e,{});case"Accountant":return o.jsx(b4e,{});case"Consultant":return o.jsx(w4e,{});case"Intern":return o.jsx(N4e,{});case"CEO":return o.jsx(IHe,{});case"Employee":default:return o.jsx(x4e,{})}}const zHe=({isOpen:e,onClose:t,onSubmit:r})=>{const[n,a]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[s,i]=b.useState(!1),[l,c]=b.useState(""),d=f=>{a({...n,[f.target.name]:f.target.value}),c("")},u=async f=>{if(f.preventDefault(),c(""),n.newPassword!==n.confirmPassword){c("New passwords do not match");return}if(n.newPassword.length<6){c("Password must be at least 6 characters long");return}i(!0);try{await r({currentPassword:n.currentPassword,newPassword:n.newPassword}),t()}catch(p){c(p.message||"Failed to change password")}finally{i(!1)}};return o.jsx(_r,{isOpen:e,onClose:t,title:"Change Password",maxWidth:"max-w-md",children:o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l&&o.jsx("div",{className:"bg-status-error/10 text-status-error p-3 rounded-lg text-sm",children:l}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Current Password"}),o.jsx(hd,{name:"currentPassword",value:n.currentPassword,onChange:d,required:!0,icon:Qd,placeholder:"Enter current password"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"New Password"}),o.jsx(hd,{name:"newPassword",value:n.newPassword,onChange:d,required:!0,icon:Qd,placeholder:"Enter new password"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Confirm New Password"}),o.jsx(hd,{name:"confirmPassword",value:n.confirmPassword,onChange:d,required:!0,icon:Qd,placeholder:"Confirm new password"})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-text-secondary bg-bg-main border border-border rounded-lg hover:bg-bg-hover transition-colors",disabled:s,children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-brand-primary rounded-lg hover:bg-brand-primary/90 disabled:opacity-50 transition-colors",children:s?"Changing...":"Change Password"})]})]})})},BHe=["Basic Info","Work Info","Hierarchy","Personal","Identity","Contact","Bank Details","Documents","Assets","Additional"];function HHe(){var T,R,F,H,W,te,pe,se;const{user:e,refreshUser:t}=Sr(),r=vs(),n=BHe.filter(ce=>{var Ne;return!(ce==="Documents"&&!((Ne=e==null?void 0:e.accessibleModules)!=null&&Ne.includes("documents")))}),[a,s]=b.useState(n[0]),[i,l]=b.useState(!1),[c,d]=b.useState(!0),[u,f]=b.useState(!1),[p,h]=b.useState(null),[m,g]=b.useState(null),[x]=b.useState([]),[y,v]=b.useState({employeeId:(e==null?void 0:e.id)||"",firstName:((T=e==null?void 0:e.name)==null?void 0:T.split(" ")[0])||"",lastName:((R=e==null?void 0:e.name)==null?void 0:R.split(" ").slice(1).join(" "))||"",nickName:"",email:(e==null?void 0:e.email)||"",department:(e==null?void 0:e.department)||"",location:"",designation:(e==null?void 0:e.designation)||"",role:(e==null?void 0:e.role)||"",shift:"",employmentType:"",employeeStatus:"Active",sourceOfHire:"",dateOfJoining:"",totalExperience:"",reportingManager:"",reportingManagerName:"",dateOfBirth:"",gender:"",maritalStatus:"",aboutMe:"",expertise:"",uan:"",pan:"",aadhaar:"",workPhone:"",extension:"",seatingLocation:"",presentAddress:"",permanentAddress:"",personalMobile:"",personalEmail:"",workExperience:[],education:[],customFields:{},bankDetails:{accountName:"",accountNumber:"",bankName:"",ifscCode:""}}),[w,N]=b.useState(null),[C,_]=b.useState(null),[S,k]=b.useState(!1),[A,O]=b.useState(!1);b.useEffect(()=>{(async()=>{var Ne,he,ze;d(!0),h(null);try{const Pe=await je.getCurrentUser(),ee=await je.getMyEmployeeProfile();ee?(g(ee._id),v({employeeId:ee.employeeId||"",firstName:ee.firstName||"",lastName:ee.lastName||"",nickName:ee.nickName||"",email:ee.email||"",department:ee.department||"",location:ee.location||"",designation:ee.designation||"",role:ee.role||"",shift:((Ne=ee.shiftId)==null?void 0:Ne.name)||"General Shift",employmentType:ee.employmentType||"",employeeStatus:ee.employeeStatus||"Active",sourceOfHire:ee.sourceOfHire||"",dateOfJoining:ee.dateOfJoining?new Date(ee.dateOfJoining).toISOString().split("T")[0]:"",totalExperience:ee.totalExperience||"",reportingManager:((he=ee.reportingManager)==null?void 0:he._id)||ee.reportingManager||"",reportingManagerName:(ze=ee.reportingManager)!=null&&ze.firstName?`${ee.reportingManager.firstName} ${ee.reportingManager.lastName||""}`:"",dateOfBirth:ee.dateOfBirth?new Date(ee.dateOfBirth).toISOString().split("T")[0]:"",gender:ee.gender||"",maritalStatus:ee.maritalStatus||"",aboutMe:ee.aboutMe||"",expertise:ee.expertise||"",uan:ee.uan||"",pan:ee.pan||"",aadhaar:ee.aadhaar||"",workPhone:ee.workPhone||"",extension:ee.extension||"",seatingLocation:ee.seatingLocation||"",presentAddress:ee.presentAddress||"",permanentAddress:ee.permanentAddress||"",personalMobile:ee.personalMobile||"",personalEmail:ee.personalEmail||"",workExperience:ee.workExperience||[],education:ee.education||[],customFields:ee.customFields||{},bankDetails:ee.bankDetails||{accountName:"",accountNumber:"",bankName:"",ifscCode:""}}),ee.profilePicture&&_(ee.profilePicture.startsWith("http")?ee.profilePicture:`${Ma}/${ee.profilePicture}`)):(console.warn("No employee record found for current user"),v(We=>{var be,wt;return{...We,email:Pe.user.email,firstName:((be=Pe.user.name)==null?void 0:be.split(" ")[0])||"",lastName:((wt=Pe.user.name)==null?void 0:wt.split(" ").slice(1).join(" "))||""}}))}catch(Pe){console.error("Failed to fetch employee data:",Pe),h("Failed to load profile data")}finally{d(!1)}})()},[]);const D=ce=>{v({...y,[ce.target.name]:ce.target.value})},M=ce=>{var he;const Ne=(he=ce.target.files)==null?void 0:he[0];if(Ne){N(Ne);const ze=new FileReader;ze.onloadend=()=>{_(ze.result)},ze.readAsDataURL(Ne)}},I=async()=>{if(!m){alert("Employee ID not found. Cannot update profile.");return}f(!0);try{const ce=new FormData;Object.keys(y).forEach(Ne=>{const he=y[Ne];Array.isArray(he)||Ne==="bankDetails"||Ne==="customFields"?ce.append(Ne,JSON.stringify(he)):he!=null&&ce.append(Ne,he)}),w&&ce.append("profilePicture",w),await je.updateEmployee(m,ce),l(!1),await t(),k(!0)}catch(ce){console.error("Failed to update profile:",ce),alert(ce.message||"Failed to update profile. Please try again.")}finally{f(!1)}},z=()=>{l(!1),N(null)},Y=async ce=>{await je.updateCurrentUser(ce),k(!0)},X=ce=>{v(Ne=>({...Ne,bankDetails:{...Ne.bankDetails,[ce.target.name]:ce.target.value}}))},V=(ce,Ne,he,ze)=>{v(Pe=>{const ee=[...Pe[ce]];return ee[Ne]={...ee[Ne],[he]:ze},{...Pe,[ce]:ee}})},G=(ce,Ne)=>{v(he=>({...he,[ce]:[...he[ce],Ne]}))},J=(ce,Ne)=>{v(he=>({...he,[ce]:he[ce].filter((ze,Pe)=>Pe!==Ne)}))},B=(ce,Ne,he,ze,Pe="text",ee=!1)=>{const We=ze;return o.jsxs("div",{className:"group",children:[o.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-text-muted uppercase tracking-wider mb-1.5",children:[We&&o.jsx(We,{size:14,className:"text-brand-primary"}),ce]}),i?Pe==="date"?o.jsx(Ja,{name:Ne,value:he,onChange:D,disabled:ee,className:ee?"opacity-75 cursor-not-allowed":""}):o.jsx(ft,{type:Pe,name:Ne,value:he,onChange:D,className:"bg-bg-main",disabled:ee}):o.jsx("p",{className:"text-text-primary text-sm font-medium leading-relaxed break-words min-h-[24px]",children:Pe==="date"?he?sd(he):o.jsx("span",{className:"text-text-disabled",children:"Not Set"}):he||o.jsx("span",{className:"text-text-disabled",children:"Not Set"})})]})},q=(ce,Ne,he)=>o.jsxs("div",{className:"col-span-1 md:col-span-2 group",children:[o.jsx("label",{className:"block text-xs font-semibold text-text-muted uppercase tracking-wider mb-2",children:ce}),i?o.jsx(jl,{name:Ne,value:he,onChange:D,className:"bg-bg-main",rows:4}):o.jsx("p",{className:"text-text-primary text-sm whitespace-pre-wrap leading-relaxed bg-bg-main/50 p-4 rounded-lg border border-border/50",children:he||o.jsx("span",{className:"text-text-disabled",children:"No Description"})})]});return c?o.jsx($He,{}):o.jsxs("div",{className:"min-h-screen pb-8 animate-in fade-in duration-500 bg-gray-50/30 dark:bg-bg-main",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6 mb-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-text-primary",children:"My Profile"}),o.jsx("p",{className:"text-text-secondary mt-1",children:"Manage your personal information"})]}),o.jsx("div",{className:"flex flex-wrap gap-3",children:i?o.jsxs(o.Fragment,{children:[o.jsx(dt,{variant:"secondary",className:"bg-bg-card border border-border shadow-sm hover:bg-bg-hover",onClick:z,disabled:u,leftIcon:o.jsx(Qi,{size:16}),children:"Cancel"}),o.jsx(dt,{className:"shadow-sm",onClick:I,disabled:u,isLoading:u,leftIcon:!u&&o.jsx(Fm,{size:16}),children:"Save Changes"})]}):o.jsxs(o.Fragment,{children:[o.jsx(dt,{variant:"secondary",leftIcon:o.jsx(Qd,{size:16}),onClick:()=>O(!0),children:"Change Password"}),o.jsx(dt,{className:"shadow-sm",onClick:()=>l(!0),children:"Edit Profile"})]})})]}),p&&!c&&o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6 dark:bg-red-900/20 dark:border-red-900/50 dark:text-red-400",children:[o.jsx("p",{className:"font-medium",children:"Failed to load profile"}),o.jsx("p",{className:"text-sm",children:p})]}),o.jsx("div",{className:"bg-bg-card rounded-xl shadow-sm border border-border p-6 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[o.jsxs("div",{className:"relative group shrink-0",children:[o.jsx("div",{className:"w-32 h-32 rounded-full border-4 border-bg-card shadow-lg overflow-hidden bg-brand-secondary flex items-center justify-center text-white text-4xl font-bold dark:border-border",children:C?o.jsx("img",{src:C,alt:"Profile",className:"w-full h-full object-cover"}):o.jsxs("span",{children:[(F=y.firstName)==null?void 0:F[0],(H=y.lastName)==null?void 0:H[0]]})}),i&&o.jsxs("label",{className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:M}),o.jsx(Jye,{className:"text-white drop-shadow-lg",size:32})]})]}),o.jsx("div",{className:"flex-1 text-center md:text-left",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-text-primary",children:[y.firstName," ",y.lastName]}),o.jsx("p",{className:"text-text-secondary font-medium text-lg mt-1",children:y.designation}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[o.jsx("div",{className:"text-xs font-semibold text-brand-primary bg-brand-primary/10 px-3 py-1 rounded-full inline-block",children:y.role}),o.jsx("div",{className:`text-xs font-semibold px-3 py-1 rounded-full inline-block ${y.employeeStatus==="Active"?"text-green-700 bg-green-50 border border-green-200 dark:bg-green-500/10 dark:text-green-400 dark:border-green-500/20":"text-gray-700 bg-gray-50 border border-gray-200 dark:bg-gray-500/10 dark:text-gray-400 dark:border-gray-500/20"}`,children:y.employeeStatus})]})]}),o.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-2 md:bg-gray-50/50 md:p-4 md:rounded-lg md:border md:border-border dark:md:bg-white/5",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-50 flex items-center justify-center text-blue-600 shrink-0 dark:bg-blue-900/20 dark:text-blue-400",children:o.jsx(dH,{size:16})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-text-muted font-medium",children:"Employee ID"}),o.jsx("span",{className:"font-medium text-text-primary",children:y.employeeId})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-50 flex items-center justify-center text-purple-600 shrink-0 dark:bg-purple-900/20 dark:text-purple-400",children:o.jsx(Xa,{size:16})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-text-muted font-medium",children:"Joined On"}),o.jsx("span",{className:"font-medium text-text-primary",children:y.dateOfJoining?sd(y.dateOfJoining):"Not Set"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-green-50 flex items-center justify-center text-green-600 shrink-0 dark:bg-green-900/20 dark:text-green-400",children:o.jsx(Rj,{size:16})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-text-muted font-medium",children:"Reporting To"}),o.jsx("span",{className:"font-medium text-text-primary truncate max-w-[120px] block",title:y.reportingManagerName,children:y.reportingManagerName||"None"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-50 flex items-center justify-center text-orange-600 shrink-0 dark:bg-orange-900/20 dark:text-orange-400",children:o.jsx(b_,{size:16})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-text-muted font-medium",children:"Location"}),o.jsx("span",{className:"font-medium text-text-primary truncate max-w-[120px] block",title:y.location,children:y.location||"Not Set"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-pink-50 flex items-center justify-center text-pink-600 shrink-0 dark:bg-pink-900/20 dark:text-pink-400",children:o.jsx(bc,{size:16})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-text-muted font-medium",children:"Email"}),o.jsx("span",{className:"font-medium text-text-primary truncate max-w-[120px] block",title:y.email,children:y.email})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600 shrink-0 dark:bg-indigo-900/20 dark:text-indigo-400",children:o.jsx(Rw,{size:16})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-text-muted font-medium",children:"Work Phone"}),o.jsx("span",{className:"font-medium text-text-primary",children:y.workPhone||"Not Set"})]})]})]})]})})]})}),o.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[o.jsx("div",{className:"col-span-12 md:col-span-3",children:o.jsx("div",{className:"bg-bg-card rounded-xl shadow-sm border border-border p-3 sticky top-6",children:o.jsx("nav",{className:"space-y-1",children:n.map(ce=>o.jsxs("button",{onClick:()=>s(ce),className:ia("w-full text-left px-4 py-2.5 rounded-lg text-sm font-medium transition-all group flex items-center justify-between",a===ce?"bg-brand-primary text-white shadow-sm":"text-text-secondary hover:bg-bg-hover hover:text-text-primary"),children:[ce,a===ce&&o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white/40"})]},ce))})})}),o.jsx("div",{className:"col-span-12 md:col-span-9",children:o.jsxs("div",{className:"bg-bg-card rounded-xl shadow-sm border border-border p-6 min-h-[600px]",children:[a==="Basic Info"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(If,{title:"Basic Details",icon:yo}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5",children:[B("First Name","firstName",y.firstName),B("Last Name","lastName",y.lastName),B("Nick Name","nickName",y.nickName),B("Email","email",y.email,bc,"email",!0)]})]}),a==="Work Info"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(If,{title:"Employment Details",icon:cu}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5",children:[B("Department","department",y.department,$g,"text",!0),B("Location","location",y.location,b_,"text",!0),B("Designation","designation",y.designation,od,"text",!0),B("Role","role",y.role,Rj,"text",!0),B("Shift","shift",y.shift,Mn,"text",!0),B("Employment Type","employmentType",y.employmentType,void 0,"text",!0),B("Employee Status","employeeStatus",y.employeeStatus,Pk,"text",!0),B("Source of Hire","sourceOfHire",y.sourceOfHire,Lh,"text",!0),B("Date of Joining","dateOfJoining",y.dateOfJoining,Xa,"date",!0),B("Total Experience","totalExperience",y.totalExperience,t6,"text",!0)]})]}),a==="Hierarchy"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(If,{title:"Reporting Structure",icon:Rj}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5",children:o.jsxs("div",{className:"group",children:[o.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-text-muted uppercase tracking-wider mb-1.5",children:[o.jsx(Rj,{size:14,className:"text-brand-primary"}),"Reporting Manager"]}),i?o.jsx("div",{className:"relative",children:o.jsx(sr,{name:"reportingManager",value:y.reportingManager||"",onChange:ce=>D({target:{name:"reportingManager",value:ce}}),options:[{value:"",label:"Select Manager"},...x.filter(ce=>ce._id!==m).map(ce=>({value:ce._id,label:`${ce.firstName} ${ce.lastName} (${ce.employeeId})`}))],disabled:!0,triggerClassName:"bg-bg-main opacity-75 cursor-not-allowed"})}):o.jsx("p",{className:"text-text-primary text-sm font-medium leading-relaxed",children:y.reportingManagerName||o.jsx("span",{className:"text-text-disabled",children:"None"})})]})})]}),a==="Personal"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(If,{title:"Personal Information",icon:UZ}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5",children:[B("Date of Birth","dateOfBirth",y.dateOfBirth,Xa,"date"),B("Gender","gender",y.gender),B("Marital Status","maritalStatus",y.maritalStatus),o.jsx("div",{className:"col-span-full border-t border-border my-2"}),q("About Me","aboutMe",y.aboutMe),q("Expertise / Ask Me About","expertise",y.expertise)]})]}),a==="Contact"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(If,{title:"Contact Information",icon:Rw}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5",children:[B("Work Phone","workPhone",y.workPhone),B("Extension","extension",y.extension),B("Seating Location","seatingLocation",y.seatingLocation,b_),B("Personal Mobile","personalMobile",y.personalMobile),B("Personal Email","personalEmail",y.personalEmail,bc),o.jsx("div",{className:"col-span-full border-t border-border my-2"}),q("Present Address","presentAddress",y.presentAddress),q("Permanent Address","permanentAddress",y.permanentAddress)]})]}),a==="Identity"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(If,{title:"Identity Documents",icon:dH}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5",children:[B("UAN","uan",y.uan),B("PAN","pan",y.pan),B("Aadhaar","aadhaar",y.aadhaar)]})]}),a==="Bank Details"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(If,{title:"Financial Information",icon:$g}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5",children:[o.jsx(Ff,{label:"Account Name",name:"accountName",value:(W=y.bankDetails)==null?void 0:W.accountName,onChange:X,isEditing:i}),o.jsx(Ff,{label:"Account Number",name:"accountNumber",value:(te=y.bankDetails)==null?void 0:te.accountNumber,onChange:X,isEditing:i}),o.jsx(Ff,{label:"Bank Name",name:"bankName",value:(pe=y.bankDetails)==null?void 0:pe.bankName,onChange:X,isEditing:i}),o.jsx(Ff,{label:"IFSC Code",name:"ifscCode",value:(se=y.bankDetails)==null?void 0:se.ifscCode,onChange:X,isEditing:i})]})]}),a==="Documents"&&o.jsx(fte,{employeeId:m||""}),a==="Assets"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(If,{title:"My Assets",icon:Iv}),o.jsx(hte,{employeeId:m||"",readOnly:!0})]}),a==="Additional"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(If,{title:"Additional Information",icon:t6}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/10 rounded-lg p-4 border border-border",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"font-semibold text-text-primary text-sm uppercase tracking-wide",children:"Work Experience"}),i&&o.jsx(dt,{size:"sm",variant:"secondary",onClick:()=>G("workExperience",{companyName:"",jobTitle:"",fromDate:"",toDate:"",description:""}),leftIcon:o.jsx(Na,{size:14}),children:"Add"})]}),(y.workExperience||[]).length===0?o.jsx("p",{className:"text-sm text-text-secondary italic",children:"No work experience added."}):o.jsx("div",{className:"space-y-3",children:y.workExperience.map((ce,Ne)=>o.jsxs("div",{className:"bg-bg-main border border-border rounded-lg p-4 relative",children:[i&&o.jsx("button",{type:"button",onClick:()=>J("workExperience",Ne),className:"absolute top-3 right-3 text-red-500 hover:text-red-700 transition-colors",children:o.jsx(yn,{size:16})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Ff,{label:"Company",name:"companyName",value:ce.companyName,onChange:he=>V("workExperience",Ne,"companyName",he.target.value),isEditing:i}),o.jsx(Ff,{label:"Job Title",name:"jobTitle",value:ce.jobTitle,onChange:he=>V("workExperience",Ne,"jobTitle",he.target.value),isEditing:i}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"flex items-center gap-2 text-xs font-semibold text-text-muted uppercase tracking-wider mb-1.5",children:"From Date"}),i?o.jsx(Ja,{name:"fromDate",value:ce.fromDate?ce.fromDate.split("T")[0]:"",onChange:he=>V("workExperience",Ne,"fromDate",he.target.value)}):o.jsx("p",{className:"text-text-primary text-sm font-medium leading-relaxed",children:ce.fromDate?sd(ce.fromDate):"Not Set"})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"flex items-center gap-2 text-xs font-semibold text-text-muted uppercase tracking-wider mb-1.5",children:"To Date"}),i?o.jsx(Ja,{name:"toDate",value:ce.toDate?ce.toDate.split("T")[0]:"",onChange:he=>V("workExperience",Ne,"toDate",he.target.value)}):o.jsx("p",{className:"text-text-primary text-sm font-medium leading-relaxed",children:ce.toDate?sd(ce.toDate):"Not Set"})]})]})]},Ne))})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/10 rounded-lg p-4 border border-border",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"font-semibold text-text-primary text-sm uppercase tracking-wide",children:"Education"}),i&&o.jsx(dt,{size:"sm",variant:"secondary",onClick:()=>G("education",{instituteName:"",degree:"",specialization:"",dateOfCompletion:""}),leftIcon:o.jsx(Na,{size:14}),children:"Add"})]}),(y.education||[]).length===0?o.jsx("p",{className:"text-sm text-text-secondary italic",children:"No education details added."}):o.jsx("div",{className:"space-y-3",children:y.education.map((ce,Ne)=>o.jsxs("div",{className:"bg-bg-main border border-border rounded-lg p-4 relative",children:[i&&o.jsx("button",{type:"button",onClick:()=>J("education",Ne),className:"absolute top-3 right-3 text-red-500 hover:text-red-700 transition-colors",children:o.jsx(yn,{size:16})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Ff,{label:"Institute",name:"instituteName",value:ce.instituteName,onChange:he=>V("education",Ne,"instituteName",he.target.value),isEditing:i}),o.jsx(Ff,{label:"Degree",name:"degree",value:ce.degree,onChange:he=>V("education",Ne,"degree",he.target.value),isEditing:i}),o.jsx(Ff,{label:"Specialization",name:"specialization",value:ce.specialization,onChange:he=>V("education",Ne,"specialization",he.target.value),isEditing:i}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"flex items-center gap-2 text-xs font-semibold text-text-muted uppercase tracking-wider mb-1.5",children:"Completion Date"}),i?o.jsx(Ja,{name:"dateOfCompletion",value:ce.dateOfCompletion?ce.dateOfCompletion.split("T")[0]:"",onChange:he=>V("education",Ne,"dateOfCompletion",he.target.value)}):o.jsx("p",{className:"text-text-primary text-sm font-medium leading-relaxed",children:ce.dateOfCompletion?sd(ce.dateOfCompletion):"Not Set"})]})]})]},Ne))})]})]})]})})]}),!i&&o.jsxs("div",{className:"mt-8 border border-red-200 rounded-xl overflow-hidden bg-white shadow-sm dark:bg-bg-card dark:border-red-900/50",children:[o.jsx("div",{className:"bg-red-50/50 px-6 py-4 border-b border-red-100 dark:bg-red-900/10 dark:border-red-900/30",children:o.jsxs("h3",{className:"text-lg font-bold text-red-900 flex items-center gap-2 dark:text-red-400",children:[o.jsx(Pk,{className:"text-red-600 dark:text-red-400",size:20}),"Danger Zone"]})}),o.jsxs("div",{className:"p-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-base font-semibold text-gray-900 dark:text-text-primary",children:"Resign from your position"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1 max-w-xl dark:text-text-secondary",children:"Initiating this action will start the formal resignation process. This action cannot be undone once approved."})]}),o.jsx(dt,{variant:"danger",className:"shrink-0 bg-red-600 border border-red-600 text-white hover:bg-red-700 hover:border-red-700 shadow-sm dark:hover:bg-red-800",onClick:()=>r("/resignation/submit"),children:"Submit Resignation"})]})]})]}),o.jsx(_r,{isOpen:S,onClose:()=>k(!1),title:"Profile Updated",maxWidth:"max-w-sm",hideHeader:!0,children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Fm,{size:24})}),o.jsx("h3",{className:"text-lg font-bold text-text-primary mb-2",children:"Profile Updated!"}),o.jsx("p",{className:"text-text-secondary text-sm mb-6",children:"Your profile changes have been saved successfully."}),o.jsx(dt,{onClick:()=>k(!1),className:"w-full",children:"Close"})]})}),o.jsx(zHe,{isOpen:A,onClose:()=>O(!1),onSubmit:Y})]})}const If=({title:e,icon:t,className:r})=>o.jsxs("div",{className:ia("flex items-center gap-2 mb-4 pb-2 border-b border-border",r),children:[t&&o.jsx(t,{size:18,className:"text-brand-primary"}),o.jsx("h3",{className:"text-base font-semibold text-text-primary",children:e})]}),Ff=({label:e,name:t,value:r,onChange:n,isEditing:a})=>o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"flex items-center gap-2 text-xs font-semibold text-text-muted uppercase tracking-wider mb-1.5",children:e}),a?o.jsx(ft,{name:t,value:r,onChange:n,className:"bg-bg-main"}):o.jsx("p",{className:"text-text-primary text-sm font-medium leading-relaxed",children:r||o.jsx("span",{className:"text-text-disabled text-xs normal-case",children:"Not Set"})})]}),$He=()=>o.jsx("div",{className:"min-h-screen pb-8 animate-pulse bg-gray-50/30 dark:bg-bg-main",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded dark:bg-gray-700"}),o.jsx("div",{className:"h-4 w-64 bg-gray-100 rounded dark:bg-gray-800"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"h-9 w-32 bg-gray-200 rounded-lg dark:bg-gray-700"}),o.jsx("div",{className:"h-9 w-32 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]}),o.jsx("div",{className:"bg-bg-card rounded-xl shadow-sm border border-border p-6 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[o.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 shrink-0 dark:bg-gray-700"}),o.jsxs("div",{className:"flex-1 w-full",children:[o.jsx("div",{className:"flex flex-col md:flex-row justify-between gap-4 mb-4",children:o.jsxs("div",{className:"space-y-3 text-center md:text-left",children:[o.jsx("div",{className:"h-8 w-64 bg-gray-200 rounded mx-auto md:mx-0 dark:bg-gray-700"}),o.jsx("div",{className:"h-5 w-48 bg-gray-100 rounded mx-auto md:mx-0 dark:bg-gray-800"}),o.jsx("div",{className:"h-6 w-24 bg-gray-100 rounded-full mx-auto md:mx-0 dark:bg-gray-800"})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-6",children:[o.jsx("div",{className:"h-10 bg-gray-50 rounded-lg border border-gray-100 dark:bg-gray-800 dark:border-gray-700"}),o.jsx("div",{className:"h-10 bg-gray-50 rounded-lg border border-gray-100 dark:bg-gray-800 dark:border-gray-700"}),o.jsx("div",{className:"h-10 bg-gray-50 rounded-lg border border-gray-100 dark:bg-gray-800 dark:border-gray-700"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[o.jsx("div",{className:"col-span-12 md:col-span-3",children:o.jsx("div",{className:"bg-bg-card rounded-xl shadow-sm border border-border p-3 h-96",children:o.jsx("div",{className:"space-y-2",children:[1,2,3,4,5,6].map(e=>o.jsx("div",{className:"h-10 bg-gray-100 rounded-lg w-full dark:bg-gray-800"},e))})})}),o.jsx("div",{className:"col-span-12 md:col-span-9",children:o.jsxs("div",{className:"bg-bg-card rounded-xl shadow-sm border border-border p-6 h-[600px]",children:[o.jsx("div",{className:"h-6 w-48 bg-gray-200 rounded mb-8 dark:bg-gray-700"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[1,2,3,4,5,6].map(e=>o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-4 w-24 bg-gray-100 rounded dark:bg-gray-800"}),o.jsx("div",{className:"h-10 bg-gray-50 rounded-lg border border-gray-100 dark:bg-gray-900 dark:border-gray-800"})]},e))})]})})]})]})});function UHe(){var X,V,G;const[e,t]=b.useState("clocked-out"),[r,n]=b.useState(null),[a,s]=b.useState(!0),[i,l]=b.useState(!1),[c,d]=b.useState(0),[u,f]=b.useState(null),[p,h]=b.useState(!1),[m,g]=b.useState(""),[x,y]=b.useState(!1),[v,w]=b.useState(""),[N,C]=b.useState(!1);b.useEffect(()=>{S(),_()},[]);const _=async()=>{var J;try{const B=await je.getCurrentUser();(J=B==null?void 0:B.user)!=null&&J.shiftId&&f(B.user.shiftId)}catch(B){console.error("Failed to fetch shift info:",B)}};b.useEffect(()=>{if(e!=="clocked-out"&&(r!=null&&r.clockIn)){const J=setInterval(()=>{const B=new Date(r.clockIn).getTime(),q=Date.now();d(Math.floor((q-B)/1e3))},1e3);return()=>clearInterval(J)}},[e,r]);const S=async()=>{try{const J=await je.getAttendanceStatus();t(J.status),n(J.timeEntry)}catch(J){console.error("Failed to fetch status:",J)}finally{s(!1)}},k=async()=>{l(!0);try{const J=await je.clockIn();t("clocked-in"),n(J.timeEntry)}catch(J){J.message&&J.message.toLowerCase().includes("approved leave")?(w(J.message),y(!0),C(!0)):alert(J.message)}finally{l(!1)}},A=()=>{h(!0)},O=async()=>{l(!0);try{await je.clockOut(m),t("clocked-out"),n(null),d(0),h(!1),g("")}catch(J){alert(J.message)}finally{l(!1)}},D=async()=>{l(!0);try{const J=await je.startBreak();t("on-break"),n(J.timeEntry)}catch(J){alert(J.message)}finally{l(!1)}},M=async()=>{l(!0);try{const J=await je.endBreak();t("clocked-in"),n(J.timeEntry)}catch(J){alert(J.message)}finally{l(!1)}},I=J=>{const B=Math.floor(J/3600),q=Math.floor(J%3600/60),T=J%60;return`${B.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}`},z=()=>{if(!u||!(r!=null&&r.clockIn))return 0;const J=new Date,[B,q]=u.startTime.split(":").map(Number);J.setHours(B,q,0);const T=new Date,[R,F]=u.endTime.split(":").map(Number);T.setHours(R,F,0);const H=T.getTime()-J.getTime(),W=Date.now()-new Date(r.clockIn).getTime();return Math.min(W/H*100,100)};if(a)return o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsx(Se,{className:"h-16 w-full rounded-lg"}),o.jsx(Se,{className:"h-24 w-full rounded-lg"}),o.jsx(Se,{className:"h-64 w-full rounded-lg"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Se,{className:"h-16 w-full rounded-lg"}),o.jsx(Se,{className:"h-16 w-full rounded-lg"})]})]});const Y=z();return o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 animate-in fade-in duration-500",children:[u&&o.jsx("div",{className:"bg-bg-card rounded-xl p-4 border border-border shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg bg-brand-primary/10 flex items-center justify-center",children:o.jsx(Xa,{className:"text-brand-primary",size:24})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-text-secondary",children:"Your Shift"}),o.jsx("p",{className:"font-semibold text-text-primary text-lg",children:u.name})]})]}),o.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Mn,{size:16,className:"text-text-secondary"}),o.jsxs("span",{className:"text-text-primary font-medium",children:[u.startTime," - ",u.endTime]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ZZ,{size:16,className:"text-text-secondary"}),o.jsx("span",{className:"text-text-primary font-medium",children:((X=u.workingDays)==null?void 0:X.length)===5&&u.workingDays.includes("Monday")&&u.workingDays.includes("Friday")?"Mon - Fri":(V=u.workingDays)==null?void 0:V.join(", ")})]})]})]})}),o.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-brand-primary to-brand-secondary rounded-2xl p-8 text-white shadow-2xl",children:[o.jsx("div",{className:"absolute inset-0 opacity-10",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"40px 40px"}})}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[o.jsxs("div",{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center animate-pulse",children:[e==="clocked-out"&&o.jsx(Mn,{size:32}),e==="clocked-in"&&o.jsx(Nm,{size:32,className:"animate-pulse"}),e==="on-break"&&o.jsx(J0,{size:32})]}),o.jsxs("div",{className:"text-left",children:[o.jsxs("h3",{className:"text-3xl font-bold",children:[e==="clocked-out"&&"Ready to Start",e==="clocked-in"&&"You're Productive!",e==="on-break"&&"Taking a Break"]}),o.jsxs("p",{className:"text-white/80 text-sm",children:[e==="clocked-out"&&"Click below to begin your day",e==="clocked-in"&&"Keep up the great work",e==="on-break"&&"Relax and recharge"]})]})]}),e!=="clocked-out"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-white/90 text-sm mb-2",children:["Clocked in at"," ",r!=null&&r.clockIn?new Date(r.clockIn).toLocaleTimeString():"N/A"]}),o.jsx("div",{className:"text-6xl font-mono font-bold tracking-wider mb-2",children:I(c)}),o.jsx("p",{className:"text-white/80 text-sm",children:"Hours worked today"})]}),u&&o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"flex justify-between text-xs text-white/80 mb-2",children:[o.jsx("span",{children:"Shift Progress"}),o.jsxs("span",{children:[Math.round(Y),"%"]})]}),o.jsx("div",{className:"w-full h-3 bg-white/20 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-1000 ease-out",style:{width:`${Y}%`}})})]})]}),e==="clocked-out"&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-7xl mb-4",children:""}),o.jsx("p",{className:"text-xl text-white/90",children:"Start your productive day!"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e==="clocked-out"&&o.jsxs("button",{onClick:k,disabled:i||N,className:"col-span-full flex items-center justify-center gap-3 px-8 py-6 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-xl font-semibold text-lg transition-all transform hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:[i?o.jsx(Vn,{className:"animate-spin",size:24}):o.jsx(n6,{size:24}),"Clock In"]}),e==="clocked-in"&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:D,disabled:i,className:"flex items-center justify-center gap-3 px-6 py-5 bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white rounded-xl font-semibold transition-all transform hover:scale-105 active:scale-95 disabled:opacity-50 shadow-lg hover:shadow-xl",children:[i?o.jsx(Vn,{className:"animate-spin",size:20}):o.jsx(J0,{size:20}),"Start Break"]}),o.jsxs("button",{onClick:A,disabled:i,className:"flex items-center justify-center gap-3 px-6 py-5 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white rounded-xl font-semibold transition-all transform hover:scale-105 active:scale-95 disabled:opacity-50 shadow-lg hover:shadow-xl",children:[i?o.jsx(Vn,{className:"animate-spin",size:20}):o.jsx(Iu,{size:20}),"Clock Out"]})]}),e==="on-break"&&o.jsxs("button",{onClick:M,disabled:i,className:"col-span-full flex items-center justify-center gap-3 px-8 py-6 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-xl font-semibold text-lg transition-all transform hover:scale-105 active:scale-95 disabled:opacity-50 shadow-lg hover:shadow-xl",children:[i?o.jsx(Vn,{className:"animate-spin",size:24}):o.jsx(J0,{size:24}),"End Break & Resume Work"]})]}),r&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-text-primary flex items-center gap-2",children:[o.jsx(wc,{size:20,className:"text-brand-primary"}),"Today's Activity"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"bg-bg-card rounded-xl p-4 border border-border hover:border-brand-primary/50 transition-colors",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/10 flex items-center justify-center",children:o.jsx(Mn,{className:"text-green-600",size:20})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-text-secondary mb-1",children:"Clock In"}),o.jsx("p",{className:"font-semibold text-text-primary truncate",children:new Date(r.clockIn).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})}),r.clockOut&&o.jsx("div",{className:"bg-bg-card rounded-xl p-4 border border-border hover:border-brand-primary/50 transition-colors",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/10 flex items-center justify-center",children:o.jsx(Iu,{className:"text-red-600",size:20})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-text-secondary mb-1",children:"Clock Out"}),o.jsx("p",{className:"font-semibold text-text-primary truncate",children:new Date(r.clockOut).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})}),o.jsx("div",{className:"bg-bg-card rounded-xl p-4 border border-border hover:border-brand-primary/50 transition-colors",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/10 flex items-center justify-center",children:o.jsx(J0,{className:"text-yellow-600",size:20})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-text-secondary mb-1",children:"Total Breaks"}),o.jsx("p",{className:"font-semibold text-text-primary",children:((G=r.breaks)==null?void 0:G.length)||0})]})]})}),o.jsx("div",{className:"bg-bg-card rounded-xl p-4 border border-border hover:border-brand-primary/50 transition-colors",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center",children:o.jsx(Nm,{className:"text-blue-600",size:20})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-text-secondary mb-1",children:"Break Time"}),o.jsxs("p",{className:"font-semibold text-text-primary",children:[r.totalBreakMinutes||0," min"]})]})]})})]})]}),p&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm animate-in fade-in duration-200",children:o.jsxs("div",{className:"bg-bg-card rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in duration-200 border border-border",children:[o.jsxs("div",{className:"p-6 border-b border-border bg-gradient-to-r from-brand-primary/10 to-brand-secondary/10",children:[o.jsxs("h3",{className:"font-bold text-xl text-text-primary flex items-center gap-2",children:[o.jsx(Iu,{size:24,className:"text-brand-primary"}),"Clock Out"]}),o.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"Great work today! Share what you accomplished"})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium text-text-primary flex items-center gap-2",children:[o.jsx(wc,{size:16}),"Today's Accomplishments"]}),o.jsx("textarea",{value:m,onChange:J=>g(J.target.value),placeholder:` Completed the dashboard redesign
 Fixed critical bugs in the payment module
 Attended team meeting...`,className:"w-full p-3 border border-border rounded-xl bg-bg-main focus:outline-none focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary min-h-[120px] text-sm text-text-primary resize-none",autoFocus:!0}),o.jsx("p",{className:"text-xs text-text-secondary",children:"Optional: Share your key accomplishments for today"})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{onClick:()=>h(!1),className:"px-6 py-2.5 border border-border rounded-lg text-text-secondary hover:bg-bg-hover text-sm font-medium transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:O,disabled:i,className:"px-6 py-2.5 bg-gradient-to-r from-brand-primary to-brand-secondary text-white rounded-lg hover:opacity-90 text-sm font-medium flex items-center gap-2 transition-all disabled:opacity-50",children:[i&&o.jsx(Vn,{className:"animate-spin",size:16}),"Confirm Clock Out"]})]})]})]})}),o.jsx(_r,{isOpen:x,onClose:()=>y(!1),title:"Action Restricted",maxWidth:"max-w-md",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-lg flex items-start gap-3",children:[o.jsx(Xa,{className:"shrink-0 mt-0.5",size:20}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:"On Leave"}),o.jsx("p",{className:"text-sm mt-1",children:v})]})]}),o.jsx("p",{className:"text-text-secondary text-sm",children:"You cannot perform attendance actions on days you have approved leave. Please contact HR if this is a mistake."}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 transition-colors",children:"Understood"})})]})})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var $C={};$C.version="0.18.5";var Xoe=1252,VHe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Joe=function(e){VHe.indexOf(e)!=-1&&(Xoe=e)};function qHe(){Joe(1252)}var iN=function(e){Joe(e)};function WHe(){iN(1200),qHe()}var N5=function(t){return String.fromCharCode(t)},iY=function(t){return String.fromCharCode(t)},UC,nm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function oN(e){for(var t="",r=0,n=0,a=0,s=0,i=0,l=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),s=r>>2,n=e.charCodeAt(d++),i=(r&3)<<4|n>>4,a=e.charCodeAt(d++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=nm.charAt(s)+nm.charAt(i)+nm.charAt(l)+nm.charAt(c);return t}function Wh(e){var t="",r=0,n=0,a=0,s=0,i=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)s=nm.indexOf(e.charAt(d++)),i=nm.indexOf(e.charAt(d++)),r=s<<2|i>>4,t+=String.fromCharCode(r),l=nm.indexOf(e.charAt(d++)),n=(i&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=nm.indexOf(e.charAt(d++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var dn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),sp=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function nx(e){return dn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function oY(e){return dn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ud=function(t){return dn?sp(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function XE(e){if(typeof ArrayBuffer>"u")return Ud(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function ES(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function YHe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Vi=dn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:sp(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function GHe(e){for(var t=[],r=0,n=e.length+250,a=nx(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|l>>6&15|(i&3)<<4,a[r++]=128|l&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=nx(65535),n=65530)}return t.push(a.slice(0,r)),Vi(t)}var $2=/\u0000/g,S5=/[\u0001-\u0006]/g;function dv(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Xd(e,t){var r=""+e;return r.length>=t?r:Wa("0",t-r.length)+r}function zF(e,t){var r=""+e;return r.length>=t?r:Wa(" ",t-r.length)+r}function VC(e,t){var r=""+e;return r.length>=t?r:r+Wa(" ",t-r.length)}function KHe(e,t){var r=""+Math.round(e);return r.length>=t?r:Wa("0",t-r.length)+r}function XHe(e,t){var r=""+e;return r.length>=t?r:Wa("0",t-r.length)+r}var lY=Math.pow(2,32);function ny(e,t){if(e>lY||e<-lY)return KHe(e,t);var r=Math.round(e);return XHe(r,t)}function qC(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var cY=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],rM=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function JHe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Za={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},dY={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},QHe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function WC(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,l=0,c=1,d=0,u=0,f=Math.floor(a);d<t&&(f=Math.floor(a),l=f*i+s,u=f*d+c,!(a-f<5e-8));)a=1/(a-f),s=i,i=l,c=d,d=u;if(u>t&&(d>t?(u=c,l=s):(u=d,l=i)),!r)return[0,n*l,u];var p=Math.floor(n*l/u);return[p,n*l-p*u,u]}function j5(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=s$e(c,i))}return l.y=i[0],l.m=i[1],l.d=i[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var Qoe=new Date(1899,11,31,0,0,0),ZHe=Qoe.getTime(),e$e=new Date(1900,2,1,0,0,0);function Zoe(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=e$e&&(r+=24*60*60*1e3),(r-(ZHe+(e.getTimezoneOffset()-Qoe.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function BF(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function t$e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function r$e(e){var t=e<0?12:11,r=BF(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function n$e(e){var t=BF(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function a$e(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=r$e(e):t===10?r=e.toFixed(10).substr(0,12):r=n$e(e),BF(t$e(r.toUpperCase()))}function OP(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):a$e(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return qm(14,Zoe(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function s$e(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function i$e(e,t,r,n){var a="",s=0,i=0,l=r.y,c,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return rM[r.m-1][1];case 5:return rM[r.m-1][0];default:return rM[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return cY[r.q][0];default:return cY[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Xd(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=Xd(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?Xd(c,d):"";return u}function am(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var ele=/%/g;function o$e(e,t,r){var n=t.replace(ele,""),a=t.length-n.length;return Sh(e,n,r*Math.pow(10,2*a))+Wa("%",a)}function l$e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Sh(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function tle(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+tle(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+s)%a)+"."+u.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var rle=/# (\?+)( ?)\/( ?)(\d+)/;function c$e(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(i===0?Wa(" ",e[1].length+1+e[4].length):zF(i,e[1].length)+e[2]+"/"+e[3]+Xd(l,e[4].length))}function d$e(e,t,r){return r+(t===0?"":""+t)+Wa(" ",e[1].length+2+e[4].length)}var nle=/^#*0*\.([0#]+)/,ale=/\).*[0#]/,sle=/\(###\) ###\\?-####/;function Io(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function uY(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function fY(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function u$e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function f$e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Uc(e,t,r){if(e.charCodeAt(0)===40&&!t.match(ale)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Uc("n",n,r):"("+Uc("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return l$e(e,t,r);if(t.indexOf("%")!==-1)return o$e(e,t,r);if(t.indexOf("E")!==-1)return tle(t,r);if(t.charCodeAt(0)===36)return"$"+Uc(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+ny(c,t.length);if(t.match(/^[#?]+$/))return a=ny(r,0),a==="0"&&(a=""),a.length>t.length?a:Io(t.substr(0,t.length-a.length))+a;if(s=t.match(rle))return c$e(s,c,d);if(t.match(/^#+0+$/))return d+ny(c,t.length-t.indexOf("0"));if(s=t.match(nle))return a=uY(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Io(s[1])).replace(/\.$/,"."+Io(s[1])).replace(/\.(\d*)$/,function(m,g){return"."+g+Wa("0",Io(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return d+uY(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return d+am(ny(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Uc(e,t,-r):am(""+(Math.floor(r)+u$e(r,s[1].length)))+"."+Xd(fY(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Uc(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=dv(Uc(e,t.replace(/[\\-]/g,""),r)),i=0,dv(dv(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return i<a.length?a.charAt(i++):m==="0"?"0":""}));if(t.match(sle))return a=Uc(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=WC(c,Math.pow(10,i)-1,!1),a=""+d,u=Sh("n",s[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+s[2]+"/"+s[3],u=VC(l[2],i),u.length<s[4].length&&(u=Io(s[4].substr(s[4].length-u.length))+u),a+=u,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=WC(c,Math.pow(10,i)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?zF(l[1],i)+s[2]+"/"+s[3]+VC(l[2],i):Wa(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=ny(r,0),t.length<=a.length?a:Io(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,p=t.length-a.length-f;return Io(t.substr(0,f)+a+t.substr(t.length-p))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=fY(r,s[1].length),r<0?"-"+Uc(e,t,-r):am(f$e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Xd(0,3-m.length):"")+m})+"."+Xd(i,s[1].length);switch(t){case"###,##0.00":return Uc(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=am(ny(c,0));return h!=="0"?d+h:"";case"###,###.00":return Uc(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Uc(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function h$e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Sh(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function p$e(e,t,r){var n=t.replace(ele,""),a=t.length-n.length;return Sh(e,n,r*Math.pow(10,2*a))+Wa("%",a)}function ile(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+ile(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+s)%a)+"."+u.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Nu(e,t,r){if(e.charCodeAt(0)===40&&!t.match(ale)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Nu("n",n,r):"("+Nu("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return h$e(e,t,r);if(t.indexOf("%")!==-1)return p$e(e,t,r);if(t.indexOf("E")!==-1)return ile(t,r);if(t.charCodeAt(0)===36)return"$"+Nu(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Xd(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Io(t.substr(0,t.length-a.length))+a;if(s=t.match(rle))return d$e(s,c,d);if(t.match(/^#+0+$/))return d+Xd(c,t.length-t.indexOf("0"));if(s=t.match(nle))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Io(s[1])).replace(/\.$/,"."+Io(s[1])),a=a.replace(/\.(\d*)$/,function(m,g){return"."+g+Wa("0",Io(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return d+am(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Nu(e,t,-r):am(""+r)+"."+Wa("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Nu(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=dv(Nu(e,t.replace(/[\\-]/g,""),r)),i=0,dv(dv(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return i<a.length?a.charAt(i++):m==="0"?"0":""}));if(t.match(sle))return a=Nu(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=WC(c,Math.pow(10,i)-1,!1),a=""+d,u=Sh("n",s[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+s[2]+"/"+s[3],u=VC(l[2],i),u.length<s[4].length&&(u=Io(s[4].substr(s[4].length-u.length))+u),a+=u,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=WC(c,Math.pow(10,i)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?zF(l[1],i)+s[2]+"/"+s[3]+VC(l[2],i):Wa(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Io(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,p=t.length-a.length-f;return Io(t.substr(0,f)+a+t.substr(t.length-p))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Nu(e,t,-r):am(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Xd(0,3-m.length):"")+m})+"."+Xd(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=am(""+c);return h!=="0"?d+h:"";default:if(t.match(/\.[0#?]*$/))return Nu(e,t.slice(0,t.lastIndexOf(".")),r)+Io(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Sh(e,t,r){return(r|0)===r?Nu(e,t,r):Uc(e,t,r)}function m$e(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var ole=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function lle(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":qC(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(ole))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function g$e(e,t,r,n){for(var a=[],s="",i=0,l="",c="t",d,u,f,p="H";i<e.length;)switch(l=e.charAt(i)){case"G":if(!qC(e,i))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var h=e.charAt(++i),m=h==="("||h===")"?h:"t";a[a.length]={t:m,v:h},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(d==null&&(d=j5(t,r,e.charAt(i+1)==="2"),d==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},c=l,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=j5(t,r),d==null))return"";for(s=l;++i<e.length&&e.charAt(i).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=p),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var g={t:l,v:l};if(d==null&&(d=j5(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(d!=null&&(g.v=d.H>=12?"P":"A"),g.t="T",p="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(d!=null&&(g.v=d.H>=12?"PM":"AM"),g.t="T",i+=5,p="h"):e.substr(i,5).toUpperCase()==="/"?(d!=null&&(g.v=d.H>=12?"":""),g.t="T",i+=5,p="h"):(g.t="t",++i),d==null&&g.t==="T")return"";a[a.length]=g,c=l;break;case"[":for(s=l;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(ole)){if(d==null&&(d=j5(t,r),d==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",lle(e)||(a[a.length]={t:"t",v:s}));break;case".":if(d!=null){for(s=l;++i<e.length&&(l=e.charAt(i))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++i<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(i))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++i)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++i;break}var x=0,y=0,v;for(i=a.length-1,c="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=p,c="h",x<1&&(x=1);break;case"s":(v=a[i].v.match(/\.0+$/))&&(y=Math.max(y,v[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[i].t;break;case"m":c==="s"&&(a[i].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[i].v.match(/[Hh]/)&&(x=1),x<2&&a[i].v.match(/[Mm]/)&&(x=2),x<3&&a[i].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var w="",N;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=i$e(a[i].t.charCodeAt(0),a[i].v,d,y),a[i].t="t";break;case"n":case"?":for(N=i+1;a[N]!=null&&((l=a[N].t)==="?"||l==="D"||(l===" "||l==="t")&&a[N+1]!=null&&(a[N+1].t==="?"||a[N+1].t==="t"&&a[N+1].v==="/")||a[i].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[N].v==="/"||a[N].v===" "&&a[N+1]!=null&&a[N+1].t=="?"));)a[i].v+=a[N].v,a[N]={v:"",t:";"},++N;w+=a[i].v,i=N-1;break;case"G":a[i].t="t",a[i].v=OP(t,r);break}var C="",_,S;if(w.length>0){w.charCodeAt(0)==40?(_=t<0&&w.charCodeAt(0)===45?-t:t,S=Sh("n",w,_)):(_=t<0&&n>1?-t:t,S=Sh("n",w,_),_<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),N=S.length-1;var k=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){k=i;break}var A=a.length;if(k===a.length&&S.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(N>=a[i].v.length-1?(N-=a[i].v.length,a[i].v=S.substr(N+1,a[i].v.length)):N<0?a[i].v="":(a[i].v=S.substr(0,N+1),N=-1),a[i].t="t",A=i);N>=0&&A<a.length&&(a[A].v=S.substr(0,N+1)+a[A].v)}else if(k!==a.length&&S.indexOf("E")===-1){for(N=S.indexOf(".")-1,i=k;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(u=a[i].v.indexOf(".")>-1&&i===k?a[i].v.indexOf(".")-1:a[i].v.length-1,C=a[i].v.substr(u+1);u>=0;--u)N>=0&&(a[i].v.charAt(u)==="0"||a[i].v.charAt(u)==="#")&&(C=S.charAt(N--)+C);a[i].v=C,a[i].t="t",A=i}for(N>=0&&A<a.length&&(a[A].v=S.substr(0,N+1)+a[A].v),N=S.indexOf(".")+1,i=k;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==k)){for(u=a[i].v.indexOf(".")>-1&&i===k?a[i].v.indexOf(".")+1:0,C=a[i].v.substr(0,u);u<a[i].v.length;++u)N<S.length&&(C+=S.charAt(N++));a[i].v=C,a[i].t="t",A=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(_=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=Sh(a[i].t,a[i].v,_),a[i].t="t");var O="";for(i=0;i!==a.length;++i)a[i]!=null&&(O+=a[i].v);return O}var hY=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function pY(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function x$e(e,t){var r=m$e(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(hY),l=r[1].match(hY);return pY(t,i)?[n,r[0]]:pY(t,l)?[n,r[1]]:[n,r[i!=null&&l!=null?2:1]]}return[n,s]}function qm(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Za)[e],n==null&&(n=r.table&&r.table[dY[e]]||Za[dY[e]]),n==null&&(n=QHe[e]||"General");break}if(qC(n,0))return OP(t,r);t instanceof Date&&(t=Zoe(t,r.date1904));var a=x$e(n,t);if(qC(a[1]))return OP(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return g$e(a[1],t,r,a[0])}function cle(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Za[r]==null){t<0&&(t=r);continue}if(Za[r]==e){t=r;break}}t<0&&(t=391)}return Za[t]=e,t}function JE(e){for(var t=0;t!=392;++t)e[t]!==void 0&&cle(e[t],t)}function QE(){Za=JHe()}var dle=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function y$e(e){var t=typeof e=="number"?Za[e]:e;return t=t.replace(dle,"(\\d+)"),new RegExp("^"+t+"$")}function v$e(e,t,r){var n=-1,a=-1,s=-1,i=-1,l=-1,c=-1;(t.match(dle)||[]).forEach(function(f,p){var h=parseInt(r[p+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=h;break;case"d":s=h;break;case"h":i=h;break;case"s":c=h;break;case"m":i>=0?l=h:a=h;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var d=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&l==-1&&c==-1?d:n==-1&&a==-1&&s==-1?u:d+"T"+u}var b$e=function(){var e={};e.version="1.2.0";function t(){for(var S=0,k=new Array(256),A=0;A!=256;++A)S=A,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,k[A]=S;return typeof Int32Array<"u"?new Int32Array(k):k}var r=t();function n(S){var k=0,A=0,O=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)D[O]=S[O];for(O=0;O!=256;++O)for(A=S[O],k=256+O;k<4096;k+=256)A=D[k]=A>>>8^S[A&255];var M=[];for(O=1;O!=16;++O)M[O-1]=typeof Int32Array<"u"?D.subarray(O*256,O*256+256):D.slice(O*256,O*256+256);return M}var a=n(r),s=a[0],i=a[1],l=a[2],c=a[3],d=a[4],u=a[5],f=a[6],p=a[7],h=a[8],m=a[9],g=a[10],x=a[11],y=a[12],v=a[13],w=a[14];function N(S,k){for(var A=k^-1,O=0,D=S.length;O<D;)A=A>>>8^r[(A^S.charCodeAt(O++))&255];return~A}function C(S,k){for(var A=k^-1,O=S.length-15,D=0;D<O;)A=w[S[D++]^A&255]^v[S[D++]^A>>8&255]^y[S[D++]^A>>16&255]^x[S[D++]^A>>>24]^g[S[D++]]^m[S[D++]]^h[S[D++]]^p[S[D++]]^f[S[D++]]^u[S[D++]]^d[S[D++]]^c[S[D++]]^l[S[D++]]^i[S[D++]]^s[S[D++]]^r[S[D++]];for(O+=15;D<O;)A=A>>>8^r[(A^S[D++])&255];return~A}function _(S,k){for(var A=k^-1,O=0,D=S.length,M=0,I=0;O<D;)M=S.charCodeAt(O++),M<128?A=A>>>8^r[(A^M)&255]:M<2048?(A=A>>>8^r[(A^(192|M>>6&31))&255],A=A>>>8^r[(A^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,I=S.charCodeAt(O++)&1023,A=A>>>8^r[(A^(240|M>>8&7))&255],A=A>>>8^r[(A^(128|M>>2&63))&255],A=A>>>8^r[(A^(128|I>>6&15|(M&3)<<4))&255],A=A>>>8^r[(A^(128|I&63))&255]):(A=A>>>8^r[(A^(224|M>>12&15))&255],A=A>>>8^r[(A^(128|M>>6&63))&255],A=A>>>8^r[(A^(128|M&63))&255]);return~A}return e.table=r,e.bstr=N,e.buf=C,e.str=_,e}(),Rn=function(){var t={};t.version="1.2.1";function r(K,de){for(var re=K.split("/"),ne=de.split("/"),ie=0,le=0,ke=Math.min(re.length,ne.length);ie<ke;++ie){if(le=re[ie].length-ne[ie].length)return le;if(re[ie]!=ne[ie])return re[ie]<ne[ie]?-1:1}return re.length-ne.length}function n(K){if(K.charAt(K.length-1)=="/")return K.slice(0,-1).indexOf("/")===-1?K:n(K.slice(0,-1));var de=K.lastIndexOf("/");return de===-1?K:K.slice(0,de+1)}function a(K){if(K.charAt(K.length-1)=="/")return a(K.slice(0,-1));var de=K.lastIndexOf("/");return de===-1?K:K.slice(de+1)}function s(K,de){typeof de=="string"&&(de=new Date(de));var re=de.getHours();re=re<<6|de.getMinutes(),re=re<<5|de.getSeconds()>>>1,K.write_shift(2,re);var ne=de.getFullYear()-1980;ne=ne<<4|de.getMonth()+1,ne=ne<<5|de.getDate(),K.write_shift(2,ne)}function i(K){var de=K.read_shift(2)&65535,re=K.read_shift(2)&65535,ne=new Date,ie=re&31;re>>>=5;var le=re&15;re>>>=4,ne.setMilliseconds(0),ne.setFullYear(re+1980),ne.setMonth(le-1),ne.setDate(ie);var ke=de&31;de>>>=5;var Re=de&63;return de>>>=6,ne.setHours(de),ne.setMinutes(Re),ne.setSeconds(ke<<1),ne}function l(K){Jl(K,0);for(var de={},re=0;K.l<=K.length-4;){var ne=K.read_shift(2),ie=K.read_shift(2),le=K.l+ie,ke={};switch(ne){case 21589:re=K.read_shift(1),re&1&&(ke.mtime=K.read_shift(4)),ie>5&&(re&2&&(ke.atime=K.read_shift(4)),re&4&&(ke.ctime=K.read_shift(4))),ke.mtime&&(ke.mt=new Date(ke.mtime*1e3));break}K.l=le,de[ne]=ke}return de}var c;function d(){return c||(c={})}function u(K,de){if(K[0]==80&&K[1]==75)return Rt(K,de);if((K[0]|32)==109&&(K[1]|32)==105)return yt(K,de);if(K.length<512)throw new Error("CFB file size "+K.length+" < 512");var re=3,ne=512,ie=0,le=0,ke=0,Re=0,Le=0,De=[],Ee=K.slice(0,512);Jl(Ee,0);var Je=f(Ee);switch(re=Je[0],re){case 3:ne=512;break;case 4:ne=4096;break;case 0:if(Je[1]==0)return Rt(K,de);default:throw new Error("Major Version: Expected 3 or 4 saw "+re)}ne!==512&&(Ee=K.slice(0,ne),Jl(Ee,28));var ut=K.slice(0,ne);p(Ee,re);var Ct=Ee.read_shift(4,"i");if(re===3&&Ct!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ct);Ee.l+=4,ke=Ee.read_shift(4,"i"),Ee.l+=4,Ee.chk("00100000","Mini Stream Cutoff Size: "),Re=Ee.read_shift(4,"i"),ie=Ee.read_shift(4,"i"),Le=Ee.read_shift(4,"i"),le=Ee.read_shift(4,"i");for(var pt=-1,xt=0;xt<109&&(pt=Ee.read_shift(4,"i"),!(pt<0));++xt)De[xt]=pt;var Pt=h(K,ne);x(Le,le,Pt,ne,De);var wr=v(Pt,ke,De,ne);wr[ke].name="!Directory",ie>0&&Re!==I&&(wr[Re].name="!MiniFAT"),wr[De[0]].name="!FAT",wr.fat_addrs=De,wr.ssz=ne;var pr={},pn=[],rs=[],or=[];w(ke,wr,Pt,pn,ie,pr,rs,Re),m(rs,or,pn),pn.shift();var Ir={FileIndex:rs,FullPaths:or};return de&&de.raw&&(Ir.raw={header:ut,sectors:Pt}),Ir}function f(K){if(K[K.l]==80&&K[K.l+1]==75)return[0,0];K.chk(z,"Header Signature: "),K.l+=16;var de=K.read_shift(2,"u");return[K.read_shift(2,"u"),de]}function p(K,de){var re=9;switch(K.l+=2,re=K.read_shift(2)){case 9:if(de!=3)throw new Error("Sector Shift: Expected 9 saw "+re);break;case 12:if(de!=4)throw new Error("Sector Shift: Expected 12 saw "+re);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+re)}K.chk("0600","Mini Sector Shift: "),K.chk("000000000000","Reserved: ")}function h(K,de){for(var re=Math.ceil(K.length/de)-1,ne=[],ie=1;ie<re;++ie)ne[ie-1]=K.slice(ie*de,(ie+1)*de);return ne[re-1]=K.slice(re*de),ne}function m(K,de,re){for(var ne=0,ie=0,le=0,ke=0,Re=0,Le=re.length,De=[],Ee=[];ne<Le;++ne)De[ne]=Ee[ne]=ne,de[ne]=re[ne];for(;Re<Ee.length;++Re)ne=Ee[Re],ie=K[ne].L,le=K[ne].R,ke=K[ne].C,De[ne]===ne&&(ie!==-1&&De[ie]!==ie&&(De[ne]=De[ie]),le!==-1&&De[le]!==le&&(De[ne]=De[le])),ke!==-1&&(De[ke]=ne),ie!==-1&&ne!=De[ne]&&(De[ie]=De[ne],Ee.lastIndexOf(ie)<Re&&Ee.push(ie)),le!==-1&&ne!=De[ne]&&(De[le]=De[ne],Ee.lastIndexOf(le)<Re&&Ee.push(le));for(ne=1;ne<Le;++ne)De[ne]===ne&&(le!==-1&&De[le]!==le?De[ne]=De[le]:ie!==-1&&De[ie]!==ie&&(De[ne]=De[ie]));for(ne=1;ne<Le;++ne)if(K[ne].type!==0){if(Re=ne,Re!=De[Re])do Re=De[Re],de[ne]=de[Re]+"/"+de[ne];while(Re!==0&&De[Re]!==-1&&Re!=De[Re]);De[ne]=-1}for(de[0]+="/",ne=1;ne<Le;++ne)K[ne].type!==2&&(de[ne]+="/")}function g(K,de,re){for(var ne=K.start,ie=K.size,le=[],ke=ne;re&&ie>0&&ke>=0;)le.push(de.slice(ke*M,ke*M+M)),ie-=M,ke=G0(re,ke*4);return le.length===0?et(0):Vi(le).slice(0,K.size)}function x(K,de,re,ne,ie){var le=I;if(K===I){if(de!==0)throw new Error("DIFAT chain shorter than expected")}else if(K!==-1){var ke=re[K],Re=(ne>>>2)-1;if(!ke)return;for(var Le=0;Le<Re&&(le=G0(ke,Le*4))!==I;++Le)ie.push(le);x(G0(ke,ne-4),de-1,re,ne,ie)}}function y(K,de,re,ne,ie){var le=[],ke=[];ie||(ie=[]);var Re=ne-1,Le=0,De=0;for(Le=de;Le>=0;){ie[Le]=!0,le[le.length]=Le,ke.push(K[Le]);var Ee=re[Math.floor(Le*4/ne)];if(De=Le*4&Re,ne<4+De)throw new Error("FAT boundary crossed: "+Le+" 4 "+ne);if(!K[Ee])break;Le=G0(K[Ee],De)}return{nodes:le,data:NY([ke])}}function v(K,de,re,ne){var ie=K.length,le=[],ke=[],Re=[],Le=[],De=ne-1,Ee=0,Je=0,ut=0,Ct=0;for(Ee=0;Ee<ie;++Ee)if(Re=[],ut=Ee+de,ut>=ie&&(ut-=ie),!ke[ut]){Le=[];var pt=[];for(Je=ut;Je>=0;){pt[Je]=!0,ke[Je]=!0,Re[Re.length]=Je,Le.push(K[Je]);var xt=re[Math.floor(Je*4/ne)];if(Ct=Je*4&De,ne<4+Ct)throw new Error("FAT boundary crossed: "+Je+" 4 "+ne);if(!K[xt]||(Je=G0(K[xt],Ct),pt[Je]))break}le[ut]={nodes:Re,data:NY([Le])}}return le}function w(K,de,re,ne,ie,le,ke,Re){for(var Le=0,De=ne.length?2:0,Ee=de[K].data,Je=0,ut=0,Ct;Je<Ee.length;Je+=128){var pt=Ee.slice(Je,Je+128);Jl(pt,64),ut=pt.read_shift(2),Ct=qF(pt,0,ut-De),ne.push(Ct);var xt={name:Ct,type:pt.read_shift(1),color:pt.read_shift(1),L:pt.read_shift(4,"i"),R:pt.read_shift(4,"i"),C:pt.read_shift(4,"i"),clsid:pt.read_shift(16),state:pt.read_shift(4,"i"),start:0,size:0},Pt=pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2);Pt!==0&&(xt.ct=N(pt,pt.l-8));var wr=pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2);wr!==0&&(xt.mt=N(pt,pt.l-8)),xt.start=pt.read_shift(4,"i"),xt.size=pt.read_shift(4,"i"),xt.size<0&&xt.start<0&&(xt.size=xt.type=0,xt.start=I,xt.name=""),xt.type===5?(Le=xt.start,ie>0&&Le!==I&&(de[Le].name="!StreamData")):xt.size>=4096?(xt.storage="fat",de[xt.start]===void 0&&(de[xt.start]=y(re,xt.start,de.fat_addrs,de.ssz)),de[xt.start].name=xt.name,xt.content=de[xt.start].data.slice(0,xt.size)):(xt.storage="minifat",xt.size<0?xt.size=0:Le!==I&&xt.start!==I&&de[Le]&&(xt.content=g(xt,de[Le].data,(de[Re]||{}).data))),xt.content&&Jl(xt.content,0),le[Ct]=xt,ke.push(xt)}}function N(K,de){return new Date((rc(K,de+4)/1e7*Math.pow(2,32)+rc(K,de)/1e7-11644473600)*1e3)}function C(K,de){return d(),u(c.readFileSync(K),de)}function _(K,de){var re=de&&de.type;switch(re||dn&&Buffer.isBuffer(K)&&(re="buffer"),re||"base64"){case"file":return C(K,de);case"base64":return u(Ud(Wh(K)),de);case"binary":return u(Ud(K),de)}return u(K,de)}function S(K,de){var re=de||{},ne=re.root||"Root Entry";if(K.FullPaths||(K.FullPaths=[]),K.FileIndex||(K.FileIndex=[]),K.FullPaths.length!==K.FileIndex.length)throw new Error("inconsistent CFB structure");K.FullPaths.length===0&&(K.FullPaths[0]=ne+"/",K.FileIndex[0]={name:ne,type:5}),re.CLSID&&(K.FileIndex[0].clsid=re.CLSID),k(K)}function k(K){var de="Sh33tJ5";if(!Rn.find(K,"/"+de)){var re=et(4);re[0]=55,re[1]=re[3]=50,re[2]=54,K.FileIndex.push({name:de,type:2,content:re,size:4,L:69,R:69,C:69}),K.FullPaths.push(K.FullPaths[0]+de),A(K)}}function A(K,de){S(K);for(var re=!1,ne=!1,ie=K.FullPaths.length-1;ie>=0;--ie){var le=K.FileIndex[ie];switch(le.type){case 0:ne?re=!0:(K.FileIndex.pop(),K.FullPaths.pop());break;case 1:case 2:case 5:ne=!0,isNaN(le.R*le.L*le.C)&&(re=!0),le.R>-1&&le.L>-1&&le.R==le.L&&(re=!0);break;default:re=!0;break}}if(!(!re&&!de)){var ke=new Date(1987,1,19),Re=0,Le=Object.create?Object.create(null):{},De=[];for(ie=0;ie<K.FullPaths.length;++ie)Le[K.FullPaths[ie]]=!0,K.FileIndex[ie].type!==0&&De.push([K.FullPaths[ie],K.FileIndex[ie]]);for(ie=0;ie<De.length;++ie){var Ee=n(De[ie][0]);ne=Le[Ee],ne||(De.push([Ee,{name:a(Ee).replace("/",""),type:1,clsid:X,ct:ke,mt:ke,content:null}]),Le[Ee]=!0)}for(De.sort(function(Ct,pt){return r(Ct[0],pt[0])}),K.FullPaths=[],K.FileIndex=[],ie=0;ie<De.length;++ie)K.FullPaths[ie]=De[ie][0],K.FileIndex[ie]=De[ie][1];for(ie=0;ie<De.length;++ie){var Je=K.FileIndex[ie],ut=K.FullPaths[ie];if(Je.name=a(ut).replace("/",""),Je.L=Je.R=Je.C=-(Je.color=1),Je.size=Je.content?Je.content.length:0,Je.start=0,Je.clsid=Je.clsid||X,ie===0)Je.C=De.length>1?1:-1,Je.size=0,Je.type=5;else if(ut.slice(-1)=="/"){for(Re=ie+1;Re<De.length&&n(K.FullPaths[Re])!=ut;++Re);for(Je.C=Re>=De.length?-1:Re,Re=ie+1;Re<De.length&&n(K.FullPaths[Re])!=n(ut);++Re);Je.R=Re>=De.length?-1:Re,Je.type=1}else n(K.FullPaths[ie+1]||"")==n(ut)&&(Je.R=ie+1),Je.type=2}}}function O(K,de){var re=de||{};if(re.fileType=="mad")return br(K,re);switch(A(K),re.fileType){case"zip":return ir(K,re)}var ne=function(Ct){for(var pt=0,xt=0,Pt=0;Pt<Ct.FileIndex.length;++Pt){var wr=Ct.FileIndex[Pt];if(wr.content){var pr=wr.content.length;pr>0&&(pr<4096?pt+=pr+63>>6:xt+=pr+511>>9)}}for(var pn=Ct.FullPaths.length+3>>2,rs=pt+7>>3,or=pt+127>>7,Ir=rs+xt+pn+or,ma=Ir+127>>7,ja=ma<=109?0:Math.ceil((ma-109)/127);Ir+ma+ja+127>>7>ma;)ja=++ma<=109?0:Math.ceil((ma-109)/127);var Dr=[1,ja,ma,or,pn,xt,pt,0];return Ct.FileIndex[0].size=pt<<6,Dr[7]=(Ct.FileIndex[0].start=Dr[0]+Dr[1]+Dr[2]+Dr[3]+Dr[4]+Dr[5])+(Dr[6]+7>>3),Dr}(K),ie=et(ne[7]<<9),le=0,ke=0;{for(le=0;le<8;++le)ie.write_shift(1,Y[le]);for(le=0;le<8;++le)ie.write_shift(2,0);for(ie.write_shift(2,62),ie.write_shift(2,3),ie.write_shift(2,65534),ie.write_shift(2,9),ie.write_shift(2,6),le=0;le<3;++le)ie.write_shift(2,0);for(ie.write_shift(4,0),ie.write_shift(4,ne[2]),ie.write_shift(4,ne[0]+ne[1]+ne[2]+ne[3]-1),ie.write_shift(4,0),ie.write_shift(4,4096),ie.write_shift(4,ne[3]?ne[0]+ne[1]+ne[2]-1:I),ie.write_shift(4,ne[3]),ie.write_shift(-4,ne[1]?ne[0]-1:I),ie.write_shift(4,ne[1]),le=0;le<109;++le)ie.write_shift(-4,le<ne[2]?ne[1]+le:-1)}if(ne[1])for(ke=0;ke<ne[1];++ke){for(;le<236+ke*127;++le)ie.write_shift(-4,le<ne[2]?ne[1]+le:-1);ie.write_shift(-4,ke===ne[1]-1?I:ke+1)}var Re=function(Ct){for(ke+=Ct;le<ke-1;++le)ie.write_shift(-4,le+1);Ct&&(++le,ie.write_shift(-4,I))};for(ke=le=0,ke+=ne[1];le<ke;++le)ie.write_shift(-4,V.DIFSECT);for(ke+=ne[2];le<ke;++le)ie.write_shift(-4,V.FATSECT);Re(ne[3]),Re(ne[4]);for(var Le=0,De=0,Ee=K.FileIndex[0];Le<K.FileIndex.length;++Le)Ee=K.FileIndex[Le],Ee.content&&(De=Ee.content.length,!(De<4096)&&(Ee.start=ke,Re(De+511>>9)));for(Re(ne[6]+7>>3);ie.l&511;)ie.write_shift(-4,V.ENDOFCHAIN);for(ke=le=0,Le=0;Le<K.FileIndex.length;++Le)Ee=K.FileIndex[Le],Ee.content&&(De=Ee.content.length,!(!De||De>=4096)&&(Ee.start=ke,Re(De+63>>6)));for(;ie.l&511;)ie.write_shift(-4,V.ENDOFCHAIN);for(le=0;le<ne[4]<<2;++le){var Je=K.FullPaths[le];if(!Je||Je.length===0){for(Le=0;Le<17;++Le)ie.write_shift(4,0);for(Le=0;Le<3;++Le)ie.write_shift(4,-1);for(Le=0;Le<12;++Le)ie.write_shift(4,0);continue}Ee=K.FileIndex[le],le===0&&(Ee.start=Ee.size?Ee.start-1:I);var ut=le===0&&re.root||Ee.name;if(De=2*(ut.length+1),ie.write_shift(64,ut,"utf16le"),ie.write_shift(2,De),ie.write_shift(1,Ee.type),ie.write_shift(1,Ee.color),ie.write_shift(-4,Ee.L),ie.write_shift(-4,Ee.R),ie.write_shift(-4,Ee.C),Ee.clsid)ie.write_shift(16,Ee.clsid,"hex");else for(Le=0;Le<4;++Le)ie.write_shift(4,0);ie.write_shift(4,Ee.state||0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,Ee.start),ie.write_shift(4,Ee.size),ie.write_shift(4,0)}for(le=1;le<K.FileIndex.length;++le)if(Ee=K.FileIndex[le],Ee.size>=4096)if(ie.l=Ee.start+1<<9,dn&&Buffer.isBuffer(Ee.content))Ee.content.copy(ie,ie.l,0,Ee.size),ie.l+=Ee.size+511&-512;else{for(Le=0;Le<Ee.size;++Le)ie.write_shift(1,Ee.content[Le]);for(;Le&511;++Le)ie.write_shift(1,0)}for(le=1;le<K.FileIndex.length;++le)if(Ee=K.FileIndex[le],Ee.size>0&&Ee.size<4096)if(dn&&Buffer.isBuffer(Ee.content))Ee.content.copy(ie,ie.l,0,Ee.size),ie.l+=Ee.size+63&-64;else{for(Le=0;Le<Ee.size;++Le)ie.write_shift(1,Ee.content[Le]);for(;Le&63;++Le)ie.write_shift(1,0)}if(dn)ie.l=ie.length;else for(;ie.l<ie.length;)ie.write_shift(1,0);return ie}function D(K,de){var re=K.FullPaths.map(function(Le){return Le.toUpperCase()}),ne=re.map(function(Le){var De=Le.split("/");return De[De.length-(Le.slice(-1)=="/"?2:1)]}),ie=!1;de.charCodeAt(0)===47?(ie=!0,de=re[0].slice(0,-1)+de):ie=de.indexOf("/")!==-1;var le=de.toUpperCase(),ke=ie===!0?re.indexOf(le):ne.indexOf(le);if(ke!==-1)return K.FileIndex[ke];var Re=!le.match(S5);for(le=le.replace($2,""),Re&&(le=le.replace(S5,"!")),ke=0;ke<re.length;++ke)if((Re?re[ke].replace(S5,"!"):re[ke]).replace($2,"")==le||(Re?ne[ke].replace(S5,"!"):ne[ke]).replace($2,"")==le)return K.FileIndex[ke];return null}var M=64,I=-2,z="d0cf11e0a1b11ae1",Y=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",V={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:I,FREESECT:-1,HEADER_SIGNATURE:z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function G(K,de,re){d();var ne=O(K,re);c.writeFileSync(de,ne)}function J(K){for(var de=new Array(K.length),re=0;re<K.length;++re)de[re]=String.fromCharCode(K[re]);return de.join("")}function B(K,de){var re=O(K,de);switch(de&&de.type||"buffer"){case"file":return d(),c.writeFileSync(de.filename,re),re;case"binary":return typeof re=="string"?re:J(re);case"base64":return oN(typeof re=="string"?re:J(re));case"buffer":if(dn)return Buffer.isBuffer(re)?re:sp(re);case"array":return typeof re=="string"?Ud(re):re}return re}var q;function T(K){try{var de=K.InflateRaw,re=new de;if(re._processChunk(new Uint8Array([3,0]),re._finishFlushFlag),re.bytesRead)q=K;else throw new Error("zlib does not expose bytesRead")}catch(ne){console.error("cannot use native zlib: "+(ne.message||ne))}}function R(K,de){if(!q)return It(K,de);var re=q.InflateRaw,ne=new re,ie=ne._processChunk(K.slice(K.l),ne._finishFlushFlag);return K.l+=ne.bytesRead,ie}function F(K){return q?q.deflateRawSync(K):zt(K)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],te=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function pe(K){var de=(K<<1|K<<11)&139536|(K<<5|K<<15)&558144;return(de>>16|de>>8|de)&255}for(var se=typeof Uint8Array<"u",ce=se?new Uint8Array(256):[],Ne=0;Ne<256;++Ne)ce[Ne]=pe(Ne);function he(K,de){var re=ce[K&255];return de<=8?re>>>8-de:(re=re<<8|ce[K>>8&255],de<=16?re>>>16-de:(re=re<<8|ce[K>>16&255],re>>>24-de))}function ze(K,de){var re=de&7,ne=de>>>3;return(K[ne]|(re<=6?0:K[ne+1]<<8))>>>re&3}function Pe(K,de){var re=de&7,ne=de>>>3;return(K[ne]|(re<=5?0:K[ne+1]<<8))>>>re&7}function ee(K,de){var re=de&7,ne=de>>>3;return(K[ne]|(re<=4?0:K[ne+1]<<8))>>>re&15}function We(K,de){var re=de&7,ne=de>>>3;return(K[ne]|(re<=3?0:K[ne+1]<<8))>>>re&31}function be(K,de){var re=de&7,ne=de>>>3;return(K[ne]|(re<=1?0:K[ne+1]<<8))>>>re&127}function wt(K,de,re){var ne=de&7,ie=de>>>3,le=(1<<re)-1,ke=K[ie]>>>ne;return re<8-ne||(ke|=K[ie+1]<<8-ne,re<16-ne)||(ke|=K[ie+2]<<16-ne,re<24-ne)||(ke|=K[ie+3]<<24-ne),ke&le}function Qe(K,de,re){var ne=de&7,ie=de>>>3;return ne<=5?K[ie]|=(re&7)<<ne:(K[ie]|=re<<ne&255,K[ie+1]=(re&7)>>8-ne),de+3}function me(K,de,re){var ne=de&7,ie=de>>>3;return re=(re&1)<<ne,K[ie]|=re,de+1}function we(K,de,re){var ne=de&7,ie=de>>>3;return re<<=ne,K[ie]|=re&255,re>>>=8,K[ie+1]=re,de+8}function Me(K,de,re){var ne=de&7,ie=de>>>3;return re<<=ne,K[ie]|=re&255,re>>>=8,K[ie+1]=re&255,K[ie+2]=re>>>8,de+16}function Ge(K,de){var re=K.length,ne=2*re>de?2*re:de+5,ie=0;if(re>=de)return K;if(dn){var le=oY(ne);if(K.copy)K.copy(le);else for(;ie<K.length;++ie)le[ie]=K[ie];return le}else if(se){var ke=new Uint8Array(ne);if(ke.set)ke.set(K);else for(;ie<re;++ie)ke[ie]=K[ie];return ke}return K.length=ne,K}function Xe(K){for(var de=new Array(K),re=0;re<K;++re)de[re]=0;return de}function Ve(K,de,re){var ne=1,ie=0,le=0,ke=0,Re=0,Le=K.length,De=se?new Uint16Array(32):Xe(32);for(le=0;le<32;++le)De[le]=0;for(le=Le;le<re;++le)K[le]=0;Le=K.length;var Ee=se?new Uint16Array(Le):Xe(Le);for(le=0;le<Le;++le)De[ie=K[le]]++,ne<ie&&(ne=ie),Ee[le]=0;for(De[0]=0,le=1;le<=ne;++le)De[le+16]=Re=Re+De[le-1]<<1;for(le=0;le<Le;++le)Re=K[le],Re!=0&&(Ee[le]=De[Re+16]++);var Je=0;for(le=0;le<Le;++le)if(Je=K[le],Je!=0)for(Re=he(Ee[le],ne)>>ne-Je,ke=(1<<ne+4-Je)-1;ke>=0;--ke)de[Re|ke<<Je]=Je&15|le<<4;return ne}var st=se?new Uint16Array(512):Xe(512),Nt=se?new Uint16Array(32):Xe(32);if(!se){for(var _t=0;_t<512;++_t)st[_t]=0;for(_t=0;_t<32;++_t)Nt[_t]=0}(function(){for(var K=[],de=0;de<32;de++)K.push(5);Ve(K,Nt,32);var re=[];for(de=0;de<=143;de++)re.push(8);for(;de<=255;de++)re.push(9);for(;de<=279;de++)re.push(7);for(;de<=287;de++)re.push(8);Ve(re,st,288)})();var vt=function(){for(var de=se?new Uint8Array(32768):[],re=0,ne=0;re<te.length-1;++re)for(;ne<te[re+1];++ne)de[ne]=re;for(;ne<32768;++ne)de[ne]=29;var ie=se?new Uint8Array(259):[];for(re=0,ne=0;re<W.length-1;++re)for(;ne<W[re+1];++ne)ie[ne]=re;function le(Re,Le){for(var De=0;De<Re.length;){var Ee=Math.min(65535,Re.length-De),Je=De+Ee==Re.length;for(Le.write_shift(1,+Je),Le.write_shift(2,Ee),Le.write_shift(2,~Ee&65535);Ee-- >0;)Le[Le.l++]=Re[De++]}return Le.l}function ke(Re,Le){for(var De=0,Ee=0,Je=se?new Uint16Array(32768):[];Ee<Re.length;){var ut=Math.min(65535,Re.length-Ee);if(ut<10){for(De=Qe(Le,De,+(Ee+ut==Re.length)),De&7&&(De+=8-(De&7)),Le.l=De/8|0,Le.write_shift(2,ut),Le.write_shift(2,~ut&65535);ut-- >0;)Le[Le.l++]=Re[Ee++];De=Le.l*8;continue}De=Qe(Le,De,+(Ee+ut==Re.length)+2);for(var Ct=0;ut-- >0;){var pt=Re[Ee];Ct=(Ct<<5^pt)&32767;var xt=-1,Pt=0;if((xt=Je[Ct])&&(xt|=Ee&-32768,xt>Ee&&(xt-=32768),xt<Ee))for(;Re[xt+Pt]==Re[Ee+Pt]&&Pt<250;)++Pt;if(Pt>2){pt=ie[Pt],pt<=22?De=we(Le,De,ce[pt+1]>>1)-1:(we(Le,De,3),De+=5,we(Le,De,ce[pt-23]>>5),De+=3);var wr=pt<8?0:pt-4>>2;wr>0&&(Me(Le,De,Pt-W[pt]),De+=wr),pt=de[Ee-xt],De=we(Le,De,ce[pt]>>3),De-=3;var pr=pt<4?0:pt-2>>1;pr>0&&(Me(Le,De,Ee-xt-te[pt]),De+=pr);for(var pn=0;pn<Pt;++pn)Je[Ct]=Ee&32767,Ct=(Ct<<5^Re[Ee])&32767,++Ee;ut-=Pt-1}else pt<=143?pt=pt+48:De=me(Le,De,1),De=we(Le,De,ce[pt]),Je[Ct]=Ee&32767,++Ee}De=we(Le,De,0)-1}return Le.l=(De+7)/8|0,Le.l}return function(Le,De){return Le.length<8?le(Le,De):ke(Le,De)}}();function zt(K){var de=et(50+Math.floor(K.length*1.1)),re=vt(K,de);return de.slice(0,re)}var At=se?new Uint16Array(32768):Xe(32768),cr=se?new Uint16Array(32768):Xe(32768),er=se?new Uint16Array(128):Xe(128),Gt=1,ar=1;function Ke(K,de){var re=We(K,de)+257;de+=5;var ne=We(K,de)+1;de+=5;var ie=ee(K,de)+4;de+=4;for(var le=0,ke=se?new Uint8Array(19):Xe(19),Re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Le=1,De=se?new Uint8Array(8):Xe(8),Ee=se?new Uint8Array(8):Xe(8),Je=ke.length,ut=0;ut<ie;++ut)ke[H[ut]]=le=Pe(K,de),Le<le&&(Le=le),De[le]++,de+=3;var Ct=0;for(De[0]=0,ut=1;ut<=Le;++ut)Ee[ut]=Ct=Ct+De[ut-1]<<1;for(ut=0;ut<Je;++ut)(Ct=ke[ut])!=0&&(Re[ut]=Ee[Ct]++);var pt=0;for(ut=0;ut<Je;++ut)if(pt=ke[ut],pt!=0){Ct=ce[Re[ut]]>>8-pt;for(var xt=(1<<7-pt)-1;xt>=0;--xt)er[Ct|xt<<pt]=pt&7|ut<<3}var Pt=[];for(Le=1;Pt.length<re+ne;)switch(Ct=er[be(K,de)],de+=Ct&7,Ct>>>=3){case 16:for(le=3+ze(K,de),de+=2,Ct=Pt[Pt.length-1];le-- >0;)Pt.push(Ct);break;case 17:for(le=3+Pe(K,de),de+=3;le-- >0;)Pt.push(0);break;case 18:for(le=11+be(K,de),de+=7;le-- >0;)Pt.push(0);break;default:Pt.push(Ct),Le<Ct&&(Le=Ct);break}var wr=Pt.slice(0,re),pr=Pt.slice(re);for(ut=re;ut<286;++ut)wr[ut]=0;for(ut=ne;ut<30;++ut)pr[ut]=0;return Gt=Ve(wr,At,286),ar=Ve(pr,cr,30),de}function lt(K,de){if(K[0]==3&&!(K[1]&3))return[nx(de),2];for(var re=0,ne=0,ie=oY(de||1<<18),le=0,ke=ie.length>>>0,Re=0,Le=0;!(ne&1);){if(ne=Pe(K,re),re+=3,ne>>>1)ne>>1==1?(Re=9,Le=5):(re=Ke(K,re),Re=Gt,Le=ar);else{re&7&&(re+=8-(re&7));var De=K[re>>>3]|K[(re>>>3)+1]<<8;if(re+=32,De>0)for(!de&&ke<le+De&&(ie=Ge(ie,le+De),ke=ie.length);De-- >0;)ie[le++]=K[re>>>3],re+=8;continue}for(;;){!de&&ke<le+32767&&(ie=Ge(ie,le+32767),ke=ie.length);var Ee=wt(K,re,Re),Je=ne>>>1==1?st[Ee]:At[Ee];if(re+=Je&15,Je>>>=4,!(Je>>>8&255))ie[le++]=Je;else{if(Je==256)break;Je-=257;var ut=Je<8?0:Je-4>>2;ut>5&&(ut=0);var Ct=le+W[Je];ut>0&&(Ct+=wt(K,re,ut),re+=ut),Ee=wt(K,re,Le),Je=ne>>>1==1?Nt[Ee]:cr[Ee],re+=Je&15,Je>>>=4;var pt=Je<4?0:Je-2>>1,xt=te[Je];for(pt>0&&(xt+=wt(K,re,pt),re+=pt),!de&&ke<Ct&&(ie=Ge(ie,Ct+100),ke=ie.length);le<Ct;)ie[le]=ie[le-xt],++le}}}return de?[ie,re+7>>>3]:[ie.slice(0,le),re+7>>>3]}function It(K,de){var re=K.slice(K.l||0),ne=lt(re,de);return K.l+=ne[1],ne[0]}function ct(K,de){if(K)typeof console<"u"&&console.error(de);else throw new Error(de)}function Rt(K,de){var re=K;Jl(re,0);var ne=[],ie=[],le={FileIndex:ne,FullPaths:ie};S(le,{root:de.root});for(var ke=re.length-4;(re[ke]!=80||re[ke+1]!=75||re[ke+2]!=5||re[ke+3]!=6)&&ke>=0;)--ke;re.l=ke+4,re.l+=4;var Re=re.read_shift(2);re.l+=6;var Le=re.read_shift(4);for(re.l=Le,ke=0;ke<Re;++ke){re.l+=20;var De=re.read_shift(4),Ee=re.read_shift(4),Je=re.read_shift(2),ut=re.read_shift(2),Ct=re.read_shift(2);re.l+=8;var pt=re.read_shift(4),xt=l(re.slice(re.l+Je,re.l+Je+ut));re.l+=Je+ut+Ct;var Pt=re.l;re.l=pt+4,vr(re,De,Ee,le,xt),re.l=Pt}return le}function vr(K,de,re,ne,ie){K.l+=2;var le=K.read_shift(2),ke=K.read_shift(2),Re=i(K);if(le&8257)throw new Error("Unsupported ZIP encryption");for(var Le=K.read_shift(4),De=K.read_shift(4),Ee=K.read_shift(4),Je=K.read_shift(2),ut=K.read_shift(2),Ct="",pt=0;pt<Je;++pt)Ct+=String.fromCharCode(K[K.l++]);if(ut){var xt=l(K.slice(K.l,K.l+ut));(xt[21589]||{}).mt&&(Re=xt[21589].mt),((ie||{})[21589]||{}).mt&&(Re=ie[21589].mt)}K.l+=ut;var Pt=K.slice(K.l,K.l+De);switch(ke){case 8:Pt=R(K,Ee);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ke)}var wr=!1;le&8&&(Le=K.read_shift(4),Le==134695760&&(Le=K.read_shift(4),wr=!0),De=K.read_shift(4),Ee=K.read_shift(4)),De!=de&&ct(wr,"Bad compressed size: "+de+" != "+De),Ee!=re&&ct(wr,"Bad uncompressed size: "+re+" != "+Ee),_e(ne,Ct,Pt,{unsafe:!0,mt:Re})}function ir(K,de){var re=de||{},ne=[],ie=[],le=et(1),ke=re.compression?8:0,Re=0,Le=0,De=0,Ee=0,Je=0,ut=K.FullPaths[0],Ct=ut,pt=K.FileIndex[0],xt=[],Pt=0;for(Le=1;Le<K.FullPaths.length;++Le)if(Ct=K.FullPaths[Le].slice(ut.length),pt=K.FileIndex[Le],!(!pt.size||!pt.content||Ct=="Sh33tJ5")){var wr=Ee,pr=et(Ct.length);for(De=0;De<Ct.length;++De)pr.write_shift(1,Ct.charCodeAt(De)&127);pr=pr.slice(0,pr.l),xt[Je]=b$e.buf(pt.content,0);var pn=pt.content;ke==8&&(pn=F(pn)),le=et(30),le.write_shift(4,67324752),le.write_shift(2,20),le.write_shift(2,Re),le.write_shift(2,ke),pt.mt?s(le,pt.mt):le.write_shift(4,0),le.write_shift(-4,xt[Je]),le.write_shift(4,pn.length),le.write_shift(4,pt.content.length),le.write_shift(2,pr.length),le.write_shift(2,0),Ee+=le.length,ne.push(le),Ee+=pr.length,ne.push(pr),Ee+=pn.length,ne.push(pn),le=et(46),le.write_shift(4,33639248),le.write_shift(2,0),le.write_shift(2,20),le.write_shift(2,Re),le.write_shift(2,ke),le.write_shift(4,0),le.write_shift(-4,xt[Je]),le.write_shift(4,pn.length),le.write_shift(4,pt.content.length),le.write_shift(2,pr.length),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(4,0),le.write_shift(4,wr),Pt+=le.l,ie.push(le),Pt+=pr.length,ie.push(pr),++Je}return le=et(22),le.write_shift(4,101010256),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(2,Je),le.write_shift(2,Je),le.write_shift(4,Pt),le.write_shift(4,Ee),le.write_shift(2,0),Vi([Vi(ne),Vi(ie),le])}var Ft={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function kr(K,de){if(K.ctype)return K.ctype;var re=K.name||"",ne=re.match(/\.([^\.]+)$/);return ne&&Ft[ne[1]]||de&&(ne=(re=de).match(/[\.\\]([^\.\\])+$/),ne&&Ft[ne[1]])?Ft[ne[1]]:"application/octet-stream"}function si(K){for(var de=oN(K),re=[],ne=0;ne<de.length;ne+=76)re.push(de.slice(ne,ne+76));return re.join(`\r
`)+`\r
`}function cn(K){var de=K.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(De){var Ee=De.charCodeAt(0).toString(16).toUpperCase();return"="+(Ee.length==1?"0"+Ee:Ee)});de=de.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),de.charAt(0)==`
`&&(de="=0D"+de.slice(1)),de=de.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var re=[],ne=de.split(`\r
`),ie=0;ie<ne.length;++ie){var le=ne[ie];if(le.length==0){re.push("");continue}for(var ke=0;ke<le.length;){var Re=76,Le=le.slice(ke,ke+Re);Le.charAt(Re-1)=="="?Re--:Le.charAt(Re-2)=="="?Re-=2:Le.charAt(Re-3)=="="&&(Re-=3),Le=le.slice(ke,ke+Re),ke+=Re,ke<le.length&&(Le+="="),re.push(Le)}}return re.join(`\r
`)}function La(K){for(var de=[],re=0;re<K.length;++re){for(var ne=K[re];re<=K.length&&ne.charAt(ne.length-1)=="=";)ne=ne.slice(0,ne.length-1)+K[++re];de.push(ne)}for(var ie=0;ie<de.length;++ie)de[ie]=de[ie].replace(/[=][0-9A-Fa-f]{2}/g,function(le){return String.fromCharCode(parseInt(le.slice(1),16))});return Ud(de.join(`\r
`))}function Zt(K,de,re){for(var ne="",ie="",le="",ke,Re=0;Re<10;++Re){var Le=de[Re];if(!Le||Le.match(/^\s*$/))break;var De=Le.match(/^(.*?):\s*([^\s].*)$/);if(De)switch(De[1].toLowerCase()){case"content-location":ne=De[2].trim();break;case"content-type":le=De[2].trim();break;case"content-transfer-encoding":ie=De[2].trim();break}}switch(++Re,ie.toLowerCase()){case"base64":ke=Ud(Wh(de.slice(Re).join("")));break;case"quoted-printable":ke=La(de.slice(Re));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ie)}var Ee=_e(K,ne.slice(re.length),ke,{unsafe:!0});le&&(Ee.ctype=le)}function yt(K,de){if(J(K.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var re=de&&de.root||"",ne=(dn&&Buffer.isBuffer(K)?K.toString("binary"):J(K)).split(`\r
`),ie=0,le="";for(ie=0;ie<ne.length;++ie)if(le=ne[ie],!!/^Content-Location:/i.test(le)&&(le=le.slice(le.indexOf("file")),re||(re=le.slice(0,le.lastIndexOf("/")+1)),le.slice(0,re.length)!=re))for(;re.length>0&&(re=re.slice(0,re.length-1),re=re.slice(0,re.lastIndexOf("/")+1),le.slice(0,re.length)!=re););var ke=(ne[1]||"").match(/boundary="(.*?)"/);if(!ke)throw new Error("MAD cannot find boundary");var Re="--"+(ke[1]||""),Le=[],De=[],Ee={FileIndex:Le,FullPaths:De};S(Ee);var Je,ut=0;for(ie=0;ie<ne.length;++ie){var Ct=ne[ie];Ct!==Re&&Ct!==Re+"--"||(ut++&&Zt(Ee,ne.slice(Je,ie),re),Je=ie)}return Ee}function br(K,de){var re=de||{},ne=re.boundary||"SheetJS";ne="------="+ne;for(var ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ne.slice(2)+'"',"","",""],le=K.FullPaths[0],ke=le,Re=K.FileIndex[0],Le=1;Le<K.FullPaths.length;++Le)if(ke=K.FullPaths[Le].slice(le.length),Re=K.FileIndex[Le],!(!Re.size||!Re.content||ke=="Sh33tJ5")){ke=ke.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Pt){return"_x"+Pt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Pt){return"_u"+Pt.charCodeAt(0).toString(16)+"_"});for(var De=Re.content,Ee=dn&&Buffer.isBuffer(De)?De.toString("binary"):J(De),Je=0,ut=Math.min(1024,Ee.length),Ct=0,pt=0;pt<=ut;++pt)(Ct=Ee.charCodeAt(pt))>=32&&Ct<128&&++Je;var xt=Je>=ut*4/5;ie.push(ne),ie.push("Content-Location: "+(re.root||"file:///C:/SheetJS/")+ke),ie.push("Content-Transfer-Encoding: "+(xt?"quoted-printable":"base64")),ie.push("Content-Type: "+kr(Re,ke)),ie.push(""),ie.push(xt?cn(Ee):si(Ee))}return ie.push(ne+`--\r
`),ie.join(`\r
`)}function ge(K){var de={};return S(de,K),de}function _e(K,de,re,ne){var ie=ne&&ne.unsafe;ie||S(K);var le=!ie&&Rn.find(K,de);if(!le){var ke=K.FullPaths[0];de.slice(0,ke.length)==ke?ke=de:(ke.slice(-1)!="/"&&(ke+="/"),ke=(ke+de).replace("//","/")),le={name:a(de),type:2},K.FileIndex.push(le),K.FullPaths.push(ke),ie||Rn.utils.cfb_gc(K)}return le.content=re,le.size=re?re.length:0,ne&&(ne.CLSID&&(le.clsid=ne.CLSID),ne.mt&&(le.mt=ne.mt),ne.ct&&(le.ct=ne.ct)),le}function Ae(K,de){S(K);var re=Rn.find(K,de);if(re){for(var ne=0;ne<K.FileIndex.length;++ne)if(K.FileIndex[ne]==re)return K.FileIndex.splice(ne,1),K.FullPaths.splice(ne,1),!0}return!1}function $e(K,de,re){S(K);var ne=Rn.find(K,de);if(ne){for(var ie=0;ie<K.FileIndex.length;++ie)if(K.FileIndex[ie]==ne)return K.FileIndex[ie].name=a(re),K.FullPaths[ie]=re,!0}return!1}function it(K){A(K,!0)}return t.find=D,t.read=_,t.parse=u,t.write=B,t.writeFile=G,t.utils={cfb_new:ge,cfb_add:_e,cfb_del:Ae,cfb_mov:$e,cfb_gc:it,ReadShift:V2,CheckField:Ale,prep_blob:Jl,bconcat:Vi,use_zlib:T,_deflateRaw:zt,_inflateRaw:It,consts:V},t}();function w$e(e){return typeof e=="string"?XE(e):Array.isArray(e)?YHe(e):e}function TS(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=XE(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?cN(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([w$e(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=e,i.href=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=ES(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Zi(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function mY(e,t){for(var r=[],n=Zi(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function HF(e){for(var t=[],r=Zi(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function ZE(e){for(var t=[],r=Zi(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function N$e(e){for(var t=[],r=Zi(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var YC=new Date(1899,11,30,0,0,0);function _l(e,t){var r=e.getTime(),n=YC.getTime()+(e.getTimezoneOffset()-YC.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var ule=new Date,S$e=YC.getTime()+(ule.getTimezoneOffset()-YC.getTimezoneOffset())*6e4,gY=ule.getTimezoneOffset();function fle(e){var t=new Date;return t.setTime(e*24*60*60*1e3+S$e),t.getTimezoneOffset()!==gY&&t.setTime(t.getTime()+(t.getTimezoneOffset()-gY)*6e4),t}var xY=new Date("2017-02-19T19:06:09.000Z"),hle=isNaN(xY.getFullYear())?new Date("2/19/17"):xY,j$e=hle.getFullYear()==2017;function Yo(e,t){var r=new Date(e);if(j$e)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(hle.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function e3(e,t){if(dn&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function kl(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=kl(e[r]));return t}function Wa(e,t){for(var r="";r.length<t;)r+=e;return r}function jh(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var _$e=["january","february","march","april","may","june","july","august","september","october","november","december"];function lN(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&_$e.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Rr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return dn?n=sp(r):n=GHe(r),Rn.utils.cfb_add(e,t,n)}Rn.utils.cfb_add(e,t,r)}else e.file(t,r)}function $F(){return Rn.utils.cfb_new()}var Fs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,k$e={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},UF=HF(k$e),VF=/[&<>'"]/g,C$e=/[\u0000-\u0008\u000b-\u001f]/g;function Dn(e){var t=e+"";return t.replace(VF,function(r){return UF[r]}).replace(C$e,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function yY(e){return Dn(e).replace(/ /g,"_x0020_")}var ple=/[\u0000-\u001f]/g;function A$e(e){var t=e+"";return t.replace(VF,function(r){return UF[r]}).replace(/\n/g,"<br/>").replace(ple,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function E$e(e){var t=e+"";return t.replace(VF,function(r){return UF[r]}).replace(ple,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function T$e(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function D$e(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function nM(e){for(var t="",r=0,n=0,a=0,s=0,i=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function vY(e){var t=nx(2*e.length),r,n,a=1,s=0,i=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function bY(e){return sp(e,"binary").toString("utf8")}var _5="foo bar baz",U2=dn&&(bY(_5)==nM(_5)&&bY||vY(_5)==nM(_5)&&vY)||nM,cN=dn?function(e){return sp(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},M$e=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),mle=/(^\s|\s$|\n)/;function qi(e,t){return"<"+e+(t.match(mle)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function dN(e){return Zi(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Et(e,t,r){return"<"+e+(r!=null?dN(r):"")+(t!=null?(t.match(mle)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function PP(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function O$e(e,t){switch(typeof e){case"string":var r=Et("vt:lpwstr",Dn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Et((e|0)==e?"vt:i4":"vt:r8",Dn(String(e)));case"boolean":return Et("vt:bool",e?"true":"false")}if(e instanceof Date)return Et("vt:filetime",PP(e));throw new Error("Unable to serialize "+e)}var mi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Ub=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],tc={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function P$e(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function R$e(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var wY=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},NY=dn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:sp(t)})):wY(e)}:wY,SY=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(d2(e,a)));return n.join("").replace($2,"")},qF=dn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace($2,""):SY(e,t,r)}:SY,jY=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},gle=dn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):jY(e,t,r)}:jY,_Y=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(vy(e,a)));return n.join("")},DS=dn?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):_Y(t,r,n)}:_Y,xle=function(e,t){var r=rc(e,t);return r>0?DS(e,t+4,t+4+r-1):""},yle=xle,vle=function(e,t){var r=rc(e,t);return r>0?DS(e,t+4,t+4+r-1):""},ble=vle,wle=function(e,t){var r=2*rc(e,t);return r>0?DS(e,t+4,t+4+r-1):""},Nle=wle,Sle=function(t,r){var n=rc(t,r);return n>0?qF(t,r+4,r+4+n):""},jle=Sle,_le=function(e,t){var r=rc(e,t);return r>0?DS(e,t+4,t+4+r):""},kle=_le,Cle=function(e,t){return P$e(e,t)},GC=Cle,WF=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};dn&&(yle=function(t,r){if(!Buffer.isBuffer(t))return xle(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},ble=function(t,r){if(!Buffer.isBuffer(t))return vle(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Nle=function(t,r){if(!Buffer.isBuffer(t))return wle(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},jle=function(t,r){if(!Buffer.isBuffer(t))return Sle(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},kle=function(t,r){if(!Buffer.isBuffer(t))return _le(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},GC=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Cle(t,r)},WF=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var vy=function(e,t){return e[t]},d2=function(e,t){return e[t+1]*256+e[t]},L$e=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},rc=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},G0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},I$e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function V2(e,t){var r="",n,a,s=[],i,l,c,d;switch(t){case"dbcs":if(d=this.l,dn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(d2(this,d)),d+=2;e*=2;break;case"utf8":r=DS(this,this.l,this.l+e);break;case"utf16le":e*=2,r=qF(this,this.l,this.l+e);break;case"wstr":return V2.call(this,e,"dbcs");case"lpstr-ansi":r=yle(this,this.l),e=4+rc(this,this.l);break;case"lpstr-cp":r=ble(this,this.l),e=4+rc(this,this.l);break;case"lpwstr":r=Nle(this,this.l),e=4+2*rc(this,this.l);break;case"lpp4":e=4+rc(this,this.l),r=jle(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+rc(this,this.l),r=kle(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=vy(this,this.l+e++))!==0;)s.push(N5(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=d2(this,this.l+e))!==0;)s.push(N5(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return i=vy(this,d),this.l=d+1,l=V2.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(N5(d2(this,d))),d+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return i=vy(this,d),this.l=d+1,l=V2.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(N5(vy(this,d))),d+=1}r=s.join("");break;default:switch(e){case 1:return n=vy(this,this.l),this.l++,n;case 2:return n=(t==="i"?L$e:d2)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?G0:I$e)(this,this.l),this.l+=4,n):(a=rc(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=GC(this,this.l):a=GC([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=gle(this,this.l,e);break}}return this.l+=e,r}var F$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},z$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},B$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function H$e(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)B$e(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,F$e(this,t,this.l);break;case 8:if(n=8,r==="f"){R$e(this,t,this.l);break}case 16:break;case-4:n=4,z$e(this,t,this.l);break}return this.l+=n,this}function Ale(e,t){var r=gle(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Jl(e,t){e.l=t,e.read_shift=V2,e.chk=Ale,e.write_shift=H$e}function Qu(e,t){e.l+=t}function et(e){var t=nx(e);return Jl(t,0),t}function ml(){var e=[],t=dn?256:2048,r=function(d){var u=et(d);return Jl(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(d){return n&&d<n.length-n.l?n:(a(),n=r(Math.max(d+1,t)))},i=function(){return a(),Vi(e)},l=function(d){a(),n=d,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:i,_bufs:e}}function ht(e,t,r,n){var a=+t,s;if(!isNaN(a)){n||(n=PGe[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var i=e.next(s);a<=127?i.write_shift(1,a):(i.write_shift(1,(a&127)+128),i.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)i.write_shift(1,(n&127)+128),n>>=7;else{i.write_shift(1,n);break}n>0&&WF(r)&&e.push(r)}}function q2(e,t,r){var n=kl(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function kY(e,t,r){var n=kl(e);return n.s=q2(n.s,t.s,r),n.e=q2(n.e,t.s,r),n}function W2(e,t){if(e.cRel&&e.c<0)for(e=kl(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=kl(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=On(e);return!e.cRel&&e.cRel!=null&&(r=V$e(r)),!e.rRel&&e.rRel!=null&&(r=$$e(r)),r}function aM(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+bo(e.s.c)+":"+(e.e.cRel?"":"$")+bo(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Xi(e.s.r)+":"+(e.e.rRel?"":"$")+Xi(e.e.r):W2(e.s,t.biff)+":"+W2(e.e,t.biff)}function YF(e){return parseInt(U$e(e),10)-1}function Xi(e){return""+(e+1)}function $$e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function U$e(e){return e.replace(/\$(\d+)$/,"$1")}function GF(e){for(var t=q$e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function bo(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function V$e(e){return e.replace(/^([A-Z])/,"$$$1")}function q$e(e){return e.replace(/^\$([A-Z])/,"$1")}function W$e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function xi(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function On(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Dc(e){var t=e.indexOf(":");return t==-1?{s:xi(e),e:xi(e)}:{s:xi(e.slice(0,t)),e:xi(e.slice(t+1))}}function Rs(e,t){return typeof t>"u"||typeof t=="number"?Rs(e.s,e.e):(typeof e!="string"&&(e=On(e)),typeof t!="string"&&(t=On(t)),e==t?e:e+":"+t)}function pa(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function CY(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=qm(e.z,r?_l(t):t)}catch{}try{return e.w=qm((e.XF||{}).numFmtId||(r?14:0),r?_l(t):t)}catch{return""+t}}function Yh(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?MS[e.v]||e.v:t==null?CY(e,e.v):CY(e,t))}function Cx(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Ele(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?xi(n.origin):n.origin;i=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=pa(s["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),i==-1&&(d.e.r=i=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[f].length;++p)if(!(typeof t[f][p]>"u")){var h={v:t[f][p]},m=i+f,g=l+p;if(d.s.r>m&&(d.s.r=m),d.s.c>g&&(d.s.c=g),d.e.r<m&&(d.e.r=m),d.e.c<g&&(d.e.c=g),t[f][p]&&typeof t[f][p]=="object"&&!Array.isArray(t[f][p])&&!(t[f][p]instanceof Date))h=t[f][p];else if(Array.isArray(h.v)&&(h.f=t[f][p][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||Za[14],n.cellDates?(h.t="d",h.w=qm(h.z,_l(h.v))):(h.t="n",h.v=_l(h.v),h.w=qm(h.z,h.v))):h.t="s";if(a)s[m]||(s[m]=[]),s[m][g]&&s[m][g].z&&(h.z=s[m][g].z),s[m][g]=h;else{var x=On({c:g,r:m});s[x]&&s[x].z&&(h.z=s[x].z),s[x]=h}}}return d.s.c<1e7&&(s["!ref"]=Rs(d)),s}function Vb(e,t){return Ele(null,e,t)}function Y$e(e){return e.read_shift(4,"i")}function tu(e,t){return t||(t=et(4)),t.write_shift(4,e),t}function wo(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function yi(e,t){var r=!1;return t==null&&(r=!0,t=et(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function G$e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function K$e(e,t){return t||(t=et(4)),t.write_shift(2,0),t.write_shift(2,0),t}function KF(e,t){var r=e.l,n=e.read_shift(1),a=wo(e),s=[],i={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(G$e(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}function X$e(e,t){var r=!1;return t==null&&(r=!0,t=et(15+4*e.t.length)),t.write_shift(1,0),yi(e.t,t),r?t.slice(0,t.l):t}var J$e=KF;function Q$e(e,t){var r=!1;return t==null&&(r=!0,t=et(23+4*e.t.length)),t.write_shift(1,1),yi(e.t,t),t.write_shift(4,1),K$e({},t),r?t.slice(0,t.l):t}function Cd(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Ax(e,t){return t==null&&(t=et(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Ex(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Tx(e,t){return t==null&&(t=et(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Z$e=wo,Tle=yi;function XF(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function KC(e,t){var r=!1;return t==null&&(r=!0,t=et(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var eUe=wo,RP=XF,JF=KC;function Dle(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?GC([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):G0(t,0)>>2;return r?a/100:a}function Mle(e,t){t==null&&(t=et(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Ole(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function tUe(e,t){return t||(t=et(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Dx=Ole,qb=tUe;function Wb(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function ax(e,t){return(t||et(8)).write_shift(8,e,"f")}function rUe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var d=uUe[a];d&&(t.rgb=FY(d));break;case 2:t.rgb=FY([i,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function XC(e,t){if(t||(t=et(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function nUe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function aUe(e,t){t||(t=et(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var Ple=2,Vl=3,k5=11,JC=19,C5=64,sUe=65,iUe=71,oUe=4108,lUe=4126,zi=80,AY={1:{n:"CodePage",t:Ple},2:{n:"Category",t:zi},3:{n:"PresentationFormat",t:zi},4:{n:"ByteCount",t:Vl},5:{n:"LineCount",t:Vl},6:{n:"ParagraphCount",t:Vl},7:{n:"SlideCount",t:Vl},8:{n:"NoteCount",t:Vl},9:{n:"HiddenCount",t:Vl},10:{n:"MultimediaClipCount",t:Vl},11:{n:"ScaleCrop",t:k5},12:{n:"HeadingPairs",t:oUe},13:{n:"TitlesOfParts",t:lUe},14:{n:"Manager",t:zi},15:{n:"Company",t:zi},16:{n:"LinksUpToDate",t:k5},17:{n:"CharacterCount",t:Vl},19:{n:"SharedDoc",t:k5},22:{n:"HyperlinksChanged",t:k5},23:{n:"AppVersion",t:Vl,p:"version"},24:{n:"DigSig",t:sUe},26:{n:"ContentType",t:zi},27:{n:"ContentStatus",t:zi},28:{n:"Language",t:zi},29:{n:"Version",t:zi},255:{},2147483648:{n:"Locale",t:JC},2147483651:{n:"Behavior",t:JC},1919054434:{}},EY={1:{n:"CodePage",t:Ple},2:{n:"Title",t:zi},3:{n:"Subject",t:zi},4:{n:"Author",t:zi},5:{n:"Keywords",t:zi},6:{n:"Comments",t:zi},7:{n:"Template",t:zi},8:{n:"LastAuthor",t:zi},9:{n:"RevNumber",t:zi},10:{n:"EditTime",t:C5},11:{n:"LastPrinted",t:C5},12:{n:"CreatedDate",t:C5},13:{n:"ModifiedDate",t:C5},14:{n:"PageCount",t:Vl},15:{n:"WordCount",t:Vl},16:{n:"CharCount",t:Vl},17:{n:"Thumbnail",t:iUe},18:{n:"Application",t:zi},19:{n:"DocSecurity",t:Vl},255:{},2147483648:{n:"Locale",t:JC},2147483651:{n:"Behavior",t:JC},1919054434:{}};function cUe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var dUe=cUe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),uUe=kl(dUe),MS={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},fUe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},A5={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Rle(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Lle(e,t){var r=N$e(fUe),n=[],a;n[n.length]=Fs,n[n.length]=Et("Types",null,{xmlns:mi.CT,"xmlns:xsd":mi.xsd,"xmlns:xsi":mi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Et("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=Et("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:A5[c][t.bookType]||A5[c].xlsx}))},i=function(c){(e[c]||[]).forEach(function(d){n[n.length]=Et("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:A5[c][t.bookType]||A5[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(d){n[n.length]=Et("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return s("workbooks"),i("sheets"),i("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),i("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var sn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Ile(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function uv(e){var t=[Fs,Et("Relationships",null,{xmlns:mi.RELS})];return Zi(e["!id"]).forEach(function(r){t[t.length]=Et("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function kn(e,t,r,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[sn.HLINK,sn.XPATH,sn.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function hUe(e){var t=[Fs];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function TY(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function pUe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function mUe(e){var t=[Fs];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(TY(e[r][0],e[r][1])),t.push(pUe("",e[r][0]));return t.push(TY("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Fle(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+$C.version+"</meta:generator></office:meta></office:document-meta>"}var Ng=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function sM(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Dn(t),n[n.length]=r?Et(e,t,r):qi(e,t))}function zle(e,t){var r=t||{},n=[Fs,Et("cp:coreProperties",null,{"xmlns:cp":mi.CORE_PROPS,"xmlns:dc":mi.dc,"xmlns:dcterms":mi.dcterms,"xmlns:dcmitype":mi.dcmitype,"xmlns:xsi":mi.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&sM("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:PP(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&sM("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:PP(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=Ng.length;++s){var i=Ng[s],l=r.Props&&r.Props[i[1]]!=null?r.Props[i[1]]:e?e[i[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&sM(i[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var fv=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Ble=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Hle(e){var t=[],r=Et;return e||(e={}),e.Application="SheetJS",t[t.length]=Fs,t[t.length]=Et("Properties",null,{xmlns:mi.EXT_PROPS,"xmlns:vt":mi.vt}),fv.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Dn(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Dn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function $le(e){var t=[Fs,Et("Properties",null,{xmlns:mi.CUST_PROPS,"xmlns:vt":mi.vt})];if(!e)return t.join("");var r=1;return Zi(e).forEach(function(a){++r,t[t.length]=Et("property",O$e(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Dn(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var DY={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function gUe(e,t){var r=[];return Zi(DY).map(function(n){for(var a=0;a<Ng.length;++a)if(Ng[a][1]==n)return Ng[a];for(a=0;a<fv.length;++a)if(fv[a][1]==n)return fv[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(qi(DY[n[1]]||n[1],a))}}),Et("DocumentProperties",r.join(""),{xmlns:tc.o})}function xUe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Zi(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var i=0;i<Ng.length;++i)if(s==Ng[i][1])return;for(i=0;i<fv.length;++i)if(s==fv[i][1])return;for(i=0;i<r.length;++i)if(s==r[i])return;var l=e[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(Et(yY(s),l,{"dt:dt":c}))}}),t&&Zi(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var i=t[s],l="string";typeof i=="number"?(l="float",i=String(i)):i===!0||i===!1?(l="boolean",i=i?"1":"0"):i instanceof Date?(l="dateTime.tz",i=i.toISOString()):i=String(i),a.push(Et(yY(s),i,{"dt:dt":l}))}}),"<"+n+' xmlns="'+tc.o+'">'+a.join("")+"</"+n+">"}function yUe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var i=et(8);return i.write_shift(4,n),i.write_shift(4,a),i}function MY(e,t){var r=et(4),n=et(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=et(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=yUe(t);break;case 31:case 80:for(n=et(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Vi([r,n])}var Ule=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function vUe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function OY(e,t,r){var n=et(8),a=[],s=[],i=8,l=0,c=et(8),d=et(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),s.push(c),a.push(d),i+=8+c.length,!t){d=et(8),d.write_shift(4,0),a.unshift(d);var u=[et(4)];for(u[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=et(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=Vi(u),s.unshift(c),i+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(Ule.indexOf(e[l][0])>-1||Ble.indexOf(e[l][0])>-1)&&e[l][1]!=null){var p=e[l][1],h=0;if(t){h=+t[e[l][0]];var m=r[h];if(m.p=="version"&&typeof p=="string"){var g=p.split(".");p=(+g[0]<<16)+(+g[1]||0)}c=MY(m.t,p)}else{var x=vUe(p);x==-1&&(x=31,p=String(p)),c=MY(x,p)}s.push(c),d=et(8),d.write_shift(4,t?h:2+l),a.push(d),i+=8+c.length}var y=8*(s.length+1);for(l=0;l<s.length;++l)a[l].write_shift(4,y),y+=s[l].length;return n.write_shift(4,i),n.write_shift(4,s.length),Vi([n].concat(a).concat(s))}function PY(e,t,r,n,a,s){var i=et(a?68:48),l=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,Rn.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,a?2:1),i.write_shift(16,t,"hex"),i.write_shift(4,a?68:48);var c=OY(e,r,n);if(l.push(c),a){var d=OY(a,null,null);i.write_shift(16,s,"hex"),i.write_shift(4,68+c.length),l.push(d)}return Vi(l)}function bUe(e,t){t||(t=et(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function wUe(e,t){return e.read_shift(t)===1}function Fo(e,t){return t||(t=et(2)),t.write_shift(2,+!!e),t}function Vle(e){return e.read_shift(2,"u")}function Gc(e,t){return t||(t=et(2)),t.write_shift(2,e),t}function qle(e,t,r){return r||(r=et(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Wle(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function NUe(e){var t=e.t||"",r=et(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=et(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Vi(a)}function SUe(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function jUe(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):SUe(e,n,r)}function _Ue(e,t,r){if(r.biff>5)return jUe(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Yle(e,t,r){return r||(r=et(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function RY(e,t){t||(t=et(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function kUe(e){var t=et(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var i=[8,6815827,6619237,4849780,83];for(r=0;r<i.length;++r)t.write_shift(4,i[r]);if(s==28)n=n.slice(1),RY(n,t);else if(s&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),s&8&&RY(a>-1?n.slice(a+1):"",t)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function sx(e,t,r,n){return n||(n=et(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function CUe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function AUe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Gle(e,t){return t||(t=et(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function QF(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=et(a);return s.write_shift(2,n),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function EUe(e,t){var r=!t||t.biff==8,n=et(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function TUe(e,t){var r=!t||t.biff>=8?2:1,n=et(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function DUe(e,t){var r=et(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=NUe(e[a]);var s=Vi([r].concat(n));return s.parts=[r.length].concat(n.map(function(i){return i.length})),s}function MUe(){var e=et(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function OUe(e){var t=et(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function PUe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,s=et(a);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function RUe(e,t,r,n){var a=et(10);return sx(e,t,n,a),a.write_shift(4,r),a}function LUe(e,t,r,n,a){var s=!a||a.biff==8,i=et(8+ +s+(1+s)*r.length);return sx(e,t,n,i),i.write_shift(2,r.length),s&&i.write_shift(1,1),i.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),i}function IUe(e,t,r,n){var a=r&&r.biff==5;n||(n=et(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function FUe(e,t){var r=t.biff==8||!t.biff?4:2,n=et(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function LY(e,t,r,n){var a=r&&r.biff==5;n||(n=et(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function zUe(e){var t=et(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function BUe(e,t,r,n,a,s){var i=et(8);return sx(e,t,n,i),qle(r,s,i),i}function HUe(e,t,r,n){var a=et(14);return sx(e,t,n,a),ax(r,a),a}function $Ue(e,t,r){if(r.biff<8)return UUe(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(CUe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function UUe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Wle(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function VUe(e){var t=et(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)Gle(e[r],t);return t}function qUe(e){var t=et(24),r=xi(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Vi([t,kUe(e[1])])}function WUe(e){var t=e[1].Tooltip,r=et(10+2*(t.length+1));r.write_shift(2,2048);var n=xi(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function YUe(e){return e||(e=et(4)),e.write_shift(2,1),e.write_shift(2,1),e}function GUe(e,t,r){if(!r.cellStyles)return Qu(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var d={s:a,e:s,w:i,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function KUe(e,t){var r=et(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function XUe(e){for(var t=et(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function JUe(e,t,r){var n=et(15);return PS(n,e,t),n.write_shift(8,r,"f"),n}function QUe(e,t,r){var n=et(9);return PS(n,e,t),n.write_shift(2,r),n}var ZUe=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=HF({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=nx(1);switch(c.type){case"base64":u=Ud(Wh(l));break;case"binary":u=Ud(l);break;case"buffer":case"array":u=l;break}Jl(u,0);var f=u.read_shift(1),p=!!(f&136),h=!1,m=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,p=!0;break;case 49:h=!0,p=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,x=521;f==2&&(g=u.read_shift(2)),u.l+=3,f!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(x=u.read_shift(2));var y=u.read_shift(2),v=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(v=e[u[u.l]]),u.l+=1,u.l+=2),m&&(u.l+=36);for(var w=[],N={},C=Math.min(u.length,f==2?521:x-10-(h?264:0)),_=m?32:11;u.l<C&&u[u.l]!=13;)switch(N={},N.name=UC.utils.decode(v,u.slice(u.l,u.l+_)).replace(/[\u0000\r\n].*$/g,""),u.l+=_,N.type=String.fromCharCode(u.read_shift(1)),f!=2&&!m&&(N.offset=u.read_shift(4)),N.len=u.read_shift(1),f==2&&(N.offset=u.read_shift(2)),N.dec=u.read_shift(1),N.name.length&&w.push(N),f!=2&&(u.l+=m?13:14),N.type){case"B":(!h||N.len!=8)&&c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(u[u.l]!==13&&(u.l=x-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=x;var S=0,k=0;for(d[0]=[],k=0;k!=w.length;++k)d[0][k]=w[k].name;for(;g-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,d[++S]=[],k=0,k=0;k!=w.length;++k){var A=u.slice(u.l,u.l+w[k].len);u.l+=w[k].len,Jl(A,0);var O=UC.utils.decode(v,A);switch(w[k].type){case"C":O.trim().length&&(d[S][k]=O.replace(/\s+$/,""));break;case"D":O.length===8?d[S][k]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):d[S][k]=O;break;case"F":d[S][k]=parseFloat(O.trim());break;case"+":case"I":d[S][k]=m?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":d[S][k]=!0;break;case"N":case"F":d[S][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));d[S][k]="##MEMO##"+(m?parseInt(O.trim(),10):A.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(d[S][k]=+O||0);break;case"@":d[S][k]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":d[S][k]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":d[S][k]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[S][k]=-A.read_shift(-8,"f");break;case"B":if(h&&w[k].len==8){d[S][k]=A.read_shift(8,"f");break}case"G":case"P":A.l+=w[k].len;break;case"0":if(w[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[k].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=w,d}function n(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=Vb(r(l,d),d);return u["!cols"]=d.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete d.DBF,u}function a(l,c){try{return Cx(n(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(l,c){var d=c||{};if(+d.codepage>=0&&iN(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=ml(),f=rA(l,{header:1,raw:!0,cellDates:!0}),p=f[0],h=f.slice(1),m=l["!cols"]||[],g=0,x=0,y=0,v=1;for(g=0;g<p.length;++g){if(((m[g]||{}).DBF||{}).name){p[g]=m[g].DBF.name,++y;continue}if(p[g]!=null){if(++y,typeof p[g]=="number"&&(p[g]=p[g].toString(10)),typeof p[g]!="string")throw new Error("DBF Invalid column name "+p[g]+" |"+typeof p[g]+"|");if(p.indexOf(p[g])!==g){for(x=0;x<1024;++x)if(p.indexOf(p[g]+"_"+x)==-1){p[g]+="_"+x;break}}}}var w=pa(l["!ref"]),N=[],C=[],_=[];for(g=0;g<=w.e.c-w.s.c;++g){var S="",k="",A=0,O=[];for(x=0;x<h.length;++x)h[x][g]!=null&&O.push(h[x][g]);if(O.length==0||p[g]==null){N[g]="?";continue}for(x=0;x<O.length;++x){switch(typeof O[x]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=O[x]instanceof Date?"D":"C";break;default:k="C"}A=Math.max(A,String(O[x]).length),S=S&&S!=k?"C":k}A>250&&(A=250),k=((m[g]||{}).DBF||{}).type,k=="C"&&m[g].DBF.len>A&&(A=m[g].DBF.len),S=="B"&&k=="N"&&(S="N",_[g]=m[g].DBF.dec,A=m[g].DBF.len),C[g]=S=="C"||k=="N"?A:s[S]||0,v+=C[g],N[g]=S}var D=u.next(32);for(D.write_shift(4,318902576),D.write_shift(4,h.length),D.write_shift(2,296+32*y),D.write_shift(2,v),g=0;g<4;++g)D.write_shift(4,0);for(D.write_shift(4,0|(+t[Xoe]||3)<<8),g=0,x=0;g<p.length;++g)if(p[g]!=null){var M=u.next(32),I=(p[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,I,"sbcs"),M.write_shift(1,N[g]=="?"?"C":N[g],"sbcs"),M.write_shift(4,x),M.write_shift(1,C[g]||s[N[g]]||0),M.write_shift(1,_[g]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),x+=C[g]||s[N[g]]||0}var z=u.next(264);for(z.write_shift(4,13),g=0;g<65;++g)z.write_shift(4,0);for(g=0;g<h.length;++g){var Y=u.next(v);for(Y.write_shift(1,0),x=0;x<p.length;++x)if(p[x]!=null)switch(N[x]){case"L":Y.write_shift(1,h[g][x]==null?63:h[g][x]?84:70);break;case"B":Y.write_shift(8,h[g][x]||0,"f");break;case"N":var X="0";for(typeof h[g][x]=="number"&&(X=h[g][x].toFixed(_[x]||0)),y=0;y<C[x]-X.length;++y)Y.write_shift(1,32);Y.write_shift(1,X,"sbcs");break;case"D":h[g][x]?(Y.write_shift(4,("0000"+h[g][x].getFullYear()).slice(-4),"sbcs"),Y.write_shift(2,("00"+(h[g][x].getMonth()+1)).slice(-2),"sbcs"),Y.write_shift(2,("00"+h[g][x].getDate()).slice(-2),"sbcs")):Y.write_shift(8,"00000000","sbcs");break;case"C":var V=String(h[g][x]!=null?h[g][x]:"").slice(0,C[x]);for(Y.write_shift(1,V,"sbcs"),y=0;y<C[x]-V.length;++y)Y.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),eVe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Zi(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(p,h){var m=e[h];return typeof m=="number"?iY(m):m},n=function(p,h,m){var g=h.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return g==59?p:iY(g)};e["|"]=254;function a(p,h){switch(h.type){case"base64":return s(Wh(p),h);case"binary":return s(p,h);case"buffer":return s(dn&&Buffer.isBuffer(p)?p.toString("binary"):ES(p),h);case"array":return s(e3(p),h)}throw new Error("Unrecognized type "+h.type)}function s(p,h){var m=p.split(/[\n\r]+/),g=-1,x=-1,y=0,v=0,w=[],N=[],C=null,_={},S=[],k=[],A=[],O=0,D;for(+h.codepage>=0&&iN(+h.codepage);y!==m.length;++y){O=0;var M=m[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),I=M.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),z=I[0],Y;if(M.length>0)switch(z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":I[1].charAt(0)=="P"&&N.push(M.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,V=!1,G=!1,J=!1,B=-1,q=-1;for(v=1;v<I.length;++v)switch(I[v].charAt(0)){case"A":break;case"X":x=parseInt(I[v].slice(1))-1,V=!0;break;case"Y":for(g=parseInt(I[v].slice(1))-1,V||(x=0),D=w.length;D<=g;++D)w[D]=[];break;case"K":Y=I[v].slice(1),Y.charAt(0)==='"'?Y=Y.slice(1,Y.length-1):Y==="TRUE"?Y=!0:Y==="FALSE"?Y=!1:isNaN(jh(Y))?isNaN(lN(Y).getDate())||(Y=Yo(Y)):(Y=jh(Y),C!==null&&lle(C)&&(Y=fle(Y))),X=!0;break;case"E":J=!0;var T=QVe(I[v].slice(1),{r:g,c:x});w[g][x]=[w[g][x],T];break;case"S":G=!0,w[g][x]=[w[g][x],"S5S"];break;case"G":break;case"R":B=parseInt(I[v].slice(1))-1;break;case"C":q=parseInt(I[v].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+M)}if(X&&(w[g][x]&&w[g][x].length==2?w[g][x][0]=Y:w[g][x]=Y,C=null),G){if(J)throw new Error("SYLK shared formula cannot have own formula");var R=B>-1&&w[B][q];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");w[g][x][1]=ZVe(R[1],{r:g-B,c:x-q})}break;case"F":var F=0;for(v=1;v<I.length;++v)switch(I[v].charAt(0)){case"X":x=parseInt(I[v].slice(1))-1,++F;break;case"Y":for(g=parseInt(I[v].slice(1))-1,D=w.length;D<=g;++D)w[D]=[];break;case"M":O=parseInt(I[v].slice(1))/20;break;case"F":break;case"G":break;case"P":C=N[parseInt(I[v].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=I[v].slice(1).split(" "),D=parseInt(A[0],10);D<=parseInt(A[1],10);++D)O=parseInt(A[2],10),k[D-1]=O===0?{hidden:!0}:{wch:O},ZF(k[D-1]);break;case"C":x=parseInt(I[v].slice(1))-1,k[x]||(k[x]={});break;case"R":g=parseInt(I[v].slice(1))-1,S[g]||(S[g]={}),O>0?(S[g].hpt=O,S[g].hpx=Zle(O)):O===0&&(S[g].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+M)}F<1&&(C=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+M)}}return S.length>0&&(_["!rows"]=S),k.length>0&&(_["!cols"]=k),h&&h.sheetRows&&(w=w.slice(0,h.sheetRows)),[w,_]}function i(p,h){var m=a(p,h),g=m[0],x=m[1],y=Vb(g,h);return Zi(x).forEach(function(v){y[v]=x[v]}),y}function l(p,h){return Cx(i(p,h),h)}function c(p,h,m,g){var x="C;Y"+(m+1)+";X"+(g+1)+";K";switch(p.t){case"n":x+=p.v||0,p.f&&!p.F&&(x+=";E"+t7(p.f,{r:m,c:g}));break;case"b":x+=p.v?"TRUE":"FALSE";break;case"e":x+=p.w||p.v;break;case"d":x+='"'+(p.w||p.v)+'"';break;case"s":x+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function d(p,h){h.forEach(function(m,g){var x="F;W"+(g+1)+" "+(g+1)+" ";m.hidden?x+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=QC(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=ZC(m.wpx)),typeof m.wch=="number"&&(x+=Math.round(m.wch))),x.charAt(x.length-1)!=" "&&p.push(x)})}function u(p,h){h.forEach(function(m,g){var x="F;";m.hidden?x+="M0;":m.hpt?x+="M"+20*m.hpt+";":m.hpx&&(x+="M"+20*eA(m.hpx)+";"),x.length>2&&p.push(x+"R"+(g+1))})}function f(p,h){var m=["ID;PWXL;N;E"],g=[],x=pa(p["!ref"]),y,v=Array.isArray(p),w=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),p["!cols"]&&d(m,p["!cols"]),p["!rows"]&&u(m,p["!rows"]),m.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var N=x.s.r;N<=x.e.r;++N)for(var C=x.s.c;C<=x.e.c;++C){var _=On({r:N,c:C});y=v?(p[N]||[])[C]:p[_],!(!y||y.v==null&&(!y.f||y.F))&&g.push(c(y,p,N,C))}return m.join(w)+w+g.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:i,from_sheet:f}}(),tVe=function(){function e(s,i){switch(i.type){case"base64":return t(Wh(s),i);case"binary":return t(s,i);case"buffer":return t(dn&&Buffer.isBuffer(s)?s.toString("binary"):ES(s),i);case"array":return t(e3(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var l=s.split(`
`),c=-1,d=-1,u=0,f=[];u!==l.length;++u){if(l[u].trim()==="BOT"){f[++c]=[],d=0;continue}if(!(c<0)){var p=l[u].trim().split(","),h=p[0],m=p[1];++u;for(var g=l[u]||"";(g.match(/["]/g)||[]).length&1&&u<l.length-1;)g+=`
`+l[++u];switch(g=g.trim(),+h){case-1:if(g==="BOT"){f[++c]=[],d=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][d]=!0:g==="FALSE"?f[c][d]=!1:isNaN(jh(m))?isNaN(lN(m).getDate())?f[c][d]=m:f[c][d]=Yo(m):f[c][d]=jh(m),++d;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][d++]=g!==""?g:null;break}if(g==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(s,i){return Vb(e(s,i),i)}function n(s,i){return Cx(r(s,i),i)}var a=function(){var s=function(c,d,u,f,p){c.push(d),c.push(u+","+f),c.push('"'+p.replace(/"/g,'""')+'"')},i=function(c,d,u,f){c.push(d+","+u),c.push(d==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var d=[],u=pa(c["!ref"]),f,p=Array.isArray(c);s(d,"TABLE",0,1,"sheetjs"),s(d,"VECTORS",0,u.e.r-u.s.r+1,""),s(d,"TUPLES",0,u.e.c-u.s.c+1,""),s(d,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){i(d,-1,0,"BOT");for(var m=u.s.c;m<=u.e.c;++m){var g=On({r:h,c:m});if(f=p?(c[h]||[])[m]:c[g],!f){i(d,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?i(d,1,0,"="+f.f):i(d,1,0,""):i(d,0,x,"V");break;case"b":i(d,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(d,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=qm(f.z||Za[14],_l(Yo(f.v)))),i(d,0,f.w,"V");break;default:i(d,1,0,"")}}}i(d,-1,0,"EOD");var y=`\r
`,v=d.join(y);return v}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),Kle=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,p){for(var h=f.split(`
`),m=-1,g=-1,x=0,y=[];x!==h.length;++x){var v=h[x].trim().split(":");if(v[0]==="cell"){var w=xi(v[1]);if(y.length<=w.r)for(m=y.length;m<=w.r;++m)y[m]||(y[m]=[]);switch(m=w.r,g=w.c,v[2]){case"t":y[m][g]=e(v[3]);break;case"v":y[m][g]=+v[3];break;case"vtf":var N=v[v.length-1];case"vtc":switch(v[3]){case"nl":y[m][g]=!!+v[4];break;default:y[m][g]=+v[4];break}v[2]=="vtf"&&(y[m][g]=[y[m][g],N])}}}return p&&p.sheetRows&&(y=y.slice(0,p.sheetRows)),y}function n(f,p){return Vb(r(f,p),p)}function a(f,p){return Cx(n(f,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(f){if(!f||!f["!ref"])return"";for(var p=[],h=[],m,g="",x=Dc(f["!ref"]),y=Array.isArray(f),v=x.s.r;v<=x.e.r;++v)for(var w=x.s.c;w<=x.e.c;++w)if(g=On({r:v,c:w}),m=y?(f[v]||[])[w]:f[g],!(!m||m.v==null||m.t==="z")){switch(h=["cell",g,"t"],m.t){case"s":case"str":h.push(t(m.v));break;case"n":m.f?(h[2]="vtf",h[3]="n",h[4]=m.v,h[5]=t(m.f)):(h[2]="v",h[3]=m.v);break;case"b":h[2]="vt"+(m.f?"f":"c"),h[3]="nl",h[4]=m.v?"1":"0",h[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var N=_l(Yo(m.v));h[2]="vtc",h[3]="nd",h[4]=""+N,h[5]=m.w||qm(m.z||Za[14],N);break;case"e":continue}p.push(h.join(":"))}return p.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function u(f){return[s,i,l,i,d(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),rVe=function(){function e(u,f,p,h,m){m.raw?f[p][h]=u:u===""||(u==="TRUE"?f[p][h]=!0:u==="FALSE"?f[p][h]=!1:isNaN(jh(u))?isNaN(lN(u).getDate())?f[p][h]=u:f[p][h]=Yo(u):f[p][h]=jh(u))}function t(u,f){var p=f||{},h=[];if(!u||u.length===0)return h;for(var m=u.split(/[\r\n]/),g=m.length-1;g>=0&&m[g].length===0;)--g;for(var x=10,y=0,v=0;v<=g;++v)y=m[v].indexOf(" "),y==-1?y=m[v].length:y++,x=Math.max(x,y);for(v=0;v<=g;++v){h[v]=[];var w=0;for(e(m[v].slice(0,x).trim(),h,v,w,p),w=1;w<=(m[v].length-x)/10+1;++w)e(m[v].slice(x+(w-1)*10,x+w*10).trim(),h,v,w,p)}return p.sheetRows&&(h=h.slice(0,p.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},p=!1,h=0,m=0;h<u.length;++h)(m=u.charCodeAt(h))==34?p=!p:!p&&m in r&&(f[m]=(f[m]||0)+1);m=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&m.push([f[h],h]);if(!m.length){f=n;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&m.push([f[h],h])}return m.sort(function(g,x){return g[0]-x[0]||n[g[1]]-n[x[1]]}),r[m.pop()[1]]||44}function s(u,f){var p=f||{},h="",m=p.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=a(u.slice(0,1024)):p&&p.FS?h=p.FS:h=a(u.slice(0,1024));var x=0,y=0,v=0,w=0,N=0,C=h.charCodeAt(0),_=!1,S=0,k=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var A=p.dateNF!=null?y$e(p.dateNF):null;function O(){var D=u.slice(w,N),M={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)M.t="z";else if(p.raw)M.t="s",M.v=D;else if(D.trim().length===0)M.t="s",M.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(M.t="s",M.v=D.slice(2,-1).replace(/""/g,'"')):eqe(D)?(M.t="n",M.f=D.slice(1)):(M.t="s",M.v=D);else if(D=="TRUE")M.t="b",M.v=!0;else if(D=="FALSE")M.t="b",M.v=!1;else if(!isNaN(v=jh(D)))M.t="n",p.cellText!==!1&&(M.w=D),M.v=v;else if(!isNaN(lN(D).getDate())||A&&D.match(A)){M.z=p.dateNF||Za[14];var I=0;A&&D.match(A)&&(D=v$e(D,p.dateNF,D.match(A)||[]),I=1),p.cellDates?(M.t="d",M.v=Yo(D,I)):(M.t="n",M.v=_l(Yo(D,I))),p.cellText!==!1&&(M.w=qm(M.z,M.v instanceof Date?_l(M.v):M.v)),p.cellNF||delete M.z}else M.t="s",M.v=D;if(M.t=="z"||(p.dense?(m[x]||(m[x]=[]),m[x][y]=M):m[On({c:y,r:x})]=M),w=N+1,k=u.charCodeAt(w),g.e.c<y&&(g.e.c=y),g.e.r<x&&(g.e.r=x),S==C)++y;else if(y=0,++x,p.sheetRows&&p.sheetRows<=x)return!0}e:for(;N<u.length;++N)switch(S=u.charCodeAt(N)){case 34:k===34&&(_=!_);break;case C:case 10:case 13:if(!_&&O())break e;break}return N-w>0&&O(),m["!ref"]=Rs(g),m}function i(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,f):Vb(t(u,f),f)}function l(u,f){var p="",h=f.type=="string"?[0,0,0,0]:pKe(u,f);switch(f.type){case"base64":p=Wh(u);break;case"binary":p=u;break;case"buffer":f.codepage==65001?p=u.toString("utf8"):f.codepage&&typeof UC<"u"||(p=dn&&Buffer.isBuffer(u)?u.toString("binary"):ES(u));break;case"array":p=e3(u);break;case"string":p=u;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?p=U2(p.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?p=U2(p):f.type=="binary"&&typeof UC<"u",p.slice(0,19)=="socialcalc:version:"?Kle.to_sheet(f.type=="string"?p:U2(p),f):i(p,f)}function c(u,f){return Cx(l(u,f),f)}function d(u){for(var f=[],p=pa(u["!ref"]),h,m=Array.isArray(u),g=p.s.r;g<=p.e.r;++g){for(var x=[],y=p.s.c;y<=p.e.c;++y){var v=On({r:g,c:y});if(h=m?(u[g]||[])[y]:u[v],!h||h.v==null){x.push("          ");continue}for(var w=(h.w||(Yh(h),h.w)||"").slice(0,10);w.length<10;)w+=" ";x.push(w+(y===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}}(),IY=function(){function e(T,R,F){if(T){Jl(T,T.l||0);for(var H=F.Enum||B;T.l<T.length;){var W=T.read_shift(2),te=H[W]||H[65535],pe=T.read_shift(2),se=T.l+pe,ce=te.f&&te.f(T,pe,F);if(T.l=se,R(ce,te,W))return}}}function t(T,R){switch(R.type){case"base64":return r(Ud(Wh(T)),R);case"binary":return r(Ud(T),R);case"buffer":case"array":return r(T,R)}throw"Unsupported type "+R.type}function r(T,R){if(!T)return T;var F=R||{},H=F.dense?[]:{},W="Sheet1",te="",pe=0,se={},ce=[],Ne=[],he={s:{r:0,c:0},e:{r:0,c:0}},ze=F.sheetRows||0;if(T[2]==0&&(T[3]==8||T[3]==9)&&T.length>=16&&T[14]==5&&T[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(T[2]==2)F.Enum=B,e(T,function(be,wt,Qe){switch(Qe){case 0:F.vers=be,be>=4096&&(F.qpro=!0);break;case 6:he=be;break;case 204:be&&(te=be);break;case 222:te=be;break;case 15:case 51:F.qpro||(be[1].v=be[1].v.slice(1));case 13:case 14:case 16:Qe==14&&(be[2]&112)==112&&(be[2]&15)>1&&(be[2]&15)<15&&(be[1].z=F.dateNF||Za[14],F.cellDates&&(be[1].t="d",be[1].v=fle(be[1].v))),F.qpro&&be[3]>pe&&(H["!ref"]=Rs(he),se[W]=H,ce.push(W),H=F.dense?[]:{},he={s:{r:0,c:0},e:{r:0,c:0}},pe=be[3],W=te||"Sheet"+(pe+1),te="");var me=F.dense?(H[be[0].r]||[])[be[0].c]:H[On(be[0])];if(me){me.t=be[1].t,me.v=be[1].v,be[1].z!=null&&(me.z=be[1].z),be[1].f!=null&&(me.f=be[1].f);break}F.dense?(H[be[0].r]||(H[be[0].r]=[]),H[be[0].r][be[0].c]=be[1]):H[On(be[0])]=be[1];break}},F);else if(T[2]==26||T[2]==14)F.Enum=q,T[2]==14&&(F.qpro=!0,T.l=0),e(T,function(be,wt,Qe){switch(Qe){case 204:W=be;break;case 22:be[1].v=be[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(be[3]>pe&&(H["!ref"]=Rs(he),se[W]=H,ce.push(W),H=F.dense?[]:{},he={s:{r:0,c:0},e:{r:0,c:0}},pe=be[3],W="Sheet"+(pe+1)),ze>0&&be[0].r>=ze)break;F.dense?(H[be[0].r]||(H[be[0].r]=[]),H[be[0].r][be[0].c]=be[1]):H[On(be[0])]=be[1],he.e.c<be[0].c&&(he.e.c=be[0].c),he.e.r<be[0].r&&(he.e.r=be[0].r);break;case 27:be[14e3]&&(Ne[be[14e3][0]]=be[14e3][1]);break;case 1537:Ne[be[0]]=be[1],be[0]==pe&&(W=be[1]);break}},F);else throw new Error("Unrecognized LOTUS BOF "+T[2]);if(H["!ref"]=Rs(he),se[te||W]=H,ce.push(te||W),!Ne.length)return{SheetNames:ce,Sheets:se};for(var Pe={},ee=[],We=0;We<Ne.length;++We)se[ce[We]]?(ee.push(Ne[We]||ce[We]),Pe[Ne[We]]=se[Ne[We]]||se[ce[We]]):(ee.push(Ne[We]),Pe[Ne[We]]={"!ref":"A1"});return{SheetNames:ee,Sheets:Pe}}function n(T,R){var F=R||{};if(+F.codepage>=0&&iN(+F.codepage),F.type=="string")throw new Error("Cannot write WK1 to JS string");var H=ml(),W=pa(T["!ref"]),te=Array.isArray(T),pe=[];Tt(H,0,s(1030)),Tt(H,6,c(W));for(var se=Math.min(W.e.r,8191),ce=W.s.r;ce<=se;++ce)for(var Ne=Xi(ce),he=W.s.c;he<=W.e.c;++he){ce===W.s.r&&(pe[he]=bo(he));var ze=pe[he]+Ne,Pe=te?(T[ce]||[])[he]:T[ze];if(!(!Pe||Pe.t=="z"))if(Pe.t=="n")(Pe.v|0)==Pe.v&&Pe.v>=-32768&&Pe.v<=32767?Tt(H,13,h(ce,he,Pe.v)):Tt(H,14,g(ce,he,Pe.v));else{var ee=Yh(Pe);Tt(H,15,f(ce,he,ee.slice(0,239)))}}return Tt(H,1),H.end()}function a(T,R){var F=R||{};if(+F.codepage>=0&&iN(+F.codepage),F.type=="string")throw new Error("Cannot write WK3 to JS string");var H=ml();Tt(H,0,i(T));for(var W=0,te=0;W<T.SheetNames.length;++W)(T.Sheets[T.SheetNames[W]]||{})["!ref"]&&Tt(H,27,J(T.SheetNames[W],te++));var pe=0;for(W=0;W<T.SheetNames.length;++W){var se=T.Sheets[T.SheetNames[W]];if(!(!se||!se["!ref"])){for(var ce=pa(se["!ref"]),Ne=Array.isArray(se),he=[],ze=Math.min(ce.e.r,8191),Pe=ce.s.r;Pe<=ze;++Pe)for(var ee=Xi(Pe),We=ce.s.c;We<=ce.e.c;++We){Pe===ce.s.r&&(he[We]=bo(We));var be=he[We]+ee,wt=Ne?(se[Pe]||[])[We]:se[be];if(!(!wt||wt.t=="z"))if(wt.t=="n")Tt(H,23,O(Pe,We,pe,wt.v));else{var Qe=Yh(wt);Tt(H,22,S(Pe,We,pe,Qe.slice(0,239)))}}++pe}}return Tt(H,1),H.end()}function s(T){var R=et(2);return R.write_shift(2,T),R}function i(T){var R=et(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var F=0,H=0,W=0,te=0;te<T.SheetNames.length;++te){var pe=T.SheetNames[te],se=T.Sheets[pe];if(!(!se||!se["!ref"])){++W;var ce=Dc(se["!ref"]);F<ce.e.r&&(F=ce.e.r),H<ce.e.c&&(H=ce.e.c)}}return F>8191&&(F=8191),R.write_shift(2,F),R.write_shift(1,W),R.write_shift(1,H),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function l(T,R,F){var H={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&F.qpro?(H.s.c=T.read_shift(1),T.l++,H.s.r=T.read_shift(2),H.e.c=T.read_shift(1),T.l++,H.e.r=T.read_shift(2),H):(H.s.c=T.read_shift(2),H.s.r=T.read_shift(2),R==12&&F.qpro&&(T.l+=2),H.e.c=T.read_shift(2),H.e.r=T.read_shift(2),R==12&&F.qpro&&(T.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function c(T){var R=et(8);return R.write_shift(2,T.s.c),R.write_shift(2,T.s.r),R.write_shift(2,T.e.c),R.write_shift(2,T.e.r),R}function d(T,R,F){var H=[{c:0,r:0},{t:"n",v:0},0,0];return F.qpro&&F.vers!=20768?(H[0].c=T.read_shift(1),H[3]=T.read_shift(1),H[0].r=T.read_shift(2),T.l+=2):(H[2]=T.read_shift(1),H[0].c=T.read_shift(2),H[0].r=T.read_shift(2)),H}function u(T,R,F){var H=T.l+R,W=d(T,R,F);if(W[1].t="s",F.vers==20768){T.l++;var te=T.read_shift(1);return W[1].v=T.read_shift(te,"utf8"),W}return F.qpro&&T.l++,W[1].v=T.read_shift(H-T.l,"cstr"),W}function f(T,R,F){var H=et(7+F.length);H.write_shift(1,255),H.write_shift(2,R),H.write_shift(2,T),H.write_shift(1,39);for(var W=0;W<H.length;++W){var te=F.charCodeAt(W);H.write_shift(1,te>=128?95:te)}return H.write_shift(1,0),H}function p(T,R,F){var H=d(T,R,F);return H[1].v=T.read_shift(2,"i"),H}function h(T,R,F){var H=et(7);return H.write_shift(1,255),H.write_shift(2,R),H.write_shift(2,T),H.write_shift(2,F,"i"),H}function m(T,R,F){var H=d(T,R,F);return H[1].v=T.read_shift(8,"f"),H}function g(T,R,F){var H=et(13);return H.write_shift(1,255),H.write_shift(2,R),H.write_shift(2,T),H.write_shift(8,F,"f"),H}function x(T,R,F){var H=T.l+R,W=d(T,R,F);if(W[1].v=T.read_shift(8,"f"),F.qpro)T.l=H;else{var te=T.read_shift(2);N(T.slice(T.l,T.l+te),W),T.l+=te}return W}function y(T,R,F){var H=R&32768;return R&=-32769,R=(H?T:0)+(R>=8192?R-16384:R),(H?"":"$")+(F?bo(R):Xi(R))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(T,R){Jl(T,0);for(var F=[],H=0,W="",te="",pe="",se="";T.l<T.length;){var ce=T[T.l++];switch(ce){case 0:F.push(T.read_shift(8,"f"));break;case 1:te=y(R[0].c,T.read_shift(2),!0),W=y(R[0].r,T.read_shift(2),!1),F.push(te+W);break;case 2:{var Ne=y(R[0].c,T.read_shift(2),!0),he=y(R[0].r,T.read_shift(2),!1);te=y(R[0].c,T.read_shift(2),!0),W=y(R[0].r,T.read_shift(2),!1),F.push(Ne+he+":"+te+W)}break;case 3:if(T.l<T.length){console.error("WK1 premature formula end");return}break;case 4:F.push("("+F.pop()+")");break;case 5:F.push(T.read_shift(2));break;case 6:{for(var ze="";ce=T[T.l++];)ze+=String.fromCharCode(ce);F.push('"'+ze.replace(/"/g,'""')+'"')}break;case 8:F.push("-"+F.pop());break;case 23:F.push("+"+F.pop());break;case 22:F.push("NOT("+F.pop()+")");break;case 20:case 21:se=F.pop(),pe=F.pop(),F.push(["AND","OR"][ce-20]+"("+pe+","+se+")");break;default:if(ce<32&&w[ce])se=F.pop(),pe=F.pop(),F.push(pe+w[ce]+se);else if(v[ce]){if(H=v[ce][1],H==69&&(H=T[T.l++]),H>F.length){console.error("WK1 bad formula parse 0x"+ce.toString(16)+":|"+F.join("|")+"|");return}var Pe=F.slice(-H);F.length-=H,F.push(v[ce][0]+"("+Pe.join(",")+")")}else return ce<=7?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=24?console.error("WK1 unsupported op "+ce.toString(16)):ce<=30?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=115?console.error("WK1 unsupported function opcode "+ce.toString(16)):console.error("WK1 unrecognized opcode "+ce.toString(16))}}F.length==1?R[1].f=""+F[0]:console.error("WK1 bad formula parse |"+F.join("|")+"|")}function C(T){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=T.read_shift(2),R[3]=T[T.l++],R[0].c=T[T.l++],R}function _(T,R){var F=C(T);return F[1].t="s",F[1].v=T.read_shift(R-4,"cstr"),F}function S(T,R,F,H){var W=et(6+H.length);W.write_shift(2,T),W.write_shift(1,F),W.write_shift(1,R),W.write_shift(1,39);for(var te=0;te<H.length;++te){var pe=H.charCodeAt(te);W.write_shift(1,pe>=128?95:pe)}return W.write_shift(1,0),W}function k(T,R){var F=C(T);F[1].v=T.read_shift(2);var H=F[1].v>>1;if(F[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return F[1].v=H,F}function A(T,R){var F=C(T),H=T.read_shift(4),W=T.read_shift(4),te=T.read_shift(2);if(te==65535)return H===0&&W===3221225472?(F[1].t="e",F[1].v=15):H===0&&W===3489660928?(F[1].t="e",F[1].v=42):F[1].v=0,F;var pe=te&32768;return te=(te&32767)-16446,F[1].v=(1-pe*2)*(W*Math.pow(2,te+32)+H*Math.pow(2,te)),F}function O(T,R,F,H){var W=et(14);if(W.write_shift(2,T),W.write_shift(1,F),W.write_shift(1,R),H==0)return W.write_shift(4,0),W.write_shift(4,0),W.write_shift(2,65535),W;var te=0,pe=0,se=0,ce=0;return H<0&&(te=1,H=-H),pe=Math.log2(H)|0,H/=Math.pow(2,pe-31),ce=H>>>0,ce&2147483648||(H/=2,++pe,ce=H>>>0),H-=ce,ce|=2147483648,ce>>>=0,H*=Math.pow(2,32),se=H>>>0,W.write_shift(4,se),W.write_shift(4,ce),pe+=16383+(te?32768:0),W.write_shift(2,pe),W}function D(T,R){var F=A(T);return T.l+=R-14,F}function M(T,R){var F=C(T),H=T.read_shift(4);return F[1].v=H>>6,F}function I(T,R){var F=C(T),H=T.read_shift(8,"f");return F[1].v=H,F}function z(T,R){var F=I(T);return T.l+=R-10,F}function Y(T,R){return T[T.l+R-1]==0?T.read_shift(R,"cstr"):""}function X(T,R){var F=T[T.l++];F>R-1&&(F=R-1);for(var H="";H.length<F;)H+=String.fromCharCode(T[T.l++]);return H}function V(T,R,F){if(!(!F.qpro||R<21)){var H=T.read_shift(1);T.l+=17,T.l+=1,T.l+=2;var W=T.read_shift(R-21,"cstr");return[H,W]}}function G(T,R){for(var F={},H=T.l+R;T.l<H;){var W=T.read_shift(2);if(W==14e3){for(F[W]=[0,""],F[W][0]=T.read_shift(2);T[T.l];)F[W][1]+=String.fromCharCode(T[T.l]),T.l++;T.l++}}return F}function J(T,R){var F=et(5+T.length);F.write_shift(2,14e3),F.write_shift(2,R);for(var H=0;H<T.length;++H){var W=T.charCodeAt(H);F[F.l++]=W>127?95:W}return F[F.l++]=0,F}var B={0:{n:"BOF",f:Vle},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Y},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:_},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:G},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:I},40:{n:"FORMULA28",f:z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Y},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:V},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),nVe=/^\s|\s$|[\t\n\r]/;function Xle(e,t){if(!t.bookSST)return"";var r=[Fs];r[r.length]=Et("sst",null,{xmlns:Ub[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(nVe)&&(s+=' xml:space="preserve"'),s+=">"+Dn(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function aVe(e){return[e.read_shift(4),e.read_shift(4)]}function sVe(e,t){return t||(t=et(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var iVe=X$e;function oVe(e){var t=ml();ht(t,159,sVe(e));for(var r=0;r<e.length;++r)ht(t,19,iVe(e[r]));return ht(t,160),t.end()}function lVe(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Jle(e){var t=0,r,n=lVe(e),a=n.length+1,s,i,l,c,d;for(r=nx(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],l=t&16384?1:0,c=t<<1&32767,d=l|c,t=d^i;return t^52811}var cVe=function(){function e(a,s){switch(s.type){case"base64":return t(Wh(a),s);case"binary":return t(a,s);case"buffer":return t(dn&&Buffer.isBuffer(a)?a.toString("binary"):ES(a),s);case"array":return t(e3(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},l=i.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(l)&&(l[f]=[]);for(var p=/\\\w+\b/g,h=0,m,g=-1;m=p.exec(u);){switch(m[0]){case"\\cell":var x=u.slice(h,p.lastIndex-m[0].length);if(x[0]==" "&&(x=x.slice(1)),++g,x.length){var y={v:x,t:"s"};Array.isArray(l)?l[f][g]=y:l[On({r:f,c:g})]=y}break}h=p.lastIndex}g>d.e.c&&(d.e.c=g)}),l["!ref"]=Rs(d),l}function r(a,s){return Cx(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=pa(a["!ref"]),l,c=Array.isArray(a),d=i.s.r;d<=i.e.r;++d){s.push("\\trowd\\trautofit1");for(var u=i.s.c;u<=i.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=i.s.c;u<=i.e.c;++u){var f=On({r:d,c:u});l=c?(a[d]||[])[u]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(Yh(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function FY(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var dVe=6,_h=dVe;function QC(e){return Math.floor((e+Math.round(128/_h)/256)*_h)}function ZC(e){return Math.floor((e-5)/_h*100+.5)/100}function LP(e){return Math.round((e*_h+5)/_h*256)/256}function ZF(e){e.width?(e.wpx=QC(e.width),e.wch=ZC(e.wpx),e.MDW=_h):e.wpx?(e.wch=ZC(e.wpx),e.width=LP(e.wch),e.MDW=_h):typeof e.wch=="number"&&(e.width=LP(e.wch),e.wpx=QC(e.width),e.MDW=_h),e.customWidth&&delete e.customWidth}var uVe=96,Qle=uVe;function eA(e){return e*96/Qle}function Zle(e){return e*Qle/96}function fVe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Et("numFmt",null,{numFmtId:n,formatCode:Dn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Et("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function hVe(e){var t=[];return t[t.length]=Et("cellXfs",null),e.forEach(function(r){t[t.length]=Et("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Et("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function ece(e,t){var r=[Fs,Et("styleSheet",null,{xmlns:Ub[0],"xmlns:vt":mi.vt})],n;return e.SSF&&(n=fVe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=hVe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function pVe(e,t){var r=e.read_shift(2),n=wo(e);return[r,n]}function mVe(e,t,r){r||(r=et(6+4*t.length)),r.write_shift(2,e),yi(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function gVe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=nUe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=rUe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=wo(e),n}function xVe(e,t){t||(t=et(25+4*32)),t.write_shift(2,e.sz*20),aUe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),XC(e.color,t);var n=0;return n=2,t.write_shift(1,n),yi(e.name,t),t.length>t.l?t.slice(0,t.l):t}var yVe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],iM,vVe=Qu;function zY(e,t){t||(t=et(4*3+8*7+16*1)),iM||(iM=HF(yVe));var r=iM[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(XC({auto:1},t),XC({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function bVe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function tce(e,t,r){r||(r=et(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function W1(e,t){return t||(t=et(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var wVe=Qu;function NVe(e,t){return t||(t=et(51)),t.write_shift(1,0),W1(null,t),W1(null,t),W1(null,t),W1(null,t),W1(null,t),t.length>t.l?t.slice(0,t.l):t}function SVe(e,t){return t||(t=et(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),KC(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function jVe(e,t,r){var n=et(2052);return n.write_shift(4,e),KC(t,n),KC(r,n),n.length>n.l?n.slice(0,n.l):n}function _Ve(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(ht(e,615,tu(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ht(e,44,mVe(a,t[a]))}),ht(e,616))}}function kVe(e){var t=1;ht(e,611,tu(t)),ht(e,43,xVe({sz:12,color:{theme:1},name:"Calibri",family:2})),ht(e,612)}function CVe(e){var t=2;ht(e,603,tu(t)),ht(e,45,zY({patternType:"none"})),ht(e,45,zY({patternType:"gray125"})),ht(e,604)}function AVe(e){var t=1;ht(e,613,tu(t)),ht(e,46,NVe()),ht(e,614)}function EVe(e){var t=1;ht(e,626,tu(t)),ht(e,47,tce({numFmtId:0},65535)),ht(e,627)}function TVe(e,t){ht(e,617,tu(t.length)),t.forEach(function(r){ht(e,47,tce(r,0))}),ht(e,618)}function DVe(e){var t=1;ht(e,619,tu(t)),ht(e,48,SVe({xfId:0,name:"Normal"})),ht(e,620)}function MVe(e){var t=0;ht(e,505,tu(t)),ht(e,506)}function OVe(e){var t=0;ht(e,508,jVe(t,"TableStyleMedium9","PivotStyleMedium4")),ht(e,509)}function PVe(e,t){var r=ml();return ht(r,278),_Ve(r,e.SSF),kVe(r),CVe(r),AVe(r),EVe(r),TVe(r,t.cellXfs),DVe(r),MVe(r),OVe(r),ht(r,279),r.end()}function rce(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Fs];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function RVe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:wo(e)}}function LVe(e){var t=et(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),yi(e.name,t),t.slice(0,t.l)}function IVe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function FVe(e){var t=et(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function zVe(e,t){var r=et(8+2*t.length);return r.write_shift(4,e),yi(t,r),r.slice(0,r.l)}function BVe(e){return e.l+=4,e.read_shift(4)!=0}function HVe(e,t){var r=et(8);return r.write_shift(4,e),r.write_shift(4,1),r}function $Ve(){var e=ml();return ht(e,332),ht(e,334,tu(1)),ht(e,335,LVe({name:"XLDAPR",version:12e4,flags:3496657072})),ht(e,336),ht(e,339,zVe(1,"XLDAPR")),ht(e,52),ht(e,35,tu(514)),ht(e,4096,tu(0)),ht(e,4097,Gc(1)),ht(e,36),ht(e,53),ht(e,340),ht(e,337,HVe(1)),ht(e,51,FVe([[1,0]])),ht(e,338),ht(e,333),e.end()}function nce(){var e=[Fs];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function UVe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=On(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var $y=1024;function ace(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Et("xml",null,{"xmlns:v":tc.v,"xmlns:o":tc.o,"xmlns:x":tc.x,"xmlns:mv":tc.mv}).replace(/\/>/,">"),Et("o:shapelayout",Et("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Et("v:shapetype",[Et("v:stroke",null,{joinstyle:"miter"}),Et("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];$y<e*1e3;)$y+=1e3;return t.forEach(function(s){var i=xi(s[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Et("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Et("v:fill",c,l),u={on:"t",obscured:"t"};++$y,a=a.concat(["<v:shape"+dN({id:"_x0000_s"+$y,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Et("v:shadow",null,u),Et("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",qi("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),qi("x:AutoFill","False"),qi("x:Row",String(i.r)),qi("x:Column",String(i.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function sce(e){var t=[Fs,Et("comments",null,{xmlns:Ub[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var s=Dn(a.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(Dn(c.a))),s.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)t.push(qi("t",Dn(s[0]||"")));else{for(var i=`Comment:
    `+s[0]+`
`,l=1;l<s.length;++l)i+=`Reply:
    `+s[l]+`
`;t.push(qi("t",Dn(i)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function VVe(e,t,r){var n=[Fs,Et("ThreadedComments",null,{xmlns:mi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(i,l){if(!i.T){delete i.ID;return}i.a&&t.indexOf(i.a)==-1&&t.push(i.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?s=c.id:c.parentId=s,i.ID=c.id,i.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(i.a)).slice(-12)+"}"),n.push(Et("threadedComment",qi("text",i.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function qVe(e){var t=[Fs,Et("personList",null,{xmlns:mi.TCMNT,"xmlns:x":Ub[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Et("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function WVe(e){var t={};t.iauthor=e.read_shift(4);var r=Dx(e);return t.rfx=r.s,t.ref=On(r.s),e.l+=16,t}function YVe(e,t){return t==null&&(t=et(36)),t.write_shift(4,e[1].iauthor),qb(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var GVe=wo;function KVe(e){return yi(e.slice(0,54))}function XVe(e){var t=ml(),r=[];return ht(t,628),ht(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),ht(t,632,KVe(a.a)))})}),ht(t,631),ht(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var s={s:xi(n[0]),e:xi(n[0])};ht(t,635,YVe([s,a])),a.t&&a.t.length>0&&ht(t,637,Q$e(a)),ht(t,636),delete a.iauthor})}),ht(t,634),ht(t,629),t.end()}function JVe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Rn.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var ice=["xlsb","xlsm","xlam","biff8","xla"],QVe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1));var d=s.length>0?parseInt(s,10)|0:0,u=i.length>0?parseInt(i,10)|0:0;return l?u+=t.c:--u,c?d+=t.r:--d,a+(l?"":"$")+bo(u)+(c?"":"$")+Xi(d)}return function(a,s){return t=s,a.replace(e,r)}}(),e7=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,t7=function(){return function(t,r){return t.replace(e7,function(n,a,s,i,l,c){var d=GF(i)-(s?0:r.c),u=YF(c)-(l?0:r.r),f=u==0?"":l?u+1:"["+u+"]",p=d==0?"":s?d+1:"["+d+"]";return a+"R"+f+"C"+p})}}();function ZVe(e,t){return e.replace(e7,function(r,n,a,s,i,l){return n+(a=="$"?a+s:bo(GF(s)+t.c))+(i=="$"?i+l:Xi(YF(l)+t.r))})}function eqe(e){return e.length!=1}function Ns(e){e.l+=1}function Wm(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function oce(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return lce(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=Wm(e),l=Wm(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function lce(e){var t=Wm(e),r=Wm(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function tqe(e,t,r){if(r.biff<8)return lce(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Wm(e),i=Wm(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function cce(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return rqe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Wm(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function rqe(e){var t=Wm(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function nqe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function aqe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return sqe(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:l}}function sqe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function iqe(e,t,r){var n=(e[e.l++]&96)>>5,a=oce(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function oqe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=oce(e,s,r);return[n,a,i]}function lqe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function cqe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function dqe(e,t,r){var n=(e[e.l++]&96)>>5,a=tqe(e,t-1,r);return[n,a]}function uqe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function BY(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function fqe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function hqe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function pqe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function mqe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function gqe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function dce(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function xqe(e){return e.read_shift(2),dce(e)}function yqe(e){return e.read_shift(2),dce(e)}function vqe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=cce(e,0,r);return[n,a]}function bqe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=aqe(e,0,r);return[n,a]}function wqe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=cce(e,0,r);return[n,a,s]}function Nqe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[NWe[a],hce[a],n]}function Sqe(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:jqe(e);return[a,(s[0]===0?hce:wWe)[s[1]]]}function jqe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function _qe(e,t,r){e.l+=r&&r.biff==2?3:4}function kqe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Cqe(e){return e.l++,MS[e.read_shift(1)]}function Aqe(e){return e.l++,e.read_shift(2)}function Eqe(e){return e.l++,e.read_shift(1)!==0}function Tqe(e){return e.l++,Wb(e)}function Dqe(e,t,r){return e.l++,Wle(e,t-1,r)}function Mqe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=wUe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=MS[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Wb(e);break;case 2:r[1]=_Ue(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Oqe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?Dx:AUe)(e));return a}function Pqe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var l=0;l!=a;++l)i[s][l]=Mqe(e,r.biff);return i}function Rqe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function Lqe(e,t,r){if(r.biff==5)return Iqe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function Iqe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Fqe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function zqe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Bqe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Hqe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var $qe=Qu,Uqe=Qu,Vqe=Qu;function OS(e,t,r){return e.l+=2,[nqe(e)]}function r7(e){return e.l+=6,[]}var qqe=OS,Wqe=r7,Yqe=r7,Gqe=OS;function uce(e){return e.l+=2,[Vle(e),e.read_shift(2)&1]}var Kqe=OS,Xqe=uce,Jqe=r7,Qqe=OS,Zqe=OS,eWe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function tWe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=eWe[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function rWe(e){return e.l+=2,[e.read_shift(4)]}function nWe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function aWe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function sWe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function iWe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function oWe(e){return e.l+=4,[0,0]}var HY={1:{n:"PtgExp",f:kqe},2:{n:"PtgTbl",f:Vqe},3:{n:"PtgAdd",f:Ns},4:{n:"PtgSub",f:Ns},5:{n:"PtgMul",f:Ns},6:{n:"PtgDiv",f:Ns},7:{n:"PtgPower",f:Ns},8:{n:"PtgConcat",f:Ns},9:{n:"PtgLt",f:Ns},10:{n:"PtgLe",f:Ns},11:{n:"PtgEq",f:Ns},12:{n:"PtgGe",f:Ns},13:{n:"PtgGt",f:Ns},14:{n:"PtgNe",f:Ns},15:{n:"PtgIsect",f:Ns},16:{n:"PtgUnion",f:Ns},17:{n:"PtgRange",f:Ns},18:{n:"PtgUplus",f:Ns},19:{n:"PtgUminus",f:Ns},20:{n:"PtgPercent",f:Ns},21:{n:"PtgParen",f:Ns},22:{n:"PtgMissArg",f:Ns},23:{n:"PtgStr",f:Dqe},26:{n:"PtgSheet",f:nWe},27:{n:"PtgEndSheet",f:aWe},28:{n:"PtgErr",f:Cqe},29:{n:"PtgBool",f:Eqe},30:{n:"PtgInt",f:Aqe},31:{n:"PtgNum",f:Tqe},32:{n:"PtgArray",f:uqe},33:{n:"PtgFunc",f:Nqe},34:{n:"PtgFuncVar",f:Sqe},35:{n:"PtgName",f:Rqe},36:{n:"PtgRef",f:vqe},37:{n:"PtgArea",f:iqe},38:{n:"PtgMemArea",f:Fqe},39:{n:"PtgMemErr",f:$qe},40:{n:"PtgMemNoMem",f:Uqe},41:{n:"PtgMemFunc",f:zqe},42:{n:"PtgRefErr",f:Bqe},43:{n:"PtgAreaErr",f:lqe},44:{n:"PtgRefN",f:bqe},45:{n:"PtgAreaN",f:dqe},46:{n:"PtgMemAreaN",f:sWe},47:{n:"PtgMemNoMemN",f:iWe},57:{n:"PtgNameX",f:Lqe},58:{n:"PtgRef3d",f:wqe},59:{n:"PtgArea3d",f:oqe},60:{n:"PtgRefErr3d",f:Hqe},61:{n:"PtgAreaErr3d",f:cqe},255:{}},lWe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},cWe={1:{n:"PtgElfLel",f:uce},2:{n:"PtgElfRw",f:Qqe},3:{n:"PtgElfCol",f:qqe},6:{n:"PtgElfRwV",f:Zqe},7:{n:"PtgElfColV",f:Gqe},10:{n:"PtgElfRadical",f:Kqe},11:{n:"PtgElfRadicalS",f:Jqe},13:{n:"PtgElfColS",f:Wqe},15:{n:"PtgElfColSV",f:Yqe},16:{n:"PtgElfRadicalLel",f:Xqe},25:{n:"PtgList",f:tWe},29:{n:"PtgSxName",f:rWe},255:{}},dWe={0:{n:"PtgAttrNoop",f:oWe},1:{n:"PtgAttrSemi",f:gqe},2:{n:"PtgAttrIf",f:pqe},4:{n:"PtgAttrChoose",f:fqe},8:{n:"PtgAttrGoto",f:hqe},16:{n:"PtgAttrSum",f:_qe},32:{n:"PtgAttrBaxcel",f:BY},33:{n:"PtgAttrBaxcel",f:BY},64:{n:"PtgAttrSpace",f:xqe},65:{n:"PtgAttrSpaceSemi",f:yqe},128:{n:"PtgAttrIfError",f:mqe},255:{}};function uWe(e,t,r,n){if(n.biff<8)return Qu(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=Pqe(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=Oqe(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(Qu(e,t)),s}function fWe(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=HY[s]||HY[lWe[s]],(s===24||s===25)&&(a=(s===24?cWe:dWe)[e[e.l+1]]),!a||!a.f?Qu(e,t):i.push([a.n,a.f(e,t,r)]);return i}function hWe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var pWe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function mWe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function fce(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function $Y(e,t,r){var n=fce(e,t,r);return n=="#REF"?n:mWe(n,r)}function tb(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0}},l=[],c,d,u,f=0,p=0,h,m="";if(!e[0]||!e[0][0])return"";for(var g=-1,x="",y=0,v=e[0].length;y<v;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),g>=0){switch(e[0][g][1][0]){case 0:x=Wa(" ",e[0][g][1][1]);break;case 1:x=Wa("\r",e[0][g][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}d=d+x,g=-1}l.push(d+pWe[w[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=q2(w[1][1],i,a),l.push(W2(u,s));break;case"PtgRefN":u=r?q2(w[1][1],r,a):w[1][1],l.push(W2(u,s));break;case"PtgRef3d":f=w[1][1],u=q2(w[1][2],i,a),m=$Y(n,f,a),l.push(m+"!"+W2(u,s));break;case"PtgFunc":case"PtgFuncVar":var N=w[1][0],C=w[1][1];N||(N=0),N&=127;var _=N==0?[]:l.slice(-N);l.length-=N,C==="User"&&(C=_.shift()),l.push(C+"("+_.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":h=kY(w[1][1],r?{s:r}:i,a),l.push(aM(h,a));break;case"PtgArea":h=kY(w[1][1],i,a),l.push(aM(h,a));break;case"PtgArea3d":f=w[1][1],h=w[1][2],m=$Y(n,f,a),l.push(m+"!"+aM(h,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=w[1][2];var S=(n.names||[])[p-1]||(n[0]||[])[p],k=S?S.Name:"SH33TJSNAME"+String(p);k&&k.slice(0,6)=="_xlfn."&&!a.xlfn&&(k=k.slice(6)),l.push(k);break;case"PtgNameX":var A=w[1][1];p=w[1][2];var O;if(a.biff<=5)A<0&&(A=-A),n[A]&&(O=n[A][p]);else{var D="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][p]&&n[A][p].itab>0&&(D=n.SheetNames[n[A][p].itab-1]+"!"):D=n.SheetNames[p-1]+"!"),n[A]&&n[A][p])D+=n[A][p].Name;else if(n[0]&&n[0][p])D+=n[0][p].Name;else{var M=(fce(n,A,a)||"").split(";;");M[p-1]?D=M[p-1]:D+="SH33TJSERRX"}l.push(D);break}O||(O={Name:"SH33TJSERRY"}),l.push(O.Name);break;case"PtgParen":var I="(",z=")";if(g>=0){switch(x="",e[0][g][1][0]){case 2:I=Wa(" ",e[0][g][1][1])+I;break;case 3:I=Wa("\r",e[0][g][1][1])+I;break;case 4:z=Wa(" ",e[0][g][1][1])+z;break;case 5:z=Wa("\r",e[0][g][1][1])+z;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}l.push(I+l.pop()+z);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var Y={c:r.c,r:r.r};if(n.sharedf[On(u)]){var X=n.sharedf[On(u)];l.push(tb(X,i,Y,n,a))}else{var V=!1;for(c=0;c!=n.arrayf.length;++c)if(d=n.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(tb(d[1],i,Y,n,a)),V=!0;break}V||l.push(w[1])}break;case"PtgArray":l.push("{"+hWe(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var G=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&G.indexOf(e[0][y][0])==-1){w=e[0][g];var J=!0;switch(w[1][0]){case 4:J=!1;case 0:x=Wa(" ",w[1][1]);break;case 5:J=!1;case 1:x=Wa("\r",w[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((J?x:"")+l.pop()+(J?"":x)),g=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function gWe(e){if(e==null){var t=et(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return ax(e);return ax(0)}function xWe(e,t,r,n,a){var s=sx(t,r,a),i=gWe(e.v),l=et(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=et(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var f=Vi([s,i,l,d]);return f}function t3(e,t,r){var n=e.read_shift(4),a=fWe(e,n,r),s=e.read_shift(4),i=s>0?uWe(e,s,a,r):null;return[a,i]}var yWe=t3,r3=t3,vWe=t3,bWe=t3,wWe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},hce={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},NWe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function SWe(e){var t="of:="+e.replace(e7,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function jWe(e){return e.replace(/\./,"!")}var Y2=typeof Map<"u";function n7(e,t,r){var n=0,a=e.length;if(r){if(Y2?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=Y2?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Y2?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function n3(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(_h=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=ZC(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=LP(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function pce(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function i0(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,s=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){cle(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function _We(e,t,r){if(e&&e["!ref"]){var n=pa(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function kWe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Rs(e[r])+'"/>';return t+"</mergeCells>"}function CWe(e,t,r,n,a){var s=!1,i={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}s=!0,i.codeName=cN(Dn(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+Et("outlinePr",null,d)}!s&&!l||(a[a.length]=Et("sheetPr",l,i))}var AWe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],EWe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function TWe(e){var t={sheet:1};return AWe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),EWe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=Jle(e.password).toString(16).toUpperCase()),Et("sheetProtection",null,t)}function DWe(e){return pce(e),Et("pageMargins",null,e)}function MWe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Et("col",null,n3(a,n)));return r[r.length]="</cols>",r.join("")}function OWe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Rs(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,i=Dc(a);i.s.r==i.e.r&&(i.e.r=Dc(t["!ref"]).e.r,a=Rs(i));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Et("autoFilter",null,{ref:a})}function PWe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Et("sheetViews",Et("sheetView",null,a),{})}function RWe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,i=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=MS[e.v];break;case"d":n&&n.cellDates?a=Yo(e.v,-1).toISOString():(e=kl(e),e.t="n",a=""+(e.v=_l(Yo(e.v)))),typeof e.z>"u"&&(e.z=Za[14]);break;default:a=e.v;break}var l=qi("v",Dn(a)),c={r:t},d=i0(n.cellXfs,e,n);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=qi("v",""+n7(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=s&&(e.t=s,e.v=i),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Et("f",Dn(e.f),u)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Et("c",l,c)}function LWe(e,t,r,n){var a=[],s=[],i=pa(e["!ref"]),l="",c,d="",u=[],f=0,p=0,h=e["!rows"],m=Array.isArray(e),g={r:d},x,y=-1;for(p=i.s.c;p<=i.e.c;++p)u[p]=bo(p);for(f=i.s.r;f<=i.e.r;++f){for(s=[],d=Xi(f),p=i.s.c;p<=i.e.c;++p){c=u[p]+d;var v=m?(e[f]||[])[p]:e[c];v!==void 0&&(l=RWe(v,c,e,t))!=null&&s.push(l)}(s.length>0||h&&h[f])&&(g={r:d},h&&h[f]&&(x=h[f],x.hidden&&(g.hidden=1),y=-1,x.hpx?y=eA(x.hpx):x.hpt&&(y=x.hpt),y>-1&&(g.ht=y,g.customHeight=1),x.level&&(g.outlineLevel=x.level)),a[a.length]=Et("row",s.join(""),g))}if(h)for(;f<h.length;++f)h&&h[f]&&(g={r:f+1},x=h[f],x.hidden&&(g.hidden=1),y=-1,x.hpx?y=eA(x.hpx):x.hpt&&(y=x.hpt),y>-1&&(g.ht=y,g.customHeight=1),x.level&&(g.outlineLevel=x.level),a[a.length]=Et("row","",g));return a.join("")}function mce(e,t,r,n){var a=[Fs,Et("worksheet",null,{xmlns:Ub[0],"xmlns:r":mi.r})],s=r.SheetNames[e],i=0,l="",c=r.Sheets[s];c==null&&(c={});var d=c["!ref"]||"A1",u=pa(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=Rs(u)}n||(n={}),c["!comments"]=[];var f=[];CWe(c,r,e,t,a),a[a.length]=Et("dimension",null,{ref:d}),a[a.length]=PWe(c,t,e,r),t.sheetFormat&&(a[a.length]=Et("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=MWe(c,c["!cols"])),a[i=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=LWe(c,t),l.length>0&&(a[a.length]=l)),a.length>i+1&&(a[a.length]="</sheetData>",a[i]=a[i].replace("/>",">")),c["!protect"]&&(a[a.length]=TWe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=OWe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=kWe(c["!merges"]));var p=-1,h,m=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(h={ref:g[0]},g[1].Target.charAt(0)!="#"&&(m=kn(n,-1,Dn(g[1].Target).replace(/#.*$/,""),sn.HLINK),h["r:id"]="rId"+m),(p=g[1].Target.indexOf("#"))>-1&&(h.location=Dn(g[1].Target.slice(p+1))),g[1].Tooltip&&(h.tooltip=Dn(g[1].Tooltip)),a[a.length]=Et("hyperlink",null,h))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=DWe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=qi("ignoredErrors",Et("ignoredError",null,{numberStoredAsText:1,sqref:d}))),f.length>0&&(m=kn(n,-1,"../drawings/drawing"+(e+1)+".xml",sn.DRAW),a[a.length]=Et("drawing",null,{"r:id":"rId"+m}),c["!drawing"]=f),c["!comments"].length>0&&(m=kn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",sn.VML),a[a.length]=Et("legacyDrawing",null,{"r:id":"rId"+m}),c["!legacy"]=m),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function IWe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}function FWe(e,t,r){var n=et(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=eA(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var i=0;a.level&&(i|=a.level),a.hidden&&(i|=16),(a.hpx||a.hpt)&&(i|=32),n.write_shift(1,i),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,p=-1,h=u<<10;h<u+1<<10;++h){d.c=h;var m=Array.isArray(r)?(r[d.r]||[])[d.c]:r[On(d)];m&&(f<0&&(f=h),p=h)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,p))}var g=n.l;return n.l=c,n.write_shift(4,l),n.l=g,n.length>n.l?n.slice(0,n.l):n}function zWe(e,t,r,n){var a=FWe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&ht(e,0,a)}var BWe=Dx,HWe=qb;function $We(){}function UWe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Z$e(e),r}function VWe(e,t,r){r==null&&(r=et(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return XC({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Tle(e,r),r.slice(0,r.l)}function qWe(e){var t=Cd(e);return[t]}function WWe(e,t,r){return r==null&&(r=et(8)),Ax(t,r)}function YWe(e){var t=Ex(e);return[t]}function GWe(e,t,r){return r==null&&(r=et(4)),Tx(t,r)}function KWe(e){var t=Cd(e),r=e.read_shift(1);return[t,r,"b"]}function XWe(e,t,r){return r==null&&(r=et(9)),Ax(t,r),r.write_shift(1,e.v?1:0),r}function JWe(e){var t=Ex(e),r=e.read_shift(1);return[t,r,"b"]}function QWe(e,t,r){return r==null&&(r=et(5)),Tx(t,r),r.write_shift(1,e.v?1:0),r}function ZWe(e){var t=Cd(e),r=e.read_shift(1);return[t,r,"e"]}function eYe(e,t,r){return r==null&&(r=et(9)),Ax(t,r),r.write_shift(1,e.v),r}function tYe(e){var t=Ex(e),r=e.read_shift(1);return[t,r,"e"]}function rYe(e,t,r){return r==null&&(r=et(8)),Tx(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function nYe(e){var t=Cd(e),r=e.read_shift(4);return[t,r,"s"]}function aYe(e,t,r){return r==null&&(r=et(12)),Ax(t,r),r.write_shift(4,t.v),r}function sYe(e){var t=Ex(e),r=e.read_shift(4);return[t,r,"s"]}function iYe(e,t,r){return r==null&&(r=et(8)),Tx(t,r),r.write_shift(4,t.v),r}function oYe(e){var t=Cd(e),r=Wb(e);return[t,r,"n"]}function lYe(e,t,r){return r==null&&(r=et(16)),Ax(t,r),ax(e.v,r),r}function cYe(e){var t=Ex(e),r=Wb(e);return[t,r,"n"]}function dYe(e,t,r){return r==null&&(r=et(12)),Tx(t,r),ax(e.v,r),r}function uYe(e){var t=Cd(e),r=Dle(e);return[t,r,"n"]}function fYe(e,t,r){return r==null&&(r=et(12)),Ax(t,r),Mle(e.v,r),r}function hYe(e){var t=Ex(e),r=Dle(e);return[t,r,"n"]}function pYe(e,t,r){return r==null&&(r=et(8)),Tx(t,r),Mle(e.v,r),r}function mYe(e){var t=Cd(e),r=KF(e);return[t,r,"is"]}function gYe(e){var t=Cd(e),r=wo(e);return[t,r,"str"]}function xYe(e,t,r){return r==null&&(r=et(12+4*e.v.length)),Ax(t,r),yi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function yYe(e){var t=Ex(e),r=wo(e);return[t,r,"str"]}function vYe(e,t,r){return r==null&&(r=et(8+4*e.v.length)),Tx(t,r),yi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function bYe(e,t,r){var n=e.l+t,a=Cd(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=r3(e,n-e.l,r);i[3]=tb(l,null,a,r.supbooks,r)}else e.l=n;return i}function wYe(e,t,r){var n=e.l+t,a=Cd(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=r3(e,n-e.l,r);i[3]=tb(l,null,a,r.supbooks,r)}else e.l=n;return i}function NYe(e,t,r){var n=e.l+t,a=Cd(e);a.r=r["!row"];var s=Wb(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=r3(e,n-e.l,r);i[3]=tb(l,null,a,r.supbooks,r)}else e.l=n;return i}function SYe(e,t,r){var n=e.l+t,a=Cd(e);a.r=r["!row"];var s=wo(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=r3(e,n-e.l,r);i[3]=tb(l,null,a,r.supbooks,r)}else e.l=n;return i}var jYe=Dx,_Ye=qb;function kYe(e,t){return t==null&&(t=et(4)),t.write_shift(4,e),t}function CYe(e,t){var r=e.l+t,n=Dx(e),a=XF(e),s=wo(e),i=wo(e),l=wo(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return i&&(c.Tooltip=i),c}function AYe(e,t){var r=et(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));qb({s:xi(e[0]),e:xi(e[0])},r),JF("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return yi(a||"",r),yi(e[1].Tooltip||"",r),yi("",r),r.slice(0,r.l)}function EYe(){}function TYe(e,t,r){var n=e.l+t,a=Ole(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var l=yWe(e,n-e.l,r);i[1]=l}else e.l=n;return i}function DYe(e,t,r){var n=e.l+t,a=Dx(e),s=[a];if(r.cellFormula){var i=bWe(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}function MYe(e,t,r){r==null&&(r=et(18));var n=n3(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var gce=["left","right","top","bottom","header","footer"];function OYe(e){var t={};return gce.forEach(function(r){t[r]=Wb(e)}),t}function PYe(e,t){return t==null&&(t=et(6*8)),pce(e),gce.forEach(function(r){ax(e[r],t)}),t}function RYe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function LYe(e,t,r){r==null&&(r=et(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function IYe(e){var t=et(24);return t.write_shift(4,4),t.write_shift(4,1),qb(e,t),t}function FYe(e,t){return t==null&&(t=et(16*4+2)),t.write_shift(2,e.password?Jle(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function zYe(){}function BYe(){}function HYe(e,t,r,n,a,s,i){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=kl(t),t.z=t.z||Za[14],t.v=_l(Yo(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=i0(a.cellXfs,t,a),t.l&&s["!links"].push([On(c),t.l]),t.c&&s["!comments"].push([On(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=n7(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,i?ht(e,18,iYe(t,c)):ht(e,7,aYe(t,c))):(c.t="str",i?ht(e,17,vYe(t,c)):ht(e,6,xYe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?i?ht(e,13,pYe(t,c)):ht(e,2,fYe(t,c)):i?ht(e,16,dYe(t,c)):ht(e,5,lYe(t,c)),!0;case"b":return c.t="b",i?ht(e,15,QWe(t,c)):ht(e,4,XWe(t,c)),!0;case"e":return c.t="e",i?ht(e,14,rYe(t,c)):ht(e,3,eYe(t,c)),!0}return i?ht(e,12,GWe(t,c)):ht(e,1,WWe(t,c)),!0}function $Ye(e,t,r,n){var a=pa(t["!ref"]||"A1"),s,i="",l=[];ht(e,145);var c=Array.isArray(t),d=a.e.r;t["!rows"]&&(d=Math.max(a.e.r,t["!rows"].length-1));for(var u=a.s.r;u<=d;++u){i=Xi(u),zWe(e,t,a,u);var f=!1;if(u<=a.e.r)for(var p=a.s.c;p<=a.e.c;++p){u===a.s.r&&(l[p]=bo(p)),s=l[p]+i;var h=c?(t[u]||[])[p]:t[s];if(!h){f=!1;continue}f=HYe(e,h,u,p,n,t,f)}}ht(e,146)}function UYe(e,t){!t||!t["!merges"]||(ht(e,177,kYe(t["!merges"].length)),t["!merges"].forEach(function(r){ht(e,176,_Ye(r))}),ht(e,178))}function VYe(e,t){!t||!t["!cols"]||(ht(e,390),t["!cols"].forEach(function(r,n){r&&ht(e,60,MYe(n,r))}),ht(e,391))}function qYe(e,t){!t||!t["!ref"]||(ht(e,648),ht(e,649,IYe(pa(t["!ref"]))),ht(e,650))}function WYe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=kn(r,-1,n[1].Target.replace(/#.*$/,""),sn.HLINK);ht(e,494,AYe(n,a))}}),delete t["!links"]}function YYe(e,t,r,n){if(t["!comments"].length>0){var a=kn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",sn.VML);ht(e,551,JF("rId"+a)),t["!legacy"]=a}}function GYe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],s=typeof a.ref=="string"?a.ref:Rs(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,l=Dc(s);l.s.r==l.e.r&&(l.e.r=Dc(t["!ref"]).e.r,s=Rs(l));for(var c=0;c<i.length;++c){var d=i[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+s;break}}c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),ht(e,161,qb(pa(s))),ht(e,162)}}function KYe(e,t,r){ht(e,133),ht(e,137,LYe(t,r)),ht(e,138),ht(e,134)}function XYe(e,t){t["!protect"]&&ht(e,535,FYe(t["!protect"]))}function JYe(e,t,r,n){var a=ml(),s=r.SheetNames[e],i=r.Sheets[s]||{},l=s;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=pa(i["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],ht(a,129),(r.vbaraw||i["!outline"])&&ht(a,147,VWe(l,i["!outline"])),ht(a,148,HWe(c)),KYe(a,i,r.Workbook),VYe(a,i),$Ye(a,i,e,t),XYe(a,i),GYe(a,i,r,e),UYe(a,i),WYe(a,i,n),i["!margins"]&&ht(a,476,PYe(i["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&qYe(a,i),YYe(a,i,e,n),ht(a,130),a.end()}function QYe(e,t){e.l+=10;var r=wo(e);return{name:r}}var ZYe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function eGe(e){return!e.Workbook||!e.Workbook.WBProps?"false":D$e(e.Workbook.WBProps.date1904)?"true":"false"}var tGe="][*?/\\".split("");function xce(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return tGe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function rGe(e,t,r){e.forEach(function(n,a){xce(n);for(var s=0;s<a;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var i=t&&t[a]&&t[a].CodeName||n;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function nGe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];rGe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)_We(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function yce(e){var t=[Fs];t[t.length]=Et("workbook",null,{xmlns:Ub[0],"xmlns:r":mi.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(ZYe.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Et("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var i={name:Dn(e.SheetNames[s].slice(0,31))};if(i.sheetId=""+(s+1),i["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}t[t.length]=Et("sheet",null,i)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Et("definedName",Dn(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function aGe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=RP(e),r.name=wo(e),r}function sGe(e,t){return t||(t=et(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),JF(e.strRelID,t),yi(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function iGe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?wo(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function oGe(e,t){t||(t=et(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),Tle(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function lGe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=eUe(e),i=vWe(e,0,r),l=XF(e);e.l=n;var c={Name:s,Ptg:i};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function cGe(e,t){ht(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};ht(e,156,sGe(a))}ht(e,144)}function dGe(e,t){t||(t=et(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return yi("SheetJS",t),yi($C.version,t),yi($C.version,t),yi("7262",t),t.length>t.l?t.slice(0,t.l):t}function uGe(e,t){t||(t=et(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function fGe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&s==-1&&(s=n);s>a||(ht(e,135),ht(e,158,uGe(a)),ht(e,136))}}function hGe(e,t){var r=ml();return ht(r,131),ht(r,128,dGe()),ht(r,153,oGe(e.Workbook&&e.Workbook.WBProps||null)),fGe(r,e),cGe(r,e),ht(r,132),r.end()}function pGe(e,t,r){return(t.slice(-4)===".bin"?hGe:yce)(e)}function mGe(e,t,r,n,a){return(t.slice(-4)===".bin"?JYe:mce)(e,r,n,a)}function gGe(e,t,r){return(t.slice(-4)===".bin"?PVe:ece)(e,r)}function xGe(e,t,r){return(t.slice(-4)===".bin"?oVe:Xle)(e,r)}function yGe(e,t,r){return(t.slice(-4)===".bin"?XVe:sce)(e)}function vGe(e){return(e.slice(-4)===".bin"?$Ve:nce)()}function bGe(e,t){var r=[];return e.Props&&r.push(gUe(e.Props,t)),e.Custprops&&r.push(xUe(e.Props,e.Custprops)),r.join("")}function wGe(){return""}function NGe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var s=[];s.push(Et("NumberFormat",null,{"ss:Format":Dn(Za[n.numFmtId])}));var i={"ss:ID":"s"+(21+a)};r.push(Et("Style",s.join(""),i))}),Et("Styles",r.join(""))}function vce(e){return Et("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+t7(e.Ref,{r:0,c:0})})}function SGe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(vce(a)))}return Et("Names",r.join(""))}function jGe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],i=0;i<a.length;++i){var l=a[i];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||s.push(vce(l)))}return s.join("")}function _Ge(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Et("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Et("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Et("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Et("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(qi("ProtectContents","True")),e["!protect"].objects&&a.push(qi("ProtectObjects","True")),e["!protect"].scenarios&&a.push(qi("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(qi("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(qi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){e["!protect"][i[0]]&&a.push("<"+i[1]+"/>")})),a.length==0?"":Et("WorksheetOptions",a.join(""),{xmlns:tc.x})}function kGe(e){return e.map(function(t){var r=T$e(t.t||""),n=Et("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Et("Comment",n,{"ss:Author":t.a})}).join("")}function CGe(e,t,r,n,a,s,i){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Dn(t7(e.f,i))),e.F&&e.F.slice(0,t.length)==t){var c=xi(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==i.r?"":"["+(c.r-i.r)+"]")+"C"+(c.c==i.c?"":"["+(c.c-i.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Dn(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Dn(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],u=0;u!=d.length;++u)d[u].s.c!=i.c||d[u].s.r!=i.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var f="",p="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",p=String(e.v);break;case"b":f="Boolean",p=e.v?"1":"0";break;case"e":f="Error",p=MS[e.v];break;case"d":f="DateTime",p=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Za[14]);break;case"s":f="String",p=E$e(e.v||"");break}var h=i0(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+h),l["ss:Index"]=i.c+1;var m=e.v!=null?p:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+m+"</Data>";return(e.c||[]).length>0&&(g+=kGe(e.c)),Et("Cell",g,l)}function AGe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Zle(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function EGe(e,t,r,n){if(!e["!ref"])return"";var a=pa(e["!ref"]),s=e["!merges"]||[],i=0,l=[];e["!cols"]&&e["!cols"].forEach(function(x,y){ZF(x);var v=!!x.width,w=n3(y,x),N={"ss:Index":y+1};v&&(N["ss:Width"]=QC(w.width)),x.hidden&&(N["ss:Hidden"]="1"),l.push(Et("Column",null,N))});for(var c=Array.isArray(e),d=a.s.r;d<=a.e.r;++d){for(var u=[AGe(d,(e["!rows"]||[])[d])],f=a.s.c;f<=a.e.c;++f){var p=!1;for(i=0;i!=s.length;++i)if(!(s[i].s.c>f)&&!(s[i].s.r>d)&&!(s[i].e.c<f)&&!(s[i].e.r<d)){(s[i].s.c!=f||s[i].s.r!=d)&&(p=!0);break}if(!p){var h={r:d,c:f},m=On(h),g=c?(e[d]||[])[f]:e[m];u.push(CGe(g,m,e,t,r,n,h))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function TGe(e,t,r){var n=[],a=r.SheetNames[e],s=r.Sheets[a],i=s?jGe(s,t,e,r):"";return i.length>0&&n.push("<Names>"+i+"</Names>"),i=s?EGe(s,t,e,r):"",i.length>0&&n.push("<Table>"+i+"</Table>"),n.push(_Ge(s,t,e,r)),n.join("")}function DGe(e,t){t||(t={}),e.SSF||(e.SSF=kl(Za)),e.SSF&&(QE(),JE(e.SSF),t.revssf=ZE(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],i0(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(bGe(e,t)),r.push(wGe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Et("Worksheet",TGe(n,t,e),{"ss:Name":Dn(e.SheetNames[n])}));return r[2]=NGe(e,t),r[3]=SGe(e),Fs+Et("Workbook",r.join(""),{xmlns:tc.ss,"xmlns:o":tc.o,"xmlns:x":tc.x,"xmlns:ss":tc.ss,"xmlns:dt":tc.dt,"xmlns:html":tc.html})}var oM={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function MGe(e,t){var r=[],n=[],a=[],s=0,i,l=mY(AY,"n"),c=mY(EY,"n");if(e.Props)for(i=Zi(e.Props),s=0;s<i.length;++s)(Object.prototype.hasOwnProperty.call(l,i[s])?r:Object.prototype.hasOwnProperty.call(c,i[s])?n:a).push([i[s],e.Props[i[s]]]);if(e.Custprops)for(i=Zi(e.Custprops),s=0;s<i.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},i[s])||(Object.prototype.hasOwnProperty.call(l,i[s])?r:Object.prototype.hasOwnProperty.call(c,i[s])?n:a).push([i[s],e.Custprops[i[s]]]);var d=[];for(s=0;s<a.length;++s)Ule.indexOf(a[s][0])>-1||Ble.indexOf(a[s][0])>-1||a[s][1]!=null&&d.push(a[s]);n.length&&Rn.utils.cfb_add(t,"/SummaryInformation",PY(n,oM.SI,c,EY)),(r.length||d.length)&&Rn.utils.cfb_add(t,"/DocumentSummaryInformation",PY(r,oM.DSI,l,AY,d.length?d:null,oM.UDI))}function OGe(e,t){var r=t||{},n=Rn.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Rn.utils.cfb_add(n,a,bce(e,r)),r.biff==8&&(e.Props||e.Custprops)&&MGe(e,n),r.biff==8&&e.vbaraw&&JVe(n,Rn.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var PGe={0:{f:IWe},1:{f:qWe},2:{f:uYe},3:{f:ZWe},4:{f:KWe},5:{f:oYe},6:{f:gYe},7:{f:nYe},8:{f:SYe},9:{f:NYe},10:{f:bYe},11:{f:wYe},12:{f:YWe},13:{f:hYe},14:{f:tYe},15:{f:JWe},16:{f:cYe},17:{f:yYe},18:{f:sYe},19:{f:KF},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:lGe},40:{},42:{},43:{f:gVe},44:{f:pVe},45:{f:vVe},46:{f:wVe},47:{f:bVe},48:{},49:{f:Y$e},50:{},51:{f:IVe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:GUe},62:{f:mYe},63:{f:UVe},64:{f:zYe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Qu,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:RYe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:UWe},148:{f:BWe,p:16},151:{f:EYe},152:{},153:{f:iGe},154:{},155:{},156:{f:aGe},157:{},158:{},159:{T:1,f:aVe},160:{T:-1},161:{T:1,f:Dx},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:jYe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:RVe},336:{T:-1},337:{f:BVe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:RP},357:{},358:{},359:{},360:{T:1},361:{},362:{f:$Ue},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:TYe},427:{f:DYe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:OYe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:$We},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:CYe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:RP},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:GVe},633:{T:1},634:{T:-1},635:{T:1,f:WVe},636:{T:-1},637:{f:J$e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:QYe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:BYe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Tt(e,t,r,n){var a=t;if(!isNaN(a)){var s=n||(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&WF(r)&&e.push(r)}}function RGe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Tt(e,t,r,a);var s=t;if(!isNaN(s)){for(var i=r.parts||[],l=0,c=0,d=0;d+(i[l]||8224)<=8224;)d+=i[l]||8224,l++;var u=e.next(4);for(u.write_shift(2,s),u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d;c<a;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(i[l]||8224)<=8224;)d+=i[l]||8224,l++;u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d}}}function PS(e,t,r){return e||(e=et(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function LGe(e,t,r,n){var a=et(9);return PS(a,e,t),qle(r,n||"b",a),a}function IGe(e,t,r){var n=et(8+2*r.length);return PS(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function FGe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?_l(Yo(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Tt(e,2,QUe(r,n,a)):Tt(e,3,JUe(r,n,a));return;case"b":case"e":Tt(e,5,LGe(r,n,t.v,t.t));return;case"s":case"str":Tt(e,4,IGe(r,n,(t.v||"").slice(0,255)));return}Tt(e,1,PS(null,r,n))}function zGe(e,t,r,n){var a=Array.isArray(t),s=pa(t["!ref"]||"A1"),i,l="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),i=Rs(s)}for(var d=s.s.r;d<=s.e.r;++d){l=Xi(d);for(var u=s.s.c;u<=s.e.c;++u){d===s.s.r&&(c[u]=bo(u)),i=c[u]+l;var f=a?(t[d]||[])[u]:t[i];f&&FGe(e,f,d,u)}}}function BGe(e,t){for(var r=t||{},n=ml(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(a=s);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Tt(n,r.biff==4?1033:r.biff==3?521:9,QF(e,16,r)),zGe(n,e.Sheets[e.SheetNames[a]],a,r),Tt(n,10),n.end()}function HGe(e,t,r){Tt(e,49,PUe({sz:12,name:"Arial"},r))}function $Ge(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Tt(e,1054,IUe(a,t[a],r))})}function UGe(e,t){var r=et(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Tt(e,2151,r),r=et(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Gle(pa(t["!ref"]||"A1"),r),r.write_shift(4,4),Tt(e,2152,r)}function VGe(e,t){for(var r=0;r<16;++r)Tt(e,224,LY({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Tt(e,224,LY(n,0,t))})}function qGe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Tt(e,440,qUe(n)),n[1].Tooltip&&Tt(e,2048,WUe(n))}delete t["!links"]}function WGe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Tt(e,125,KUe(n3(a,n),a))})}}function YGe(e,t,r,n,a){var s=16+i0(a.cellXfs,t,a);if(t.v==null&&!t.bf){Tt(e,513,sx(r,n,s));return}if(t.bf)Tt(e,6,xWe(t,r,n,a,s));else switch(t.t){case"d":case"n":var i=t.t=="d"?_l(Yo(t.v)):t.v;Tt(e,515,HUe(r,n,i,s));break;case"b":case"e":Tt(e,517,BUe(r,n,t.v,s,a,t.t));break;case"s":case"str":if(a.bookSST){var l=n7(a.Strings,t.v,a.revStrings);Tt(e,253,RUe(r,n,l,s))}else Tt(e,516,LUe(r,n,(t.v||"").slice(0,255),s,a));break;default:Tt(e,513,sx(r,n,s))}}function GGe(e,t,r){var n=ml(),a=r.SheetNames[e],s=r.Sheets[a]||{},i=(r||{}).Workbook||{},l=(i.Sheets||[])[e]||{},c=Array.isArray(s),d=t.biff==8,u,f="",p=[],h=pa(s["!ref"]||"A1"),m=d?65536:16384;if(h.e.c>255||h.e.r>=m){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,m-1)}Tt(n,2057,QF(r,16,t)),Tt(n,13,Gc(1)),Tt(n,12,Gc(100)),Tt(n,15,Fo(!0)),Tt(n,17,Fo(!1)),Tt(n,16,ax(.001)),Tt(n,95,Fo(!0)),Tt(n,42,Fo(!1)),Tt(n,43,Fo(!1)),Tt(n,130,Gc(1)),Tt(n,128,zUe()),Tt(n,131,Fo(!1)),Tt(n,132,Fo(!1)),d&&WGe(n,s["!cols"]),Tt(n,512,FUe(h,t)),d&&(s["!links"]=[]);for(var g=h.s.r;g<=h.e.r;++g){f=Xi(g);for(var x=h.s.c;x<=h.e.c;++x){g===h.s.r&&(p[x]=bo(x)),u=p[x]+f;var y=c?(s[g]||[])[x]:s[u];y&&(YGe(n,y,g,x,t),d&&y.l&&s["!links"].push([u,y.l]))}}var v=l.CodeName||l.name||a;return d&&Tt(n,574,OUe((i.Views||[])[0])),d&&(s["!merges"]||[]).length&&Tt(n,229,VUe(s["!merges"])),d&&qGe(n,s),Tt(n,442,Yle(v)),d&&UGe(n,s),Tt(n,10),n.end()}function KGe(e,t,r){var n=ml(),a=(e||{}).Workbook||{},s=a.Sheets||[],i=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(Tt(n,2057,QF(e,5,r)),r.bookType=="xla"&&Tt(n,135),Tt(n,225,l?Gc(1200):null),Tt(n,193,bUe(2)),c&&Tt(n,191),c&&Tt(n,192),Tt(n,226),Tt(n,92,EUe("SheetJS",r)),Tt(n,66,Gc(l?1200:1252)),l&&Tt(n,353,Gc(0)),l&&Tt(n,448),Tt(n,317,XUe(e.SheetNames.length)),l&&e.vbaraw&&Tt(n,211),l&&e.vbaraw){var d=i.CodeName||"ThisWorkbook";Tt(n,442,Yle(d))}Tt(n,156,Gc(17)),Tt(n,25,Fo(!1)),Tt(n,18,Fo(!1)),Tt(n,19,Gc(0)),l&&Tt(n,431,Fo(!1)),l&&Tt(n,444,Gc(0)),Tt(n,61,MUe()),Tt(n,64,Fo(!1)),Tt(n,141,Gc(0)),Tt(n,34,Fo(eGe(e)=="true")),Tt(n,14,Fo(!0)),l&&Tt(n,439,Fo(!1)),Tt(n,218,Gc(0)),HGe(n,e,r),$Ge(n,e.SSF,r),VGe(n,r),l&&Tt(n,352,Fo(!1));var u=n.end(),f=ml();l&&Tt(f,140,YUe()),l&&r.Strings&&RGe(f,252,DUe(r.Strings)),Tt(f,10);var p=f.end(),h=ml(),m=0,g=0;for(g=0;g<e.SheetNames.length;++g)m+=(l?12:11)+(l?2:1)*e.SheetNames[g].length;var x=u.length+m+p.length;for(g=0;g<e.SheetNames.length;++g){var y=s[g]||{};Tt(h,133,TUe({pos:x,hs:y.Hidden||0,dt:0,name:e.SheetNames[g]},r)),x+=t[g].length}var v=h.end();if(m!=v.length)throw new Error("BS8 "+m+" != "+v.length);var w=[];return u.length&&w.push(u),v.length&&w.push(v),p.length&&w.push(p),Vi(w)}function XGe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=kl(Za)),e&&e.SSF&&(QE(),JE(e.SSF),r.revssf=ZE(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,a7(r),r.cellXfs=[],i0(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=GGe(a,r,e);return n.unshift(KGe(e,n,r)),Vi(n)}function bce(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Dc(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return XGe(e,t);case 4:case 3:case 2:return BGe(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function JGe(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var l=0,c=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>i)&&!(a[d].e.r<r||a[d].e.c<i)){if(a[d].s.r<r||a[d].s.c<i){l=-1;break}l=a[d].e.r-a[d].s.r+1,c=a[d].e.c-a[d].s.c+1;break}if(!(l<0)){var u=On({r,c:i}),f=n.dense?(e[r]||[])[i]:e[u],p=f&&f.v!=null&&(f.h||A$e(f.w||(Yh(f),f.w)||""))||"",h={};l>1&&(h.rowspan=l),c>1&&(h.colspan=c),n.editable?p='<span contenteditable="true">'+p+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+f.l.Target+'">'+p+"</a>")),h.id=(n.id||"sjs")+"-"+u,s.push(Et("td",p,h))}}var m="<tr>";return m+s.join("")+"</tr>"}var QGe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',ZGe="</body></html>";function eKe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function wce(e,t){var r=t||{},n=r.header!=null?r.header:QGe,a=r.footer!=null?r.footer:ZGe,s=[n],i=Dc(e["!ref"]);r.dense=Array.isArray(e),s.push(eKe(e,i,r));for(var l=i.s.r;l<=i.e.r;++l)s.push(JGe(e,i,l,r));return s.push("</table>"+a),s.join("")}function Nce(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?xi(n.origin):n.origin;a=i.r,s=i.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var u=Dc(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),a==-1&&(d.e.r=a=u.e.r+1)}var f=[],p=0,h=e["!rows"]||(e["!rows"]=[]),m=0,g=0,x=0,y=0,v=0,w=0;for(e["!cols"]||(e["!cols"]=[]);m<l.length&&g<c;++m){var N=l[m];if(UY(N)){if(n.display)continue;h[g]={hidden:!0}}var C=N.children;for(x=y=0;x<C.length;++x){var _=C[x];if(!(n.display&&UY(_))){var S=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):M$e(_.innerHTML),k=_.getAttribute("data-z")||_.getAttribute("z");for(p=0;p<f.length;++p){var A=f[p];A.s.c==y+s&&A.s.r<g+a&&g+a<=A.e.r&&(y=A.e.c+1-s,p=-1)}w=+_.getAttribute("colspan")||1,((v=+_.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:g+a,c:y+s},e:{r:g+a+(v||1)-1,c:y+s+(w||1)-1}});var O={t:"s",v:S},D=_.getAttribute("data-t")||_.getAttribute("t")||"";S!=null&&(S.length==0?O.t=D||"z":n.raw||S.trim().length==0||D=="s"||(S==="TRUE"?O={t:"b",v:!0}:S==="FALSE"?O={t:"b",v:!1}:isNaN(jh(S))?isNaN(lN(S).getDate())||(O={t:"d",v:Yo(S)},n.cellDates||(O={t:"n",v:_l(O.v)}),O.z=n.dateNF||Za[14]):O={t:"n",v:jh(S)})),O.z===void 0&&k!=null&&(O.z=k);var M="",I=_.getElementsByTagName("A");if(I&&I.length)for(var z=0;z<I.length&&!(I[z].hasAttribute("href")&&(M=I[z].getAttribute("href"),M.charAt(0)!="#"));++z);M&&M.charAt(0)!="#"&&(O.l={Target:M}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][y+s]=O):e[On({c:y+s,r:g+a})]=O,d.e.c<y+s&&(d.e.c=y+s),y+=w}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),d.e.r=Math.max(d.e.r,g-1+a),e["!ref"]=Rs(d),g>=c&&(e["!fullref"]=Rs((d.e.r=l.length-m+g-1+a,d))),e}function Sce(e,t){var r=t||{},n=r.dense?[]:{};return Nce(n,e,t)}function tKe(e,t){return Cx(Sce(e,t),t)}function UY(e){var t="",r=rKe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function rKe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var nKe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+dN({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Fs+t}}(),VY=function(){var e=function(s){return Dn(s).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,i,l){var c=[];c.push('      <table:table table:name="'+Dn(i.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,f=Dc(s["!ref"]||"A1"),p=s["!merges"]||[],h=0,m=Array.isArray(s);if(s["!cols"])for(u=0;u<=f.e.c;++u)c.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var g="",x=s["!rows"]||[];for(d=0;d<f.s.r;++d)g=x[d]?' table:style-name="ro'+x[d].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;d<=f.e.r;++d){for(g=x[d]?' table:style-name="ro'+x[d].ods+'"':"",c.push("        <table:table-row"+g+`>
`),u=0;u<f.s.c;++u)c.push(t);for(;u<=f.e.c;++u){var y=!1,v={},w="";for(h=0;h!=p.length;++h)if(!(p[h].s.c>u)&&!(p[h].s.r>d)&&!(p[h].e.c<u)&&!(p[h].e.r<d)){(p[h].s.c!=u||p[h].s.r!=d)&&(y=!0),v["table:number-columns-spanned"]=p[h].e.c-p[h].s.c+1,v["table:number-rows-spanned"]=p[h].e.r-p[h].s.r+1;break}if(y){c.push(r);continue}var N=On({r:d,c:u}),C=m?(s[d]||[])[u]:s[N];if(C&&C.f&&(v["table:formula"]=Dn(SWe(C.f)),C.F&&C.F.slice(0,N.length)==N)){var _=Dc(C.F);v["table:number-matrix-columns-spanned"]=_.e.c-_.s.c+1,v["table:number-matrix-rows-spanned"]=_.e.r-_.s.r+1}if(!C){c.push(t);continue}switch(C.t){case"b":w=C.v?"TRUE":"FALSE",v["office:value-type"]="boolean",v["office:boolean-value"]=C.v?"true":"false";break;case"n":w=C.w||String(C.v||0),v["office:value-type"]="float",v["office:value"]=C.v||0;break;case"s":case"str":w=C.v==null?"":C.v,v["office:value-type"]="string";break;case"d":w=C.w||Yo(C.v).toISOString(),v["office:value-type"]="date",v["office:date-value"]=Yo(C.v).toISOString(),v["table:style-name"]="ce1";break;default:c.push(t);continue}var S=e(w);if(C.l&&C.l.Target){var k=C.l.Target;k=k.charAt(0)=="#"?"#"+jWe(k.slice(1)):k,k.charAt(0)!="#"&&!k.match(/^\w+:/)&&(k="../"+k),S=Et("text:a",S,{"xlink:href":k.replace(/&/g,"&amp;")})}c.push("          "+Et("table:table-cell",Et("text:p",S,{}),v)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(s,i){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var l=0;i.SheetNames.map(function(d){return i.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var f=d["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;ZF(f),f.ods=l;var p=d["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),s.push(`  </style:style>
`),++l}}});var c=0;i.SheetNames.map(function(d){return i.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var f=d["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(i,l){var c=[Fs],d=dN({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=dN({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(Fle().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),a(c,i),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=i.SheetNames.length;++f)c.push(n(i.Sheets[i.SheetNames[f]],i,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function jce(e,t){if(t.bookType=="fods")return VY(e,t);var r=$F(),n="",a=[],s=[];return n="mimetype",Rr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Rr(r,n,VY(e,t)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Rr(r,n,nKe(e,t)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Rr(r,n,Fs+Fle()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Rr(r,n,mUe(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Rr(r,n,hUe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function tA(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function aKe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ud(cN(e))}function sKe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Ym(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function iKe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=a&255;e[t+15]|=r>=0?0:128}function uN(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Nn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function hv(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Ys(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=uN(e,r),s=a&7;a=Math.floor(a/8);var i=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:i=4,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=uN(e,r),l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var d={data:l,type:s};t[a]==null?t[a]=[d]:t[a].push(d)}return t}function Pi(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Nn(n*8+a.type)),a.type==2&&t.push(Nn(a.data.length)),t.push(a.data))})}),Ym(t)}function Rd(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=uN(e,n),s=Ys(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:hv(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Ys(l.data),d=hv(c[3][0].data);i.messages.push({meta:c,data:e.slice(n[0],n[0]+d)}),n[0]+=d}),(t=s[3])!=null&&t[0]&&(i.merge=hv(s[3][0].data)>>>0>0),r.push(i)}return r}function ay(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Nn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Nn(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(i){a.push(i.data),i.meta[3]=[{type:0,data:Nn(i.data.length)}],n[2].push({data:Pi(i.meta),type:2})});var s=Pi(n);t.push(Nn(s.length)),t.push(s),a.forEach(function(i){return t.push(i)})}),Ym(t)}function oKe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=uN(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var l=i-59;i=t[r[0]],l>1&&(i|=t[r[0]+1]<<8),l>2&&(i|=t[r[0]+2]<<16),l>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=l}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var c=0,d=0;if(s==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Ym(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(a.push(a[0].slice(-c)),d-=c;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-c,-c+d))}}var u=Ym(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function Ld(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(oKe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Ym(t)}function sy(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var s=Nn(n),i=s.length;t.push(s),n<=60?(i++,t.push(new Uint8Array([n-1<<2]))):n<=256?(i+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(i+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(i+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(i+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),i+=n,a[0]=0,a[1]=i&255,a[2]=i>>8&255,a[3]=i>>16&255,r+=n}return Ym(t)}function lM(e,t){var r=new Uint8Array(32),n=tA(r),a=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,iKe(r,a,e.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,a)}function cM(e,t){var r=new Uint8Array(32),n=tA(r),a=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,a)}function Cp(e){var t=Ys(e);return uN(t[1][0].data)}function lKe(e,t,r){var n,a,s,i;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((i=(s=e[8])==null?void 0:s[0])==null?void 0:i.data)&&hv(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=tA(e[7][0].data),u=0,f=[],p=tA(e[4][0].data),h=0,m=[],g=0;g<t.length;++g){if(t[g]==null){d.setUint16(g*2,65535,!0),p.setUint16(g*2,65535);continue}d.setUint16(g*2,u,!0),p.setUint16(g*2,h,!0);var x,y;switch(typeof t[g]){case"string":x=lM({t:"s",v:t[g]},r),y=cM({t:"s",v:t[g]},r);break;case"number":x=lM({t:"n",v:t[g]},r),y=cM({t:"n",v:t[g]},r);break;case"boolean":x=lM({t:"b",v:t[g]},r),y=cM({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(x),u+=x.length,m.push(y),h+=y.length,++c}for(e[2][0].data=Nn(c);g<e[7][0].data.length/2;++g)d.setUint16(g*2,65535,!0),p.setUint16(g*2,65535,!0);return e[6][0].data=Ym(f),e[3][0].data=Ym(m),c}function cKe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Dc(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Rs(n)));var s=rA(r,{range:n,header:1}),i=["~Sh33tJ5~"];s.forEach(function(R){return R.forEach(function(F){typeof F=="string"&&i.push(F)})});var l={},c=[],d=Rn.read(t.numbers,{type:"base64"});d.FileIndex.map(function(R,F){return[R,d.FullPaths[F]]}).forEach(function(R){var F=R[0],H=R[1];if(F.type==2&&F.name.match(/\.iwa/)){var W=F.content,te=Ld(W),pe=Rd(te);pe.forEach(function(se){c.push(se.id),l[se.id]={deps:[],location:H,type:hv(se.messages[0].meta[1][0].data)}})}}),c.sort(function(R,F){return R-F});var u=c.filter(function(R){return R>1}).map(function(R){return[R,Nn(R)]});d.FileIndex.map(function(R,F){return[R,d.FullPaths[F]]}).forEach(function(R){var F=R[0];if(R[1],!!F.name.match(/\.iwa/)){var H=Rd(Ld(F.content));H.forEach(function(W){W.messages.forEach(function(te){u.forEach(function(pe){W.messages.some(function(se){return hv(se.meta[1][0].data)!=11006&&sKe(se.data,pe[1])})&&l[pe[0]].deps.push(W.id)})})})}});for(var f=Rn.find(d,l[1].location),p=Rd(Ld(f.content)),h,m=0;m<p.length;++m){var g=p[m];g.id==1&&(h=g)}var x=Cp(Ys(h.messages[0].data)[1][0].data);for(f=Rn.find(d,l[x].location),p=Rd(Ld(f.content)),m=0;m<p.length;++m)g=p[m],g.id==x&&(h=g);for(x=Cp(Ys(h.messages[0].data)[2][0].data),f=Rn.find(d,l[x].location),p=Rd(Ld(f.content)),m=0;m<p.length;++m)g=p[m],g.id==x&&(h=g);for(x=Cp(Ys(h.messages[0].data)[2][0].data),f=Rn.find(d,l[x].location),p=Rd(Ld(f.content)),m=0;m<p.length;++m)g=p[m],g.id==x&&(h=g);var y=Ys(h.messages[0].data);{y[6][0].data=Nn(n.e.r+1),y[7][0].data=Nn(n.e.c+1);var v=Cp(y[46][0].data),w=Rn.find(d,l[v].location),N=Rd(Ld(w.content));{for(var C=0;C<N.length&&N[C].id!=v;++C);if(N[C].id!=v)throw"Bad ColumnRowUIDMapArchive";var _=Ys(N[C].messages[0].data);_[1]=[],_[2]=[],_[3]=[];for(var S=0;S<=n.e.c;++S){var k=[];k[1]=k[2]=[{type:0,data:Nn(S+420690)}],_[1].push({type:2,data:Pi(k)}),_[2].push({type:0,data:Nn(S)}),_[3].push({type:0,data:Nn(S)})}_[4]=[],_[5]=[],_[6]=[];for(var A=0;A<=n.e.r;++A)k=[],k[1]=k[2]=[{type:0,data:Nn(A+726270)}],_[4].push({type:2,data:Pi(k)}),_[5].push({type:0,data:Nn(A)}),_[6].push({type:0,data:Nn(A)});N[C].messages[0].data=Pi(_)}w.content=sy(ay(N)),w.size=w.content.length,delete y[46];var O=Ys(y[4][0].data);{O[7][0].data=Nn(n.e.r+1);var D=Ys(O[1][0].data),M=Cp(D[2][0].data);w=Rn.find(d,l[M].location),N=Rd(Ld(w.content));{if(N[0].id!=M)throw"Bad HeaderStorageBucket";var I=Ys(N[0].messages[0].data);for(A=0;A<s.length;++A){var z=Ys(I[2][0].data);z[1][0].data=Nn(A),z[4][0].data=Nn(s[A].length),I[2][A]={type:I[2][0].type,data:Pi(z)}}N[0].messages[0].data=Pi(I)}w.content=sy(ay(N)),w.size=w.content.length;var Y=Cp(O[2][0].data);w=Rn.find(d,l[Y].location),N=Rd(Ld(w.content));{if(N[0].id!=Y)throw"Bad HeaderStorageBucket";for(I=Ys(N[0].messages[0].data),S=0;S<=n.e.c;++S)z=Ys(I[2][0].data),z[1][0].data=Nn(S),z[4][0].data=Nn(n.e.r+1),I[2][S]={type:I[2][0].type,data:Pi(z)};N[0].messages[0].data=Pi(I)}w.content=sy(ay(N)),w.size=w.content.length;var X=Cp(O[4][0].data);(function(){for(var R=Rn.find(d,l[X].location),F=Rd(Ld(R.content)),H,W=0;W<F.length;++W){var te=F[W];te.id==X&&(H=te)}var pe=Ys(H.messages[0].data);{pe[3]=[];var se=[];i.forEach(function(he,ze){se[1]=[{type:0,data:Nn(ze)}],se[2]=[{type:0,data:Nn(1)}],se[3]=[{type:2,data:aKe(he)}],pe[3].push({type:2,data:Pi(se)})})}H.messages[0].data=Pi(pe);var ce=ay(F),Ne=sy(ce);R.content=Ne,R.size=R.content.length})();var V=Ys(O[3][0].data);{var G=V[1][0];delete V[2];var J=Ys(G.data);{var B=Cp(J[2][0].data);(function(){for(var R=Rn.find(d,l[B].location),F=Rd(Ld(R.content)),H,W=0;W<F.length;++W){var te=F[W];te.id==B&&(H=te)}var pe=Ys(H.messages[0].data);{delete pe[6],delete V[7];var se=new Uint8Array(pe[5][0].data);pe[5]=[];for(var ce=0,Ne=0;Ne<=n.e.r;++Ne){var he=Ys(se);ce+=lKe(he,s[Ne],i),he[1][0].data=Nn(Ne),pe[5].push({data:Pi(he),type:2})}pe[1]=[{type:0,data:Nn(n.e.c+1)}],pe[2]=[{type:0,data:Nn(n.e.r+1)}],pe[3]=[{type:0,data:Nn(ce)}],pe[4]=[{type:0,data:Nn(n.e.r+1)}]}H.messages[0].data=Pi(pe);var ze=ay(F),Pe=sy(ze);R.content=Pe,R.size=R.content.length})()}G.data=Pi(J)}O[3][0].data=Pi(V)}y[4][0].data=Pi(O)}h.messages[0].data=Pi(y);var q=ay(p),T=sy(q);return f.content=T,f.size=f.content.length,d}function dKe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function a7(e){dKe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function uKe(e,t){return t.bookType=="ods"?jce(e,t):t.bookType=="numbers"?cKe(e,t):t.bookType=="xlsb"?fKe(e,t):hKe(e,t)}function fKe(e,t){$y=1024,e&&!e.SSF&&(e.SSF=kl(Za)),e&&e.SSF&&(QE(),JE(e.SSF),t.revssf=ZE(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Y2?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=ice.indexOf(t.bookType)>-1,a=Rle();a7(t=t||{});var s=$F(),i="",l=0;if(t.cellXfs=[],i0(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",Rr(s,i,zle(e.Props,t)),a.coreprops.push(i),kn(t.rels,2,i,sn.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Rr(s,i,Hle(e.Props)),a.extprops.push(i),kn(t.rels,3,i,sn.EXT_PROPS),e.Custprops!==e.Props&&Zi(e.Custprops||{}).length>0&&(i="docProps/custom.xml",Rr(s,i,$le(e.Custprops)),a.custprops.push(i),kn(t.rels,4,i,sn.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var u={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],p=(f||{})["!type"]||"sheet";switch(p){case"chart":default:i="xl/worksheets/sheet"+l+"."+r,Rr(s,i,mGe(l-1,i,t,e,u)),a.sheets.push(i),kn(t.wbrels,-1,"worksheets/sheet"+l+"."+r,sn.WS[0])}if(f){var h=f["!comments"],m=!1,g="";h&&h.length>0&&(g="xl/comments"+l+"."+r,Rr(s,g,yGe(h,g)),a.comments.push(g),kn(u,-1,"../comments"+l+"."+r,sn.CMNT),m=!0),f["!legacy"]&&m&&Rr(s,"xl/drawings/vmlDrawing"+l+".vml",ace(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&Rr(s,Ile(i),uv(u))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,Rr(s,i,xGe(t.Strings,i,t)),a.strs.push(i),kn(t.wbrels,-1,"sharedStrings."+r,sn.SST)),i="xl/workbook."+r,Rr(s,i,pGe(e,i)),a.workbooks.push(i),kn(t.rels,1,i,sn.WB),i="xl/theme/theme1.xml",Rr(s,i,rce(e.Themes,t)),a.themes.push(i),kn(t.wbrels,-1,"theme/theme1.xml",sn.THEME),i="xl/styles."+r,Rr(s,i,gGe(e,i,t)),a.styles.push(i),kn(t.wbrels,-1,"styles."+r,sn.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",Rr(s,i,e.vbaraw),a.vba.push(i),kn(t.wbrels,-1,"vbaProject.bin",sn.VBA)),i="xl/metadata."+r,Rr(s,i,vGe(i)),a.metadata.push(i),kn(t.wbrels,-1,"metadata."+r,sn.XLMETA),Rr(s,"[Content_Types].xml",Lle(a,t)),Rr(s,"_rels/.rels",uv(t.rels)),Rr(s,"xl/_rels/workbook."+r+".rels",uv(t.wbrels)),delete t.revssf,delete t.ssf,s}function hKe(e,t){$y=1024,e&&!e.SSF&&(e.SSF=kl(Za)),e&&e.SSF&&(QE(),JE(e.SSF),t.revssf=ZE(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Y2?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=ice.indexOf(t.bookType)>-1,a=Rle();a7(t=t||{});var s=$F(),i="",l=0;if(t.cellXfs=[],i0(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",Rr(s,i,zle(e.Props,t)),a.coreprops.push(i),kn(t.rels,2,i,sn.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Rr(s,i,Hle(e.Props)),a.extprops.push(i),kn(t.rels,3,i,sn.EXT_PROPS),e.Custprops!==e.Props&&Zi(e.Custprops||{}).length>0&&(i="docProps/custom.xml",Rr(s,i,$le(e.Custprops)),a.custprops.push(i),kn(t.rels,4,i,sn.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},p=e.Sheets[e.SheetNames[l-1]],h=(p||{})["!type"]||"sheet";switch(h){case"chart":default:i="xl/worksheets/sheet"+l+"."+r,Rr(s,i,mce(l-1,t,e,f)),a.sheets.push(i),kn(t.wbrels,-1,"worksheets/sheet"+l+"."+r,sn.WS[0])}if(p){var m=p["!comments"],g=!1,x="";if(m&&m.length>0){var y=!1;m.forEach(function(v){v[1].forEach(function(w){w.T==!0&&(y=!0)})}),y&&(x="xl/threadedComments/threadedComment"+l+"."+r,Rr(s,x,VVe(m,u,t)),a.threadedcomments.push(x),kn(f,-1,"../threadedComments/threadedComment"+l+"."+r,sn.TCMNT)),x="xl/comments"+l+"."+r,Rr(s,x,sce(m)),a.comments.push(x),kn(f,-1,"../comments"+l+"."+r,sn.CMNT),g=!0}p["!legacy"]&&g&&Rr(s,"xl/drawings/vmlDrawing"+l+".vml",ace(l,p["!comments"])),delete p["!comments"],delete p["!legacy"]}f["!id"].rId1&&Rr(s,Ile(i),uv(f))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,Rr(s,i,Xle(t.Strings,t)),a.strs.push(i),kn(t.wbrels,-1,"sharedStrings."+r,sn.SST)),i="xl/workbook."+r,Rr(s,i,yce(e)),a.workbooks.push(i),kn(t.rels,1,i,sn.WB),i="xl/theme/theme1.xml",Rr(s,i,rce(e.Themes,t)),a.themes.push(i),kn(t.wbrels,-1,"theme/theme1.xml",sn.THEME),i="xl/styles."+r,Rr(s,i,ece(e,t)),a.styles.push(i),kn(t.wbrels,-1,"styles."+r,sn.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",Rr(s,i,e.vbaraw),a.vba.push(i),kn(t.wbrels,-1,"vbaProject.bin",sn.VBA)),i="xl/metadata."+r,Rr(s,i,nce()),a.metadata.push(i),kn(t.wbrels,-1,"metadata."+r,sn.XLMETA),u.length>1&&(i="xl/persons/person.xml",Rr(s,i,qVe(u)),a.people.push(i),kn(t.wbrels,-1,"persons/person.xml",sn.PEOPLE)),Rr(s,"[Content_Types].xml",Lle(a,t)),Rr(s,"_rels/.rels",uv(t.rels)),Rr(s,"xl/_rels/workbook."+r+".rels",uv(t.wbrels)),delete t.revssf,delete t.ssf,s}function pKe(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Wh(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function _ce(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return TS(t.file,Rn.write(e,{type:dn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Rn.write(e,t)}function mKe(e,t){var r=kl(t||{}),n=uKe(e,r);return gKe(n,r)}function gKe(e,t){var r={},n=dn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Rn.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(XE(a))}return t.password&&typeof encrypt_agile<"u"?_ce(encrypt_agile(a,t.password),t):t.type==="file"?TS(t.file,a):t.type=="string"?U2(a):a}function xKe(e,t){var r=t||{},n=OGe(e,r);return _ce(n,r)}function Su(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return oN(cN(n));case"binary":return cN(n);case"string":return e;case"file":return TS(t.file,n,"utf8");case"buffer":return dn?sp(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Su(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function yKe(e,t){switch(t.type){case"base64":return oN(e);case"binary":return e;case"string":return e;case"file":return TS(t.file,e,"binary");case"buffer":return dn?sp(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function E5(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?oN(r):t.type=="string"?U2(r):r;case"file":return TS(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function kce(e,t){WHe(),nGe(e);var r=kl(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=kce(e,r);return r.type="array",XE(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Su(DGe(e,r),r);case"slk":case"sylk":return Su(eVe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Su(wce(e.Sheets[e.SheetNames[a]],r),r);case"txt":return yKe(Cce(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Su(i7(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Su(tVe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return E5(ZUe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Su(rVe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Su(cVe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Su(Kle.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Su(jce(e,r),r);case"wk1":return E5(IY.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return E5(IY.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),E5(bce(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),xKe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return mKe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function vKe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function s7(e,t,r){var n={};return n.type="file",n.file=t,vKe(n),kce(e,n)}function bKe(e,t,r,n,a,s,i,l){var c=Xi(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,p=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:r,enumerable:!1})}catch{p.__rowNum__=r}else p.__rowNum__=r;if(!i||e[r])for(var h=t.s.c;h<=t.e.c;++h){var m=i?e[r][h]:e[n[h]+c];if(m===void 0||m.t===void 0){if(d===void 0)continue;s[h]!=null&&(p[s[h]]=d);continue}var g=m.v;switch(m.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(s[h]!=null){if(g==null)if(m.t=="e"&&g===null)p[s[h]]=null;else if(d!==void 0)p[s[h]]=d;else if(u&&g===null)p[s[h]]=null;else continue;else p[s[h]]=u&&(m.t!=="n"||m.t==="n"&&l.rawNumbers!==!1)?g:Yh(m,g,l);g!=null&&(f=!1)}}return{row:p,isempty:f}}function rA(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?n=1:d.header==="A"?n=2:Array.isArray(d.header)?n=3:d.header==null&&(n=0),typeof u){case"string":c=pa(u);break;case"number":c=pa(e["!ref"]),c.s.r=u;break;default:c=u}n>0&&(a=0);var f=Xi(c.s.r),p=[],h=[],m=0,g=0,x=Array.isArray(e),y=c.s.r,v=0,w={};x&&!e[y]&&(e[y]=[]);var N=d.skipHidden&&e["!cols"]||[],C=d.skipHidden&&e["!rows"]||[];for(v=c.s.c;v<=c.e.c;++v)if(!(N[v]||{}).hidden)switch(p[v]=bo(v),r=x?e[y][v]:e[p[v]+f],n){case 1:s[v]=v-c.s.c;break;case 2:s[v]=p[v];break;case 3:s[v]=d.header[v-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=i=Yh(r,null,d),g=w[i]||0,!g)w[i]=1;else{do l=i+"_"+g++;while(w[l]);w[i]=g,w[l]=1}s[v]=l}for(y=c.s.r+a;y<=c.e.r;++y)if(!(C[y]||{}).hidden){var _=bKe(e,c,y,p,n,s,x,d);(_.isempty===!1||(n===1?d.blankrows!==!1:d.blankrows))&&(h[m++]=_.row)}return h.length=m,h}var qY=/"/g;function wKe(e,t,r,n,a,s,i,l){for(var c=!0,d=[],u="",f=Xi(r),p=t.s.c;p<=t.e.c;++p)if(n[p]){var h=l.dense?(e[r]||[])[p]:e[n[p]+f];if(h==null)u="";else if(h.v!=null){c=!1,u=""+(l.rawNumbers&&h.t=="n"?h.v:Yh(h,null,l));for(var m=0,g=0;m!==u.length;++m)if((g=u.charCodeAt(m))===a||g===s||g===34||l.forceQuotes){u='"'+u.replace(qY,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(c=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(qY,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(i)}function i7(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=pa(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),d=new RegExp((s=="|"?"\\|":s)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var p=n.skipHidden&&e["!cols"]||[],h=n.skipHidden&&e["!rows"]||[],m=a.s.c;m<=a.e.c;++m)(p[m]||{}).hidden||(f[m]=bo(m));for(var g=0,x=a.s.r;x<=a.e.r;++x)(h[x]||{}).hidden||(u=wKe(e,a,x,f,i,c,s,n),u!=null&&(n.strip&&(u=u.replace(d,"")),(u||n.blankrows!==!1)&&r.push((g++?l:"")+u)));return delete n.dense,r.join("")}function Cce(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=i7(e,t);return r}function NKe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=pa(e["!ref"]),s="",i=[],l,c=[],d=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)i[l]=bo(l);for(var u=a.s.r;u<=a.e.r;++u)for(s=Xi(u),l=a.s.c;l<=a.e.c;++l)if(t=i[l]+s,r=d?(e[u]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function Ace(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?xi(n.origin):n.origin;i=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:i+t.length-1+a}};if(s["!ref"]){var f=pa(s["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),i==-1&&(i=f.e.r+1,u.e.r=i+t.length-1+a)}else i==-1&&(i=0,u.e.r=t.length-1+a);var p=n.header||[],h=0;t.forEach(function(g,x){Zi(g).forEach(function(y){(h=p.indexOf(y))==-1&&(p[h=p.length]=y);var v=g[y],w="z",N="",C=On({c:l+h,r:i+x+a});d=fN(s,C),v&&typeof v=="object"&&!(v instanceof Date)?s[C]=v:(typeof v=="number"?w="n":typeof v=="boolean"?w="b":typeof v=="string"?w="s":v instanceof Date?(w="d",n.cellDates||(w="n",v=_l(v)),N=n.dateNF||Za[14]):v===null&&n.nullError&&(w="e",v=0),d?(d.t=w,d.v=v,delete d.w,delete d.R,N&&(d.z=N)):s[C]=d={t:w,v},N&&(d.z=N))})}),u.e.c=Math.max(u.e.c,l+p.length-1);var m=Xi(i);if(a)for(h=0;h<p.length;++h)s[bo(h+l)+m]={t:"s",v:p[h]};return s["!ref"]=Rs(u),s}function SKe(e,t){return Ace(null,e,t)}function fN(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=xi(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?fN(e,On(t)):fN(e,On({r:t,c:r||0}))}function jKe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function _Ke(){return{SheetNames:[],Sheets:{}}}function kKe(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(xce(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function CKe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=jKe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function AKe(e,t){return e.z=t,e}function Ece(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function EKe(e,t,r){return Ece(e,"#"+t,r)}function TKe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function DKe(e,t,r,n){for(var a=typeof t!="string"?t:pa(t),s=typeof t=="string"?t:Rs(t),i=a.s.r;i<=a.e.r;++i)for(var l=a.s.c;l<=a.e.c;++l){var c=fN(e,i,l);c.t="n",c.F=s,delete c.v,i==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var kh={encode_col:bo,encode_row:Xi,encode_cell:On,encode_range:Rs,decode_col:GF,decode_row:YF,split_cell:W$e,decode_cell:xi,decode_range:Dc,format_cell:Yh,sheet_add_aoa:Ele,sheet_add_json:Ace,sheet_add_dom:Nce,aoa_to_sheet:Vb,json_to_sheet:SKe,table_to_sheet:Sce,table_to_book:tKe,sheet_to_csv:i7,sheet_to_txt:Cce,sheet_to_json:rA,sheet_to_html:wce,sheet_to_formulae:NKe,sheet_to_row_object_array:rA,sheet_get_cell:fN,book_new:_Ke,book_append_sheet:kKe,book_set_sheet_visibility:CKe,cell_set_number_format:AKe,cell_set_hyperlink:Ece,cell_set_internal_link:EKe,cell_add_comment:TKe,sheet_set_array_formula:DKe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function MKe({isOpen:e,onClose:t,onConfirm:r,weekStartDate:n,totalHours:a}){return o.jsx(_r,{isOpen:e,onClose:t,title:"Confirm Submission",maxWidth:"max-w-md",footer:o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 border border-border rounded-lg text-text-secondary hover:bg-bg-hover text-sm font-medium transition-colors",children:"Cancel"}),o.jsx("button",{onClick:r,className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 text-sm font-medium transition-colors",children:"Confirm Submit"})]}),children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-brand-primary/10 rounded-lg text-brand-primary",children:[o.jsx(ta,{className:"shrink-0 mt-0.5",size:20}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-semibold mb-1",children:"Attention Required"}),o.jsx("p",{children:"Once submitted, you will not be able to edit these timesheet entries without manager approval."})]})]}),o.jsxs("div",{className:"bg-bg-main p-4 rounded-lg space-y-2 border border-border-dim",children:[o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-text-secondary",children:"Week Starting:"}),o.jsx("span",{className:"font-medium text-text-primary",children:n?ps(n,"MMM d, yyyy"):"-"})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-text-secondary",children:"Total Hours:"}),o.jsxs("span",{className:"font-bold text-text-primary",children:[a," hrs"]})]})]}),o.jsx("p",{className:"text-text-secondary text-sm",children:"Are you sure you want to submit your timesheet for this week?"})]})})}function OKe(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,s]=b.useState(!1),[i,l]=b.useState(!1),[c,d]=b.useState(!1),[u,f]=b.useState(!1),[p,h]=b.useState(""),[m,g]=b.useState({date:new Date().toISOString().split("T")[0],project:"",task:"",startTime:"",endTime:"",description:""}),[x,y]=b.useState([]),[v,w]=b.useState([]),[N,C]=b.useState(void 0);b.useEffect(()=>{k(),_()},[]),b.useEffect(()=>{if(m.project&&x.length>0){const V=x.find(G=>G._id===m.project||G.name===m.project);V?S(V._id):w([])}else w([])},[m.project,x]);const _=async()=>{try{const V=await je.getProjects();y(V.projects||[])}catch{console.error("Failed to fetch projects")}},S=async V=>{try{const G=await je.getTasks({projectId:V});w(G.tasks||[])}catch{console.error("Failed to fetch tasks")}},k=async()=>{try{const V=new Date;V.setDate(V.getDate()-30);const G=await je.getTimesheetEntries({startDate:V.toISOString().split("T")[0]});t(G.entries||[])}catch(V){console.error("Failed to fetch entries:",V)}finally{n(!1)}},A=async V=>{V.preventDefault();try{const G=x.find(q=>q._id===m.project),J=v.find(q=>q._id===m.task),B={...m,project:G?G.name:m.project,projectId:G?G._id:void 0,task:J?J.title:m.task,taskId:J?J._id:void 0};await je.createTimesheetEntry(B),s(!1),g({date:new Date().toISOString().split("T")[0],project:"",task:"",startTime:"",endTime:"",description:""}),k()}catch(G){alert(G.message)}},O=async V=>{if(confirm("Delete this timesheet entry?"))try{await je.deleteTimesheetEntry(V),k()}catch(G){alert(G.message)}},D=async()=>{const V=new Date,G=V.getDay(),J=G===0?0:7-G,B=new Date(V);B.setDate(V.getDate()+J);const q=new Date(B);q.setDate(B.getDate()-6),C(q),d(!0)},M=async()=>{if(N){l(!0);try{const V=new Date(N);V.setDate(N.getDate()+6);const G=await je.submitTimesheets(V.toISOString().split("T")[0]);h(G.message),f(!0),k(),d(!1)}catch(V){alert(V.message)}finally{l(!1)}}},I=()=>{if(e.length===0){alert("No entries to export");return}const V=e.map(B=>({Date:new Date(B.date).toLocaleDateString(),Project:B.project,Task:B.task,Description:B.description||"","Start Time":B.startTime,"End Time":B.endTime,Hours:B.hours,Status:B.status,"Review Comments":B.reviewComments||""})),G=kh.json_to_sheet(V),J=kh.book_new();kh.book_append_sheet(J,G,"Timesheet"),s7(J,`timesheet_export_${new Date().toISOString().split("T")[0]}.xlsx`)},z=V=>{switch(V){case"draft":return o.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium text-gray-600 bg-gray-100 px-2 py-1 rounded-full",children:[o.jsx(ta,{size:12}),"Draft"]});case"submitted":return o.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium text-blue-700 bg-blue-100 px-2 py-1 rounded-full",children:[o.jsx(zm,{size:12}),"Submitted"]});case"approved":return o.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium text-green-700 bg-green-100 px-2 py-1 rounded-full",children:[o.jsx(In,{size:12}),"Approved"]});case"rejected":return o.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium text-red-700 bg-red-100 px-2 py-1 rounded-full",children:[o.jsx(vx,{size:12}),"Rejected"]});default:return null}},Y=()=>e.reduce((V,G)=>V+(G.hours||0),0).toFixed(2),X=e.some(V=>V.status==="draft");return r?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{className:"h-7 w-48"}),o.jsx(Se,{className:"h-4 w-64"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{className:"h-10 w-32"}),o.jsx(Se,{className:"h-10 w-32"})]})]}),o.jsx("div",{className:"border border-border rounded-lg overflow-hidden",children:o.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4,5].map(V=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(Se,{className:"h-5 w-24"}),o.jsx(Se,{className:"h-5 w-32"}),o.jsx(Se,{className:"h-5 w-48"}),o.jsx(Se,{className:"h-5 w-24"}),o.jsx(Se,{className:"h-5 w-16"})]},V))})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Timesheet Entries"}),o.jsx("p",{className:"text-sm text-text-secondary",children:"Track time spent on projects and tasks"})]}),o.jsxs("div",{className:"flex gap-2",children:[e.length>0&&o.jsx(dt,{variant:"secondary",onClick:I,leftIcon:o.jsx(cf,{size:18}),children:"Export Excel"}),X&&o.jsx(dt,{className:"bg-green-600 hover:bg-green-700",onClick:D,disabled:i,isLoading:i,leftIcon:!i&&o.jsx(zm,{size:18}),children:"Submit for Approval"}),o.jsx(dt,{onClick:()=>s(!a),leftIcon:o.jsx(Na,{size:20}),children:"Add Entry"})]})]}),a&&o.jsxs("form",{onSubmit:A,className:"bg-bg-main border border-border rounded-lg p-4 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(Ja,{label:"Date",value:m.date,onChange:V=>g({...m,date:V.target.value}),required:!0})}),o.jsx("div",{children:x.length>0?o.jsx(sr,{label:"Project",value:m.project,onChange:V=>g({...m,project:V,task:""}),required:!0,options:x.map(V=>({value:V._id,label:V.name})),placeholder:"Select Project"}):o.jsx(ft,{label:"Project",type:"text",value:m.project,onChange:V=>g({...m,project:V.target.value}),required:!0,placeholder:"Project name"})}),o.jsx("div",{children:v.length>0?o.jsx(sr,{label:"Task",value:m.task,onChange:V=>g({...m,task:V}),required:!0,options:v.map(V=>({value:V._id,label:V.title})),placeholder:"Select Task"}):o.jsx(ft,{label:"Task",type:"text",value:m.task,onChange:V=>g({...m,task:V.target.value}),required:!0,placeholder:"Task description"})}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("div",{children:o.jsx(ft,{label:"Start Time",type:"time",value:m.startTime,onChange:V=>g({...m,startTime:V.target.value}),required:!0})}),o.jsx("div",{children:o.jsx(ft,{label:"End Time",type:"time",value:m.endTime,onChange:V=>g({...m,endTime:V.target.value}),required:!0})})]}),o.jsx("div",{className:"col-span-2",children:o.jsx(jl,{label:"Description (Optional)",value:m.description,onChange:V=>g({...m,description:V.target.value}),rows:2,placeholder:"Additional details..."})})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(dt,{type:"submit",leftIcon:o.jsx(Fm,{size:16}),children:"Save Entry"}),o.jsx(dt,{type:"button",variant:"secondary",onClick:()=>s(!1),children:"Cancel"})]})]}),o.jsx("div",{className:"border border-border rounded-lg overflow-hidden",children:o.jsx(eo,{columns:[{header:"Date",accessorKey:"date",render:V=>o.jsx("span",{className:"text-sm",children:new Date(V.date).toLocaleDateString()})},{header:"Project",accessorKey:"project",render:V=>o.jsx("span",{className:"font-medium",children:V.project})},{header:"Task",accessorKey:"task",render:V=>o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{children:V.task}),V.description&&o.jsx("span",{className:"text-xs text-text-muted truncate max-w-xs",children:V.description}),V.reviewComments&&o.jsxs("span",{className:"text-xs text-yellow-700 mt-1",children:["Review: ",V.reviewComments]})]})},{header:"Time",render:V=>o.jsxs("span",{className:"text-sm",children:[V.startTime," - ",V.endTime]})},{header:"Hours",accessorKey:"hours",render:V=>o.jsxs("span",{className:"font-medium text-brand-primary",children:[V.hours,"h"]})},{header:"Status",accessorKey:"status",render:V=>z(V.status)},{header:"Actions",render:V=>V.status==="draft"||V.status==="rejected"?o.jsx("button",{onClick:()=>O(V._id),className:"text-text-muted hover:text-red-500 transition-colors p-1",title:"Delete Entry",children:o.jsx(yn,{size:16})}):null}],data:e,isLoading:r,emptyMessage:"No timesheet entries found"})}),e.length>0&&o.jsxs("div",{className:"bg-brand-primary/10 border border-brand-primary/20 rounded-lg p-4 flex justify-between items-center",children:[o.jsx("span",{className:"font-semibold text-text-primary",children:"Total Hours (Last 30 Days)"}),o.jsxs("span",{className:"text-2xl font-bold text-brand-primary",children:[Y(),"h"]})]}),o.jsx(MKe,{isOpen:c,onClose:()=>d(!1),onConfirm:M,weekStartDate:N,totalHours:e.filter(V=>V.status==="draft").reduce((V,G)=>V+(G.hours||0),0)}),o.jsx(ji,{isOpen:u,onClose:()=>f(!1),onConfirm:()=>f(!1),title:"Success",message:p,confirmText:"OK",variant:"success",showCancel:!1})]})}function PKe(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,s]=b.useState({startDate:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],endDate:new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0]});b.useEffect(()=>{i()},[a]);const i=async()=>{n(!0);try{console.log("Fetching history with date range:",a);const c=await je.getAttendanceHistory(a);console.log("Received attendance history:",c),t(c.entries||[])}catch(c){console.error("Failed to fetch history:",c)}finally{n(!1)}},l=c=>{const d=Math.floor(c),u=Math.round((c-d)*60);return`${d}h ${u}m`};return r?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-bg-main border border-border rounded-lg p-4",children:[o.jsx(Se,{className:"h-6 w-24 mb-3"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Se,{className:"h-10 w-full"}),o.jsx(Se,{className:"h-10 w-full"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Se,{className:"h-[200px] w-full rounded-lg"}),o.jsx(Se,{className:"h-[200px] w-full rounded-lg"})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-bg-main border border-border rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-text-primary mb-3",children:"Date Range"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(Ja,{label:"From",value:a.startDate,onChange:c=>s({...a,startDate:c.target.value})})}),o.jsx("div",{children:o.jsx(Ja,{label:"To",value:a.endDate,onChange:c=>s({...a,endDate:c.target.value})})})]})]}),e.length===0?o.jsxs("div",{className:"text-center py-12 text-text-secondary",children:[o.jsx(Xa,{size:48,className:"mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No attendance records found for this period"})]}):o.jsx("div",{className:"space-y-3",children:e.map(c=>o.jsxs("div",{className:"bg-bg-main border border-border rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Xa,{size:18,className:"text-brand-primary"}),o.jsx("span",{className:"font-semibold text-text-primary",children:new Date(c.clockIn).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${c.status==="completed"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:c.status==="completed"?"Completed":"Active"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-text-secondary mb-1",children:"Clock In"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Mn,{size:14,className:"text-green-600"}),o.jsx("span",{className:"font-medium text-text-primary",children:new Date(c.clockIn).toLocaleTimeString()})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-text-secondary mb-1",children:"Clock Out"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Mn,{size:14,className:"text-red-600"}),o.jsx("span",{className:"font-medium text-text-primary",children:c.clockOut?new Date(c.clockOut).toLocaleTimeString():"In Progress"})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-text-secondary mb-1",children:"Total Hours"}),o.jsx("span",{className:"font-bold text-brand-primary",children:c.totalHours?l(c.totalHours):"0h 0m"})]})]}),c.breaks&&c.breaks.length>0&&o.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:o.jsxs("p",{className:"text-xs text-text-secondary mb-2",children:["Breaks: ",c.breaks.length," (",c.totalBreakMinutes," min total)"]})}),c.completedTasks&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-border",children:[o.jsx("p",{className:"text-xs font-semibold text-text-secondary mb-1",children:"Completed Tasks:"}),o.jsx("p",{className:"text-sm text-text-primary whitespace-pre-wrap",children:c.completedTasks})]})]},c._id))})]})}function RKe(){const{user:e}=Sr(),[t,r]=b.useState([]),[n,a]=b.useState([]),[s,i]=b.useState(!0),[l,c]=b.useState(!1),[d,u]=b.useState({correctionType:"add",requestedDate:new Date().toISOString().split("T")[0],requestedClockIn:"",requestedClockOut:"",reason:""}),f=["HR","Project Manager"].includes((e==null?void 0:e.role)||"");b.useEffect(()=>{p()},[]);const p=async()=>{i(!0);try{const x=await je.getMyCorrections();if(r(x.corrections||[]),f){const y=await je.getPendingCorrections();a(y.corrections||[])}}catch(x){console.error("Failed to fetch corrections:",x)}finally{i(!1)}},h=async x=>{x.preventDefault();try{await je.requestTimeCorrection(d),c(!1),u({correctionType:"add",requestedDate:new Date().toISOString().split("T")[0],requestedClockIn:"",requestedClockOut:"",reason:""}),p()}catch(y){alert(y.message)}},m=async x=>{try{await je.approveCorrection(x,""),p()}catch(y){alert(y.message)}},g=async x=>{const y=prompt("Reason for rejection:");if(y)try{await je.rejectCorrection(x,y),p()}catch(v){alert(v.message)}};return s?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{className:"h-6 w-48"}),o.jsx(Se,{className:"h-4 w-64"})]}),o.jsx(Se,{className:"h-10 w-32 rounded-lg"})]}),o.jsx("div",{className:"space-y-3",children:[1,2].map(x=>o.jsxs("div",{className:"bg-bg-main border border-border rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx(Se,{className:"h-5 w-32"}),o.jsx(Se,{className:"h-5 w-24 rounded-full"})]}),o.jsx(Se,{className:"h-4 w-48 mb-2"}),o.jsx(Se,{className:"h-4 w-full"})]},x))})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"My Correction Requests"}),o.jsx("p",{className:"text-sm text-text-secondary",children:"Request corrections for missed clock in/out"})]}),o.jsx(dt,{onClick:()=>c(!l),leftIcon:o.jsx(Na,{size:20}),children:"New Request"})]}),l&&o.jsxs("form",{onSubmit:h,className:"bg-bg-main border border-border rounded-lg p-4 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(sr,{label:"Type",value:d.correctionType,onChange:x=>u({...d,correctionType:x}),options:[{value:"add",label:"Add Missing Entry"},{value:"edit",label:"Edit Existing Entry"}]})}),o.jsx("div",{children:o.jsx(Ja,{label:"Date",value:d.requestedDate,onChange:x=>u({...d,requestedDate:x.target.value}),required:!0,max:new Date().toISOString().split("T")[0]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Clock In Time"}),o.jsx("input",{type:"time",value:d.requestedClockIn,onChange:x=>u({...d,requestedClockIn:x.target.value}),required:!0,className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/20"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Clock Out Time"}),o.jsx("input",{type:"time",value:d.requestedClockOut,onChange:x=>u({...d,requestedClockOut:x.target.value}),required:!0,className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/20"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Reason *"}),o.jsx("textarea",{value:d.reason,onChange:x=>u({...d,reason:x.target.value}),required:!0,rows:3,placeholder:"Explain why this correction is needed...",className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/20"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-colors",children:"Submit Request"}),o.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]}),o.jsx("div",{className:"space-y-3",children:t.length===0?o.jsxs("div",{className:"text-center py-8 text-text-secondary border border-border rounded-lg",children:[o.jsx(Mn,{size:32,className:"mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No correction requests yet"})]}):t.map(x=>o.jsxs("div",{className:"bg-bg-main border border-border rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold text-text-primary",children:new Date(x.requestedDate).toLocaleDateString()}),o.jsxs("span",{className:"text-sm text-text-secondary ml-2",children:["(",x.correctionType,")"]})]}),o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${x.status==="pending"?"bg-yellow-100 text-yellow-700":x.status==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:x.status})]}),o.jsxs("p",{className:"text-sm text-text-secondary mb-2",children:[x.requestedClockIn," - ",x.requestedClockOut]}),o.jsxs("p",{className:"text-sm text-text-primary italic",children:['"',x.reason,'"']}),x.managerComments&&o.jsxs("p",{className:"text-sm text-text-secondary mt-2 pt-2 border-t border-border",children:["Manager: ",x.managerComments]})]},x._id))}),f&&o.jsxs("div",{className:"pt-6 border-t border-border",children:[o.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Pending Approvals"}),n.length===0?o.jsxs("div",{className:"text-center py-8 text-text-secondary border border-border rounded-lg",children:[o.jsx(In,{size:32,className:"mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No pending approvals"})]}):o.jsx("div",{className:"space-y-3",children:n.map(x=>{var y,v,w;return o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"font-semibold text-text-primary",children:[(y=x.employee)==null?void 0:y.firstName," ",(v=x.employee)==null?void 0:v.lastName]}),o.jsxs("span",{className:"text-sm text-text-secondary ml-2",children:["(",(w=x.employee)==null?void 0:w.employeeId,")"]})]}),o.jsx("span",{className:"text-sm text-text-secondary",children:new Date(x.requestedDate).toLocaleDateString()})]}),o.jsxs("p",{className:"text-sm mb-2",children:[x.requestedClockIn," - ",x.requestedClockOut]}),o.jsxs("p",{className:"text-sm text-text-primary italic mb-3",children:['Reason: "',x.reason,'"']}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>m(x._id),className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:[o.jsx(In,{size:14}),"Approve"]}),o.jsxs("button",{onClick:()=>g(x._id),className:"flex items-center gap-1 px-3 py-1.5 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:[o.jsx(vx,{size:14}),"Reject"]})]})]},x._id)})})]})]})}function LKe(){const{user:e}=Sr(),[t,r]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(null),l=["HR","Project Manager"].includes((e==null?void 0:e.role)||"");b.useEffect(()=>{if(l){c();const f=setInterval(c,6e4);return()=>clearInterval(f)}},[l]);const c=async()=>{try{const f=await je.getPendingTimesheetApprovals();r(f.timesheets||[])}catch(f){console.error("Failed to fetch pending approvals:",f)}finally{a(!1)}},d=async f=>{i(f);try{await je.approveTimesheet(f,""),c()}catch(p){alert(p.message)}finally{i(null)}};if(!l)return null;if(n)return o.jsx("div",{className:"space-y-4",children:[1,2].map(f=>o.jsxs("div",{className:"border border-border rounded-lg p-4 bg-bg-card",children:[o.jsxs("div",{className:"flex justify-between mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{className:"h-5 w-48"}),o.jsx(Se,{className:"h-3 w-32"})]}),o.jsx(Se,{className:"h-4 w-24"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{className:"h-16 w-full rounded"}),o.jsx(Se,{className:"h-16 w-full rounded"})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsx(Se,{className:"h-9 w-24 rounded"}),o.jsx(Se,{className:"h-9 w-24 rounded"})]})]},f))});const u=t.reduce((f,p)=>{const h=p.employee._id;return f[h]||(f[h]={employee:p.employee,timesheets:[]}),f[h].timesheets.push(p),f},{});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Pending Approvals"}),o.jsx("p",{className:"text-sm text-text-secondary",children:"Review and approve timesheet submissions from your team"})]}),t.length>0&&o.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium",children:[t.length," pending"]})]}),Object.keys(u).length===0?o.jsxs("div",{className:"text-center py-12 text-text-secondary border border-border rounded-lg",children:[o.jsx(In,{size:48,className:"mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No pending approvals"}),o.jsx("p",{className:"text-sm mt-1",children:"All timesheets are up to date"})]}):o.jsx("div",{className:"space-y-4",children:Object.values(u).map(f=>{const p=f.timesheets.reduce((h,m)=>h+(m.hours||0),0).toFixed(2);return o.jsxs("div",{className:"border border-border rounded-lg p-4 bg-yellow-50",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4 pb-3 border-b border-yellow-200",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-text-primary",children:[f.employee.firstName," ",f.employee.lastName]}),o.jsxs("p",{className:"text-sm text-text-secondary",children:[f.employee.employeeId,"  ",f.timesheets.length," ","entries  ",p,"h total"]})]}),o.jsxs("span",{className:"text-xs text-text-secondary flex items-center gap-1",children:[o.jsx(Mn,{size:12}),"Submitted"," ",new Date(f.timesheets[0].submittedAt).toLocaleDateString()]})]}),o.jsx("div",{className:"space-y-2 mb-4",children:f.timesheets.map(h=>o.jsx("div",{className:"bg-white border border-yellow-200 rounded p-3 text-sm",children:o.jsx("div",{className:"flex justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-medium text-text-primary",children:h.project}),o.jsx("span",{className:"text-text-secondary",children:""}),o.jsx("span",{className:"text-text-secondary",children:h.task})]}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-text-secondary",children:[o.jsx("span",{children:new Date(h.date).toLocaleDateString()}),o.jsxs("span",{children:[h.startTime," - ",h.endTime]}),o.jsxs("span",{className:"font-medium text-brand-primary",children:[h.hours,"h"]})]}),h.description&&o.jsx("p",{className:"text-xs text-text-secondary mt-1 italic",children:h.description})]})})},h._id))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>{f.timesheets.forEach(h=>d(h._id))},disabled:s!==null,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 text-sm font-medium",children:[s?o.jsx(Vn,{className:"animate-spin",size:16}):o.jsx(In,{size:16}),"Approve All"]}),o.jsxs("button",{onClick:()=>{const h=prompt("Reason for rejecting all entries:");h&&(f.timesheets.forEach(m=>je.rejectTimesheet(m._id,h)),c())},disabled:s!==null,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 text-sm font-medium",children:[o.jsx(vx,{size:16}),"Reject All"]})]})]},f.employee._id)})})]})}const IKe=["Clock In/Out","Timesheets","History","Corrections"];function FKe(){const{user:e}=Sr(),r=["HR","Project Manager"].includes((e==null?void 0:e.role)||"")?["Clock In/Out","Timesheets","Pending Approvals","History","Corrections"]:IKe,[n,a]=b.useState(r[0]),s=i=>{switch(i){case"Clock In/Out":return o.jsx(Mn,{size:18});case"Timesheets":return o.jsx(xn,{size:18});case"Pending Approvals":return o.jsx(cH,{size:18});case"History":return o.jsx(Gve,{size:18});case"Corrections":return o.jsx(cH,{size:18});default:return null}};return o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Attendance & Time Tracking"}),o.jsx("p",{className:"text-text-secondary mt-1",children:"Track your time, manage timesheets, and request corrections"})]}),o.jsxs("div",{className:"bg-bg-card rounded-lg shadow-sm border border-border",children:[o.jsx("div",{className:"flex overflow-x-auto border-b border-border",children:r.map(i=>o.jsxs("button",{onClick:()=>a(i),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${n===i?"border-brand-primary text-brand-primary bg-brand-primary/5":"border-transparent text-text-secondary hover:text-text-primary hover:bg-bg-hover"}`,children:[s(i),i]},i))}),o.jsxs("div",{className:"p-6",children:[n==="Clock In/Out"&&o.jsx(UHe,{}),n==="Timesheets"&&o.jsx(OKe,{}),n==="Pending Approvals"&&o.jsx(LKe,{}),n==="History"&&o.jsx(PKe,{}),n==="Corrections"&&o.jsx(RKe,{})]})]})]})}function zKe(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,s]=b.useState({entityType:"",action:"",startDate:"",endDate:""}),[i,l]=b.useState(!1),[c,d]=b.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}});b.useEffect(()=>{p()},[]);const u=()=>{d({isOpen:!0,title:"Clear Audit Trail",message:"Are you sure you want to delete ALL audit logs? This action cannot be undone.",onConfirm:async()=>{l(!0);try{await je.clearAuditLogs(),t([]),d(x=>({...x,isOpen:!1}))}catch(x){console.error("Failed to clear logs",x),alert("Failed to clear logs")}finally{l(!1)}}})},f=x=>{d({isOpen:!0,title:"Delete Audit Log",message:"Are you sure you want to delete this log entry?",onConfirm:async()=>{l(!0);try{await je.deleteAuditLog(x),t(y=>y.filter(v=>v._id!==x)),d(y=>({...y,isOpen:!1}))}catch(y){console.error("Failed to delete log",y),alert("Failed to delete log")}finally{l(!1)}}})},p=async()=>{n(!0);try{const x=await je.getAuditLogs({...a,limit:100});t(x.logs||[])}catch(x){console.error("Failed to fetch audit logs:",x)}finally{n(!1)}},h=()=>{p()},m=x=>{const y={create:"bg-status-success/10 text-status-success",update:"bg-brand-primary/10 text-brand-primary",delete:"bg-status-error/10 text-status-error",approve:"bg-status-success/10 text-status-success",reject:"bg-status-error/10 text-status-error",submit:"bg-status-warning/10 text-status-warning",login:"bg-blue-100 text-blue-700",logout:"bg-gray-100 text-gray-700"};return o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y[x]||"bg-bg-main text-text-secondary"}`,children:x.toUpperCase()})},g=x=>{switch(x){case"TimeEntry":return o.jsx(Mn,{size:16,className:"text-blue-600"});case"Timesheet":return o.jsx(xn,{size:16,className:"text-green-600"});case"TimeCorrection":return o.jsx(yo,{size:16,className:"text-purple-600"});case"User":return o.jsx(yo,{size:16,className:"text-indigo-600"});default:return null}};return r?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Se,{className:"h-8 w-48 mb-2"}),o.jsx(Se,{className:"h-4 w-64"}),o.jsx("div",{className:"flex justify-end",children:o.jsx(Se,{className:"h-9 w-32 rounded-lg"})})]}),o.jsxs("div",{className:"bg-bg-card p-4 rounded-lg shadow-sm border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(Se,{className:"h-5 w-5"}),o.jsx(Se,{className:"h-5 w-20"})]}),o.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(x=>o.jsxs("div",{children:[o.jsx(Se,{className:"h-4 w-20 mb-1"}),o.jsx(Se,{className:"h-10 w-full rounded-lg"})]},x))}),o.jsx(Se,{className:"h-10 w-32 mt-4 rounded-lg"})]}),o.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(x=>o.jsx("div",{className:"bg-bg-card p-4 rounded-lg shadow-sm border border-border",children:o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Se,{className:"w-5 h-5 rounded-full"}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Se,{className:"h-4 w-24"}),o.jsx(Se,{className:"h-5 w-16 rounded-full"})]}),o.jsx(Se,{className:"h-3 w-48 mt-1"})]})]}),o.jsx(Se,{className:"h-3 w-32"})]})},x))})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Audit Trail"}),o.jsx("p",{className:"text-text-secondary mt-1",children:"Complete history of all time-related changes"}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:u,disabled:i||e.length===0,className:"text-red-600 hover:text-red-700 hover:bg-red-50 px-3 py-2 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[o.jsx(yn,{size:16}),"Clear Audit Trail"]})})]}),o.jsxs("div",{className:"bg-bg-card p-4 rounded-lg shadow-sm border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(Hve,{size:18,className:"text-brand-primary"}),o.jsx("h3",{className:"font-semibold text-text-primary",children:"Filters"})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[o.jsx("div",{children:o.jsx(sr,{label:"Entity Type",value:a.entityType,onChange:x=>s({...a,entityType:x}),options:[{value:"",label:"All"},{value:"TimeEntry",label:"Time Entry"},{value:"Timesheet",label:"Timesheet"},{value:"TimeCorrection",label:"Time Correction"},{value:"User",label:"User"}]})}),o.jsx("div",{children:o.jsx(sr,{label:"Action",value:a.action,onChange:x=>s({...a,action:x}),options:[{value:"",label:"All"},{value:"create",label:"Create"},{value:"update",label:"Update"},{value:"delete",label:"Delete"},{value:"submit",label:"Submit"},{value:"approve",label:"Approve"},{value:"reject",label:"Reject"},{value:"login",label:"Login"},{value:"logout",label:"Logout"}]})}),o.jsx("div",{children:o.jsx(Ja,{label:"Start Date",value:a.startDate,onChange:x=>s({...a,startDate:x.target.value})})}),o.jsx("div",{children:o.jsx(Ja,{label:"End Date",value:a.endDate,onChange:x=>s({...a,endDate:x.target.value})})})]}),o.jsx("button",{onClick:h,className:"mt-4 px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-colors",children:"Apply Filters"})]}),e.length===0?o.jsx("div",{className:"text-center py-12 text-text-secondary border border-border rounded-lg",children:o.jsx("p",{children:"No audit logs found"})}):o.jsx("div",{className:"space-y-3",children:e.map(x=>{var y;return o.jsxs("div",{className:"bg-bg-card p-4 rounded-lg shadow-sm border border-border hover:border-brand-primary transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[g(x.entityType),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-text-primary",children:x.entityType}),m(x.action)]}),o.jsxs("p",{className:"text-sm text-text-secondary mt-1",children:["by ",((y=x.performedBy)==null?void 0:y.name)||"Unknown",x.employee&&`  ${x.employee.firstName} ${x.employee.lastName}`]})]})]}),o.jsx("span",{className:"text-xs text-text-secondary",children:new Date(x.createdAt).toLocaleString()}),o.jsx("button",{onClick:v=>{v.stopPropagation(),f(x._id)},className:"p-1 text-text-muted hover:text-red-600 hover:bg-red-50 rounded transition-colors ml-2",title:"Delete Log",children:o.jsx(yn,{size:14})})]}),x.changes&&Object.keys(x.changes).length>0&&o.jsxs("div",{className:"mt-3 p-3 bg-bg-main rounded border border-border",children:[o.jsx("p",{className:"text-xs font-medium text-text-secondary mb-2",children:"Changes:"}),x.changes.old||x.changes.new?o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[x.changes.old&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-red-600 font-medium mb-1",children:"Old:"}),o.jsx("pre",{className:"text-xs bg-status-error/5 p-2 rounded overflow-auto text-text-primary whitespace-pre-wrap",children:typeof x.changes.old=="string"?x.changes.old:JSON.stringify(x.changes.old,null,2)})]}),x.changes.new&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-green-600 font-medium mb-1",children:"New:"}),o.jsx("pre",{className:"text-xs bg-status-success/5 p-2 rounded overflow-auto text-text-primary whitespace-pre-wrap",children:typeof x.changes.new=="string"?x.changes.new:JSON.stringify(x.changes.new,null,2)})]})]}):o.jsx("div",{className:"space-y-2",children:Object.keys(x.changes).map(v=>{const w=x.changes[v];return!w||typeof w!="object"?null:o.jsxs("div",{className:"text-xs p-2 bg-bg-card rounded border border-border/50",children:[o.jsxs("span",{className:"font-semibold text-text-primary capitalize",children:[v.replace(/([A-Z])/g," $1").trim(),":"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[o.jsxs("div",{className:"bg-status-error/5 px-2 py-1 rounded text-status-error",children:[o.jsx("span",{className:"font-medium mr-1",children:"From:"}),typeof w.from=="object"?JSON.stringify(w.from):String(w.from)]}),o.jsxs("div",{className:"bg-status-success/5 px-2 py-1 rounded text-brand-primary",children:[o.jsx("span",{className:"font-medium mr-1",children:"To:"}),typeof w.to=="object"?JSON.stringify(w.to):String(w.to)]})]})]},v)})})]}),x.metadata&&Object.keys(x.metadata).length>0&&o.jsxs("div",{className:"mt-2 text-xs text-text-secondary",children:[o.jsx("strong",{children:"Details:"})," ",o.jsxs("div",{className:"mt-2 flex flex-col gap-1.5",children:[(x.metadata.ip||x.metadata.device)&&o.jsxs("div",{className:"flex flex-wrap gap-4",children:[x.metadata.ip&&o.jsxs("div",{className:"flex items-center gap-1.5 text-xs bg-bg-main px-2 py-1 rounded border border-border",children:[o.jsx(Lh,{size:12,className:"text-brand-primary"}),o.jsx("span",{className:"font-mono text-text-primary",children:x.metadata.ip})]}),x.metadata.device&&o.jsxs("div",{className:"flex items-center gap-1.5 text-xs bg-bg-main px-2 py-1 rounded border border-border",children:[x.metadata.device.toLowerCase().includes("mobile")?o.jsx(tL,{size:12,className:"text-brand-primary"}):o.jsx(Iv,{size:12,className:"text-brand-primary"}),o.jsx("span",{className:"truncate max-w-[200px]",title:x.metadata.device,children:x.metadata.device.includes("Mozilla")?x.metadata.device.includes("Mac")?"Mac OS":x.metadata.device.includes("Windows")?"Windows":"Web Browser":x.metadata.device})]})]}),x.metadata.location&&o.jsx("div",{className:"flex",children:o.jsxs("a",{href:`https://www.google.com/maps?q=${x.metadata.location.lat},${x.metadata.location.lng}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-brand-primary hover:underline font-medium text-xs bg-brand-primary/5 px-2 py-1 rounded border border-brand-primary/20 hover:bg-brand-primary/10 transition-colors",children:[o.jsx(b_,{size:12}),"View Location"]})}),Object.keys(x.metadata).filter(v=>!["ip","device","location"].includes(v)).length>0&&o.jsx("pre",{className:"text-[10px] bg-bg-main p-2 rounded overflow-auto mt-1 border border-border",children:JSON.stringify(Object.fromEntries(Object.entries(x.metadata).filter(([v])=>!["ip","device","location"].includes(v))),null,2)})]})]})]},x._id)})}),o.jsx(ji,{isOpen:c.isOpen,onClose:()=>d({...c,isOpen:!1}),onConfirm:c.onConfirm,title:c.title,message:c.message,confirmText:"Delete",isLoading:i,variant:"danger"})]})}function BKe(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,s]=b.useState(0);b.useEffect(()=>{i()},[]);const i=async()=>{try{const p=await je.getLeaveStats();t(p.stats)}catch(p){console.error("Failed to fetch leave stats:",p)}finally{n(!1)}},l=p=>{const m=(g=>g.toLowerCase())(p);return m.includes("casual")?{icon:o.jsx(QZ,{size:24,className:"text-blue-600"}),color:"bg-blue-50/50 border-blue-100 dark:bg-blue-900/10 dark:border-blue-800"}:m.includes("sick")||m.includes("medical")?{icon:o.jsx(JZ,{size:24,className:"text-red-600"}),color:"bg-red-50/50 border-red-100 dark:bg-red-900/10 dark:border-red-800"}:m.includes("annual")||m.includes("earned")||m.includes("privilege")?{icon:o.jsx(Gd,{size:24,className:"text-purple-600"}),color:"bg-purple-50/50 border-purple-100 dark:bg-purple-900/10 dark:border-purple-800"}:m.includes("maternity")||m.includes("paternity")||m.includes("parental")?{icon:o.jsx(Da,{size:24,className:"text-pink-600"}),color:"bg-pink-50/50 border-pink-100 dark:bg-pink-900/10 dark:border-pink-800"}:m.includes("unpaid")||m.includes("lop")?{icon:o.jsx(Gd,{size:24,className:"text-orange-600"}),color:"bg-orange-50/50 border-orange-100 dark:bg-orange-900/10 dark:border-orange-800"}:{icon:o.jsx(Gd,{size:24,className:"text-teal-600"}),color:"bg-teal-50/50 border-teal-100 dark:bg-teal-900/10 dark:border-teal-800"}},c=3,d=Math.max(0,e.length-c),u=()=>{s(p=>Math.min(p+1,d))},f=()=>{s(p=>Math.max(0,p-1))};return r?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[1,2,3].map(p=>o.jsxs("div",{className:"p-4 rounded-xl border border-border bg-bg-card",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx(Se,{className:"h-10 w-10 rounded-lg"}),o.jsx(Se,{className:"h-6 w-24 rounded-full"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{className:"h-8 w-16"}),o.jsx(Se,{className:"h-4 w-32"})]}),o.jsxs("div",{className:"mt-4 pt-3 border-t border-border flex justify-between",children:[o.jsx(Se,{className:"h-3 w-16"}),o.jsx(Se,{className:"h-3 w-16"})]})]},p))}):e.length<=c?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:e.map(p=>{const h=l(p.type);return o.jsxs("div",{className:`p-4 rounded-xl border transition-colors ${h.color}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{className:"p-2 bg-white dark:bg-bg-card rounded-lg shadow-sm border border-border",children:h.icon}),o.jsxs("span",{className:"text-xs font-semibold px-2 py-1 bg-white/50 dark:bg-white/10 rounded-full text-text-primary",children:[p.type," Leave"]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("h3",{className:"text-2xl font-bold text-text-primary",children:[p.pending,"/",p.total]}),o.jsx("p",{className:"text-sm text-text-secondary font-medium",children:"Available Balance"})]}),o.jsxs("div",{className:"mt-4 pt-3 border-t border-black/5 dark:border-white/5 flex justify-between text-xs text-text-muted",children:[o.jsxs("span",{children:["Used: ",p.used]}),o.jsxs("span",{children:["Total: ",p.total]})]})]},p.type)})}):o.jsxs("div",{className:"relative mb-8 group",children:[o.jsx("div",{className:"overflow-hidden rounded-xl",children:o.jsx("div",{className:"flex gap-4 transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${a*(100/c)}%)`,width:`${e.length/c*100}%`},children:e.map(p=>{const h=l(p.type);return o.jsxs("div",{className:`flex-shrink-0 p-4 rounded-xl border transition-colors ${h.color}`,style:{width:`calc(${100/e.length}% - ${16*(e.length-1)/e.length}px)`},children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{className:"p-2 bg-white dark:bg-bg-card rounded-lg shadow-sm border border-border",children:h.icon}),o.jsxs("span",{className:"text-xs font-semibold px-2 py-1 bg-white/50 dark:bg-white/10 rounded-full text-text-primary",children:[p.type," Leave"]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("h3",{className:"text-2xl font-bold text-text-primary",children:[p.pending,"/",p.total]}),o.jsx("p",{className:"text-sm text-text-secondary font-medium",children:"Available Balance"})]}),o.jsxs("div",{className:"mt-4 pt-3 border-t border-black/5 dark:border-white/5 flex justify-between text-xs text-text-muted",children:[o.jsxs("span",{children:["Used: ",p.used]}),o.jsxs("span",{children:["Total: ",p.total]})]})]},p.type)})})}),a>0&&o.jsx("button",{onClick:f,className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2 bg-bg-card border border-border shadow-md rounded-full p-2 text-text-secondary hover:text-brand-primary z-10 opacity-0 group-hover:opacity-100 transition-opacity disabled:opacity-0",children:o.jsx(wi,{size:20})}),a<d&&o.jsx("button",{onClick:u,className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2 bg-bg-card border border-border shadow-md rounded-full p-2 text-text-secondary hover:text-brand-primary z-10 opacity-0 group-hover:opacity-100 transition-opacity disabled:opacity-0",children:o.jsx(Wo,{size:20})})]})}function HKe(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),a=async()=>{try{const i=await je.getMyLeaves();t(i.leaves||[])}catch(i){console.error("Failed to fetch leaves:",i)}finally{n(!1)}};b.useEffect(()=>{a()},[]);const s=i=>{switch(i.toLowerCase()){case"approved":return"bg-status-success/10 text-status-success";case"rejected":return"bg-status-error/10 text-status-error";case"pending":default:return"bg-status-warning/10 text-status-warning"}};return o.jsx("div",{className:"bg-bg-card rounded-lg border border-border overflow-hidden",children:o.jsx(eo,{isLoading:r,data:e,emptyMessage:"No leave history found.",columns:[{header:"Type",accessorKey:"type",render:i=>o.jsx("span",{className:"font-medium text-text-primary",children:i.type})},{header:"Duration",accessorKey:"totalDays",render:i=>o.jsxs("span",{className:"text-sm text-text-secondary",children:[i.totalDays," day",i.totalDays>1?"s":""]})},{header:"Dates",accessorKey:"startDate",render:i=>o.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[o.jsx(Xa,{size:14}),o.jsxs("span",{children:[ps(new Date(i.startDate),"MMM d, yyyy")," -"," ",ps(new Date(i.endDate),"MMM d, yyyy")]})]})},{header:"Reason",accessorKey:"reason",render:i=>o.jsx("span",{className:"text-sm text-text-secondary max-w-xs truncate block",title:i.reason,children:i.reason})},{header:"Status",accessorKey:"status",render:i=>o.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s(i.status)}`,children:i.status})},{header:"Workflow",accessorKey:"workflowStatus",render:i=>o.jsxs("div",{className:"flex items-center gap-1 text-sm text-text-secondary",children:[o.jsx(Mn,{size:14}),i.workflowStatus]})}]})})}function $Ke(){var x,y;const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,s]=b.useState(null),[i,l]=b.useState(null),[c,d]=b.useState(""),[u,f]=b.useState(!1),p=async()=>{try{const v=await je.getPendingLeaveApprovals();t(v.leaves||[])}catch(v){console.error("Failed to fetch approvals:",v)}finally{n(!1)}};b.useEffect(()=>{p()},[]);const h=(v,w)=>{s(v),l(w),d("")},m=()=>{s(null),l(null),d("")},g=async()=>{if(!(!a||!i)){if(i==="reject"&&!c.trim()){alert("Please provide a reason for rejection.");return}f(!0);try{i==="approve"?await je.approveLeave(a._id,c):await je.rejectLeave(a._id,c),p(),m()}catch(v){console.error(`Failed to ${i} leave:`,v),alert(`Failed to ${i} leave`)}finally{f(!1)}}};return r?o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(v=>o.jsxs("div",{className:"bg-bg-card rounded-lg border border-border p-4 shadow-sm flex flex-col h-[280px]",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Se,{className:"w-10 h-10 rounded-full"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Se,{className:"h-4 w-32"}),o.jsx(Se,{className:"h-3 w-24"})]})]}),o.jsx(Se,{className:"h-5 w-16 rounded"})]}),o.jsxs("div",{className:"space-y-3 mb-6 flex-1",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Se,{className:"h-3 w-12"}),o.jsx(Se,{className:"h-4 w-20"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Se,{className:"h-3 w-12"}),o.jsx(Se,{className:"h-4 w-24"})]}),o.jsx(Se,{className:"h-20 w-full rounded"})]}),o.jsxs("div",{className:"flex gap-3 mt-auto",children:[o.jsx(Se,{className:"h-10 flex-1 rounded-lg"}),o.jsx(Se,{className:"h-10 flex-1 rounded-lg"})]})]},v))}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.length===0?o.jsx("div",{className:"col-span-full text-center py-12 bg-bg-main rounded-lg border border-dashed border-border",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-text-muted",children:[o.jsx(pl,{className:"w-12 h-12 mb-2 opacity-20"}),o.jsx("p",{children:"No pending approvals found."})]})}):e.map(v=>{var w,N,C;return o.jsxs("div",{className:"bg-bg-card rounded-lg border border-border p-4 shadow-sm hover:shadow-md transition-shadow flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-secondary/10 flex items-center justify-center text-brand-secondary",children:o.jsx(yo,{size:20})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium text-text-primary",children:[(w=v.employee)==null?void 0:w.firstName," ",(N=v.employee)==null?void 0:N.lastName]}),o.jsx("p",{className:"text-xs text-text-muted",children:(C=v.employee)==null?void 0:C.designation})]})]}),o.jsx("span",{className:"px-2 py-1 bg-brand-primary/5 text-brand-primary text-xs font-medium rounded",children:v.type})]}),o.jsxs("div",{className:"space-y-3 mb-6 flex-1",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-text-secondary",children:"Duration"}),o.jsxs("span",{className:"font-medium text-text-primary",children:[v.totalDays," Day",v.totalDays>1?"s":""]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-text-secondary",children:"Dates"}),o.jsxs("span",{className:"font-medium text-text-primary",children:[ps(new Date(v.startDate),"MMM d")," -"," ",ps(new Date(v.endDate),"MMM d, yyyy")]})]}),o.jsxs("div",{className:"bg-bg-main p-3 rounded text-sm text-text-secondary",children:[o.jsx("p",{className:"text-xs uppercase text-text-muted font-semibold mb-1",children:"Reason"}),o.jsxs("p",{className:"line-clamp-3 italic",title:v.reason,children:['"',v.reason,'"']})]})]}),o.jsxs("div",{className:"flex gap-3 mt-auto",children:[o.jsx(dt,{variant:"danger",className:"flex-1",onClick:()=>h(v,"reject"),leftIcon:o.jsx(Qi,{size:16}),children:"Reject"}),o.jsx(dt,{variant:"primary",className:"flex-1",onClick:()=>h(v,"approve"),leftIcon:o.jsx(pl,{size:16}),children:"Approve"})]})]},v._id)})}),a&&i&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-bg-card rounded-lg shadow-xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:`p-4 border-b ${i==="approve"?"bg-green-50 border-green-100 dark:bg-green-900/20 dark:border-green-900/30":"bg-red-50 border-red-100 dark:bg-red-900/20 dark:border-red-900/30"} flex items-center justify-between`,children:[o.jsxs("h3",{className:`font-semibold ${i==="approve"?"text-green-800 dark:text-green-300":"text-red-800 dark:text-red-300"} flex items-center gap-2`,children:[i==="approve"?o.jsx(pl,{size:18}):o.jsx(ta,{size:18}),i==="approve"?"Approve Request":"Reject Request"]}),o.jsx("button",{onClick:m,className:"text-text-muted hover:text-text-primary transition-colors",children:o.jsx(Qi,{size:20})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("p",{className:"text-sm text-text-secondary",children:["You are about to ",o.jsx("strong",{children:i})," the leave request for",o.jsxs("span",{className:"font-semibold text-text-primary",children:[" ",(x=a.employee)==null?void 0:x.firstName," ",(y=a.employee)==null?void 0:y.lastName]}),"."]}),o.jsx(jl,{label:i==="reject"?"Reason for Rejection *":"Comments (Optional)",placeholder:i==="reject"?"Please explain why this request is being rejected...":"Add any comments...",value:c,onChange:v=>d(v.target.value),rows:3,autoFocus:!0}),i==="reject"&&!c.trim()&&o.jsxs("p",{className:"text-xs text-amber-600 flex items-center gap-1",children:[o.jsx(ta,{size:12})," Reason is required for rejection."]})]}),o.jsxs("div",{className:"p-4 border-t border-border flex justify-end gap-3 bg-bg-secondary/50",children:[o.jsx(dt,{variant:"ghost",onClick:m,disabled:u,children:"Cancel"}),o.jsxs(dt,{variant:i==="approve"?"primary":"danger",onClick:g,isLoading:u,disabled:i==="reject"&&!c.trim(),children:["Confirm ",i==="approve"?"Approval":"Rejection"]})]})]})})]})}const gl=b.forwardRef(({label:e,error:t,className:r="",id:n,...a},s)=>{const i=n||a.name||Math.random().toString(36).substr(2,9);return o.jsxs("div",{className:ia("flex items-start group",r),children:[o.jsxs("label",{htmlFor:i,className:"flex items-center h-5 relative cursor-pointer",children:[o.jsx("input",{ref:s,id:i,type:"checkbox",className:"peer sr-only",...a}),o.jsx("div",{className:ia("w-5 h-5 rounded-md border border-border bg-bg-card transition-all duration-200 ease-in-out","peer-focus:ring-2 peer-focus:ring-brand-primary peer-focus:ring-offset-1 peer-focus:ring-offset-bg-main","peer-checked:bg-brand-primary peer-checked:border-brand-primary peer-checked:text-white","peer-checked:[&_svg]:opacity-100 peer-checked:[&_svg]:scale-100","peer-disabled:opacity-50 peer-disabled:cursor-not-allowed","flex items-center justify-center shadow-sm"),children:o.jsx(pl,{size:12,strokeWidth:3,className:"opacity-0 scale-50 transition-all duration-200"})})]}),e&&o.jsxs("div",{className:"ml-2.5 text-sm select-none",children:[o.jsx("label",{htmlFor:i,className:"font-medium text-text-primary cursor-pointer group-hover:text-brand-primary transition-colors",children:e}),t&&o.jsx("p",{className:"text-xs text-status-error mt-1",children:t})]})]})});gl.displayName="Checkbox";function UKe({isOpen:e,onClose:t}){const[r,n]=b.useState({type:"",startDate:"",endDate:"",reason:"",isHalfDay:!1}),[a,s]=b.useState([]),[i,l]=b.useState(!1),[c,d]=b.useState(""),u=p=>{const{name:h,value:m,type:g}=p.target;if(g==="checkbox"){const x=p.target.checked;n(y=>({...y,[h]:x,endDate:h==="isHalfDay"&&x?y.startDate:y.endDate}))}else n(x=>{const y={...x,[h]:m};return x.isHalfDay&&h==="startDate"&&(y.endDate=m),y})};b.useEffect(()=>{e&&(console.log("DEBUG: Fetching leave stats..."),je.getLeaveStats().then(p=>{if(console.log("DEBUG: getLeaveStats response:",p),p&&p.stats){const h=p.stats.map(m=>m.type);console.log("DEBUG: Extracted Leave Types:",h),s(h),h.length>0&&!h.includes(r.type)&&n(m=>({...m,type:h[0]}))}else if(p&&p.leavePolicy){const h=Object.keys(p.leavePolicy);s(h),h.length>0&&!h.includes(r.type)&&n(m=>({...m,type:h[0]}))}else console.log("DEBUG: No stats or leavePolicy in data",p)}))},[e]);const f=async p=>{p.preventDefault(),l(!0),d("");try{await je.applyLeave(r),t(),window.location.reload()}catch(h){d(h.message||"Failed to submit leave request")}finally{l(!1)}};return o.jsx(_r,{isOpen:e,onClose:t,title:"Apply for Leave",maxWidth:"max-w-md",footer:o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(dt,{variant:"outline",onClick:t,children:"Cancel"}),o.jsx(dt,{onClick:()=>f({preventDefault:()=>{}}),disabled:i,isLoading:i,children:"Submit Application"})]}),children:o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c&&o.jsxs("div",{className:"p-3 bg-status-error/10 text-status-error text-sm rounded-lg flex items-center gap-2",children:[o.jsx(Qi,{size:14})," ",c]}),o.jsx("div",{className:"space-y-1",children:o.jsx(sr,{label:"Leave Type",value:r.type,onChange:p=>n({...r,type:p}),options:a.map(p=>({value:p,label:p}))})}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(gl,{id:"isHalfDay",name:"isHalfDay",checked:r.isHalfDay,onChange:u,label:"Half Day Leave"})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{className:"space-y-1",children:o.jsx(Ja,{label:"Start Date",name:"startDate",value:r.startDate,onChange:u,required:!0})}),o.jsx("div",{className:"space-y-1",children:o.jsx(Ja,{label:"End Date",name:"endDate",value:r.endDate,onChange:u,required:!0,disabled:r.isHalfDay,className:r.isHalfDay?"opacity-50 cursor-not-allowed":""})})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-text-secondary uppercase",children:"Reason"}),o.jsx(jl,{name:"reason",value:r.reason,onChange:u,required:!0,rows:3,placeholder:"Please provide a reason for your leave...",className:"bg-bg-card"})]})]})})}var RS=e=>e.type==="checkbox",ag=e=>e instanceof Date,ll=e=>e==null;const Tce=e=>typeof e=="object";var Ls=e=>!ll(e)&&!Array.isArray(e)&&Tce(e)&&!ag(e),Dce=e=>Ls(e)&&e.target?RS(e.target)?e.target.checked:e.target.value:e,VKe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Mce=(e,t)=>e.has(VKe(t)),qKe=e=>{const t=e.constructor&&e.constructor.prototype;return Ls(t)&&t.hasOwnProperty("isPrototypeOf")},o7=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ws(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(o7&&(e instanceof Blob||n))&&(r||Ls(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!qKe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Ws(e[a]));else return e;return t}var a3=e=>/^\w*$/.test(e),Ya=e=>e===void 0,l7=e=>Array.isArray(e)?e.filter(Boolean):[],c7=e=>l7(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ot=(e,t,r)=>{if(!t||!Ls(e))return r;const n=(a3(t)?[t]:c7(t)).reduce((a,s)=>ll(a)?a:a[s],e);return Ya(n)||n===e?Ya(e[t])?r:e[t]:n},Ql=e=>typeof e=="boolean",Jn=(e,t,r)=>{let n=-1;const a=a3(t)?[t]:c7(t),s=a.length,i=s-1;for(;++n<s;){const l=a[n];let c=r;if(n!==i){const d=e[l];c=Ls(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const nA={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vd={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zf={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Oce=Fe.createContext(null);Oce.displayName="HookFormContext";const d7=()=>Fe.useContext(Oce);var Pce=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const i=s;return t._proxyFormState[i]!==Vd.all&&(t._proxyFormState[i]=!n||Vd.all),r&&(r[i]=!0),e[i]}});return a};const u7=typeof window<"u"?Fe.useLayoutEffect:Fe.useEffect;function WKe(e){const t=d7(),{control:r=t.control,disabled:n,name:a,exact:s}=e||{},[i,l]=Fe.useState(r._formState),c=Fe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return u7(()=>r._subscribe({name:a,formState:c.current,exact:s,callback:d=>{!n&&l({...r._formState,...d})}}),[a,n,s]),Fe.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),Fe.useMemo(()=>Pce(i,r,c.current,!1),[i,r])}var ic=e=>typeof e=="string",IP=(e,t,r,n,a)=>ic(e)?(n&&t.watch.add(e),Ot(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),Ot(r,s))):(n&&(t.watchAll=!0),r),FP=e=>ll(e)||!Tce(e);function qd(e,t,r=new WeakSet){if(FP(e)||FP(t))return Object.is(e,t);if(ag(e)&&ag(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const i=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const l=t[s];if(ag(i)&&ag(l)||Ls(i)&&Ls(l)||Array.isArray(i)&&Array.isArray(l)?!qd(i,l,r):!Object.is(i,l))return!1}}return!0}function YKe(e){const t=d7(),{control:r=t.control,name:n,defaultValue:a,disabled:s,exact:i,compute:l}=e||{},c=Fe.useRef(a),d=Fe.useRef(l),u=Fe.useRef(void 0),f=Fe.useRef(r),p=Fe.useRef(n);d.current=l;const[h,m]=Fe.useState(()=>{const N=r._getWatch(n,c.current);return d.current?d.current(N):N}),g=Fe.useCallback(N=>{const C=IP(n,r._names,N||r._formValues,!1,c.current);return d.current?d.current(C):C},[r._formValues,r._names,n]),x=Fe.useCallback(N=>{if(!s){const C=IP(n,r._names,N||r._formValues,!1,c.current);if(d.current){const _=d.current(C);qd(_,u.current)||(m(_),u.current=_)}else m(C)}},[r._formValues,r._names,s,n]);u7(()=>((f.current!==r||!qd(p.current,n))&&(f.current=r,p.current=n,x()),r._subscribe({name:n,formState:{values:!0},exact:i,callback:N=>{x(N.values)}})),[r,i,n,x]),Fe.useEffect(()=>r._removeUnmounted());const y=f.current!==r,v=p.current,w=Fe.useMemo(()=>{if(s)return null;const N=!y&&!qd(v,n);return y||N?g():null},[s,y,n,v,g]);return w!==null?w:h}function GKe(e){const t=d7(),{name:r,disabled:n,control:a=t.control,shouldUnregister:s,defaultValue:i,exact:l=!0}=e,c=Mce(a._names.array,r),d=Fe.useMemo(()=>Ot(a._formValues,r,Ot(a._defaultValues,r,i)),[a,r,i]),u=YKe({control:a,name:r,defaultValue:d,exact:l}),f=WKe({control:a,name:r,exact:l}),p=Fe.useRef(e),h=Fe.useRef(void 0),m=Fe.useRef(a.register(r,{...e.rules,value:u,...Ql(e.disabled)?{disabled:e.disabled}:{}}));p.current=e;const g=Fe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ot(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ot(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ot(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ot(f.validatingFields,r)},error:{enumerable:!0,get:()=>Ot(f.errors,r)}}),[f,r]),x=Fe.useCallback(N=>m.current.onChange({target:{value:Dce(N),name:r},type:nA.CHANGE}),[r]),y=Fe.useCallback(()=>m.current.onBlur({target:{value:Ot(a._formValues,r),name:r},type:nA.BLUR}),[r,a._formValues]),v=Fe.useCallback(N=>{const C=Ot(a._fields,r);C&&N&&(C._f.ref={focus:()=>N.focus&&N.focus(),select:()=>N.select&&N.select(),setCustomValidity:_=>N.setCustomValidity(_),reportValidity:()=>N.reportValidity()})},[a._fields,r]),w=Fe.useMemo(()=>({name:r,value:u,...Ql(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:x,onBlur:y,ref:v}),[r,n,f.disabled,x,y,v,u]);return Fe.useEffect(()=>{const N=a._options.shouldUnregister||s,C=h.current;C&&C!==r&&!c&&a.unregister(C),a.register(r,{...p.current.rules,...Ql(p.current.disabled)?{disabled:p.current.disabled}:{}});const _=(S,k)=>{const A=Ot(a._fields,S);A&&A._f&&(A._f.mount=k)};if(_(r,!0),N){const S=Ws(Ot(a._options.defaultValues,r,p.current.defaultValue));Jn(a._defaultValues,r,S),Ya(Ot(a._formValues,r))&&Jn(a._formValues,r,S)}return!c&&a.register(r),h.current=r,()=>{(c?N&&!a._state.action:N)?a.unregister(r):_(r,!1)}},[r,a,c,s]),Fe.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),Fe.useMemo(()=>({field:w,formState:f,fieldState:g}),[w,f,g])}const Bf=e=>e.render(GKe(e));var KKe=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},G2=e=>Array.isArray(e)?e:[e],WY=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}};function Rce(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],s=t[n];if(a&&Ls(a)&&s){const i=Rce(a,s);Ls(i)&&(r[n]=i)}else e[n]&&(r[n]=s)}return r}var Mo=e=>Ls(e)&&!Object.keys(e).length,f7=e=>e.type==="file",Wd=e=>typeof e=="function",aA=e=>{if(!o7)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Lce=e=>e.type==="select-multiple",h7=e=>e.type==="radio",XKe=e=>h7(e)||RS(e),dM=e=>aA(e)&&e.isConnected;function JKe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ya(e)?n++:e[t[n++]];return e}function QKe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ya(e[t]))return!1;return!0}function Ss(e,t){const r=Array.isArray(t)?t:a3(t)?[t]:c7(t),n=r.length===1?e:JKe(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(Ls(n)&&Mo(n)||Array.isArray(n)&&QKe(n))&&Ss(e,r.slice(0,-1)),e}var ZKe=e=>{for(const t in e)if(Wd(e[t]))return!0;return!1};function Ice(e){return Array.isArray(e)||Ls(e)&&!ZKe(e)}function zP(e,t={}){for(const r in e){const n=e[r];Ice(n)?(t[r]=Array.isArray(n)?[]:{},zP(n,t[r])):Ya(n)||(t[r]=!0)}return t}function by(e,t,r){r||(r=zP(t));for(const n in e){const a=e[n];if(Ice(a))Ya(t)||FP(r[n])?r[n]=zP(a,Array.isArray(a)?[]:{}):by(a,ll(t)?{}:t[n],r[n]);else{const s=t[n];r[n]=!qd(a,s)}}return r}const YY={value:!1,isValid:!1},GY={value:!0,isValid:!0};var Fce=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ya(e[0].attributes.value)?Ya(e[0].value)||e[0].value===""?GY:{value:e[0].value,isValid:!0}:GY:YY}return YY},zce=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ya(e)?e:t?e===""?NaN:e&&+e:r&&ic(e)?new Date(e):n?n(e):e;const KY={isValid:!1,value:null};var Bce=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,KY):KY;function XY(e){const t=e.ref;return f7(t)?t.files:h7(t)?Bce(e.refs).value:Lce(t)?[...t.selectedOptions].map(({value:r})=>r):RS(t)?Fce(e.refs).value:zce(Ya(t.value)?e.ref.value:t.value,e)}var eXe=(e,t,r,n)=>{const a={};for(const s of e){const i=Ot(t,s);i&&Jn(a,s,i._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},sA=e=>e instanceof RegExp,Y1=e=>Ya(e)?e:sA(e)?e.source:Ls(e)?sA(e.value)?e.value.source:e.value:e,JY=e=>({isOnSubmit:!e||e===Vd.onSubmit,isOnBlur:e===Vd.onBlur,isOnChange:e===Vd.onChange,isOnAll:e===Vd.all,isOnTouch:e===Vd.onTouched});const QY="AsyncFunction";var tXe=e=>!!e&&!!e.validate&&!!(Wd(e.validate)&&e.validate.constructor.name===QY||Ls(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===QY)),rXe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ZY=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const K2=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=Ot(e,a);if(s){const{_f:i,...l}=s;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],a)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(K2(l,t))break}else if(Ls(l)&&K2(l,t))break}}};function eG(e,t,r){const n=Ot(e,r);if(n||a3(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),i=Ot(t,s),l=Ot(e,s);if(i&&!Array.isArray(i)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};a.pop()}return{name:r}}var nXe=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return Mo(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(i=>t[i]===(!n||Vd.all))},aXe=(e,t,r)=>!e||!t||e===t||G2(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),sXe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,iXe=(e,t)=>!l7(Ot(e,t)).length&&Ss(e,t),oXe=(e,t,r)=>{const n=G2(Ot(e,r));return Jn(n,"root",t[r]),Jn(e,r,n),e};function tG(e,t,r="validate"){if(ic(e)||Array.isArray(e)&&e.every(ic)||Ql(e)&&!e)return{type:r,message:ic(e)?e:"",ref:t}}var iy=e=>Ls(e)&&!sA(e)?e:{value:e,message:""},rG=async(e,t,r,n,a,s)=>{const{ref:i,refs:l,required:c,maxLength:d,minLength:u,min:f,max:p,pattern:h,validate:m,name:g,valueAsNumber:x,mount:y}=e._f,v=Ot(r,g);if(!y||t.has(g))return{};const w=l?l[0]:i,N=M=>{a&&w.reportValidity&&(w.setCustomValidity(Ql(M)?"":M||""),w.reportValidity())},C={},_=h7(i),S=RS(i),k=_||S,A=(x||f7(i))&&Ya(i.value)&&Ya(v)||aA(i)&&i.value===""||v===""||Array.isArray(v)&&!v.length,O=KKe.bind(null,g,n,C),D=(M,I,z,Y=zf.maxLength,X=zf.minLength)=>{const V=M?I:z;C[g]={type:M?Y:X,message:V,ref:i,...O(M?Y:X,V)}};if(s?!Array.isArray(v)||!v.length:c&&(!k&&(A||ll(v))||Ql(v)&&!v||S&&!Fce(l).isValid||_&&!Bce(l).isValid)){const{value:M,message:I}=ic(c)?{value:!!c,message:c}:iy(c);if(M&&(C[g]={type:zf.required,message:I,ref:w,...O(zf.required,I)},!n))return N(I),C}if(!A&&(!ll(f)||!ll(p))){let M,I;const z=iy(p),Y=iy(f);if(!ll(v)&&!isNaN(v)){const X=i.valueAsNumber||v&&+v;ll(z.value)||(M=X>z.value),ll(Y.value)||(I=X<Y.value)}else{const X=i.valueAsDate||new Date(v),V=B=>new Date(new Date().toDateString()+" "+B),G=i.type=="time",J=i.type=="week";ic(z.value)&&v&&(M=G?V(v)>V(z.value):J?v>z.value:X>new Date(z.value)),ic(Y.value)&&v&&(I=G?V(v)<V(Y.value):J?v<Y.value:X<new Date(Y.value))}if((M||I)&&(D(!!M,z.message,Y.message,zf.max,zf.min),!n))return N(C[g].message),C}if((d||u)&&!A&&(ic(v)||s&&Array.isArray(v))){const M=iy(d),I=iy(u),z=!ll(M.value)&&v.length>+M.value,Y=!ll(I.value)&&v.length<+I.value;if((z||Y)&&(D(z,M.message,I.message),!n))return N(C[g].message),C}if(h&&!A&&ic(v)){const{value:M,message:I}=iy(h);if(sA(M)&&!v.match(M)&&(C[g]={type:zf.pattern,message:I,ref:i,...O(zf.pattern,I)},!n))return N(I),C}if(m){if(Wd(m)){const M=await m(v,r),I=tG(M,w);if(I&&(C[g]={...I,...O(zf.validate,I.message)},!n))return N(I.message),C}else if(Ls(m)){let M={};for(const I in m){if(!Mo(M)&&!n)break;const z=tG(await m[I](v,r),w,I);z&&(M={...z,...O(I,z.message)},N(z.message),n&&(C[g]=M))}if(!Mo(M)&&(C[g]={ref:w,...M},!n))return C}}return N(!0),C};const lXe={mode:Vd.onSubmit,reValidateMode:Vd.onChange,shouldFocusError:!0};function cXe(e={}){let t={...lXe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wd(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Ls(t.defaultValues)||Ls(t.values)?Ws(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Ws(a),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const p={array:WY(),state:WY()},h=t.criteriaMode===Vd.all,m=me=>we=>{clearTimeout(d),d=setTimeout(me,we)},g=async me=>{if(!t.disabled&&(u.isValid||f.isValid||me)){const we=t.resolver?Mo((await S()).errors):await A(n,!0);we!==r.isValid&&p.state.next({isValid:we})}},x=(me,we)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((me||Array.from(l.mount)).forEach(Me=>{Me&&(we?Jn(r.validatingFields,Me,we):Ss(r.validatingFields,Me))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Mo(r.validatingFields)}))},y=(me,we=[],Me,Ge,Xe=!0,Ve=!0)=>{if(Ge&&Me&&!t.disabled){if(i.action=!0,Ve&&Array.isArray(Ot(n,me))){const st=Me(Ot(n,me),Ge.argA,Ge.argB);Xe&&Jn(n,me,st)}if(Ve&&Array.isArray(Ot(r.errors,me))){const st=Me(Ot(r.errors,me),Ge.argA,Ge.argB);Xe&&Jn(r.errors,me,st),iXe(r.errors,me)}if((u.touchedFields||f.touchedFields)&&Ve&&Array.isArray(Ot(r.touchedFields,me))){const st=Me(Ot(r.touchedFields,me),Ge.argA,Ge.argB);Xe&&Jn(r.touchedFields,me,st)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=by(a,s)),p.state.next({name:me,isDirty:D(me,we),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Jn(s,me,we)},v=(me,we)=>{Jn(r.errors,me,we),p.state.next({errors:r.errors})},w=me=>{r.errors=me,p.state.next({errors:r.errors,isValid:!1})},N=(me,we,Me,Ge)=>{const Xe=Ot(n,me);if(Xe){const Ve=Ot(s,me,Ya(Me)?Ot(a,me):Me);Ya(Ve)||Ge&&Ge.defaultChecked||we?Jn(s,me,we?Ve:XY(Xe._f)):z(me,Ve),i.mount&&!i.action&&g()}},C=(me,we,Me,Ge,Xe)=>{let Ve=!1,st=!1;const Nt={name:me};if(!t.disabled){if(!Me||Ge){(u.isDirty||f.isDirty)&&(st=r.isDirty,r.isDirty=Nt.isDirty=D(),Ve=st!==Nt.isDirty);const _t=qd(Ot(a,me),we);st=!!Ot(r.dirtyFields,me),_t?Ss(r.dirtyFields,me):Jn(r.dirtyFields,me,!0),Nt.dirtyFields=r.dirtyFields,Ve=Ve||(u.dirtyFields||f.dirtyFields)&&st!==!_t}if(Me){const _t=Ot(r.touchedFields,me);_t||(Jn(r.touchedFields,me,Me),Nt.touchedFields=r.touchedFields,Ve=Ve||(u.touchedFields||f.touchedFields)&&_t!==Me)}Ve&&Xe&&p.state.next(Nt)}return Ve?Nt:{}},_=(me,we,Me,Ge)=>{const Xe=Ot(r.errors,me),Ve=(u.isValid||f.isValid)&&Ql(we)&&r.isValid!==we;if(t.delayError&&Me?(c=m(()=>v(me,Me)),c(t.delayError)):(clearTimeout(d),c=null,Me?Jn(r.errors,me,Me):Ss(r.errors,me)),(Me?!qd(Xe,Me):Xe)||!Mo(Ge)||Ve){const st={...Ge,...Ve&&Ql(we)?{isValid:we}:{},errors:r.errors,name:me};r={...r,...st},p.state.next(st)}},S=async me=>{x(me,!0);const we=await t.resolver(s,t.context,eXe(me||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x(me),we},k=async me=>{const{errors:we}=await S(me);if(me)for(const Me of me){const Ge=Ot(we,Me);Ge?Jn(r.errors,Me,Ge):Ss(r.errors,Me)}else r.errors=we;return we},A=async(me,we,Me={valid:!0})=>{for(const Ge in me){const Xe=me[Ge];if(Xe){const{_f:Ve,...st}=Xe;if(Ve){const Nt=l.array.has(Ve.name),_t=Xe._f&&tXe(Xe._f);_t&&u.validatingFields&&x([Ve.name],!0);const vt=await rG(Xe,l.disabled,s,h,t.shouldUseNativeValidation&&!we,Nt);if(_t&&u.validatingFields&&x([Ve.name]),vt[Ve.name]&&(Me.valid=!1,we))break;!we&&(Ot(vt,Ve.name)?Nt?oXe(r.errors,vt,Ve.name):Jn(r.errors,Ve.name,vt[Ve.name]):Ss(r.errors,Ve.name))}!Mo(st)&&await A(st,we,Me)}}return Me.valid},O=()=>{for(const me of l.unMount){const we=Ot(n,me);we&&(we._f.refs?we._f.refs.every(Me=>!dM(Me)):!dM(we._f.ref))&&te(me)}l.unMount=new Set},D=(me,we)=>!t.disabled&&(me&&we&&Jn(s,me,we),!qd(B(),a)),M=(me,we,Me)=>IP(me,l,{...i.mount?s:Ya(we)?a:ic(me)?{[me]:we}:we},Me,we),I=me=>l7(Ot(i.mount?s:a,me,t.shouldUnregister?Ot(a,me,[]):[])),z=(me,we,Me={})=>{const Ge=Ot(n,me);let Xe=we;if(Ge){const Ve=Ge._f;Ve&&(!Ve.disabled&&Jn(s,me,zce(we,Ve)),Xe=aA(Ve.ref)&&ll(we)?"":we,Lce(Ve.ref)?[...Ve.ref.options].forEach(st=>st.selected=Xe.includes(st.value)):Ve.refs?RS(Ve.ref)?Ve.refs.forEach(st=>{(!st.defaultChecked||!st.disabled)&&(Array.isArray(Xe)?st.checked=!!Xe.find(Nt=>Nt===st.value):st.checked=Xe===st.value||!!Xe)}):Ve.refs.forEach(st=>st.checked=st.value===Xe):f7(Ve.ref)?Ve.ref.value="":(Ve.ref.value=Xe,Ve.ref.type||p.state.next({name:me,values:Ws(s)})))}(Me.shouldDirty||Me.shouldTouch)&&C(me,Xe,Me.shouldTouch,Me.shouldDirty,!0),Me.shouldValidate&&J(me)},Y=(me,we,Me)=>{for(const Ge in we){if(!we.hasOwnProperty(Ge))return;const Xe=we[Ge],Ve=me+"."+Ge,st=Ot(n,Ve);(l.array.has(me)||Ls(Xe)||st&&!st._f)&&!ag(Xe)?Y(Ve,Xe,Me):z(Ve,Xe,Me)}},X=(me,we,Me={})=>{const Ge=Ot(n,me),Xe=l.array.has(me),Ve=Ws(we);Jn(s,me,Ve),Xe?(p.array.next({name:me,values:Ws(s)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&Me.shouldDirty&&p.state.next({name:me,dirtyFields:by(a,s),isDirty:D(me,Ve)})):Ge&&!Ge._f&&!ll(Ve)?Y(me,Ve,Me):z(me,Ve,Me),ZY(me,l)&&p.state.next({...r,name:me}),p.state.next({name:i.mount?me:void 0,values:Ws(s)})},V=async me=>{i.mount=!0;const we=me.target;let Me=we.name,Ge=!0;const Xe=Ot(n,Me),Ve=_t=>{Ge=Number.isNaN(_t)||ag(_t)&&isNaN(_t.getTime())||qd(_t,Ot(s,Me,_t))},st=JY(t.mode),Nt=JY(t.reValidateMode);if(Xe){let _t,vt;const zt=we.type?XY(Xe._f):Dce(me),At=me.type===nA.BLUR||me.type===nA.FOCUS_OUT,cr=!rXe(Xe._f)&&!t.resolver&&!Ot(r.errors,Me)&&!Xe._f.deps||sXe(At,Ot(r.touchedFields,Me),r.isSubmitted,Nt,st),er=ZY(Me,l,At);Jn(s,Me,zt),At?(!we||!we.readOnly)&&(Xe._f.onBlur&&Xe._f.onBlur(me),c&&c(0)):Xe._f.onChange&&Xe._f.onChange(me);const Gt=C(Me,zt,At),ar=!Mo(Gt)||er;if(!At&&p.state.next({name:Me,type:me.type,values:Ws(s)}),cr)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?At&&g():At||g()),ar&&p.state.next({name:Me,...er?{}:Gt});if(!At&&er&&p.state.next({...r}),t.resolver){const{errors:Ke}=await S([Me]);if(Ve(zt),Ge){const lt=eG(r.errors,n,Me),It=eG(Ke,n,lt.name||Me);_t=It.error,Me=It.name,vt=Mo(Ke)}}else x([Me],!0),_t=(await rG(Xe,l.disabled,s,h,t.shouldUseNativeValidation))[Me],x([Me]),Ve(zt),Ge&&(_t?vt=!1:(u.isValid||f.isValid)&&(vt=await A(n,!0)));Ge&&(Xe._f.deps&&(!Array.isArray(Xe._f.deps)||Xe._f.deps.length>0)&&J(Xe._f.deps),_(Me,vt,_t,Gt))}},G=(me,we)=>{if(Ot(r.errors,we)&&me.focus)return me.focus(),1},J=async(me,we={})=>{let Me,Ge;const Xe=G2(me);if(t.resolver){const Ve=await k(Ya(me)?me:Xe);Me=Mo(Ve),Ge=me?!Xe.some(st=>Ot(Ve,st)):Me}else me?(Ge=(await Promise.all(Xe.map(async Ve=>{const st=Ot(n,Ve);return await A(st&&st._f?{[Ve]:st}:st)}))).every(Boolean),!(!Ge&&!r.isValid)&&g()):Ge=Me=await A(n);return p.state.next({...!ic(me)||(u.isValid||f.isValid)&&Me!==r.isValid?{}:{name:me},...t.resolver||!me?{isValid:Me}:{},errors:r.errors}),we.shouldFocus&&!Ge&&K2(n,G,me?Xe:l.mount),Ge},B=(me,we)=>{let Me={...i.mount?s:a};return we&&(Me=Rce(we.dirtyFields?r.dirtyFields:r.touchedFields,Me)),Ya(me)?Me:ic(me)?Ot(Me,me):me.map(Ge=>Ot(Me,Ge))},q=(me,we)=>({invalid:!!Ot((we||r).errors,me),isDirty:!!Ot((we||r).dirtyFields,me),error:Ot((we||r).errors,me),isValidating:!!Ot(r.validatingFields,me),isTouched:!!Ot((we||r).touchedFields,me)}),T=me=>{me&&G2(me).forEach(we=>Ss(r.errors,we)),p.state.next({errors:me?r.errors:{}})},R=(me,we,Me)=>{const Ge=(Ot(n,me,{_f:{}})._f||{}).ref,Xe=Ot(r.errors,me)||{},{ref:Ve,message:st,type:Nt,..._t}=Xe;Jn(r.errors,me,{..._t,...we,ref:Ge}),p.state.next({name:me,errors:r.errors,isValid:!1}),Me&&Me.shouldFocus&&Ge&&Ge.focus&&Ge.focus()},F=(me,we)=>Wd(me)?p.state.subscribe({next:Me=>"values"in Me&&me(M(void 0,we),Me)}):M(me,we,!0),H=me=>p.state.subscribe({next:we=>{aXe(me.name,we.name,me.exact)&&nXe(we,me.formState||u,be,me.reRenderRoot)&&me.callback({values:{...s},...r,...we,defaultValues:a})}}).unsubscribe,W=me=>(i.mount=!0,f={...f,...me.formState},H({...me,formState:f})),te=(me,we={})=>{for(const Me of me?G2(me):l.mount)l.mount.delete(Me),l.array.delete(Me),we.keepValue||(Ss(n,Me),Ss(s,Me)),!we.keepError&&Ss(r.errors,Me),!we.keepDirty&&Ss(r.dirtyFields,Me),!we.keepTouched&&Ss(r.touchedFields,Me),!we.keepIsValidating&&Ss(r.validatingFields,Me),!t.shouldUnregister&&!we.keepDefaultValue&&Ss(a,Me);p.state.next({values:Ws(s)}),p.state.next({...r,...we.keepDirty?{isDirty:D()}:{}}),!we.keepIsValid&&g()},pe=({disabled:me,name:we})=>{(Ql(me)&&i.mount||me||l.disabled.has(we))&&(me?l.disabled.add(we):l.disabled.delete(we))},se=(me,we={})=>{let Me=Ot(n,me);const Ge=Ql(we.disabled)||Ql(t.disabled);return Jn(n,me,{...Me||{},_f:{...Me&&Me._f?Me._f:{ref:{name:me}},name:me,mount:!0,...we}}),l.mount.add(me),Me?pe({disabled:Ql(we.disabled)?we.disabled:t.disabled,name:me}):N(me,!0,we.value),{...Ge?{disabled:we.disabled||t.disabled}:{},...t.progressive?{required:!!we.required,min:Y1(we.min),max:Y1(we.max),minLength:Y1(we.minLength),maxLength:Y1(we.maxLength),pattern:Y1(we.pattern)}:{},name:me,onChange:V,onBlur:V,ref:Xe=>{if(Xe){se(me,we),Me=Ot(n,me);const Ve=Ya(Xe.value)&&Xe.querySelectorAll&&Xe.querySelectorAll("input,select,textarea")[0]||Xe,st=XKe(Ve),Nt=Me._f.refs||[];if(st?Nt.find(_t=>_t===Ve):Ve===Me._f.ref)return;Jn(n,me,{_f:{...Me._f,...st?{refs:[...Nt.filter(dM),Ve,...Array.isArray(Ot(a,me))?[{}]:[]],ref:{type:Ve.type,name:me}}:{ref:Ve}}}),N(me,!1,void 0,Ve)}else Me=Ot(n,me,{}),Me._f&&(Me._f.mount=!1),(t.shouldUnregister||we.shouldUnregister)&&!(Mce(l.array,me)&&i.action)&&l.unMount.add(me)}}},ce=()=>t.shouldFocusError&&K2(n,G,l.mount),Ne=me=>{Ql(me)&&(p.state.next({disabled:me}),K2(n,(we,Me)=>{const Ge=Ot(n,Me);Ge&&(we.disabled=Ge._f.disabled||me,Array.isArray(Ge._f.refs)&&Ge._f.refs.forEach(Xe=>{Xe.disabled=Ge._f.disabled||me}))},0,!1))},he=(me,we)=>async Me=>{let Ge;Me&&(Me.preventDefault&&Me.preventDefault(),Me.persist&&Me.persist());let Xe=Ws(s);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:Ve,values:st}=await S();r.errors=Ve,Xe=Ws(st)}else await A(n);if(l.disabled.size)for(const Ve of l.disabled)Ss(Xe,Ve);if(Ss(r.errors,"root"),Mo(r.errors)){p.state.next({errors:{}});try{await me(Xe,Me)}catch(Ve){Ge=Ve}}else we&&await we({...r.errors},Me),ce(),setTimeout(ce);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mo(r.errors)&&!Ge,submitCount:r.submitCount+1,errors:r.errors}),Ge)throw Ge},ze=(me,we={})=>{Ot(n,me)&&(Ya(we.defaultValue)?X(me,Ws(Ot(a,me))):(X(me,we.defaultValue),Jn(a,me,Ws(we.defaultValue))),we.keepTouched||Ss(r.touchedFields,me),we.keepDirty||(Ss(r.dirtyFields,me),r.isDirty=we.defaultValue?D(me,Ws(Ot(a,me))):D()),we.keepError||(Ss(r.errors,me),u.isValid&&g()),p.state.next({...r}))},Pe=(me,we={})=>{const Me=me?Ws(me):a,Ge=Ws(Me),Xe=Mo(me),Ve=Xe?a:Ge;if(we.keepDefaultValues||(a=Me),!we.keepValues){if(we.keepDirtyValues){const st=new Set([...l.mount,...Object.keys(by(a,s))]);for(const Nt of Array.from(st))Ot(r.dirtyFields,Nt)?Jn(Ve,Nt,Ot(s,Nt)):X(Nt,Ot(Ve,Nt))}else{if(o7&&Ya(me))for(const st of l.mount){const Nt=Ot(n,st);if(Nt&&Nt._f){const _t=Array.isArray(Nt._f.refs)?Nt._f.refs[0]:Nt._f.ref;if(aA(_t)){const vt=_t.closest("form");if(vt){vt.reset();break}}}}if(we.keepFieldsRef)for(const st of l.mount)X(st,Ot(Ve,st));else n={}}s=t.shouldUnregister?we.keepDefaultValues?Ws(a):{}:Ws(Ve),p.array.next({values:{...Ve}}),p.state.next({values:{...Ve}})}l={mount:we.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!u.isValid||!!we.keepIsValid||!!we.keepDirtyValues||!t.shouldUnregister&&!Mo(Ve),i.watch=!!t.shouldUnregister,p.state.next({submitCount:we.keepSubmitCount?r.submitCount:0,isDirty:Xe?!1:we.keepDirty?r.isDirty:!!(we.keepDefaultValues&&!qd(me,a)),isSubmitted:we.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Xe?{}:we.keepDirtyValues?we.keepDefaultValues&&s?by(a,s):r.dirtyFields:we.keepDefaultValues&&me?by(a,me):we.keepDirty?r.dirtyFields:{},touchedFields:we.keepTouched?r.touchedFields:{},errors:we.keepErrors?r.errors:{},isSubmitSuccessful:we.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},ee=(me,we)=>Pe(Wd(me)?me(s):me,we),We=(me,we={})=>{const Me=Ot(n,me),Ge=Me&&Me._f;if(Ge){const Xe=Ge.refs?Ge.refs[0]:Ge.ref;Xe.focus&&(Xe.focus(),we.shouldSelect&&Wd(Xe.select)&&Xe.select())}},be=me=>{r={...r,...me}},Qe={control:{register:se,unregister:te,getFieldState:q,handleSubmit:he,setError:R,_subscribe:H,_runSchema:S,_focusError:ce,_getWatch:M,_getDirty:D,_setValid:g,_setFieldArray:y,_setDisabledField:pe,_setErrors:w,_getFieldArray:I,_reset:Pe,_resetDefaultValues:()=>Wd(t.defaultValues)&&t.defaultValues().then(me=>{ee(me,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:Ne,_subjects:p,_proxyFormState:u,get _fields(){return n},get _formValues(){return s},get _state(){return i},set _state(me){i=me},get _defaultValues(){return a},get _names(){return l},set _names(me){l=me},get _formState(){return r},get _options(){return t},set _options(me){t={...t,...me}}},subscribe:W,trigger:J,register:se,handleSubmit:he,watch:F,setValue:X,getValues:B,reset:ee,resetField:ze,clearErrors:T,unregister:te,setError:R,setFocus:We,getFieldState:q};return{...Qe,formControl:Qe}}function Hce(e={}){const t=Fe.useRef(void 0),r=Fe.useRef(void 0),[n,a]=Fe.useState({isDirty:!1,isValidating:!1,isLoading:Wd(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Wd(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Wd(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...l}=cXe(e);t.current={...l,formState:n}}const s=t.current.control;return s._options=e,u7(()=>{const i=s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),s._formState.isReady=!0,i},[s]),Fe.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),Fe.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),Fe.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),Fe.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),Fe.useEffect(()=>{if(s._proxyFormState.isDirty){const i=s._getDirty();i!==n.isDirty&&s._subjects.state.next({isDirty:i})}},[s,n.isDirty]),Fe.useEffect(()=>{var i;e.values&&!qd(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((i=s._options.resetOptions)===null||i===void 0)&&i.keepIsValid||s._setValid(),r.current=e.values,a(l=>({...l}))):s._resetDefaultValues()},[s,e.values]),Fe.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=Pce(n,s),t.current}const Ap=({label:e,checked:t,onChange:r,helpText:n,className:a=""})=>o.jsxs("div",{className:`flex items-center justify-between ${a}`,children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm font-medium text-text-primary",children:e}),n&&o.jsx("span",{className:"text-xs text-text-secondary mt-0.5",children:n})]}),o.jsx("button",{type:"button",onClick:()=>r(!t),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${t?"bg-brand-primary":"bg-gray-200"}`,role:"switch","aria-checked":t,children:o.jsx("span",{"aria-hidden":"true",className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${t?"translate-x-5":"translate-x-0"}`})})]}),dXe=({options:e,values:t,onChange:r})=>{const n=a=>{t.includes(a)?r(t.filter(s=>s!==a)):r([...t,a])};return o.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map(a=>o.jsx(gl,{label:a,checked:t.includes(a),onChange:()=>n(a)},a))})};function uXe({policyId:e,isOpen:t,onClose:r}){var m;const{register:n,control:a,handleSubmit:s,reset:i,watch:l,formState:{errors:c,isSubmitting:d},setValue:u}=Hce({defaultValues:{name:"",shortCode:"",description:"",status:"Active",totalLeaves:12,accrualType:"Monthly",allowCarryForward:!1,maxCarryForward:0,allowHalfDay:!1,allowNegative:!1,isPaid:!0,employeeTypes:["Permanent"],requiresApproval:!0,minNotice:0,docRequired:!1,docRequiredAfter:3,visibleToEmployees:!0}}),f=l();b.useEffect(()=>{e&&t?je.getLeavePolicy(e).then(g=>{var x,y,v,w,N,C,_,S,k,A,O,D,M;if(g.policy){const I=g.policy;i({name:I.name,shortCode:I.shortCode||"",description:I.description||"",status:I.status,totalLeaves:((x=I.allocation)==null?void 0:x.cycle)==="Monthly"?I.allocation.count*12:((y=I.allocation)==null?void 0:y.count)||0,accrualType:(v=I.allocation)!=null&&v.proRata?"Pro-rata":((w=I.allocation)==null?void 0:w.cycle)||"Yearly",allowCarryForward:((N=I.allocation)==null?void 0:N.carryForward)||!1,maxCarryForward:((C=I.allocation)==null?void 0:C.maxCarryForward)||0,allowHalfDay:((_=I.rules)==null?void 0:_.allowHalfDay)||!1,allowNegative:((S=I.rules)==null?void 0:S.allowNegative)||!1,isPaid:I.category==="Paid",employeeTypes:((k=I.eligibility)==null?void 0:k.employeeTypes)||[],requiresApproval:((A=I.rules)==null?void 0:A.requiresApproval)||!1,minNotice:((O=I.rules)==null?void 0:O.minNotice)||0,docRequired:((D=I.docs)==null?void 0:D.mandatory)||!1,docRequiredAfter:((M=I.docs)==null?void 0:M.requiredAfter)||0,visibleToEmployees:I.visibleToEmployees??!0})}}):!e&&t&&i({name:"",shortCode:"",description:"",status:"Active",totalLeaves:12,accrualType:"Monthly",allowCarryForward:!1,maxCarryForward:0,allowHalfDay:!1,allowNegative:!1,isPaid:!0,employeeTypes:["Permanent"],requiresApproval:!0,minNotice:0,docRequired:!1,docRequiredAfter:3,visibleToEmployees:!0})},[e,t,i]);const p=async g=>{try{const y={name:g.name,shortCode:g.shortCode,description:g.description,status:g.status,visibleToEmployees:g.visibleToEmployees,type:"Custom",category:g.isPaid?"Paid":"Unpaid",allocation:{cycle:g.accrualType==="Monthly"?"Monthly":"Yearly",count:g.accrualType==="Monthly"?g.totalLeaves/12:g.totalLeaves,proRata:g.accrualType==="Pro-rata",carryForward:g.allowCarryForward,maxCarryForward:g.allowCarryForward?g.maxCarryForward:0,encashment:!1,maxEncashment:0},eligibility:{employeeTypes:g.employeeTypes,gender:"All",minTenure:0},rules:{minNotice:g.minNotice,maxConsecutive:30,requiresApproval:g.requiresApproval,allowHalfDay:g.allowHalfDay,allowNegative:g.allowNegative},docs:{mandatory:g.docRequired,requiredAfter:g.docRequired?g.docRequiredAfter:0}};e?await je.updateLeavePolicy(e,y):await je.createLeavePolicy(y),r()}catch(x){alert("Failed to save policy: "+x.message)}},h=()=>{const g=[];return g.push(`${f.totalLeaves} leaves/year`),f.accrualType==="Monthly"?g.push("credited monthly"):f.accrualType==="Pro-rata"?g.push("pro-rata accrual"):g.push("credited yearly"),f.allowHalfDay&&g.push("half-day"),f.requiresApproval&&g.push("approval req."),g.join(", ")};return o.jsx(_r,{isOpen:t,onClose:r,title:e?"Edit Leave Policy":"Create Leave Policy",maxWidth:"max-w-2xl",footer:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center w-full",children:[o.jsxs("div",{className:"flex flex-col text-left w-full sm:w-auto",children:[o.jsx("span",{className:"text-xs uppercase tracking-wider text-text-secondary font-semibold",children:"Summary"}),o.jsx("span",{className:"text-sm font-medium text-text-primary",children:h().charAt(0).toUpperCase()+h().slice(1)})]}),o.jsxs("div",{className:"flex gap-3 w-full sm:w-auto justify-end",children:[o.jsx(dt,{variant:"ghost",onClick:r,children:"Cancel"}),o.jsx(dt,{onClick:s(p),isLoading:d,leftIcon:o.jsx(Fm,{size:16}),children:"Save"})]})]}),children:o.jsxs("form",{onSubmit:s(p),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 border-b border-border pb-2",children:[o.jsx("div",{className:"h-5 w-1 bg-brand-primary rounded-full"}),o.jsx("h3",{className:"font-semibold text-base text-text-primary",children:"Leave Details"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(ft,{label:"Leave Name",placeholder:"e.g. Casual Leave",...n("name",{required:"Name is required"}),error:(m=c.name)==null?void 0:m.message}),o.jsx(ft,{label:"Short Code",placeholder:"e.g. CL",...n("shortCode")})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm font-medium text-text-primary",children:"Description"}),o.jsx(jl,{placeholder:"Brief description visible to employees...",rows:2,...n("description")})]}),o.jsx(Bf,{name:"status",control:a,render:({field:g})=>o.jsx(Ap,{label:"Is it Active?",checked:g.value==="Active",onChange:x=>g.onChange(x?"Active":"Inactive")})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 border-b border-border pb-2",children:[o.jsx("div",{className:"h-5 w-1 bg-brand-primary rounded-full"}),o.jsx("h3",{className:"font-semibold text-base text-text-primary",children:"Accrual & Usage"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 items-end",children:[o.jsx(ft,{label:"Total Leaves / Year",type:"number",...n("totalLeaves",{valueAsNumber:!0,min:0})}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-text-primary",children:"Accrual Type"}),o.jsx("div",{className:"flex bg-bg-main p-1 rounded-md border border-border",children:["Yearly","Monthly","Pro-rata"].map(g=>o.jsx("button",{type:"button",onClick:()=>u("accrualType",g),className:`flex-1 text-xs py-1.5 rounded-sm transition-all ${l("accrualType")===g?"bg-white shadow text-brand-primary font-medium":"text-text-secondary hover:text-text-primary"}`,children:g},g))})]})]}),l("accrualType")==="Monthly"&&o.jsxs("div",{className:"bg-blue-50 text-blue-700 px-3 py-2 rounded text-xs flex items-center gap-2",children:[o.jsx(Q8,{size:14}),o.jsxs("span",{children:[(l("totalLeaves")/12).toFixed(1)," days credited per month"]})]}),o.jsxs("div",{className:"bg-bg-main rounded-md p-4 space-y-3 border border-border",children:[o.jsxs("div",{className:"flex justify-between items-center gap-4",children:[o.jsx(Bf,{name:"allowCarryForward",control:a,render:({field:g})=>o.jsx(Ap,{label:"Carry Forward",checked:g.value||!1,onChange:g.onChange,className:"flex-1"})}),l("allowCarryForward")&&o.jsx("div",{className:"w-24",children:o.jsx(ft,{placeholder:"Max Days",type:"number",className:"h-8 text-sm",...n("maxCarryForward",{valueAsNumber:!0})})})]}),o.jsx("hr",{className:"border-border/50"}),o.jsx(Bf,{name:"allowHalfDay",control:a,render:({field:g})=>o.jsx(Ap,{label:"Allow Half Day",checked:g.value||!1,onChange:g.onChange})}),o.jsx(Bf,{name:"allowNegative",control:a,render:({field:g})=>o.jsx(Ap,{label:"Allow Negative Balance",checked:g.value||!1,onChange:g.onChange})}),o.jsx(Bf,{name:"isPaid",control:a,render:({field:g})=>o.jsx(Ap,{label:"Paid Leave",checked:g.value||!1,onChange:g.onChange,helpText:g.value?"Salary is paid":"Loss of Pay"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 border-b border-border pb-2",children:[o.jsx("div",{className:"h-5 w-1 bg-brand-primary rounded-full"}),o.jsx("h3",{className:"font-semibold text-base text-text-primary",children:"Applicability & Approval"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-text-primary",children:"Applicable Employee Types"}),o.jsx(Bf,{name:"employeeTypes",control:a,render:({field:g})=>o.jsx(dXe,{options:["Permanent","Contract","Intern","Freelancer","Part-Time"],values:g.value||[],onChange:g.onChange})})]}),o.jsxs("div",{className:"bg-bg-main rounded-md p-4 space-y-3 border border-border",children:[o.jsx(Bf,{name:"requiresApproval",control:a,render:({field:g})=>o.jsx(Ap,{label:"Approval Required",checked:g.value||!1,onChange:g.onChange})}),o.jsx(ft,{label:"Min Notice Period (Days)",type:"number",...n("minNotice",{valueAsNumber:!0})}),o.jsx("hr",{className:"border-border/50"}),o.jsxs("div",{className:"flex justify-between items-center gap-4",children:[o.jsx(Bf,{name:"docRequired",control:a,render:({field:g})=>o.jsx(Ap,{label:"Document Required",checked:g.value||!1,onChange:g.onChange,className:"flex-1"})}),l("docRequired")&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-text-secondary whitespace-nowrap",children:"After days:"}),o.jsx("div",{className:"w-20",children:o.jsx(ft,{type:"number",className:"h-8 text-sm",...n("docRequiredAfter",{valueAsNumber:!0})})})]})]}),o.jsx("hr",{className:"border-border/50"}),o.jsx(Bf,{name:"visibleToEmployees",control:a,render:({field:g})=>o.jsx(Ap,{label:"Visible to Employees",checked:g.value||!1,onChange:g.onChange,helpText:g.value?"":"Hidden from employee dashboard"})})]})]})]})})}function fXe({isOpen:e,onClose:t}){var u;const{register:r,handleSubmit:n,reset:a,formState:{errors:s,isSubmitting:i}}=Hce({defaultValues:{name:"",description:""}}),[l,c]=b.useState(null),d=async f=>{if(!l){alert("Please select a document to upload.");return}try{const p={name:f.name,description:f.description,status:"Active",type:"Custom",category:"Unpaid",visibleToEmployees:!0,allocation:{cycle:"Yearly",count:0,proRata:!1,carryForward:!1,maxCarryForward:0,encashment:!1,maxEncashment:0},eligibility:{employeeTypes:["Permanent","Contract","Intern","Induction"],gender:"All",minTenure:0},rules:{minNotice:0,maxConsecutive:365,requiresApproval:!1,allowHalfDay:!1,allowNegative:!1},docs:{mandatory:!1,requiredAfter:0}},h=new FormData;h.append("document",l),h.append("data",JSON.stringify(p)),await je.createLeavePolicy(h),a(),c(null),t()}catch(p){alert("Failed to upload policy: "+p.message)}};return o.jsx(_r,{isOpen:e,onClose:t,title:"Upload Policy Document",maxWidth:"max-w-lg",footer:o.jsxs("div",{className:"flex gap-3 justify-end w-full",children:[o.jsx(dt,{variant:"ghost",onClick:t,children:"Cancel"}),o.jsx(dt,{onClick:n(d),isLoading:i,leftIcon:o.jsx(lH,{size:16}),children:"Upload"})]}),children:o.jsxs("form",{onSubmit:n(d),className:"space-y-4",children:[o.jsx(ft,{label:"Policy Name",placeholder:"e.g. Employee Handbook 2024",...r("name",{required:"Name is required"}),error:(u=s.name)==null?void 0:u.message}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-sm font-medium text-text-primary",children:"Description"}),o.jsx(jl,{placeholder:"Brief description...",rows:3,...r("description")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium text-text-primary",children:["Document (PDF/Image) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 flex flex-col items-center justify-center bg-bg-main hover:bg-bg-hover transition-colors",children:[o.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:f=>{f.target.files&&f.target.files[0]&&c(f.target.files[0])},className:"hidden",id:"policy-doc-upload"}),o.jsxs("label",{htmlFor:"policy-doc-upload",className:"cursor-pointer flex flex-col items-center gap-2 text-center",children:[o.jsx(lH,{size:32,className:"text-brand-primary/50"}),l?o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-text-primary",children:l.name}),o.jsx("p",{className:"text-xs text-text-secondary",children:"Click to change file"})]}):o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-brand-primary",children:"Click to upload"}),o.jsx("p",{className:"text-xs text-text-secondary",children:"PDF, JPG, PNG up to 10MB"})]})]})]})]})]})})}function hXe(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,s]=b.useState(""),[i,l]=b.useState(!1),[c,d]=b.useState(!1),[u,f]=b.useState(null),[p,h]=b.useState(0);b.useEffect(()=>{h(0)},[a]),b.useEffect(()=>{m()},[]);const m=async()=>{try{n(!0);const _=await je.getLeavePolicies();t(_.policies||[])}catch(_){console.error("Failed to fetch policies:",_)}finally{n(!1)}},g=async _=>{if(confirm("Are you sure you want to delete this policy?"))try{await je.deleteLeavePolicy(_),m()}catch{alert("Failed to delete policy")}},{hasPermission:x}=Sr(),y=x("leave:manage_policies"),v=e.filter(_=>!(_.type==="Custom"&&_.allocation.count===0)),w=e.filter(_=>_.type==="Custom"&&_.allocation.count===0),N=v.filter(_=>_.name.toLowerCase().includes(a.toLowerCase())||_.type.toLowerCase().includes(a.toLowerCase())),C=w.filter(_=>_.name.toLowerCase().includes(a.toLowerCase())||_.description&&_.description.toLowerCase().includes(a.toLowerCase()));return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Leave Policies"}),o.jsx("p",{className:"text-text-secondary",children:"Manage leave types and allocation rules"})]}),y&&o.jsxs("div",{className:"flex gap-3",children:[o.jsx(dt,{variant:"outline",onClick:()=>d(!0),leftIcon:o.jsx(Sl,{size:20}),children:"Upload Policy Document"}),o.jsx(dt,{onClick:()=>l(!0),leftIcon:o.jsx(Na,{size:20}),children:"Create New Policy"})]})]}),o.jsxs("div",{className:"flex gap-4 items-center bg-bg-panel border border-border rounded-lg p-3",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(df,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-secondary",size:18}),o.jsx(ft,{className:"pl-10",placeholder:"Search policies & documents...",value:a,onChange:_=>s(_.target.value)})]}),o.jsx(dt,{variant:"secondary",leftIcon:o.jsx(Qbe,{size:18}),children:"Filters"})]}),o.jsx("div",{className:"border border-border rounded-lg overflow-hidden bg-bg-panel",children:o.jsx(eo,{columns:[{header:"Policy Name",accessorKey:"name",render:_=>o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-text-primary",children:_.name}),o.jsx("div",{className:"text-xs text-text-secondary",children:_.category})]})},{header:"Leave Type",accessorKey:"type"},{header:"Cycle",accessorKey:"allocation.cycle",render:_=>_.allocation.cycle},{header:"Count",render:_=>o.jsxs("span",{className:"font-semibold text-brand-primary",children:[_.allocation.count," days"]})},{header:"Apply To",render:_=>o.jsx("div",{className:"flex flex-wrap gap-1",children:_.eligibility.applyTo.length>0?_.eligibility.applyTo.map(S=>o.jsx("span",{className:"bg-bg-main text-xs px-2 py-0.5 rounded-full border border-border",children:S},S)):o.jsx("span",{className:"text-xs text-text-secondary",children:"All"})})},{header:"Status",render:_=>o.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${_.status==="Active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:_.status})},{header:"Actions",render:_=>o.jsx(pXe,{policy:_,onDelete:g,onEdit:S=>{f(S),l(!0)}})}],data:N,isLoading:r,emptyMessage:"No leave policies found"})})]}),C.length>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-text-primary",children:"Reference Documents"}),o.jsx("p",{className:"text-text-secondary",children:"Company handbooks, guidelines, and general policies"})]}),C.length>3?o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>h(_=>Math.max(0,_-1)),disabled:p===0,className:"p-2 rounded-full bg-bg-panel border border-border hover:bg-bg-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-text-secondary",children:o.jsx(wi,{size:24})}),o.jsx("div",{className:"flex-1 grid grid-cols-3 gap-4",children:C.slice(p,p+3).map(_=>{var S;return o.jsxs("div",{className:"bg-bg-panel border border-border rounded-lg p-5 hover:border-brand-primary/50 transition-colors flex items-start gap-3",children:[o.jsx("div",{className:"p-3 bg-brand-primary/10 text-brand-primary rounded-lg shrink-0",children:o.jsx(xn,{size:24})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-medium text-text-primary truncate",title:_.name,children:_.name}),o.jsx("p",{className:"text-sm text-text-secondary line-clamp-2 mt-1 min-h-[40px]",children:_.description||"No description provided"}),o.jsxs("div",{className:"flex gap-3 mt-4",children:[((S=_.docs)==null?void 0:S.documentUrl)&&o.jsxs("a",{href:_.docs.documentUrl.startsWith("http")?_.docs.documentUrl:`${Ma}${_.docs.documentUrl}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-medium text-brand-primary hover:underline flex items-center gap-1",children:[o.jsx(Lv,{size:14})," View Document"]}),y&&o.jsxs("button",{onClick:()=>g(_._id),className:"text-xs font-medium text-red-500 hover:text-red-600 hover:underline flex items-center gap-1 ml-auto",children:[o.jsx(yn,{size:14})," Delete"]})]})]})]},_._id)})}),o.jsx("button",{onClick:()=>h(_=>Math.min(C.length-3,_+1)),disabled:p+3>=C.length,className:"p-2 rounded-full bg-bg-panel border border-border hover:bg-bg-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-text-secondary",children:o.jsx(Wo,{size:24})})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(_=>{var S;return o.jsxs("div",{className:"bg-bg-panel border border-border rounded-lg p-5 hover:border-brand-primary/50 transition-colors flex items-start gap-3",children:[o.jsx("div",{className:"p-3 bg-brand-primary/10 text-brand-primary rounded-lg shrink-0",children:o.jsx(xn,{size:24})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-medium text-text-primary truncate",title:_.name,children:_.name}),o.jsx("p",{className:"text-sm text-text-secondary line-clamp-2 mt-1 min-h-[40px]",children:_.description||"No description provided"}),o.jsxs("div",{className:"flex gap-3 mt-4",children:[((S=_.docs)==null?void 0:S.documentUrl)&&o.jsxs("a",{href:_.docs.documentUrl.startsWith("http")?_.docs.documentUrl:`${Ma}${_.docs.documentUrl}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-medium text-brand-primary hover:underline flex items-center gap-1",children:[o.jsx(Lv,{size:14})," View Document"]}),y&&o.jsxs("button",{onClick:()=>g(_._id),className:"text-xs font-medium text-red-500 hover:text-red-600 hover:underline flex items-center gap-1 ml-auto",children:[o.jsx(yn,{size:14})," Delete"]})]})]})]},_._id)})})]}),o.jsx(uXe,{isOpen:i,policyId:u,onClose:()=>{l(!1),f(null),m()}}),o.jsx(fXe,{isOpen:c,onClose:()=>{d(!1),m()}})]})}const pXe=({policy:e,onDelete:t,onEdit:r})=>{const{hasPermission:n}=Sr();return n("leave:manage_policies")?o.jsxs("div",{className:"flex gap-2",children:[o.jsx(en,{content:"Edit",children:o.jsx("button",{onClick:()=>r(e._id),className:"p-1 text-text-secondary hover:text-brand-primary transition-colors",children:o.jsx(Lv,{size:16})})}),o.jsx(en,{content:"Delete",children:o.jsx("button",{onClick:()=>t(e._id),className:"p-1 text-text-secondary hover:text-red-500 transition-colors",children:o.jsx(yn,{size:16})})})]}):null},mXe=[{value:"Public",label:"Public Holiday"},{value:"Optional",label:"Optional"},{value:"Weekend",label:"Weekend"}];function gXe({isModal:e=!1}){const{user:t}=Sr(),r=(t==null?void 0:t.role)==="Admin"||(t==null?void 0:t.role)==="HR",[n,a]=b.useState([]),[s,i]=b.useState(!0),[l,c]=b.useState(""),[d,u]=b.useState(!1),[f,p]=b.useState({name:"",date:"",type:"Public"}),h=async()=>{try{i(!0);const y=await je.getHolidays(2025);a(y),c("")}catch(y){c("Failed to load holidays"),console.error(y)}finally{i(!1)}};b.useEffect(()=>{h()},[]);const m=async y=>{y.preventDefault();try{await je.addHoliday(f),p({name:"",date:"",type:"Public"}),u(!1),h()}catch(v){alert(v.message)}},g=async y=>{if(window.confirm("Are you sure you want to delete this holiday?"))try{await je.deleteHoliday(y),h()}catch(v){alert(v.message)}},x=b.useMemo(()=>[{header:"Date",accessorKey:"date",render:y=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Xa,{size:16,className:"text-brand-primary opacity-70"}),o.jsx("span",{children:ps(new Date(y.date),"do MMM yyyy")})]})},{header:"Day",accessorKey:"day"},{header:"Holiday Name",accessorKey:"name",render:y=>{const v=y.name.toLowerCase().includes("no holiday");return o.jsxs("span",{className:"font-medium",children:[y.name,v&&o.jsx("span",{className:"ml-2 text-xs bg-status-warning/20 text-status-warning px-2 py-0.5 rounded-full",children:"Not Observed"})]})}},{header:"Type",accessorKey:"type",render:y=>o.jsx("span",{className:`text-xs px-2 py-1 rounded-full border ${y.type==="Public"?"bg-status-success/10 text-status-success border-status-success/20":"bg-bg-main text-text-secondary border-border"}`,children:y.type})},...r?[{header:"Actions",className:"text-right",render:y=>o.jsx("div",{className:"text-right",children:o.jsx(en,{content:"Delete Holiday",children:o.jsx("button",{onClick:v=>{v.stopPropagation(),g(y._id)},className:"text-text-muted hover:text-status-error p-2 rounded-full hover:bg-status-error/10 transition-colors",children:o.jsx(yn,{size:16})})})})}]:[]],[r]);return o.jsxs("div",{className:"space-y-6",children:[!e&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Holiday List"}),o.jsx("p",{className:"text-text-secondary",children:"Official holidays for the current year"}),l&&o.jsx("p",{className:"text-status-error text-sm mt-1",children:l})]}),r&&o.jsx(dt,{onClick:()=>u(!d),leftIcon:o.jsx(Na,{size:20}),children:"Add Holiday"})]}),e&&r&&o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l&&o.jsx("p",{className:"text-status-error text-sm",children:l}),!l&&o.jsx("span",{})," ",o.jsxs("button",{onClick:()=>u(!d),className:"flex items-center gap-2 bg-brand-primary text-white px-3 py-1.5 text-sm rounded-lg hover:bg-brand-primary/90 transition-colors",children:[o.jsx(Na,{size:16}),"Add Holiday"]})]}),d&&r&&o.jsxs("form",{onSubmit:m,className:"bg-bg-card p-4 rounded-lg border border-border shadow-sm flex flex-wrap gap-4 items-end animate-in slide-in-from-top-2",children:[o.jsx("div",{className:"flex-1 min-w-[200px]",children:o.jsx(ft,{label:"Holiday Name",required:!0,value:f.name,onChange:y=>p({...f,name:y.target.value}),placeholder:"e.g. Independence Day"})}),o.jsxs("div",{className:"flex-1 min-w-[150px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date"}),o.jsx(Ja,{required:!0,className:"w-full p-2 rounded border border-border bg-bg-main",value:f.date,onChange:y=>p({...f,date:y.target.value})})]}),o.jsx("div",{className:"flex-1 min-w-[150px]",children:o.jsx(sr,{label:"Type",value:f.type,onChange:y=>p({...f,type:y}),options:mXe})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 border border-border rounded-lg text-text-secondary hover:bg-bg-hover text-sm font-medium transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 text-sm font-medium transition-colors",children:"Save"})]})]}),o.jsx(eo,{columns:x,data:n,isLoading:s})]})}function xXe({isOpen:e,onClose:t}){return o.jsx(_r,{isOpen:e,onClose:t,title:"Holiday Calendar",maxWidth:"max-w-4xl",children:o.jsx(gXe,{isModal:!0})})}function Zu({children:e,variant:t="default",className:r,size:n="md"}){const a={default:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300 border-transparent",primary:"bg-brand-primary/10 text-brand-primary dark:bg-brand-primary/20 border-transparent",secondary:"bg-brand-secondary/10 text-brand-secondary dark:bg-brand-secondary/20 border-transparent",success:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 border-transparent",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300 border-transparent",error:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300 border-transparent",info:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300 border-transparent",outline:"bg-transparent border-gray-200 text-gray-600 dark:border-gray-700 dark:text-gray-400"},s={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm"};return o.jsx("span",{className:ia("inline-flex items-center font-medium rounded-full border",a[t],s[n],r),children:e})}function yXe(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,s]=b.useState(new Date().getMonth()+1),[i,l]=b.useState(new Date().getFullYear()),[c,d]=b.useState("All"),[u,f]=b.useState("All"),[p,h]=b.useState("All"),[m,g]=b.useState("All"),[x,y]=b.useState([]),v=[{value:"All",label:"All Departments"},{value:"Engineering",label:"Engineering"},{value:"Design",label:"Design"},{value:"Product",label:"Product"},{value:"Marketing",label:"Marketing"},{value:"Sales",label:"Sales"},{value:"HR",label:"Human Resources"},{value:"Finance",label:"Finance"}],w=[{value:"All",label:"All Types"},{value:"Sick",label:"Sick"},{value:"Casual",label:"Casual"},{value:"Paid",label:"Paid"},{value:"Unpaid",label:"Unpaid"},{value:"Floating",label:"Floating"}],N=[{value:"All",label:"All Status"},{value:"Approved",label:"Approved"},{value:"Pending",label:"Pending"},{value:"Rejected",label:"Rejected"}];b.useEffect(()=>{C()},[]),b.useEffect(()=>{_()},[a,i,c,u,p,m]);const C=async()=>{try{const A=(await je.getEmployees()).map(O=>{var D;return{value:((D=O.user)==null?void 0:D._id)||O._id,label:`${O.firstName} ${O.lastName} (${O.employeeId||"N/A"})`}});y([{value:"All",label:"All Employees"},...A])}catch(k){console.error("Failed to fetch employees",k)}},_=async()=>{try{n(!0);const k={month:a,year:i,department:c,employee:u,status:p,type:m},A=await je.getHRLeaveOverview(k);t(A)}catch(k){console.error("Failed to fetch leave overview",k)}finally{n(!1)}},S=[{header:"Employee",accessorKey:"employeeName",render:k=>o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-text-primary",children:k.employeeName}),o.jsx("div",{className:"text-xs text-text-secondary",children:k.employeeId})]})},{header:"Details",accessorKey:"department",render:k=>o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-text-primary",children:k.department}),o.jsx("div",{className:"text-xs text-text-secondary",children:k.designation})]})},{header:"Leave Type",accessorKey:"type",render:k=>o.jsx("span",{className:"font-medium",children:k.type})},{header:"Duration",accessorKey:"startDate",render:k=>o.jsxs("div",{className:"text-sm",children:[o.jsxs("div",{children:[ps(new Date(k.startDate),"MMM dd")," -"," ",ps(new Date(k.endDate),"MMM dd")]}),o.jsxs("div",{className:"text-xs text-text-muted",children:[k.totalDays," day",k.totalDays>1?"s":""]})]})},{header:"Total (Month)",accessorKey:"totalLeavesTakenMonth",render:k=>o.jsx("div",{className:"font-bold text-center text-brand-primary",children:k.totalLeavesTakenMonth})},{header:"Status",accessorKey:"status",render:k=>{const A={Approved:"success",Pending:"warning",Rejected:"error"};return o.jsx(Zu,{variant:A[k.status]||"default",children:k.status})}}];return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-bg-card border border-border rounded-xl p-4 shadow-sm",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:[o.jsx("div",{className:"flex flex-col gap-1.5",children:o.jsx(Ja,{label:"Month & Year",showMonthYearPicker:!0,dateFormat:"MMMM yyyy",value:`${i}-${String(a).padStart(2,"0")}-01`,onChange:k=>{const A=k.target.value;if(A){const O=new Date(A);isNaN(O.getTime())||(l(O.getFullYear()),s(O.getMonth()+1))}},renderCustomHeader:void 0})}),o.jsx(sr,{label:"Department",value:c,onChange:k=>d(String(k)),options:v}),o.jsx(sr,{label:"Employee",value:u,onChange:k=>f(String(k)),options:x}),o.jsx(sr,{label:"Type",value:m,onChange:k=>g(String(k)),options:w}),o.jsx(sr,{label:"Status",value:p,onChange:k=>h(String(k)),options:N})]})}),o.jsx("div",{className:"bg-bg-card border border-border rounded-xl overflow-hidden shadow-sm",children:o.jsx(eo,{data:e,columns:S,isLoading:r,emptyMessage:"No leave records found for selected criteria."})})]})}function vXe(){const{hasPermission:e}=Sr(),[t,r]=b.useState("my-leaves"),[n,a]=b.useState(!1),[s,i]=b.useState(!1),l=e("leave:approve"),c=e("leave:manage_policies"),d=e("leave:view_all");return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Leave Management"}),o.jsx("p",{className:"text-text-secondary",children:"Manage your leaves and approvals"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(dt,{variant:"outline",onClick:()=>i(!0),leftIcon:o.jsx(Xa,{size:20}),children:"View Holidays"}),e("leave:apply")&&o.jsx(dt,{onClick:()=>a(!0),leftIcon:o.jsx(Na,{size:20}),children:"Apply for Leave"})]})]}),t==="my-leaves"||!c&&t!=="policies"?o.jsx(BKe,{}):null,o.jsxs("div",{className:"flex border-b border-border overflow-x-auto",children:[o.jsxs("button",{onClick:()=>r("my-leaves"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${t==="my-leaves"?"border-brand-primary text-brand-primary":"border-transparent text-text-secondary hover:text-text-primary"}`,children:[o.jsx(YZ,{size:18}),"My Leaves"]}),l&&o.jsxs("button",{onClick:()=>r("approvals"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${t==="approvals"?"border-brand-primary text-brand-primary":"border-transparent text-text-secondary hover:text-text-primary"}`,children:[o.jsx(L2,{size:18}),"Approvals"]}),o.jsxs("button",{onClick:()=>r("policies"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${t==="policies"?"border-brand-primary text-brand-primary":"border-transparent text-text-secondary hover:text-text-primary"}`,children:[o.jsx(xn,{size:18}),"Policies"]}),d&&o.jsxs("button",{onClick:()=>r("overview"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${t==="overview"?"border-brand-primary text-brand-primary":"border-transparent text-text-secondary hover:text-text-primary"}`,children:[o.jsx(xn,{size:18}),"Overview"]})]}),o.jsxs("div",{className:"mt-4",children:[t==="my-leaves"&&o.jsx(HKe,{}),t==="approvals"&&o.jsx($Ke,{}),t==="policies"&&o.jsx(hXe,{}),t==="overview"&&o.jsx(yXe,{})]})]}),n&&o.jsx(UKe,{isOpen:n,onClose:()=>a(!1)}),s&&o.jsx(xXe,{isOpen:s,onClose:()=>i(!1)})]})}function bXe(){const[e,t]=b.useState([]),[r,n]=b.useState(""),[a,s]=b.useState(!1),[i,l]=b.useState(!1),[c,d]=b.useState(!1),[u,f]=b.useState({baseSalary:0,hra:0,allowances:[],deductions:[]});b.useEffect(()=>{p()},[]),b.useEffect(()=>{r&&h(r)},[r]);const p=async()=>{try{const _=await je.getEmployees(),k=(Array.isArray(_)?_:_.employees||[]).filter(A=>A.employeeStatus==="Active"||A.employeeStatus==="Probation");t(k)}catch{console.error("Failed to load employees")}},h=async _=>{try{l(!0);const S=await je.getSalaryStructure(_);S.structure?f(S.structure):f({baseSalary:0,hra:0,allowances:[],deductions:[]})}catch{console.error("Failed to load structure")}finally{l(!1)}},m=async()=>{if(r)try{s(!0),await je.upsertSalaryStructure({employeeId:r,...u}),d(!0)}catch{alert("Failed to save structure")}finally{s(!1)}},g=(_,S)=>{f(k=>({...k,[_]:S}))},x=()=>{f(_=>({..._,allowances:[..._.allowances,{name:"",amount:0}]}))},y=_=>{const S=[...u.allowances];S.splice(_,1),g("allowances",S)},v=(_,S,k)=>{const A=[...u.allowances];A[_]={...A[_],[S]:k},g("allowances",A)},w=()=>{f(_=>({..._,deductions:[..._.deductions,{name:"",amount:0}]}))},N=_=>{const S=[...u.deductions];S.splice(_,1),g("deductions",S)},C=(_,S,k)=>{const A=[...u.deductions];A[_]={...A[_],[S]:k},g("deductions",A)};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-bg-card rounded-lg border border-border p-4 h-fit",children:[o.jsxs("h3",{className:"font-semibold text-text-primary mb-4 flex items-center gap-2",children:[o.jsx(df,{size:18})," Select Employee"]}),o.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:e.map(_=>o.jsxs("button",{onClick:()=>n(_._id),className:`w-full text-left p-3 rounded-lg text-sm transition-colors ${r===_._id?"bg-brand-primary text-white":"hover:bg-bg-hover text-text-secondary"}`,children:[o.jsxs("div",{className:"font-medium",children:[_.firstName," ",_.lastName]}),o.jsxs("div",{className:`text-xs ${r===_._id?"text-white/80":"text-text-muted"}`,children:[_.employeeId,"  ",_.designation]})]},_._id))})]}),o.jsx("div",{className:"md:col-span-2 space-y-6",children:r?i?o.jsxs("div",{className:"bg-bg-card rounded-lg border border-border p-6 space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-4",children:[o.jsx(Se,{className:"h-6 w-32"}),o.jsx(Se,{className:"h-9 w-32 rounded-lg"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Se,{className:"h-3 w-20"}),o.jsx(Se,{className:"h-10 w-full rounded"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Se,{className:"h-3 w-20"}),o.jsx(Se,{className:"h-10 w-full rounded"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Se,{className:"h-4 w-24"}),o.jsx(Se,{className:"h-4 w-12"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{className:"h-9 flex-1"}),o.jsx(Se,{className:"h-9 w-32"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{className:"h-9 flex-1"}),o.jsx(Se,{className:"h-9 w-32"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Se,{className:"h-4 w-24"}),o.jsx(Se,{className:"h-4 w-12"})]}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{className:"h-9 flex-1"}),o.jsx(Se,{className:"h-9 w-32"})]})})]}),o.jsx(Se,{className:"h-16 w-full rounded-lg"})]}):o.jsxs("div",{className:"bg-bg-card rounded-lg border border-border p-6 space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-4",children:[o.jsx("h2",{className:"text-lg font-bold text-text-primary",children:"Salary Structure"}),o.jsx(dt,{onClick:m,disabled:a,leftIcon:o.jsx(Fm,{size:20}),children:"Save Changes"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-text-secondary uppercase",children:"Basic Salary"}),o.jsx(ft,{type:"number",value:u.baseSalary,onChange:_=>g("baseSalary",Number(_.target.value)),className:"bg-bg-card"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-text-secondary uppercase",children:"HRA"}),o.jsx(ft,{type:"number",value:u.hra,onChange:_=>g("hra",Number(_.target.value)),className:"bg-bg-card"})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"text-sm font-medium text-text-primary",children:"Allowances"}),o.jsxs("button",{onClick:x,className:"text-brand-primary text-sm flex items-center gap-1 hover:underline",children:[o.jsx(Na,{size:14})," Add"]})]}),o.jsxs("div",{className:"space-y-2 bg-bg-main p-3 rounded-lg",children:[u.allowances.map((_,S)=>o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx(ft,{type:"text",placeholder:"Name",value:_.name,onChange:k=>v(S,"name",k.target.value),className:"flex-1 bg-bg-card"}),o.jsx(ft,{type:"number",placeholder:"Amount",value:_.amount,onChange:k=>v(S,"amount",Number(k.target.value)),className:"w-32 bg-bg-card"}),o.jsx("button",{onClick:()=>y(S),className:"text-status-error hover:bg-status-error/10 p-1 rounded",children:o.jsx(yn,{size:16})})]},S)),u.allowances.length===0&&o.jsx("p",{className:"text-xs text-text-muted text-center py-2",children:"No allowances defined"})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"text-sm font-medium text-text-primary",children:"Deductions"}),o.jsxs("button",{onClick:w,className:"text-brand-primary text-sm flex items-center gap-1 hover:underline",children:[o.jsx(Na,{size:14})," Add"]})]}),o.jsxs("div",{className:"space-y-2 bg-bg-main p-3 rounded-lg",children:[u.deductions.map((_,S)=>o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx(ft,{type:"text",placeholder:"Name",value:_.name,onChange:k=>C(S,"name",k.target.value),className:"flex-1 bg-bg-card"}),o.jsx(ft,{type:"number",placeholder:"Amount",value:_.amount,onChange:k=>C(S,"amount",Number(k.target.value)),className:"w-32 bg-bg-card"}),o.jsx("button",{onClick:()=>N(S),className:"text-status-error hover:bg-status-error/10 p-1 rounded",children:o.jsx(yn,{size:16})})]},S)),u.deductions.length===0&&o.jsx("p",{className:"text-xs text-text-muted text-center py-2",children:"No deductions defined"})]})]}),o.jsxs("div",{className:"bg-brand-primary/5 p-4 rounded-lg flex justify-between items-center",children:[o.jsx("span",{className:"font-semibold text-text-primary",children:"Estimated Net Salary"}),o.jsxs("span",{className:"text-xl font-bold text-brand-primary",children:[""," ",(Number(u.baseSalary)+Number(u.hra)+u.allowances.reduce((_,S)=>_+Number(S.amount),0)-u.deductions.reduce((_,S)=>_+Number(S.amount),0)).toLocaleString()]})]})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-bg-card rounded-lg border border-border p-12 text-text-secondary",children:[o.jsx(Da,{size:48,className:"mb-4 text-text-muted opacity-50"}),o.jsx("p",{children:"Select an employee to manage their salary structure."})]})})]}),o.jsx(_r,{isOpen:c,onClose:()=>d(!1),title:"Success",children:o.jsxs("div",{className:"flex flex-col items-center justify-center p-6 text-center",children:[o.jsx("div",{className:"w-12 h-12 bg-status-success/10 rounded-full flex items-center justify-center text-status-success mb-4",children:o.jsx(In,{size:24})}),o.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Salary Structure Saved!"}),o.jsx("p",{className:"text-text-secondary mb-6",children:"The salary details for the selected employee have been successfully updated."}),o.jsx("button",{onClick:()=>d(!1),className:"px-6 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 transition-colors",children:"Close"})]})})]})}function wXe(){const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,s]=b.useState(new Date().toLocaleString("default",{month:"long"})),[i,l]=b.useState(new Date().getFullYear()),[c,d]=b.useState(!1),[u,f]=b.useState(!0),[p,h]=b.useState(!1),[m,g]=b.useState("");b.useEffect(()=>{(async()=>{f(!0),await Promise.all([x(),y()]),f(!1)})()},[a,i]);const x=async()=>{try{const _=await je.getPayrollList({month:a,year:i});n(_.payrolls||[])}catch{console.error("Failed to load payroll list")}},y=async()=>{try{const _=await je.getEmployees(),k=(Array.isArray(_)?_:_.employees||[]).filter(A=>A.employeeStatus==="Active"||A.employeeStatus==="Probation");t(k)}catch{console.error("failed to load employees")}},v=async _=>{try{d(!0),await je.calculatePayroll({employeeId:_,month:a,year:i}),x()}catch(S){g(S.message||"Failed to calculate payroll. Ensure salary structure is defined."),h(!0)}finally{d(!1)}},w=async(_,S)=>{try{await je.updatePayrollStatus(_,S),x()}catch{alert("Failed to update status")}},N=()=>{if(e.length===0){alert("No data to export");return}const _=e.map(A=>{var D,M,I;const O=r.find(z=>z.employee._id===A._id);return{"Employee ID":A.employeeId,"First Name":A.firstName,"Last Name":A.lastName,"Bank Name":((D=A.bankDetails)==null?void 0:D.bankName)||"N/A","Account Number":((M=A.bankDetails)==null?void 0:M.accountNumber)||"N/A","IFSC Code":((I=A.bankDetails)==null?void 0:I.ifscCode)||"N/A",Status:O?O.status:"Not Processed","Gross Salary":O?O.grossSalary:0,"Net Salary":O?O.netSalary:0}}),S=kh.json_to_sheet(_),k=kh.book_new();kh.book_append_sheet(k,S,"Payroll"),s7(k,`payroll_export_${a}_${i}.xlsx`)},C=b.useMemo(()=>[{header:"Employee",searchKey:"firstName",render:_=>o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium text-text-primary",children:[_.firstName," ",_.lastName]}),o.jsx("div",{className:"text-xs text-text-muted",children:_.employeeId})]}),_.bankDetails&&o.jsx(en,{trigger:"click",position:"right",content:o.jsxs("div",{className:"p-1 space-y-1",children:[o.jsx("div",{className:"font-semibold text-xs border-b border-border pb-1 mb-1",children:"Bank Details"}),o.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-x-3 gap-y-1 text-xs",children:[o.jsx("span",{className:"text-text-secondary",children:"Bank:"}),o.jsx("span",{className:"font-medium",children:_.bankDetails.bankName||"N/A"}),o.jsx("span",{className:"text-text-secondary",children:"A/C:"}),o.jsx("span",{className:"font-medium font-mono",children:_.bankDetails.accountNumber||"N/A"}),o.jsx("span",{className:"text-text-secondary",children:"IFSC:"}),o.jsx("span",{className:"font-medium font-mono",children:_.bankDetails.ifscCode||"N/A"})]})]}),children:o.jsx("div",{className:"p-1.5 pt-0 rounded-full hover:bg-bg-active text-text-muted hover:text-brand-primary cursor-pointer transition-colors",children:o.jsx(VZ,{size:18})})})]})},{header:"Status",render:_=>{const S=r.find(A=>A.employee._id===_._id),k=S?S.status:"Not Processed";return o.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium border
              ${k==="Paid"?"bg-status-success/10 text-status-success border-status-success/20":k==="Approved"?"bg-brand-primary/10 text-brand-primary border-brand-primary/20":k==="Draft"?"bg-status-warning/10 text-status-warning border-status-warning/20":"bg-bg-secondary text-text-secondary border-border"}`,children:k})}},{header:"Gross Salary",render:_=>{const S=r.find(k=>k.employee._id===_._id);return o.jsx("span",{className:"font-medium text-text-primary",children:S?`${S.grossSalary.toLocaleString()}`:"-"})}},{header:"Net Payable",render:_=>{const S=r.find(k=>k.employee._id===_._id);return o.jsx("span",{className:"font-medium text-text-primary",children:S?`${S.netSalary.toLocaleString()}`:"-"})}},{header:"Actions",className:"text-right",render:_=>{const S=r.find(k=>k.employee._id===_._id);return o.jsxs("div",{className:"flex justify-end gap-2",children:[!S&&o.jsx("button",{onClick:k=>{k.stopPropagation(),v(_._id)},disabled:c,className:"px-3 py-1.5 bg-brand-primary text-white hover:bg-brand-secondary rounded-md text-xs font-medium transition-colors shadow-sm",children:"Calculate"}),S&&S.status==="Draft"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:k=>{k.stopPropagation(),w(S._id,"Approved")},className:"px-3 py-1.5 bg-status-success text-white hover:bg-status-success/90 rounded-md text-xs font-medium transition-colors shadow-sm",children:"Approve"}),o.jsx("button",{onClick:k=>{k.stopPropagation(),v(_._id)},disabled:c,className:"px-3 py-1.5 border border-border text-text-secondary hover:bg-bg-active hover:text-text-primary rounded-md text-xs font-medium transition-all",children:"Recalculate"})]}),S&&S.status==="Approved"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:k=>{k.stopPropagation(),w(S._id,"Paid")},className:"px-3 py-1.5 bg-brand-primary text-white hover:bg-brand-secondary rounded-md text-xs font-medium transition-colors shadow-sm",children:"Mark as Paid"}),o.jsx("button",{onClick:k=>{k.stopPropagation(),v(_._id)},disabled:c,className:"px-3 py-1.5 border border-border text-text-secondary hover:bg-bg-active hover:text-text-primary rounded-md text-xs font-medium transition-all",children:"Recalculate"})]}),S&&S.status==="Paid"&&o.jsx("button",{onClick:k=>{k.stopPropagation(),v(_._id)},disabled:c,className:"px-3 py-1.5 border border-border text-text-secondary hover:bg-bg-active hover:text-text-primary rounded-md text-xs font-medium transition-all",children:"Recalculate"})]})}}],[r,c]);return o.jsxs("div",{className:"bg-bg-card rounded-lg border border-border p-6",children:[o.jsxs("div",{className:"flex gap-4 mb-6 items-center bg-bg-main p-4 rounded-lg",children:[o.jsx("div",{className:"w-40",children:o.jsx(sr,{value:a,onChange:_=>s(_),options:["January","February","March","April","May","June","July","August","September","October","November","December"].map(_=>({value:_,label:_}))})}),o.jsx("div",{className:"w-28",children:o.jsx(sr,{value:i,onChange:_=>l(Number(_)),options:(()=>{const _=new Date().getFullYear();return Array.from({length:100},(S,k)=>{const A=_-50+k;return{value:A,label:String(A)}})})()})}),o.jsxs("div",{className:"ml-auto text-sm text-text-secondary",children:["Process payroll for ",a," ",i]})]}),o.jsxs("div",{className:"bg-bg-card border border-border rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-border bg-bg-secondary/30 flex justify-between items-center",children:[o.jsxs("h3",{className:"font-semibold text-text-primary",children:["Payroll Processing (",e.length," Employees)"]}),o.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-3 py-1.5 bg-bg-main border border-border rounded-md text-sm text-text-primary hover:bg-bg-hover transition-colors",children:[o.jsx(cf,{size:16}),"Export Excel"]})]}),o.jsx(eo,{columns:C,data:e,isLoading:u,emptyMessage:"No employees found to process."})]}),o.jsx(ji,{isOpen:p,onClose:()=>h(!1),onConfirm:()=>h(!1),title:"Processing Error",message:m,confirmText:"OK",variant:"danger",isLoading:!1})]})}function NXe(){const{user:e}=Sr(),[t,r]=b.useState([]),[n,a]=b.useState(!0);b.useEffect(()=>{s()},[]);const s=async()=>{try{const l=await je.getMyPayslips();r(l.payslips||[])}catch{console.error("Failed to load payslips")}finally{a(!1)}},i=async l=>{await bre(l,e)};return n?o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(l=>o.jsxs("div",{className:"bg-bg-card border border-border rounded-lg p-6 space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{className:"h-6 w-32"}),o.jsx(Se,{className:"h-4 w-16"})]}),o.jsx(Se,{className:"h-10 w-10 rounded-full"})]}),o.jsxs("div",{className:"space-y-3 border-b border-border pb-4",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Se,{className:"h-4 w-20"}),o.jsx(Se,{className:"h-4 w-24"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Se,{className:"h-4 w-24"}),o.jsx(Se,{className:"h-4 w-24"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Se,{className:"h-4 w-20"}),o.jsx(Se,{className:"h-4 w-24"})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(Se,{className:"h-4 w-16"}),o.jsx(Se,{className:"h-6 w-32"})]}),o.jsx(Se,{className:"h-9 w-full rounded-lg"})]},l))}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.length===0?o.jsxs("div",{className:"col-span-full text-center py-12 text-text-muted bg-bg-card border border-border rounded-lg",children:[o.jsx(xn,{size:48,className:"mx-auto mb-2 opacity-20"}),o.jsx("p",{children:"No payslips available yet."})]}):t.map(l=>o.jsxs("div",{className:"bg-bg-card border border-border rounded-lg p-6 hover:shadow-md transition-all",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-bold text-lg text-text-primary",children:[l.month," ",l.year]}),o.jsx("p",{className:"text-sm text-text-secondary",children:"Payslip"})]}),o.jsx("div",{className:"bg-brand-primary/5 p-2 rounded-full text-brand-primary",children:o.jsx(xn,{size:24})})]}),o.jsxs("div",{className:"space-y-2 mb-6 border-b border-border pb-4",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-text-secondary",children:"Basic Pay"}),o.jsxs("span",{className:"font-medium",children:["",l.basicPay.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-text-secondary",children:"Total Allowances"}),o.jsxs("span",{className:"font-medium text-status-success",children:["+ ",(l.grossSalary-l.basicPay-l.hra).toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-text-secondary",children:"Deductions"}),o.jsxs("span",{className:"font-medium text-status-error",children:["- ",l.totalDeductions.toLocaleString()]})]})]}),o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Net Pay"}),o.jsxs("span",{className:"text-xl font-bold text-brand-primary",children:["",l.netSalary.toLocaleString()]})]}),o.jsxs("button",{onClick:()=>i(l),className:"w-full flex items-center justify-center gap-2 px-4 py-2 border border-border rounded-lg hover:bg-bg-hover transition-colors text-sm font-medium text-text-primary",children:[o.jsx(cf,{size:16})," Download PDF"]})]},l._id))})}function SXe(){const[e,t]=b.useState(!1),[r,n]=b.useState([]),[a,s]=b.useState(new Date().toLocaleString("default",{month:"long"})),[i,l]=b.useState(new Date().getFullYear().toString()),c=["January","February","March","April","May","June","July","August","September","October","November","December"],d=async()=>{t(!0);try{const p=await je.getPayrollList({month:a,year:i});n(p.payrolls||[])}catch(p){console.error("Failed to fetch payroll report:",p)}finally{t(!1)}};b.useEffect(()=>{d()},[a,i]);const u=()=>{if(r.length===0)return;const p=["Employee ID","Employee Name","Month","Year","Total Days","LOP Days","Basic Pay","HRA","Gross Salary","Total Deductions","Net Salary","Status","Payment Date"],h=r.map(x=>{var y,v,w;return[((y=x.employee)==null?void 0:y.employeeId)||"N/A",`${((v=x.employee)==null?void 0:v.firstName)||""} ${((w=x.employee)==null?void 0:w.lastName)||""}`,x.month,x.year,x.totalDays,x.lopDays,x.basicPay,x.hra,x.grossSalary,x.totalDeductions,x.netSalary,x.status,x.paymentDate?sd(x.paymentDate):"-"]}),m=kh.aoa_to_sheet([p,...h]),g=kh.book_new();kh.book_append_sheet(g,m,"Payroll Report"),s7(g,`Payroll_Report_${a}_${i}.xlsx`)},f=[{header:"Employee",accessorKey:"employee",render:p=>{const h=p.employee;return o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium text-text-primary",children:[h==null?void 0:h.firstName," ",h==null?void 0:h.lastName]}),o.jsx("div",{className:"text-xs text-text-secondary",children:h==null?void 0:h.employeeId})]})}},{header:"Gross Pay",accessorKey:"grossSalary",render:p=>`${p.grossSalary.toLocaleString()}`},{header:"Deductions",accessorKey:"totalDeductions",render:p=>`${p.totalDeductions.toLocaleString()}`},{header:"Net Pay",accessorKey:"netSalary",render:p=>o.jsxs("span",{className:"font-bold text-text-primary",children:["",p.netSalary.toLocaleString()]})},{header:"Status",accessorKey:"status",render:p=>{const h=p.status;return o.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${h==="Paid"?"bg-green-100 text-green-700":h==="Draft"?"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"}`,children:h})}},{header:"Pay Date",accessorKey:"paymentDate",render:p=>p.paymentDate?sd(p.paymentDate):"-"}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-bg-card p-4 rounded-lg border border-border",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsx("div",{className:"w-40",children:o.jsx(sr,{label:"",value:a,onChange:p=>s(p),options:c.map(p=>({value:p,label:p}))})}),o.jsx("div",{className:"w-32",children:o.jsx(sr,{label:"",value:i,onChange:p=>l(p),options:(()=>{const p=new Date().getFullYear();return Array.from({length:100},(h,m)=>{const g=p-50+m;return{value:String(g),label:String(g)}})})()})}),o.jsx(dt,{variant:"secondary",onClick:d,leftIcon:o.jsx(df,{size:16}),children:"Refresh"})]}),o.jsx(dt,{variant:"primary",onClick:u,disabled:r.length===0,leftIcon:o.jsx(cf,{size:16}),children:"Export Excel"})]}),o.jsx("div",{className:"bg-bg-card rounded-lg border border-border overflow-hidden",children:o.jsx(eo,{data:r,columns:f,isLoading:e,emptyMessage:"No payroll records found for this period."})}),r.length>0&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-bg-card p-4 rounded-lg border border-border",children:[o.jsx("p",{className:"text-text-secondary text-sm",children:"Total Payout"}),o.jsxs("p",{className:"text-2xl font-bold text-text-primary",children:["",r.reduce((p,h)=>p+h.netSalary,0).toLocaleString()]})]}),o.jsxs("div",{className:"bg-bg-card p-4 rounded-lg border border-border",children:[o.jsx("p",{className:"text-text-secondary text-sm",children:"Average Salary"}),o.jsxs("p",{className:"text-2xl font-bold text-text-primary",children:["",Math.round(r.reduce((p,h)=>p+h.netSalary,0)/r.length).toLocaleString()]})]}),o.jsxs("div",{className:"bg-bg-card p-4 rounded-lg border border-border",children:[o.jsx("p",{className:"text-text-secondary text-sm",children:"Total Employees"}),o.jsx("p",{className:"text-2xl font-bold text-text-primary",children:r.length})]})]})]})}function jXe(){const{hasPermission:e}=Sr(),t=e("payroll:manage_structure"),r=e("payroll:process"),{user:n}=Sr(),a=(n==null?void 0:n.role)==="Admin"||(n==null?void 0:n.role)==="HR"||e("payroll:view_reports"),s=()=>r?"processing":t?"structure":"payslips",[i,l]=b.useState(s());return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Payroll & Finance"}),o.jsx("p",{className:"text-text-secondary",children:"Manage salaries, process payrolls, view payslips, and generate reports."})]}),o.jsxs("div",{className:"flex border-b border-border overflow-x-auto",children:[r&&o.jsxs("button",{onClick:()=>l("processing"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${i==="processing"?"border-brand-primary text-brand-primary":"border-transparent text-text-secondary hover:text-text-primary"}`,children:[o.jsx(Qve,{size:18}),"Payroll Processing"]}),t&&o.jsxs("button",{onClick:()=>l("structure"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${i==="structure"?"border-brand-primary text-brand-primary":"border-transparent text-text-secondary hover:text-text-primary"}`,children:[o.jsx(Ok,{size:18}),"Salary Structures"]}),a&&o.jsxs("button",{onClick:()=>l("reports"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${i==="reports"?"border-brand-primary text-brand-primary":"border-transparent text-text-secondary hover:text-text-primary"}`,children:[o.jsx(xn,{size:18}),"Reports"]}),o.jsxs("button",{onClick:()=>l("payslips"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${i==="payslips"?"border-brand-primary text-brand-primary":"border-transparent text-text-secondary hover:text-text-primary"}`,children:[o.jsx(xn,{size:18}),"My Payslips"]})]}),o.jsxs("div",{className:"pt-4",children:[i==="processing"&&r&&o.jsx(wXe,{}),i==="structure"&&t&&o.jsx(bXe,{}),i==="reports"&&a&&o.jsx(SXe,{}),i==="payslips"&&o.jsx(NXe,{})]})]})}function _Xe(){const[e,t]=b.useState(!0),[r,n]=b.useState(!1),[a,s]=b.useState(null),[i,l]=b.useState({lastWorkingDay:"",reason:"",agreedToTerms:!1}),[c]=b.useState(30);b.useEffect(()=>{d();const p=pd(new Date,c);l(h=>({...h,lastWorkingDay:ps(p,"yyyy-MM-dd")}))},[]);const d=async()=>{try{t(!0);const p=await je.getMyResignation();s(p)}catch(p){console.error("Failed to fetch resignation status",p)}finally{t(!1)}},u=async p=>{if(p.preventDefault(),!!i.agreedToTerms)try{n(!0);const h=await je.submitResignation({lastWorkingDay:i.lastWorkingDay,reason:i.reason});s(h.resignation)}catch(h){alert(h.message)}finally{n(!1)}},f=p=>{switch(p){case"approved":return"text-green-600 bg-green-50 border-green-200";case"rejected":return"text-red-600 bg-red-50 border-red-200";case"completed":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-amber-600 bg-amber-50 border-amber-200"}};return e?o.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):a?o.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:o.jsxs("div",{className:"bg-bg-card rounded-xl shadow-sm border border-border overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-border bg-bg-secondary/50 flex justify-between items-center",children:[o.jsxs("h2",{className:"text-xl font-bold text-text-primary flex items-center gap-2",children:[o.jsx(xn,{className:"text-brand-primary"}),"Resignation Status"]}),o.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold border uppercase ${f(a.status)}`,children:a.status})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium text-text-secondary",children:"Submitted On"}),o.jsxs("p",{className:"font-semibold text-text-primary flex items-center gap-2",children:[o.jsx(Gd,{size:16,className:"text-text-muted"}),ps(new Date(a.submittedDate),"MMM dd, yyyy")]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium text-text-secondary",children:"Proposed Last Working Day"}),o.jsxs("p",{className:"font-semibold text-text-primary flex items-center gap-2",children:[o.jsx(cu,{size:16,className:"text-text-muted"}),ps(new Date(a.lastWorkingDay),"MMM dd, yyyy")]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-text-secondary",children:"Reason"}),o.jsxs("div",{className:"p-4 bg-bg-secondary rounded-lg text-text-secondary text-sm italic border border-border",children:['"',a.reason,'"']})]}),a.comments&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-text-secondary",children:"Admin/Manager Comments"}),o.jsx("div",{className:"p-4 bg-blue-50/50 rounded-lg text-text-secondary text-sm border border-blue-100 dark:bg-blue-900/10 dark:text-blue-200 dark:border-blue-900/30",children:a.comments})]}),a.status==="pending"&&o.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-amber-50 text-amber-800 text-sm",children:[o.jsx(Mn,{size:20}),o.jsx("p",{children:"Your resignation is currently under review by your reporting manager and HR."})]})]})]})}):o.jsx("div",{className:"max-w-2xl mx-auto",children:o.jsxs("div",{className:"bg-bg-card rounded-xl shadow-sm border border-border overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-border bg-gradient-to-r from-bg-secondary to-bg-card",children:[o.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Submit Resignation"}),o.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"Please fill in the details below to initiate the exit process."})]}),o.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[o.jsxs("div",{className:"p-4 bg-blue-50 text-blue-800 rounded-lg text-sm border border-blue-100 flex gap-3 items-start dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-900/30",children:[o.jsx(Pk,{className:"shrink-0 mt-0.5",size:18}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold mb-1",children:"Important Notice"}),o.jsxs("p",{children:["According to company policy, the standard notice period is"," ",o.jsxs("strong",{children:[c," days"]}),". Your estimated last working day is calculated based on this."]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Working Day (Proposed)"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"date",required:!0,min:ps(new Date,"yyyy-MM-dd"),value:i.lastWorkingDay,onChange:p=>l({...i,lastWorkingDay:p.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-bg-secondary border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary transition-all text-text-primary"}),o.jsx(Gd,{className:"absolute left-3 top-2.5 text-text-muted",size:18})]}),o.jsx("p",{className:"text-xs text-text-muted mt-1",children:"You can request an earlier date, but it is subject to approval and possible buyout."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for Leaving"}),o.jsx("textarea",{required:!0,rows:4,value:i.reason,onChange:p=>l({...i,reason:p.target.value}),placeholder:"Please share your reason for resignation...",className:"w-full p-3 bg-bg-secondary border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary transition-all resize-none text-text-primary"})]}),o.jsxs("div",{className:"flex items-start gap-3 p-4 border border-border rounded-lg hover:bg-bg-secondary transition-colors cursor-pointer",onClick:()=>l({...i,agreedToTerms:!i.agreedToTerms}),children:[o.jsx("div",{className:`mt-0.5 w-5 h-5 rounded border flex items-center justify-center transition-colors ${i.agreedToTerms?"bg-brand-primary border-brand-primary text-white":"border-border bg-bg-card"}`,children:i.agreedToTerms&&o.jsx(BZ,{size:14})}),o.jsx("input",{type:"checkbox",className:"hidden"}),o.jsx("p",{className:"text-sm text-text-secondary select-none",children:"I understand that submitting this form initiates the formal exit process. I agree to complete the handover obligations during my notice period."})]})]}),o.jsx("div",{className:"pt-4 border-t border-border flex justify-end",children:o.jsx("button",{type:"submit",disabled:r||!i.agreedToTerms,className:"flex items-center gap-2 px-6 py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-[1.02] active:scale-95",children:r?"Submitting...":o.jsxs(o.Fragment,{children:[o.jsx(zm,{size:18}),"Submit Resignation"]})})})]})]})})}function kXe(){var M,I;const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,s]=b.useState(""),[i,l]=b.useState(null),[c,d]=b.useState(!1),[u,f]=b.useState("approve"),[p,h]=b.useState(""),[m,g]=b.useState(!1),[x,y]=b.useState(!1),[v,w]=b.useState(null),[N,C]=b.useState(!1);b.useEffect(()=>{_()},[a]);const _=async()=>{try{n(!0);const z=await je.getPendingResignations(a);t(z)}catch(z){console.error("Failed to fetch resignations",z)}finally{n(!1)}},S=(z,Y)=>{l(z),f(Y),d(!0),h("")},k=async()=>{if(i)try{g(!0),await je.updateResignationStatus(i._id,{status:u==="approve"?"approved":"rejected",comments:p}),d(!1),_()}catch(z){alert(z.message)}finally{g(!1)}},A=async z=>{const Y=e.find(X=>X._id===z);Y&&l(Y),y(!0),C(!0);try{const X=await je.getClearance(z);w(X)}catch(X){console.error("Failed to fetch clearance",X),alert("Failed to load clearance data"),y(!1)}finally{C(!1)}},O=async(z,Y,X)=>{if(!v)return;const V=z==="asset"?X==="Pending"?"Returned":"Pending":X==="Pending"?"Completed":"Pending";try{const G=await je.updateClearanceItem(v._id,{type:z,itemId:Y,status:V,remarks:"Updated via Portal"});w(G)}catch(G){alert(G.message)}},D=z=>{const Y={pending:"bg-amber-100 text-amber-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",withdrawn:"bg-gray-100 text-gray-800",completed:"bg-blue-100 text-blue-800"};return o.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium uppercase ${Y[z]||"bg-gray-100 text-gray-800"}`,children:z})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Resignations"}),o.jsx("p",{className:"text-text-secondary text-sm",children:"Manage employee exit requests and approvals"})]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsx("div",{className:"relative",children:o.jsx(sr,{value:a,onChange:z=>s(z),options:[{value:"",label:"All Status"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],className:"w-full sm:w-48"})})})]}),o.jsx("div",{className:"bg-bg-card rounded-xl shadow-sm border border-border overflow-hidden",children:o.jsx(eo,{isLoading:r,data:e,emptyMessage:"No resignation records found.",columns:[{header:"Employee",accessorFn:z=>{var Y,X;return`${(Y=z.employee)==null?void 0:Y.firstName} ${(X=z.employee)==null?void 0:X.lastName}`},render:z=>{var Y,X,V,G,J,B;return o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ac,{src:(Y=z.employee)!=null&&Y.profilePicture?z.employee.profilePicture.startsWith("http")?z.employee.profilePicture:`${Ma}${z.employee.profilePicture}`:void 0,name:`${(X=z.employee)==null?void 0:X.firstName} ${(V=z.employee)==null?void 0:V.lastName}`,className:"w-8 h-8"}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-text-primary",children:[(G=z.employee)==null?void 0:G.firstName," ",(J=z.employee)==null?void 0:J.lastName]}),o.jsx("p",{className:"text-xs text-text-secondary",children:((B=z.employee)==null?void 0:B.designation)||"Employee"})]})]})}},{header:"Submitted On",accessorKey:"submittedDate",render:z=>o.jsx("span",{className:"text-text-secondary",children:ps(new Date(z.submittedDate),"MMM dd, yyyy")})},{header:"Last Working Day",accessorKey:"lastWorkingDay",render:z=>o.jsx("span",{className:"text-text-secondary font-medium",children:ps(new Date(z.lastWorkingDay),"MMM dd, yyyy")})},{header:"Reason",accessorKey:"reason",render:z=>o.jsx("div",{className:"text-text-secondary max-w-xs truncate",title:z.reason,children:z.reason})},{header:"Status",accessorKey:"status",render:z=>D(z.status)},{header:"Actions",className:"text-right",render:z=>o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[z.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx(en,{content:"Approve",children:o.jsx("button",{onClick:()=>S(z,"approve"),className:"p-1.5 rounded-full text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",children:o.jsx(In,{size:18})})}),o.jsx(en,{content:"Reject",children:o.jsx("button",{onClick:()=>S(z,"reject"),className:"p-1.5 rounded-full text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:o.jsx(vx,{size:18})})})]}),(z.status==="approved"||z.status==="completed")&&o.jsx(en,{content:"Exit Clearance Checklist",children:o.jsx("button",{onClick:()=>A(z._id),className:"p-1.5 rounded-full text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:o.jsx(xn,{size:18})})}),z.status!=="pending"&&z.status!=="approved"&&z.status!=="completed"&&o.jsx("span",{className:"text-xs text-text-muted italic",children:z.status})]})}]})}),o.jsx(_r,{isOpen:c,onClose:()=>d(!1),title:`${u==="approve"?"Approve":"Reject"} Resignation`,maxWidth:"max-w-md",footer:o.jsxs("div",{className:"flex justify-end gap-3 w-full",children:[o.jsx("button",{onClick:()=>d(!1),className:"px-3 py-1.5 border border-border rounded-lg text-text-secondary hover:bg-bg-hover text-sm font-medium transition-colors",children:"Cancel"}),o.jsx("button",{onClick:k,disabled:m,className:`px-3 py-1.5 text-sm font-medium text-white rounded-lg shadow-sm transition-colors ${u==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:m?"Processing...":`Confirm ${u==="approve"?"Approval":"Rejection"}`})]}),children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"text-text-secondary text-sm",children:["You are about to ",o.jsx("strong",{children:u})," the resignation request for"," ",o.jsxs("strong",{children:[(M=i==null?void 0:i.employee)==null?void 0:M.firstName," ",(I=i==null?void 0:i.employee)==null?void 0:I.lastName]}),"."]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Comments (Optional)"}),o.jsx("textarea",{rows:3,value:p,onChange:z=>h(z.target.value),className:"w-full p-2 border border-border rounded-lg bg-bg-main focus:outline-none focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary text-sm text-text-primary placeholder:text-text-placeholder",placeholder:"Add any internal notes or feedback..."})]})]})}),o.jsx(_r,{isOpen:x,onClose:()=>y(!1),title:"Exit Clearance Checklist",maxWidth:"max-w-4xl",children:o.jsxs("div",{className:"",children:[v&&o.jsx("div",{className:"mb-6 bg-brand-primary/5 dark:bg-brand-primary/10 p-4 rounded-lg border border-brand-primary/20",children:o.jsxs("p",{className:"text-sm text-text-secondary",children:["Employee:"," ",o.jsxs("span",{className:"font-semibold text-text-primary",children:[v.employee.firstName," ",v.employee.lastName]})," "," Status:"," ",o.jsx("span",{className:"font-medium text-brand-primary",children:v.overallStatus})," "," Exit Date:"," ",o.jsx("span",{className:"font-semibold text-text-primary",children:i!=null&&i.lastWorkingDay?ps(new Date(i.lastWorkingDay),"MMM dd, yyyy"):"N/A"})]})}),N?o.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading clearance data..."}):v?o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-text-primary mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 p-1 rounded text-sm",children:""})," ","Asset Recovery"]}),v.assetsToReturn.length===0?o.jsx("p",{className:"text-sm text-text-secondary italic px-4",children:"No assets assigned to return."}):o.jsx("div",{className:"border border-border rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-bg-secondary text-text-secondary font-medium border-b border-border",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3",children:"Asset Name"}),o.jsx("th",{className:"px-4 py-3",children:"Code"}),o.jsx("th",{className:"px-4 py-3",children:"Status"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Action"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:v.assetsToReturn.map(z=>o.jsxs("tr",{className:"hover:bg-bg-subtle",children:[o.jsx("td",{className:"px-4 py-3 font-medium text-text-primary",children:z.assetName}),o.jsx("td",{className:"px-4 py-3 text-text-secondary",children:z.assetCode}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${z.status==="Returned"?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-amber-100 text-amber-700 dark:bg-amber-900/20 dark:text-amber-400"}`,children:z.status})}),o.jsx("td",{className:"px-4 py-3 text-right",children:z.status!=="Returned"&&o.jsx("button",{onClick:()=>O("asset",z._id,z.status),className:"text-xs bg-bg-card border border-border hover:bg-bg-secondary px-3 py-1.5 rounded-md shadow-sm transition-colors text-text-secondary",children:"Mark Returned"})})]},z._id))})]})})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-text-primary mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 p-1 rounded text-sm",children:""})," ","Operational Checklist"]}),o.jsx("div",{className:"border border-border rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-bg-secondary text-text-secondary font-medium border-b border-border",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3",children:"Task"}),o.jsx("th",{className:"px-4 py-3",children:"Department"}),o.jsx("th",{className:"px-4 py-3",children:"Status"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Action"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:v.checklist.map(z=>o.jsxs("tr",{className:"hover:bg-bg-subtle",children:[o.jsx("td",{className:"px-4 py-3 font-medium text-text-primary",children:z.task}),o.jsx("td",{className:"px-4 py-3 text-text-secondary",children:z.department}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${z.status==="Completed"?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-bg-main text-text-secondary"}`,children:z.status})}),o.jsx("td",{className:"px-4 py-3 text-right",children:z.status!=="Completed"&&o.jsx("button",{onClick:()=>O("task",z._id,z.status),className:"text-xs bg-bg-card border border-border hover:bg-bg-secondary px-3 py-1.5 rounded-md shadow-sm transition-colors text-text-secondary",children:"Mark Done"})})]},z._id))})]})})]})]}):o.jsx("div",{className:"text-center py-12 text-red-500",children:"Failed to load data."})]})})]})}function CXe({onClose:e,onSuccess:t,initialData:r}){const n=!!r,[a,s]=b.useState(!1),[i,l]=b.useState({name:"",email:"",phone:"",address:"",status:"Active"});b.useEffect(()=>{r&&l({name:r.name||"",email:r.email||"",phone:r.phone||"",address:r.address||"",status:r.status||"Active"})},[r]);const c=async d=>{d.preventDefault();try{s(!0),n?await je.updateClient(r._id,i):await je.createClient(i),t()}catch(u){alert(u.message||"Failed to save client")}finally{s(!1)}};return o.jsx(_r,{isOpen:!0,onClose:e,title:n?"Edit Client":"Add New Client",maxWidth:"max-w-md",footer:o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:e,className:"px-4 py-2 border border-border rounded-lg text-text-secondary hover:bg-bg-hover text-sm font-medium transition-colors",children:"Cancel"}),o.jsx("button",{onClick:()=>c({preventDefault:()=>{}}),className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 text-sm font-medium transition-colors disabled:opacity-50",disabled:a,children:a?"Saving...":n?"Update Client":"Create Client"})]}),children:o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsx(ft,{label:"Client Name *",required:!0,value:i.name,onChange:d=>l({...i,name:d.target.value})}),o.jsx(ft,{label:"Email Address *",type:"email",required:!0,value:i.email,onChange:d=>l({...i,email:d.target.value})}),o.jsx(ft,{label:"Phone Number",type:"tel",value:i.phone,onChange:d=>l({...i,phone:d.target.value})}),o.jsx(ft,{label:"Address",value:i.address,onChange:d=>l({...i,address:d.target.value})}),n&&o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"text-sm font-medium text-text-primary",children:"Status"}),o.jsxs("select",{value:i.status,onChange:d=>l({...i,status:d.target.value}),className:"w-full px-3 py-2 bg-bg-card border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary transition-all pr-8",children:[o.jsx("option",{value:"Active",children:"Active"}),o.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})})}function AXe(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,s]=b.useState(!1),[i,l]=b.useState(null),[c,d]=b.useState(!1),[u,f]=b.useState(null),{user:p}=Sr(),h=_=>{console.log("hasPermission check:",_,p==null?void 0:p.permissions);const S=(p==null?void 0:p.permissions)||[];return(p==null?void 0:p.role)==="Admin"||S.some(k=>typeof k=="string"&&k===_||typeof k=="object"&&k.name===_)},m=h("clients:create"),g=h("clients:edit"),x=h("clients:delete");b.useEffect(()=>{y()},[]);const y=async()=>{try{n(!0);const _=await je.getClients();t(_)}catch{console.error("Failed to load clients")}finally{n(!1)}},v=_=>{f(_),d(!0)},w=async()=>{if(u)try{await je.deleteClient(u),d(!1),f(null),y()}catch(_){console.error("Failed to delete client",_),alert("Failed to delete client")}},N=_=>{l(_),s(!0)},C=()=>{l(null),s(!0)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Client Management"}),o.jsx("p",{className:"text-text-secondary",children:"Manage your client database and details."})]}),m&&o.jsx(dt,{onClick:C,leftIcon:o.jsx(Na,{size:20}),children:"Add Client"})]}),o.jsx(eo,{isLoading:r,data:e,columns:[{header:"Client Name",accessorKey:"name",render:_=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-brand-primary/10 flex items-center justify-center text-brand-primary font-bold",children:_.name.charAt(0).toUpperCase()}),o.jsx("div",{className:"ml-4",children:o.jsx("div",{className:"text-sm font-medium text-text-primary",children:_.name})})]})},{header:"Contact Info",accessorKey:"email",render:_=>o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-text-primary",children:_.email}),_.phone&&o.jsx("div",{className:"text-xs text-text-secondary",children:_.phone})]})},{header:"Status",accessorKey:"status",render:_=>o.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${_.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:_.status})},{header:"Actions",className:"text-right",render:_=>o.jsxs("div",{className:"flex justify-end gap-2",children:[g&&o.jsx(en,{content:"Edit",children:o.jsx("button",{onClick:S=>{S.stopPropagation(),N(_)},className:"text-text-secondary hover:text-brand-primary transition-colors",children:o.jsx(YN,{size:18})})}),x&&o.jsx(en,{content:"Delete",children:o.jsx("button",{onClick:S=>{S.stopPropagation(),v(_._id)},className:"text-text-secondary hover:text-red-600 transition-colors",children:o.jsx(yn,{size:18})})})]})}],emptyMessage:"No clients found. Get started by creating a new client."}),a&&o.jsx(CXe,{initialData:i,onClose:()=>s(!1),onSuccess:()=>{s(!1),y()}}),o.jsx(ji,{isOpen:c,onClose:()=>{d(!1),f(null)},onConfirm:w,title:"Delete Client",message:"Are you sure you want to delete this client? This action cannot be undone.",confirmText:"Delete",variant:"danger"})]})}function EXe({onClose:e,onSuccess:t,initialData:r}){const n=!!r,[a,s]=b.useState({name:"",client:"",description:"",manager:"",status:"Active",startDate:"",endDate:"",budget:0,members:[]}),[i,l]=b.useState([]),[c,d]=b.useState([]),[u,f]=b.useState(!1);b.useEffect(()=>{var x;p(),h(),r&&s({name:r.name||"",client:r.client||"",description:r.description||"",manager:((x=r.manager)==null?void 0:x._id)||r.manager||"",status:r.status||"Active",startDate:r.startDate?new Date(r.startDate).toISOString().split("T")[0]:"",endDate:r.endDate?new Date(r.endDate).toISOString().split("T")[0]:"",budget:r.budget||0,members:r.members?r.members.map(y=>y._id||y):[]})},[r]);const p=async()=>{try{const x=await je.getEmployees();l(Array.isArray(x)?x:x.employees||[])}catch{console.error("Failed to load users")}},h=async()=>{try{const x=await je.getClients();d(x)}catch{console.error("Failed to load clients")}},m=x=>{s(y=>y.members.includes(x)?{...y,members:y.members.filter(w=>w!==x)}:{...y,members:[...y.members,x]})},g=async x=>{if(x.preventDefault(),!a.manager){alert("Please select a Project Manager");return}try{f(!0),n?await je.updateProject(r._id,a):await je.createProject(a),t()}catch(y){console.error(y),alert(n?"Failed to update project":"Failed to create project")}finally{f(!1)}};return o.jsx(_r,{isOpen:!0,onClose:e,title:n?"Edit Project":"Create New Project",maxWidth:"max-w-lg",footer:o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-border rounded-lg text-text-secondary hover:bg-bg-hover text-sm font-medium transition-colors",children:"Cancel"}),o.jsx("button",{onClick:()=>g({preventDefault:()=>{}}),className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 text-sm font-medium transition-colors disabled:opacity-50 flex items-center gap-2",disabled:u,children:u?n?"Updating...":"Creating...":n?"Update Project":"Create Project"})]}),children:o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[o.jsx("div",{children:o.jsx(ft,{label:"Project Name *",type:"text",required:!0,value:a.name,onChange:x=>s({...a,name:x.target.value})})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(sr,{label:"Client Name",value:a.client,onChange:x=>s({...a,client:x}),options:c.map(x=>({label:x.name,value:x.name})),helperText:'Select a client or manage clients in "Client Management".'})}),o.jsx("div",{children:o.jsx(sr,{label:"Status",value:a.status,onChange:x=>s({...a,status:x}),options:[{value:"Active",label:"Active"},{value:"Completed",label:"Completed"},{value:"On Hold",label:"On Hold"},{value:"Cancelled",label:"Cancelled"}]})})]}),o.jsx("div",{children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(sr,{label:"Project Manager *",required:!0,value:a.manager,onChange:x=>s({...a,manager:x}),options:i.map(x=>{var y;return{value:((y=x.user)==null?void 0:y._id)||x._id,label:`${x.firstName} ${x.lastName}`}}),helperText:"Select the person responsible for this project."})}),o.jsx("div",{children:o.jsx(ft,{label:"Budget ()",type:"number",min:"0",value:a.budget,onChange:x=>s({...a,budget:Number(x.target.value)}),placeholder:"0",helperText:"Total allocated project budget."})})]})}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Team Members (",a.members.length,")"]}),o.jsx("div",{className:"border border-border rounded-lg p-2 max-h-40 overflow-y-auto space-y-2",children:i.length===0?o.jsx("p",{className:"text-xs text-text-secondary text-center py-2",children:"No employees found."}):i.map(x=>{var v;const y=((v=x.user)==null?void 0:v._id)||x._id;return o.jsx("div",{className:"flex items-center gap-2 p-2 hover:bg-bg-hover rounded cursor-pointer",children:o.jsx(gl,{checked:a.members.includes(y),onChange:()=>m(y),label:o.jsxs("span",{className:"text-sm text-text-primary",children:[x.firstName," ",x.lastName," ",o.jsxs("span",{className:"text-text-secondary text-xs",children:["(",x.designation,")"]})]})})},y)})}),o.jsx("p",{className:"mt-1 text-xs text-text-muted",children:"Select employees to assign to this project."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(Ja,{label:"Start Date *",name:"startDate",required:!0,value:a.startDate,onChange:x=>s({...a,startDate:x.target.value})})}),o.jsx("div",{children:o.jsx(Ja,{label:"End Date",name:"endDate",value:a.endDate,onChange:x=>s({...a,endDate:x.target.value})})})]}),o.jsx("div",{children:o.jsx(jl,{label:"Description",rows:3,value:a.description,onChange:x=>s({...a,description:x.target.value})})})]})})}function TXe(){const{user:e}=Sr(),[t,r]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(!1),[l,c]=b.useState(null);b.useEffect(()=>{d()},[]);const d=async()=>{try{a(!0);const h=await je.getProjects();r(h.projects||[])}catch{console.error("Failed to load projects")}finally{a(!1)}},u=()=>{c(null),i(!0)},f=(h,m)=>{m.preventDefault(),c(h),i(!0)},p=(e==null?void 0:e.role)==="Project Manager"||(e==null?void 0:e.role)==="Admin";return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Projects"}),o.jsx("p",{className:"text-text-secondary",children:"Manage and track your projects and tasks."})]}),p&&o.jsx(dt,{onClick:u,leftIcon:o.jsx(Na,{size:20}),children:"New Project"})]}),n?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(h=>o.jsxs("div",{className:"bg-bg-card border border-border rounded-lg p-5 flex flex-col h-[180px]",children:[o.jsx(Se,{className:"h-6 w-3/4 mb-3"}),o.jsx(Se,{className:"h-4 w-full mb-2"}),o.jsx("div",{className:"mt-auto pt-3 flex gap-2",children:o.jsx(Se,{className:"h-4 w-1/4"})})]},h))}):t.length===0?o.jsxs("div",{className:"text-center py-12 bg-bg-card border border-border rounded-lg",children:[o.jsx(cu,{size:48,className:"mx-auto mb-4 text-text-muted opacity-50"}),o.jsx("h3",{className:"text-lg font-medium text-text-primary",children:"No Projects Found"}),o.jsx("p",{className:"text-text-secondary mb-4",children:"Get started by creating a new project."}),p&&o.jsx(dt,{onClick:u,children:"Create Project"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(h=>{var m;return o.jsxs(_b,{to:`/projects/${h._id}`,className:"relative bg-bg-card border border-border rounded-lg p-5 hover:shadow-md transition-shadow group flex flex-col min-h-[180px]",children:[p&&o.jsx("button",{onClick:g=>f(h,g),className:"absolute top-4 right-4 p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-text-muted hover:text-brand-primary transition-colors opacity-0 group-hover:opacity-100 z-10",title:"Edit Project",children:o.jsx(YN,{size:16})}),o.jsx("div",{className:"flex justify-between items-start mb-3",children:o.jsxs("div",{className:"pr-8",children:[o.jsx("h3",{className:"font-semibold text-lg text-text-primary group-hover:text-brand-primary transition-colors line-clamp-1",children:h.name}),o.jsx("p",{className:"text-sm text-text-secondary",children:h.client})]})}),o.jsx("div",{className:"mb-2",children:o.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold ${h.status==="Active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:h.status})}),o.jsx("p",{className:"text-sm text-text-secondary line-clamp-2 mb-4 flex-1",children:h.description}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-text-secondary border-t border-border pt-3 mt-auto",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Xa,{size:14}),o.jsx("span",{children:h.endDate?new Date(h.endDate).toLocaleDateString():"No deadline"})]}),o.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[o.jsx(Da,{size:14}),o.jsx("span",{children:((m=h.members)==null?void 0:m.length)||0})]}),o.jsx("div",{className:"flex items-center gap-1 ml-4 border-l pl-4 border-border",children:o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"m9 11 3 3L22 4"}),o.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),h.taskCount||0," Tasks"]})})]})]},h._id)})}),s&&o.jsx(EXe,{initialData:l,onClose:()=>i(!1),onSuccess:()=>{i(!1),d()}})]})}function DXe({projectId:e}){var u;const[t,r]=b.useState([]),[n,a]=b.useState(!0),{user:s}=Sr(),i=(s==null?void 0:s.role)==="Admin"||((u=s==null?void 0:s.permissions)==null?void 0:u.some(f=>f.name==="projects:task_edit"));b.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{const f=await je.getTasks({projectId:e});r(f.tasks||[])}catch{console.error("Failed to load tasks")}finally{a(!1)}},c=async(f,p)=>{try{const h=t.map(m=>m._id===f?{...m,status:p}:m);r(h),await je.updateTask(f,{status:p})}catch{console.error("Failed to update status"),l()}},d=["To Do","In Progress","Review","Done"];return n?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx(Ab,{size:32})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 h-full",children:d.map(f=>o.jsxs("div",{className:"bg-bg-main rounded-lg p-4 min-w-[250px]",children:[o.jsxs("h3",{className:"font-semibold text-text-secondary text-sm mb-3 flex justify-between",children:[f,o.jsx("span",{className:"bg-bg-subtle text-text-muted px-2 py-0.5 rounded-full text-xs",children:t.filter(p=>p.status===f).length})]}),o.jsxs("div",{className:"space-y-3",children:[t.filter(p=>p.status===f).map(p=>{var h;return o.jsxs("div",{className:"bg-bg-card border border-border rounded p-3 shadow-sm hover:shadow-md transition-all cursor-pointer",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("h4",{className:"font-medium text-sm text-text-primary mb-1",children:p.title}),o.jsx("div",{className:`w-2 h-2 rounded-full ${p.priority==="High"||p.priority==="Urgent"?"bg-status-error":p.priority==="Low"?"bg-status-success":"bg-status-warning"}`,title:p.priority})]}),p.assignee&&o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-brand-primary/10 flex items-center justify-center text-[10px] text-brand-primary font-bold",children:((h=p.assignee.name)==null?void 0:h.charAt(0))||"U"}),o.jsx("span",{className:"text-xs text-text-secondary truncate",children:p.assignee.name})]}),i&&o.jsxs("div",{className:"flex justify-end gap-1 mt-3 pt-2 border-t border-border",children:[f!=="To Do"&&o.jsx("button",{onClick:()=>c(p._id,d[d.indexOf(f)-1]),className:"text-[10px] px-1 bg-bg-subtle rounded hover:bg-bg-hover text-text-secondary",children:"< Back"}),f!=="Done"&&o.jsx("button",{onClick:()=>c(p._id,d[d.indexOf(f)+1]),className:"text-[10px] px-1 bg-bg-subtle rounded hover:bg-bg-hover text-text-secondary",children:"Next >"})]})]},p._id)}),t.filter(p=>p.status===f).length===0&&o.jsx("div",{className:"text-center py-4 text-xs text-text-muted border border-dashed border-border rounded",children:"No tasks"})]})]},f))})}function MXe({projectId:e,onClose:t,onSuccess:r}){const[n,a]=b.useState({title:"",description:"",assignee:"",priority:"Medium",dueDate:""}),[s,i]=b.useState([]),[l,c]=b.useState(!1);b.useEffect(()=>{d()},[]);const d=async()=>{try{const f=await je.getEmployees();i(Array.isArray(f)?f:f.employees||[])}catch{console.error("Failed to load users")}},u=async f=>{f.preventDefault();try{c(!0),await je.createTask({...n,project:e}),r()}catch{alert("Failed to create task")}finally{c(!1)}};return o.jsx(_r,{isOpen:!0,onClose:t,title:"New Task",maxWidth:"max-w-md",footer:o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-border rounded-lg text-text-secondary hover:bg-bg-hover text-sm font-medium transition-colors",children:"Cancel"}),o.jsx("button",{onClick:()=>u({preventDefault:()=>{}}),className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 text-sm font-medium transition-colors disabled:opacity-50 flex items-center gap-2",disabled:l,children:l?"Creating...":"Create Task"})]}),children:o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx("div",{children:o.jsx(ft,{label:"Title *",type:"text",required:!0,value:n.title,onChange:f=>a({...n,title:f.target.value})})}),o.jsx("div",{children:o.jsx(sr,{label:"Assignee",value:n.assignee,onChange:f=>a({...n,assignee:f}),options:s.map(f=>{var p;return{value:((p=f.user)==null?void 0:p._id)||f._id,label:`${f.firstName} ${f.lastName}`}}),placeholder:"Unassigned"})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(sr,{label:"Priority",value:n.priority,onChange:f=>a({...n,priority:f}),options:[{value:"Low",label:"Low"},{value:"Medium",label:"Medium"},{value:"High",label:"High"},{value:"Urgent",label:"Urgent"}]})}),o.jsx("div",{children:o.jsx(Ja,{label:"Due Date",value:n.dueDate,onChange:f=>a({...n,dueDate:f.target.value})})})]}),o.jsx("div",{children:o.jsx(jl,{label:"Description",rows:2,value:n.description,onChange:f=>a({...n,description:f.target.value})})})]})})}function OXe(){var N,C,_,S,k;const{id:e}=C4(),t=vs(),{user:r}=Sr(),[n,a]=b.useState(null),[s,i]=b.useState(!0),[l,c]=b.useState(!1),[d,u]=b.useState(!1),[f,p]=b.useState(""),[h,m]=b.useState(!1);b.useEffect(()=>{e&&g(e)},[e]);const g=async A=>{try{i(!0);const O=await je.getProjectById(A);a(O.project)}catch{console.error("Failed to load project")}finally{i(!1)}},x=async()=>{if(f.trim())try{m(!0);const A=await je.addProjectComment(n._id,f);a(A.project),p("")}catch{alert("Failed to post comment")}finally{m(!1)}};if(s)return o.jsx("div",{className:"flex justify-center py-12",children:o.jsx(Ab,{size:32})});if(!n)return o.jsx("div",{children:"Project not found"});const y=(r==null?void 0:r.role)==="Project Manager"||(r==null?void 0:r.role)==="Admin",v=r!=null&&r.tenantId&&typeof r.tenantId=="object"&&"limits"in r.tenantId?r.tenantId.limits:null,w=!v||!v.enabledModules||v.enabledModules.includes("tasks");return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("button",{onClick:()=>t("/projects"),className:"flex items-center gap-1 text-sm text-text-secondary hover:text-brand-primary",children:[o.jsx(E4,{size:16})," Back to Projects"]}),o.jsxs("div",{className:"bg-bg-card border border-border rounded-lg p-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-start gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:n.name}),o.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold border ${n.status==="Active"?"bg-status-success/10 text-status-success border-status-success/20":"bg-bg-subtle text-text-muted border-border"}`,children:n.status})]}),o.jsx("p",{className:"text-text-secondary text-lg",children:n.client})]}),y&&o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(dt,{variant:"outline",onClick:()=>u(!0),className:"text-red-500 border-red-200 hover:bg-red-50 dark:hover:bg-red-900/20",children:[o.jsx(yn,{size:16,className:"mr-2"}),"Delete Project"]})})]}),o.jsx(ji,{isOpen:d,onClose:()=>u(!1),onConfirm:async()=>{try{await je.deleteProject(n._id),t("/projects")}catch(A){console.error("Delete failed",A),alert("Failed to delete project")}},title:"Delete Project",message:"Are you sure you want to delete this project? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",variant:"danger"}),o.jsx("p",{className:"text-text-primary mb-6 max-w-3xl",children:n.description}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 py-4 border-t border-border",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-xs text-text-secondary uppercase font-semibold flex items-center gap-1 mb-1",children:[o.jsx(Xa,{size:14})," Start Date"]}),o.jsx("span",{className:"text-sm font-medium",children:n.startDate?new Date(n.startDate).toLocaleDateString():"N/A"})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-xs text-text-secondary uppercase font-semibold flex items-center gap-1 mb-1",children:[o.jsx(Xa,{size:14})," Deadline"]}),o.jsx("span",{className:"text-sm font-medium",children:n.endDate?new Date(n.endDate).toLocaleDateString():"N/A"})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-xs text-text-secondary uppercase font-semibold flex items-center gap-1 mb-1",children:[o.jsx(Da,{size:14})," Manager"]}),o.jsx("span",{className:"text-sm font-medium text-brand-primary",children:((N=n.manager)==null?void 0:N.name)||"Unassigned"})]}),((r==null?void 0:r.role)==="Admin"||(r==null?void 0:r.role)==="HR"||(r==null?void 0:r.role)==="Project Manager")&&o.jsxs("div",{children:[o.jsxs("span",{className:"text-xs text-text-secondary uppercase font-semibold flex items-center gap-1 mb-1",children:[o.jsx(Rv,{size:14})," Budget"]}),o.jsx("span",{className:"text-sm font-medium",children:n.budget?`${n.budget.toLocaleString()}`:"N/A"})]})]})]}),o.jsxs("div",{className:"bg-bg-card border border-border rounded-lg p-6",children:[o.jsxs("h2",{className:"text-lg font-bold text-text-primary mb-4 flex items-center gap-2",children:[o.jsx(KZ,{size:20})," Discussion"]}),o.jsxs("div",{className:"flex gap-4 mb-8",children:[o.jsx(Ac,{src:r==null?void 0:r.avatar,name:r==null?void 0:r.name,alt:r==null?void 0:r.name,size:"md"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(jl,{placeholder:"Add a comment...",value:f,onChange:A=>p(A.target.value),rows:3,className:"w-full resize-none"}),o.jsx("div",{className:"flex justify-end",children:o.jsx(dt,{size:"sm",onClick:x,disabled:!f.trim()||h,children:h?"Posting...":"Post Comment"})})]})]}),o.jsx("div",{className:"space-y-6",children:n.comments&&n.comments.length>0?[...n.comments].reverse().map((A,O)=>{var D,M,I,z;return o.jsxs("div",{className:"flex gap-4 group",children:[o.jsx(Ac,{src:(D=A.createdBy)==null?void 0:D.avatar,name:((M=A.createdBy)==null?void 0:M.name)||"Unknown",alt:(I=A.createdBy)==null?void 0:I.name,size:"md"}),o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-semibold text-text-primary",children:((z=A.createdBy)==null?void 0:z.name)||"Unknown User"}),o.jsx("span",{className:"text-xs text-text-secondary",children:new Date(A.createdAt).toLocaleString()})]}),o.jsx("div",{className:"text-sm text-text-primary whitespace-pre-wrap bg-bg-subtle p-3 rounded-lg rounded-tl-none border border-border",children:A.content.split(/((?:https?:\/\/|www\.)[^\s]+)/g).map((Y,X)=>Y.match(/^(https?:\/\/|www\.)/)?o.jsx("a",{href:Y.startsWith("www.")?`https://${Y}`:Y,target:"_blank",rel:"noopener noreferrer",className:"text-brand-primary hover:underline",children:Y},X):Y)})]})]},O)}):o.jsx("p",{className:"text-text-secondary text-sm italic py-4 text-center",children:"No comments yet. Start the discussion!"})})]}),w&&r&&(r.role==="Admin"||((C=r.permissions)==null?void 0:C.includes("projects:task_view"))||((_=r.permissions)==null?void 0:_.some(A=>A.name==="projects:task_view")))&&o.jsxs("div",{className:"bg-bg-card border border-border rounded-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[o.jsx(L2,{size:20})," Tasks"]}),(r.role==="Admin"||((S=r.permissions)==null?void 0:S.includes("projects:task_create"))||((k=r.permissions)==null?void 0:k.some(A=>A.name==="projects:task_create")))&&o.jsx(dt,{size:"sm",onClick:()=>c(!0),children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{children:"+"})," Add Task"]})})]}),o.jsx(DXe,{projectId:n._id})]}),l&&o.jsx(MXe,{projectId:n._id,onClose:()=>c(!1),onSuccess:()=>{c(!1),window.location.reload()}})]})}function PXe(){const[e,t]=b.useState(null),[r,n]=b.useState(!1),[a,s]=b.useState(null),[i,l]=b.useState([]);b.useEffect(()=>{c()},[]);const c=async()=>{try{const p=await je.getPolicyStatus();p.policies&&l(p.policies)}catch(p){console.error("Failed to fetch policy status",p)}},d=p=>{if(p.target.files&&p.target.files.length>0){const h=p.target.files;for(let m=0;m<h.length;m++)if(h[m].type!=="application/pdf"){s({type:"error",text:"Only PDF files are allowed"});return}t(h),s(null)}},u=async()=>{if(!(!e||e.length===0)){n(!0),s(null);try{await je.uploadPolicy(e),s({type:"success",text:"Policies uploaded successfully!"}),t(null),c()}catch(p){s({type:"error",text:p.message||"Upload failed"})}finally{n(!1)}}},f=async p=>{if(window.confirm("Are you sure you want to remove this document?"))try{await je.deletePolicy(p),c(),s({type:"success",text:"Document removed successfully"})}catch(h){s({type:"error",text:h.message||"Failed to delete document"})}};return o.jsxs("div",{className:"bg-bg-card rounded-xl shadow-sm border border-border p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"p-2 bg-brand-primary/10 rounded-lg text-brand-primary",children:o.jsx(xn,{size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"AI Chatbot Configuration"}),o.jsx("p",{className:"text-text-secondary text-sm",children:"Manage Knowledge Base Documents"})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-bg-main rounded-lg p-4 border border-border",children:[o.jsxs("h3",{className:"text-sm font-semibold text-text-secondary mb-3 uppercase tracking-wider",children:["Active Documents (",i.length,")"]}),i.length>0?o.jsx("div",{className:"space-y-3",children:i.map(p=>{var h;return o.jsxs("div",{className:"flex items-center justify-between bg-bg-card p-3 rounded-lg border border-border",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(In,{className:"text-status-success shrink-0 mt-0.5",size:18}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-text-primary",children:p.originalName}),o.jsxs("p",{className:"text-xs text-text-muted mt-1",children:["Uploaded by ",(h=p.uploadedBy)==null?void 0:h.name," on"," ",new Date(p.createdAt).toLocaleDateString()]})]})]}),o.jsx("button",{onClick:()=>f(p._id),className:"p-2 text-text-muted hover:text-status-error hover:bg-status-error/10 rounded-lg transition-colors",title:"Remove Document",children:o.jsx(yn,{size:16})})]},p._id)})}):o.jsxs("div",{className:"flex items-center gap-2 text-text-muted italic",children:[o.jsx(ta,{size:16}),o.jsx("p",{children:"No active documents found."})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2 text-text-primary",children:"Upload New Documents (PDF Only)"}),o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("input",{type:"file",multiple:!0,accept:"application/pdf",onChange:d,className:`w-full text-sm text-text-secondary
                  file:mr-4 file:py-2 file:px-4
                  file:rounded-lg file:border-0
                  file:text-sm file:font-semibold
                  file:bg-brand-primary/10 file:text-brand-primary
                  hover:file:bg-brand-primary/20
                  cursor-pointer bg-bg-main rounded-lg border border-border`}),o.jsx("p",{className:"text-xs text-text-muted mt-2",children:"You can upload multiple documents. New uploads will be added to the knowledge base."})]}),o.jsxs("button",{onClick:u,disabled:!e||r,className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:[r?o.jsx(Vn,{className:"animate-spin",size:18}):o.jsx(Sl,{size:18}),"Upload"]})]})]}),a&&o.jsxs("div",{className:`p-3 rounded-lg text-sm flex items-center gap-2 ${a.type==="success"?"bg-status-success/10 text-status-success":"bg-status-error/10 text-status-error"}`,children:[a.type==="success"?o.jsx(In,{size:16}):o.jsx(ta,{size:16}),a.text]})]})]})}const $ce=({node:e})=>{const[t,r]=b.useState(!0),n=e.children&&e.children.length>0;return o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:`
          flex flex-col items-center p-3 rounded-lg border border-border bg-bg-card shadow-sm hover:shadow-md transition-all
          ${n?"cursor-pointer":""}
          w-48 relative z-10
        `,onClick:()=>n&&r(!t),children:[o.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden mb-2 border-2 border-brand-primary/20",children:o.jsx(Ac,{src:e.profilePicture?e.profilePicture.startsWith("http")?e.profilePicture:`${Ma}${e.profilePicture}`.replace("//uploads","/uploads"):void 0,name:`${e.firstName} ${e.lastName}`,alt:e.firstName,className:"w-full h-full",size:"md"})}),o.jsxs("div",{className:"text-center",children:[o.jsxs("h3",{className:"font-semibold text-text-primary text-sm truncate w-full",children:[e.firstName," ",e.lastName]}),o.jsx("p",{className:"text-xs text-text-secondary truncate w-full",children:e.designation||"N/A"})]}),n&&o.jsx("div",{className:"absolute -bottom-3 bg-bg-card rounded-full p-0.5 border border-border",children:t?o.jsx(K8,{size:14}):o.jsx(Wo,{size:14})})]}),n&&t&&o.jsxs("div",{className:"flex flex-col items-center mt-4 relative",children:[o.jsx("div",{className:"w-px h-4 bg-border absolute -top-4"}),o.jsxs("div",{className:"flex gap-4 pt-4 relative",children:[e.children.length>1&&o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 h-px bg-border w-[calc(100%-12rem)]"}),e.children.map(a=>o.jsxs("div",{className:"flex flex-col items-center relative",children:[o.jsx("div",{className:"w-px h-4 bg-border absolute -top-4"}),o.jsx($ce,{node:a})]},a._id))]})]})]})};function RXe(){const e=vs(),[t,r]=xye(),{showToast:n}=GN(),a=t.get("tab")||"hierarchy",s=w=>{r({tab:w})},[i,l]=b.useState([]),[c,d]=b.useState([]),[u,f]=b.useState(!0),[p,h]=b.useState(null),[m,g]=b.useState("");b.useEffect(()=>{x()},[]);const x=async()=>{try{f(!0);const[w,N]=await Promise.all([je.getHierarchy(),je.getDirectory()]),C=y(w);l(C),d(N)}catch(w){console.error(w),h(w.message||"Failed to load data")}finally{f(!1)}},y=w=>{const N=new Map,C=[];return w.forEach(_=>{N.set(_._id,{..._,children:[]})}),w.forEach(_=>{const S=N.get(_._id);if(_.reportingManager&&typeof _.reportingManager=="object"&&"_id"in _.reportingManager&&N.has(_.reportingManager._id)){const k=_.reportingManager._id;N.get(k).children.push(S)}else C.push(S)}),C},v=c.filter(w=>{const N=m.toLowerCase();return w.firstName.toLowerCase().includes(N)||w.lastName.toLowerCase().includes(N)||w.designation.toLowerCase().includes(N)||w.department&&w.department.toLowerCase().includes(N)});return u?o.jsxs("div",{className:"flex flex-col items-center justify-center h-[600px] bg-bg-card rounded-lg border border-border p-8",children:[o.jsxs("div",{className:"flex flex-col items-center mb-8 relative",children:[o.jsxs("div",{className:"flex flex-col items-center p-3 rounded-lg border border-border bg-bg-main w-48 shadow-sm",children:[o.jsx(Se,{className:"w-12 h-12 rounded-full mb-2"}),o.jsx(Se,{className:"w-32 h-4 mb-2"}),o.jsx(Se,{className:"w-24 h-3"})]}),o.jsx("div",{className:"w-px h-8 bg-border absolute -bottom-8"})]}),o.jsxs("div",{className:"flex gap-8 relative",children:[o.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 w-[calc(100%-12rem)] h-px bg-border"}),[1,2].map(w=>o.jsxs("div",{className:"flex flex-col items-center relative",children:[o.jsx("div",{className:"w-px h-4 bg-border absolute -top-4"}),o.jsxs("div",{className:"flex flex-col items-center p-3 rounded-lg border border-border bg-bg-main w-48 shadow-sm",children:[o.jsx(Se,{className:"w-12 h-12 rounded-full mb-2"}),o.jsx(Se,{className:"w-32 h-4 mb-2"}),o.jsx(Se,{className:"w-24 h-3"})]})]},w))]})]}):p?o.jsx("div",{className:"text-center text-red-500 p-8 bg-red-50 rounded-lg",children:p}):o.jsx("div",{className:"flex flex-col h-full gap-6",children:o.jsxs("div",{className:"bg-bg-card rounded-lg shadow-sm border border-border flex flex-col h-full min-h-[600px] overflow-hidden",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between border-b border-border",children:[o.jsxs("div",{className:"flex overflow-x-auto",children:[o.jsxs("button",{onClick:()=>s("hierarchy"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition-colors whitespace-nowrap border-b-2 ${a==="hierarchy"?"border-brand-primary text-brand-primary bg-brand-primary/5":"border-transparent text-text-secondary hover:text-text-primary hover:bg-bg-hover"}`,children:[o.jsx(Z8,{size:16}),"Org Chart"]}),o.jsxs("button",{onClick:()=>s("directory"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition-colors whitespace-nowrap border-b-2 ${a==="directory"?"border-brand-primary text-brand-primary bg-brand-primary/5":"border-transparent text-text-secondary hover:text-text-primary hover:bg-bg-hover"}`,children:[o.jsx(WZ,{size:16}),"Directory"]})]}),a==="directory"&&o.jsx("div",{className:"pr-2 w-full md:w-auto",children:o.jsx("div",{className:"relative w-full md:w-64",children:o.jsx(ft,{placeholder:"Search employees...",value:m,onChange:w=>g(w.target.value),leftIcon:o.jsx(df,{className:"text-text-muted",size:16}),className:"bg-bg-secondary w-full"})})})]}),o.jsx("div",{className:"flex-1 relative",children:a==="hierarchy"?o.jsx("div",{className:"absolute inset-0 overflow-auto p-8 flex justify-center bg-bg-secondary/20",children:o.jsx("div",{className:"min-w-max flex justify-center gap-12",children:i.length>0?i.map(w=>o.jsx($ce,{node:w},w._id)):o.jsx("div",{className:"text-center text-text-secondary mt-12",children:"No hierarchy data available."})})}):o.jsx("div",{className:"absolute inset-0 overflow-auto p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[v.map(w=>o.jsxs("div",{onClick:()=>e(`/organization/employee/${w._id}`),className:"group relative bg-bg-card border border-border rounded-xl hover:shadow-lg transition-all duration-300 hover:-translate-y-1 overflow-hidden flex flex-col items-center text-center p-4 cursor-pointer",children:[o.jsxs("div",{className:"mt-2 mb-3 relative",children:[o.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-white dark:border-bg-card shadow-md ring-1 ring-black/5 dark:ring-white/10 overflow-hidden",children:o.jsx(Ac,{src:w.profilePicture?w.profilePicture.startsWith("http")?w.profilePicture:`${Ma}${w.profilePicture}`.replace("//uploads","/uploads"):void 0,name:`${w.firstName} ${w.lastName}`,alt:w.firstName,className:"w-full h-full",size:"md"})}),o.jsx("div",{className:"absolute bottom-0 right-0 p-0.5 bg-bg-card rounded-full",children:o.jsx("div",{className:`w-3 h-3 rounded-full border-2 border-bg-card ${w.isOnline?"bg-status-success":"bg-gray-300"}`,title:w.isOnline?"Online":"Offline"})})]}),o.jsxs("div",{className:"w-full mb-3",children:[o.jsxs("h3",{className:"font-bold text-text-primary text-sm truncate px-1",children:[w.firstName," ",w.lastName]}),o.jsx("p",{className:"text-brand-primary text-xs font-medium truncate px-1 mb-1",children:w.designation}),o.jsx("span",{className:"inline-block px-2 py-0.5 bg-bg-secondary text-text-secondary text-xs rounded-full truncate max-w-full",children:w.department||"General"})]}),o.jsxs("div",{className:"w-full flex items-center justify-center gap-2 mt-auto pt-3 border-t border-border",children:[w.workPhone&&o.jsx(en,{content:`Work: ${w.workPhone} (Click to copy)`,children:o.jsx("button",{onClick:()=>{navigator.clipboard.writeText(w.workPhone),n("Work phone copied to clipboard","success")},className:"p-2 rounded-full bg-bg-hover text-text-secondary hover:text-brand-primary hover:bg-brand-primary/10 transition-colors",children:o.jsx(Rw,{size:14})})}),w.personalMobile&&o.jsx(en,{content:`Mobile: ${w.personalMobile} (Click to copy)`,children:o.jsx("button",{onClick:()=>{navigator.clipboard.writeText(w.personalMobile),n("Mobile number copied to clipboard","success")},className:"p-2 rounded-full bg-bg-hover text-text-secondary hover:text-brand-primary hover:bg-brand-primary/10 transition-colors",children:o.jsx(tL,{size:14})})}),o.jsx(en,{content:`Email: ${w.email} (Click to copy)`,children:o.jsx("button",{onClick:()=>{w.email&&(navigator.clipboard.writeText(w.email),n("Email copied to clipboard","success"))},className:"p-2 rounded-full bg-bg-hover text-text-secondary hover:text-brand-primary hover:bg-brand-primary/10 transition-colors",children:o.jsx(bc,{size:14})})})]})]},w._id)),v.length===0&&o.jsx("div",{className:"col-span-full text-center py-12 text-text-secondary",children:"No employees found matching your search."})]})})})]})})}function LXe(){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Organization Structure"}),o.jsx("p",{className:"text-text-secondary",children:"View the reporting hierarchy of the organization."})]}),o.jsx(RXe,{})]})}const IXe=e=>{switch(e){case"Rocket":return o.jsx(eL,{className:"text-white",size:20});case"Trophy":return o.jsx(eee,{className:"text-white",size:20});case"CheckCircle":return o.jsx(In,{className:"text-white",size:20});case"TrendingUp":return o.jsx(wc,{className:"text-white",size:20});case"Shield":return o.jsx(gh,{className:"text-white",size:20});case"Briefcase":return o.jsx(cu,{className:"text-white",size:20});case"Star":return o.jsx(a1e,{className:"text-white",size:20});case"Clock":return o.jsx(Mn,{className:"text-white",size:20});default:return o.jsx(Xa,{className:"text-white",size:20})}},FXe=e=>{switch(e){case"Joined":return{gradient:"from-blue-500 to-indigo-600",shadow:"shadow-blue-500/30",text:"text-blue-600 dark:text-blue-400",bgTint:"bg-blue-50 dark:bg-blue-900/10",border:"border-blue-200 dark:border-blue-800"};case"Anniversary":return{gradient:"from-amber-400 to-orange-500",shadow:"shadow-amber-500/30",text:"text-amber-600 dark:text-amber-400",bgTint:"bg-amber-50 dark:bg-amber-900/10",border:"border-amber-200 dark:border-amber-800"};case"Probation":return{gradient:"from-emerald-400 to-green-600",shadow:"shadow-emerald-500/30",text:"text-emerald-600 dark:text-emerald-400",bgTint:"bg-emerald-50 dark:bg-emerald-900/10",border:"border-emerald-200 dark:border-emerald-800"};case"DesignationChange":return{gradient:"from-purple-500 to-fuchsia-600",shadow:"shadow-purple-500/30",text:"text-purple-600 dark:text-purple-400",bgTint:"bg-purple-50 dark:bg-purple-900/10",border:"border-purple-200 dark:border-purple-800"};case"Promotion":return{gradient:"from-purple-500 to-fuchsia-600",shadow:"shadow-purple-500/30",text:"text-purple-600 dark:text-purple-400",bgTint:"bg-purple-50 dark:bg-purple-900/10",border:"border-purple-200 dark:border-purple-800"};case"RoleChange":return{gradient:"from-indigo-400 to-violet-600",shadow:"shadow-indigo-500/30",text:"text-indigo-600 dark:text-indigo-400",bgTint:"bg-indigo-50 dark:bg-indigo-900/10",border:"border-indigo-200 dark:border-indigo-800"};case"Award":return{gradient:"from-yellow-400 to-orange-500",shadow:"shadow-orange-500/40",text:"text-orange-600 dark:text-orange-400",bgTint:"bg-orange-50 dark:bg-orange-900/10",border:"border-orange-200 dark:border-orange-800"};case"Project":return{gradient:"from-cyan-400 to-blue-500",shadow:"shadow-cyan-500/30",text:"text-cyan-600 dark:text-cyan-400",bgTint:"bg-cyan-50 dark:bg-cyan-900/10",border:"border-cyan-200 dark:border-cyan-800"};default:return{gradient:"from-slate-400 to-slate-600",shadow:"shadow-slate-500/30",text:"text-slate-600 dark:text-slate-400",bgTint:"bg-slate-50 dark:bg-slate-900/10",border:"border-slate-200 dark:border-slate-800"}}},Uce=({employeeId:e})=>{const[t,r]=b.useState([]),[n,a]=b.useState(!0),[s,i]=b.useState(null);b.useEffect(()=>{e&&(async()=>{try{const d=await je.getEmployeeTimeline(e);r(d)}catch(d){i(d.message||"Failed to load timeline")}finally{a(!1)}})()},[e]);const l=b.useMemo(()=>{if(!t.length)return null;const c=t.find(p=>p.type==="Joined");let d="New Joinee";if(c){const p=new Date(c.date),h=new Date,m=Kwe(h,p),g=Dee(h,p)%12;d=`${m}y ${g}m`}const u=t.filter(p=>p.type==="Award").length,f=t.filter(p=>p.type==="Project").length;return{tenure:d,awards:u,projects:f}},[t]);return n?o.jsx(Vce,{}):s?o.jsx("div",{className:"text-center py-8 text-status-error bg-red-50 rounded-xl dark:bg-red-900/20 border border-red-200",children:s}):o.jsxs("div",{className:"py-8 px-4 max-w-5xl mx-auto",children:[l&&o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8 px-2",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-4 text-center border border-blue-100 dark:border-blue-800 shadow-sm relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(Mn,{size:40,className:"text-blue-600"})}),o.jsx("p",{className:"text-text-secondary text-xs font-medium uppercase tracking-wider",children:"Tenure"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1",children:l.tenure})]}),o.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 rounded-xl p-4 text-center border border-orange-100 dark:border-orange-800 shadow-sm relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(eee,{size:40,className:"text-orange-600"})}),o.jsx("p",{className:"text-text-secondary text-xs font-medium uppercase tracking-wider",children:"Awards"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400 mt-1",children:l.awards})]}),o.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-teal-50 dark:from-cyan-900/20 dark:to-teal-900/20 rounded-xl p-4 text-center border border-cyan-100 dark:border-cyan-800 shadow-sm relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(cu,{size:40,className:"text-cyan-600"})}),o.jsx("p",{className:"text-text-secondary text-xs font-medium uppercase tracking-wider",children:"Projects"}),o.jsx("p",{className:"text-2xl font-bold text-cyan-600 dark:text-cyan-400 mt-1",children:l.projects})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-1 bg-gradient-to-b from-gray-200 via-gray-300 to-gray-200 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800 -translate-x-1/2 rounded-full"}),o.jsx("div",{className:"md:hidden absolute left-8 top-0 bottom-0 w-1 bg-gray-200 dark:bg-gray-800 rounded-full"}),o.jsx("div",{className:"space-y-6",children:t.map((c,d)=>{const u=FXe(c.type),f=d%2===0;return o.jsxs("div",{className:ia("relative flex items-center md:justify-between group","flex-row justify-start"),children:[o.jsx("div",{className:ia("hidden md:block w-5/12",f?"order-1":"order-3")}),o.jsx("div",{className:ia("absolute md:static z-10","left-8 -translate-x-1/2","md:translate-x-0 md:w-2/12 md:flex md:justify-center md:order-2"),children:o.jsx("div",{className:ia("flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br shadow-md ring-2 ring-bg-main transform transition-all duration-500 group-hover:scale-110 group-hover:rotate-12",u.gradient,u.shadow),children:IXe(c.icon)})}),o.jsx("div",{className:ia("w-full ml-16 md:ml-0 md:w-5/12 z-0",f?"md:order-3 md:text-left":"md:order-1 md:text-right"),children:o.jsxs("div",{className:ia("relative p-4 rounded-xl border shadow-sm transition-all duration-300 hover:shadow-md hover:-translate-y-0.5",u.bgTint,u.border),children:[o.jsxs("div",{className:ia("flex flex-col gap-0.5 mb-1",f?"md:items-start":"md:items-end"),children:[o.jsx("span",{className:ia("text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-widest bg-white/50 dark:bg-black/20 w-fit",u.text),children:c.type}),o.jsx("span",{className:"text-xs font-medium text-text-muted",children:ps(new Date(c.date),"MMM d, yyyy")})]}),o.jsx("h3",{className:ia("text-lg font-bold text-text-primary mb-1"),children:c.title}),o.jsx("p",{className:"text-sm text-text-secondary leading-snug",children:c.description})]})})]},d)})}),o.jsx("div",{className:"flex justify-center mt-8",children:o.jsx("div",{className:"bg-bg-card text-text-muted px-4 py-2 rounded-full border border-border text-xs uppercase tracking-widest shadow-sm z-10 relative",children:"Journey Started"})})]})]})},Vce=()=>o.jsxs("div",{className:"py-8 px-4 max-w-5xl mx-auto animate-pulse",children:[o.jsx("div",{className:"grid grid-cols-3 gap-4 mb-8 px-2",children:[1,2,3].map(e=>o.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-xl h-24 w-full"},e))}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-1 bg-gray-200 dark:bg-gray-700 -translate-x-1/2 rounded-full"}),o.jsx("div",{className:"md:hidden absolute left-8 top-0 bottom-0 w-1 bg-gray-200 dark:bg-gray-700 rounded-full"}),o.jsx("div",{className:"space-y-6",children:[1,2,3,4].map(e=>{const t=e%2===0;return o.jsxs("div",{className:"relative flex items-center md:justify-between flex-row justify-start",children:[o.jsx("div",{className:ia("hidden md:block w-5/12",t?"order-1":"order-3")}),o.jsx("div",{className:ia("absolute md:static z-10 left-8 -translate-x-1/2 md:translate-x-0 md:w-2/12 md:flex md:justify-center md:order-2"),children:o.jsx("div",{className:"h-10 w-10 bg-gray-200 dark:bg-gray-700 rounded-full ring-4 ring-bg-main"})}),o.jsx("div",{className:ia("w-full ml-16 md:ml-0 md:w-5/12 z-0",t?"md:order-3 md:text-left":"md:order-1 md:text-right"),children:o.jsxs("div",{className:"p-4 rounded-xl border border-gray-100 dark:border-gray-800 bg-white dark:bg-bg-card shadow-sm",children:[o.jsxs("div",{className:ia("flex flex-col gap-2 mb-2",t?"md:items-start":"md:items-end"),children:[o.jsx("div",{className:"h-4 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"}),o.jsx("div",{className:"h-3 w-24 bg-gray-200 dark:bg-gray-700 rounded-full"})]}),o.jsx("div",{className:"h-6 w-3/4 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),o.jsx("div",{className:"h-4 w-full bg-gray-200 dark:bg-gray-700 rounded"})]})})]},e)})})]})]});function zXe(){const{id:e}=C4(),t=vs(),[r,n]=b.useState(null),[a,s]=b.useState([]),[i,l]=b.useState(!0),[c,d]=b.useState("overview");if(b.useEffect(()=>{(async()=>{if(e)try{l(!0);const[p,h]=await Promise.all([je.getEmployeePublicProfile(e),je.getAppreciations({recipientId:e})]),m=(g,x)=>`${g} ${x}`;n({id:p._id,name:m(p.firstName,p.lastName),email:p.email,designation:p.designation,department:p.department,profilePicture:p.profilePicture,employeeId:p.employeeId,doj:p.dateOfJoining,workPhone:p.workPhone,personalMobile:p.personalMobile,reportingManager:p.reportingManager,isOnline:p.isOnline}),s(h)}catch(p){console.error("Failed to fetch profile",p)}finally{l(!1)}})()},[e]),i)return o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary"})});if(!r)return o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-text-secondary",children:[o.jsx(yo,{size:48,className:"mb-4 opacity-50"}),o.jsx("p",{children:"Employee not found"}),o.jsx("button",{onClick:()=>t(-1),className:"mt-4 text-brand-primary hover:underline",children:"Go Back"})]});const u=f=>{switch(f==null?void 0:f.toLowerCase()){case"star_performer":return o.jsx(od,{className:"text-yellow-500"});case"team_player":return o.jsx(yo,{className:"text-blue-500"});case"innovator":return o.jsx(WZ,{className:"text-purple-500"});default:return o.jsx(od,{className:"text-brand-primary"})}};return o.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto pb-12 animate-in fade-in duration-500",children:[o.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-text-secondary hover:text-text-primary transition-colors",children:[o.jsx(E4,{size:20}),o.jsx("span",{children:"Back"})]}),o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl shadow-sm overflow-hidden",children:[o.jsx("div",{className:"h-32 bg-gradient-to-r from-brand-primary/10 to-brand-primary/5"}),o.jsxs("div",{className:"px-8 pb-8",children:[o.jsx("div",{className:"relative flex justify-between items-end -mt-12 mb-6",children:o.jsxs("div",{className:"flex items-end gap-6",children:[o.jsx("div",{className:"w-32 h-32 rounded-full border-4 border-bg-card bg-bg-card p-1 shadow-md",children:o.jsx(Ac,{src:r.profilePicture?r.profilePicture.startsWith("http")?r.profilePicture:`${Ma}${r.profilePicture}`.replace("//uploads","/uploads"):void 0,name:r.name,className:"w-full h-full rounded-full",size:"lg"})}),o.jsxs("div",{className:"pb-2 mb-1",children:[o.jsx("h1",{className:"text-3xl font-bold text-text-primary",children:r.name}),o.jsxs("p",{className:"text-text-secondary text-lg flex items-center gap-2",children:[r.designation,o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-text-muted"}),r.department]})]})]})}),o.jsxs("div",{className:"flex flex-wrap gap-4 pt-4 border-t border-border",children:[r.email&&o.jsxs("a",{href:`mailto:${r.email}`,className:"flex items-center gap-2 text-sm text-text-secondary hover:text-brand-primary transition-colors px-3 py-2 rounded-lg hover:bg-bg-hover",children:[o.jsx(bc,{size:16}),r.email]}),r.workPhone&&o.jsxs("a",{href:`tel:${r.workPhone}`,className:"flex items-center gap-2 text-sm text-text-secondary hover:text-brand-primary transition-colors px-3 py-2 rounded-lg hover:bg-bg-hover",children:[o.jsx(Rw,{size:16}),r.workPhone]})]})]})]}),o.jsxs("div",{className:"flex border-b border-border",children:[o.jsx("button",{onClick:()=>d("overview"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${c==="overview"?"border-brand-primary text-brand-primary":"border-transparent text-text-secondary hover:text-text-primary"}`,children:"Overview"}),o.jsx("button",{onClick:()=>d("journey"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${c==="journey"?"border-brand-primary text-brand-primary":"border-transparent text-text-secondary hover:text-text-primary"}`,children:"Journey Timeline"}),o.jsx("button",{onClick:()=>d("badges"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${c==="badges"?"border-brand-primary text-brand-primary":"border-transparent text-text-secondary hover:text-text-primary"}`,children:"Badges & Recognition"})]}),o.jsxs("div",{className:"min-h-[400px]",children:[c==="overview"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[o.jsxs("div",{className:"bg-bg-card p-6 rounded-xl border border-border shadow-sm",children:[o.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-text-primary mb-6",children:[o.jsx(yo,{size:18})," Basic Information"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between border-b border-border pb-3",children:[o.jsx("span",{className:"text-text-secondary text-sm",children:"Employee ID"}),o.jsx("span",{className:"text-text-primary font-medium text-sm",children:r.employeeId})]}),o.jsxs("div",{className:"flex justify-between border-b border-border pb-3",children:[o.jsx("span",{className:"text-text-secondary text-sm",children:"Date of Joining"}),o.jsx("span",{className:"text-text-primary font-medium text-sm",children:r.doj?ps(new Date(r.doj),"dd/MM/yyyy"):"N/A"})]}),o.jsxs("div",{className:"flex justify-between border-b border-border pb-3",children:[o.jsx("span",{className:"text-text-secondary text-sm",children:"Department"}),o.jsx("span",{className:"text-text-primary font-medium text-sm",children:r.department})]}),o.jsxs("div",{className:"flex justify-between border-b border-border pb-3",children:[o.jsx("span",{className:"text-text-secondary text-sm",children:"Designation"}),o.jsx("span",{className:"text-text-primary font-medium text-sm",children:r.designation})]})]})]}),o.jsxs("div",{className:"bg-bg-card p-6 rounded-xl border border-border shadow-sm",children:[o.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-text-primary mb-6",children:[o.jsx(gh,{size:18})," Reporting Manager"]}),r.reportingManager?o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-bg-main rounded-lg border border-border",children:[o.jsxs("div",{className:"w-12 h-12 rounded-full bg-brand-primary/10 flex items-center justify-center text-brand-primary font-bold",children:[r.reportingManager.firstName[0],r.reportingManager.lastName[0]]}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-text-primary",children:[r.reportingManager.firstName," ",r.reportingManager.lastName]}),o.jsx("p",{className:"text-xs text-text-secondary",children:"Manager"})]})]}):o.jsx("div",{className:"text-text-secondary italic",children:"No reporting manager assigned"})]})]}),c==="journey"&&o.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:o.jsx(Uce,{employeeId:r.id})}),c==="badges"&&o.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:a.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(f=>o.jsxs("div",{className:"bg-bg-card p-6 rounded-xl border border-border shadow-sm flex flex-col items-center text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-brand-primary/5 flex items-center justify-center mb-4",children:u(f.awardType)}),o.jsx("h3",{className:"font-bold text-text-primary mb-1 capitalize",children:f.awardType.replace(/_/g," ")}),o.jsx("p",{className:"text-xs text-text-secondary mb-4",children:ps(new Date(f.date),"MMM dd, yyyy")}),o.jsxs("p",{className:"text-sm text-text-secondary italic mb-4",children:['"',f.message,'"']}),o.jsxs("div",{className:"mt-auto flex items-center gap-2 text-xs text-text-muted",children:[o.jsx("span",{children:"Given by"}),o.jsx("span",{className:"font-medium text-text-primary",children:f.giver.name})]})]},f._id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-text-secondary",children:[o.jsx(od,{size:48,className:"mb-4 opacity-20"}),o.jsx("p",{children:"No badges received yet."})]})})]})]})}const hN=[{key:"employees",label:"Employee Management",shortLabel:"Employees"},{key:"clients",label:"Client Management",shortLabel:"Clients"},{key:"roles",label:"Role Management",shortLabel:"Roles"},{key:"assets",label:"Asset Management",shortLabel:"Assets"},{key:"ai_chatbot",label:"AI Chatbot Configuration",shortLabel:"AI Chatbot"},{key:"audit",label:"Audit Trail",shortLabel:"Audit"},{key:"leave",label:"Leave Management",shortLabel:"Leave"},{key:"payroll",label:"Payroll & Finance",shortLabel:"Payroll"},{key:"projects",label:"Project Management",shortLabel:"Projects"},{key:"organization",label:"Organization Structure",shortLabel:"Org Structure"},{key:"feedback",label:"Feedback",shortLabel:"Feedback"},{key:"social",label:"Social Wall",shortLabel:"Social Wall"},{key:"appreciation",label:"Appreciation",shortLabel:"Appreciation"},{key:"email_automation",label:"Email Automation",shortLabel:"Email Auto"},{key:"timesheet",label:"Timesheet Management",shortLabel:"Timesheets"},{key:"shifts",label:"Shift Management",shortLabel:"Shifts"},{key:"attendance",label:"Attendance & Time Tracking",shortLabel:"Attendance"},{key:"policies",label:"Policy Management",shortLabel:"Policies"},{key:"documents",label:"Document Management",shortLabel:"Documents"},{key:"designations",label:"Designation Management",shortLabel:"Designations"},{key:"exit_management",label:"Exit Management",shortLabel:"Exit"},{key:"help",label:"Help Center",shortLabel:"Help"},{key:"my_journey",label:"My Journey",shortLabel:"Journey"}],BP=hN.map(e=>e.key),BXe=({onClose:e,onCreate:t})=>{const[r,n]=b.useState({companyName:"",ownerEmail:"",plan:"free",subdomain:"",limits:{enabledModules:BP}}),[a,s]=b.useState(!1),[i,l]=b.useState(""),[c,d]=b.useState(null),[u,f]=b.useState(null),[p,h]=b.useState(null),[m,g]=b.useState(null),[x,y]=b.useState(null),v=(C,_)=>{if(C.target.files&&C.target.files[0]){const S=C.target.files[0];_==="logo"?f(S):h(S);const k=new FileReader;k.onloadend=()=>{_==="logo"?g(k.result):y(k.result)},k.readAsDataURL(S)}},w=async C=>{C.preventDefault(),l(""),s(!0);try{const _=new FormData;_.append("companyName",r.companyName),_.append("ownerEmail",r.ownerEmail),_.append("plan",r.plan),_.append("subdomain",r.subdomain),_.append("limits",JSON.stringify(r.limits)),u&&_.append("logo",u),p&&_.append("favicon",p);const S=await je.createTenant(_);d({email:S.admin.email,password:S.admin.tempPassword}),t()}catch(_){l(_.message||"Failed to create tenant")}finally{s(!1)}},N=C=>{n({...r,[C.target.name]:C.target.value})};return c?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900 mb-4",children:o.jsx("svg",{className:"h-6 w-6 text-green-600 dark:text-green-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Tenant Created Successfully!"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"The company admin account has been created. Please save these credentials:"}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 text-left mb-4",children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Email"}),o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Temporary Password"}),o.jsx("p",{className:"text-sm font-mono font-medium text-gray-900 dark:text-white bg-white dark:bg-gray-800 px-2 py-1 rounded",children:c.password})]})]}),o.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 mb-4",children:" The admin should change this password on first login"}),o.jsx("button",{onClick:e,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Close"})]})})}):o.jsx(_r,{isOpen:!0,onClose:e,title:"Create Tenant",maxWidth:"max-w-4xl",children:o.jsxs("form",{onSubmit:w,className:"space-y-6",children:[i&&o.jsxs("div",{className:"bg-status-error/10 text-status-error p-4 rounded-lg flex items-center gap-2 text-sm",children:[o.jsx(Qi,{size:16}),i]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:["Company Name ",o.jsx("span",{className:"text-status-error",children:"*"})]}),o.jsx(ft,{name:"companyName",value:r.companyName,onChange:N,className:"bg-bg-main",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:["Owner Email ",o.jsx("span",{className:"text-status-error",children:"*"})]}),o.jsx(ft,{type:"email",name:"ownerEmail",value:r.ownerEmail,onChange:N,className:"bg-bg-main",required:!0,placeholder:"admin@company.com"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Plan"}),o.jsx(sr,{name:"plan",value:r.plan,onChange:C=>n({...r,plan:C}),options:[{value:"free",label:"Free"},{value:"basic",label:"Basic"},{value:"pro",label:"Pro"},{value:"enterprise",label:"Enterprise"}],className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Subdomain (Optional)"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-1",children:o.jsx(ft,{name:"subdomain",value:r.subdomain,onChange:N,className:"bg-bg-main rounded-r-none",placeholder:"company"})}),o.jsx("span",{className:"px-3 py-2 bg-bg-secondary border-y border-r border-border rounded-r-lg text-text-secondary text-sm",children:".hrms.com"})]}),o.jsx("p",{className:"text-xs text-text-secondary mt-1",children:"e.g., acme.yourhrms.com"})]})]})]}),o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Ug,{className:"text-brand-primary",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Branding"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Company Logo"}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"w-24 h-24 border-2 border-dashed border-border rounded-lg flex items-center justify-center bg-bg-secondary overflow-hidden relative group",children:[m?o.jsx("img",{src:m,alt:"Logo preview",className:"w-full h-full object-contain"}):o.jsx("span",{className:"text-text-muted text-[10px]",children:"No Logo"}),o.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx("p",{className:"text-white text-[10px] font-medium",children:"Change"})}),o.jsx("input",{type:"file",accept:"image/*",onChange:C=>v(C,"logo"),className:"absolute inset-0 opacity-0 cursor-pointer"})]}),o.jsxs("div",{className:"flex-1 text-sm text-text-secondary",children:[o.jsx("p",{className:"text-xs",children:"Upload company logo."}),o.jsx("div",{className:"mt-2",children:o.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-3 py-1.5 border border-border rounded-lg hover:bg-bg-hover transition-colors text-xs font-medium",children:[o.jsx(Sl,{size:14}),"Choose File",o.jsx("input",{type:"file",accept:"image/*",onChange:C=>v(C,"logo"),className:"hidden"})]})})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Favicon"}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"w-16 h-16 border-2 border-dashed border-border rounded-lg flex items-center justify-center bg-bg-secondary overflow-hidden relative group",children:[x?o.jsx("img",{src:x,alt:"Favicon preview",className:"w-8 h-8 object-contain"}):o.jsx(Lh,{className:"text-text-muted",size:24}),o.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx("p",{className:"text-white text-[10px] font-medium",children:"Change"})}),o.jsx("input",{type:"file",accept:"image/*",onChange:C=>v(C,"favicon"),className:"absolute inset-0 opacity-0 cursor-pointer"})]}),o.jsxs("div",{className:"flex-1 text-sm text-text-secondary",children:[o.jsx("p",{className:"text-xs",children:"Upload favicon."}),o.jsx("div",{className:"mt-2",children:o.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-3 py-1.5 border border-border rounded-lg hover:bg-bg-hover transition-colors text-xs font-medium",children:[o.jsx(Sl,{size:14}),"Choose File",o.jsx("input",{type:"file",accept:"image/*",onChange:C=>v(C,"favicon"),className:"hidden"})]})})]})]})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("label",{className:"block text-base font-semibold text-text-primary",children:"Enabled Modules"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:()=>n({...r,limits:{...r.limits,enabledModules:BP}}),className:"text-xs font-medium text-brand-primary hover:text-brand-primary/80 transition-colors",children:"Select All"}),o.jsx("button",{type:"button",onClick:()=>n({...r,limits:{...r.limits,enabledModules:[]}}),className:"text-xs font-medium text-text-secondary hover:text-text-primary transition-colors",children:"Deselect All"})]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 p-4 bg-bg-secondary/50 rounded-lg border border-border",children:hN.map(C=>o.jsx(gl,{label:C.shortLabel||C.label,checked:r.limits.enabledModules.includes(C.key),onChange:_=>{const S=_.target.checked,k=r.limits.enabledModules;n({...r,limits:{...r.limits,enabledModules:S?[...k,C.key]:k.filter(A=>A!==C.key)}})}},C.key))})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-border",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-text-secondary bg-bg-main border border-border rounded-lg hover:bg-bg-hover transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 text-sm font-medium text-white bg-brand-primary rounded-lg hover:bg-brand-primary/90 focus:ring-4 focus:ring-brand-primary/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:a?"Creating...":"Create Tenant"})]})]})})},HXe=({tenant:e,onClose:t,onUpdate:r})=>{const[n,a]=b.useState({companyName:"",ownerEmail:"",plan:"free",subdomain:"",limits:{enabledModules:[]}}),[s,i]=b.useState(!1),[l,c]=b.useState(""),[d,u]=b.useState(null),[f,p]=b.useState(null),[h,m]=b.useState(null),[g,x]=b.useState(null),y=(N,C)=>{if(N.target.files&&N.target.files[0]){const _=N.target.files[0];C==="logo"?u(_):p(_);const S=new FileReader;S.onloadend=()=>{C==="logo"?m(S.result):x(S.result)},S.readAsDataURL(_)}};b.useEffect(()=>{var N,C;if(e){a({companyName:e.companyName||"",ownerEmail:e.ownerEmail||"",plan:e.plan||"free",subdomain:e.subdomain||"",limits:e.limits||{enabledModules:[]}});const _=((N=e.settings)==null?void 0:N.logo)||e.logo,S=((C=e.settings)==null?void 0:C.favicon)||e.favicon;_&&m(_),S&&x(S)}},[e]);const v=async N=>{N.preventDefault(),c(""),i(!0);try{const C=new FormData;C.append("companyName",n.companyName),C.append("plan",n.plan),C.append("subdomain",n.subdomain),C.append("limits",JSON.stringify(n.limits)),d&&C.append("logo",d),f&&C.append("favicon",f),await je.updateTenant(e._id,C),r(),t()}catch(C){c(C.message||"Failed to update tenant")}finally{i(!1)}},w=N=>{a({...n,[N.target.name]:N.target.value})};return o.jsx(_r,{isOpen:!0,onClose:t,title:"Edit Tenant",maxWidth:"max-w-4xl",children:o.jsxs("form",{onSubmit:v,className:"space-y-6",children:[l&&o.jsxs("div",{className:"bg-status-error/10 text-status-error p-4 rounded-lg flex items-center gap-2 text-sm",children:[o.jsx(Qi,{size:16}),l]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Company Name"}),o.jsx(ft,{name:"companyName",value:n.companyName,onChange:w,className:"bg-bg-main",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Owner Email"}),o.jsx(ft,{type:"email",name:"ownerEmail",value:n.ownerEmail,onChange:w,className:"bg-bg-main opacity-70 cursor-not-allowed",required:!0,disabled:!0}),o.jsx("p",{className:"mt-1 text-xs text-text-secondary",children:"Cannot be changed after creation"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Plan"}),o.jsx(sr,{name:"plan",value:n.plan,onChange:N=>a({...n,plan:N}),options:[{value:"free",label:"Free"},{value:"basic",label:"Basic"},{value:"pro",label:"Pro"},{value:"enterprise",label:"Enterprise"}],className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Subdomain (Optional)"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-1",children:o.jsx(ft,{name:"subdomain",value:n.subdomain,onChange:w,className:"bg-bg-main rounded-r-none",placeholder:"company"})}),o.jsx("span",{className:"px-3 py-2 bg-bg-secondary border-y border-r border-border rounded-r-lg text-text-secondary text-sm",children:".hrms.com"})]})]})]})]}),o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Ug,{className:"text-brand-primary",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Branding"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Company Logo"}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"w-24 h-24 border-2 border-dashed border-border rounded-lg flex items-center justify-center bg-bg-secondary overflow-hidden relative group",children:[h?o.jsx("img",{src:h,alt:"Logo preview",className:"w-full h-full object-contain"}):o.jsx("span",{className:"text-text-muted text-[10px]",children:"No Logo"}),o.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx("p",{className:"text-white text-[10px] font-medium",children:"Change"})}),o.jsx("input",{type:"file",accept:"image/*",onChange:N=>y(N,"logo"),className:"absolute inset-0 opacity-0 cursor-pointer"})]}),o.jsxs("div",{className:"flex-1 text-sm text-text-secondary",children:[o.jsx("p",{className:"text-xs",children:"Upload company logo."}),o.jsx("div",{className:"mt-2",children:o.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-3 py-1.5 border border-border rounded-lg hover:bg-bg-hover transition-colors text-xs font-medium",children:[o.jsx(Sl,{size:14}),"Choose File",o.jsx("input",{type:"file",accept:"image/*",onChange:N=>y(N,"logo"),className:"hidden"})]})})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Favicon"}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"w-16 h-16 border-2 border-dashed border-border rounded-lg flex items-center justify-center bg-bg-secondary overflow-hidden relative group",children:[g?o.jsx("img",{src:g,alt:"Favicon preview",className:"w-8 h-8 object-contain"}):o.jsx(Lh,{className:"text-text-muted",size:24}),o.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx("p",{className:"text-white text-[10px] font-medium",children:"Change"})}),o.jsx("input",{type:"file",accept:"image/*",onChange:N=>y(N,"favicon"),className:"absolute inset-0 opacity-0 cursor-pointer"})]}),o.jsxs("div",{className:"flex-1 text-sm text-text-secondary",children:[o.jsx("p",{className:"text-xs",children:"Upload favicon."}),o.jsx("div",{className:"mt-2",children:o.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-3 py-1.5 border border-border rounded-lg hover:bg-bg-hover transition-colors text-xs font-medium",children:[o.jsx(Sl,{size:14}),"Choose File",o.jsx("input",{type:"file",accept:"image/*",onChange:N=>y(N,"favicon"),className:"hidden"})]})})]})]})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("label",{className:"block text-base font-semibold text-text-primary",children:"Enabled Modules"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:()=>a({...n,limits:{...n.limits,enabledModules:BP}}),className:"text-xs font-medium text-brand-primary hover:text-brand-primary/80 transition-colors",children:"Select All"}),o.jsx("button",{type:"button",onClick:()=>a({...n,limits:{...n.limits,enabledModules:[]}}),className:"text-xs font-medium text-text-secondary hover:text-text-primary transition-colors",children:"Deselect All"})]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 p-4 bg-bg-secondary/50 rounded-lg border border-border",children:hN.map(N=>{var C,_;return o.jsx(gl,{label:N.shortLabel||N.label,checked:((_=(C=n.limits)==null?void 0:C.enabledModules)==null?void 0:_.includes(N.key))||!1,onChange:S=>{var O;const k=S.target.checked,A=((O=n.limits)==null?void 0:O.enabledModules)||[];a({...n,limits:{...n.limits,enabledModules:k?[...A,N.key]:A.filter(D=>D!==N.key)}})}},N.key)})})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-border",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-text-secondary bg-bg-main border border-border rounded-lg hover:bg-bg-hover transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-brand-primary rounded-lg hover:bg-brand-primary/90 focus:ring-4 focus:ring-brand-primary/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:s?"Saving...":"Save Changes"})]})]})})},$Xe=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,s]=b.useState(""),[i,l]=b.useState("all"),[c,d]=b.useState("all"),[u,f]=b.useState(!1),[p,h]=b.useState(null),[m,g]=b.useState(null),[x,y]=b.useState(!1);b.useEffect(()=>{v()},[i,c]);const v=async()=>{try{n(!0);const k={};i!=="all"&&(k.status=i),c!=="all"&&(k.plan=c),a&&(k.search=a);const A=await je.getAllTenants(k);t(A.tenants||[])}catch(k){console.error("Failed to load tenants:",k)}finally{n(!1)}},w=()=>{v()},N=k=>{const A={active:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",suspended:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",trial:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",expired:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return A[k]||A.active},C=k=>{const A={free:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",basic:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",pro:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",enterprise:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300"};return A[k]||A.free},_=async()=>{if(m){y(!0);try{await je.deleteTenant(m),await v(),g(null)}catch(k){console.error("Failed to delete tenant:",k),alert("Failed to delete tenant. Please try again.")}finally{y(!1)}}},S=async(k,A)=>{const O=A==="active"?"suspended":"active";try{await je.updateTenantStatus(k,O),await v()}catch(D){console.error("Failed to update tenant status:",D),alert("Failed to update tenant status. Please try again.")}};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Tenant Management"}),o.jsx("p",{className:"text-text-secondary mt-1",children:"Manage all companies and their subscriptions"})]}),o.jsx(dt,{onClick:()=>f(!0),leftIcon:o.jsx(Na,{size:20}),children:"Create Tenant"})]}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"col-span-2",children:o.jsx("div",{className:"relative",children:o.jsx(ft,{placeholder:"Search by company name or email...",value:a,onChange:k=>s(k.target.value),onKeyPress:k=>k.key==="Enter"&&w(),leftIcon:o.jsx(df,{className:"text-gray-400",size:20}),className:"bg-white dark:bg-gray-700"})})}),o.jsx(sr,{value:i,onChange:k=>l(k),options:[{value:"all",label:"All Statuses"},{value:"active",label:"Active"},{value:"trial",label:"Trial"},{value:"suspended",label:"Suspended"},{value:"expired",label:"Expired"}],className:"bg-white dark:bg-gray-700"}),o.jsx(sr,{value:c,onChange:k=>d(k),options:[{value:"all",label:"All Plans"},{value:"free",label:"Free"},{value:"basic",label:"Basic"},{value:"pro",label:"Pro"},{value:"enterprise",label:"Enterprise"}],className:"bg-white dark:bg-gray-700"})]})}),r?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(k=>o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(Se,{className:"h-6 w-3/4"}),o.jsx(Se,{className:"h-4 w-1/2"})]})}),o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsx(Se,{className:"h-6 w-16 rounded-full"}),o.jsx(Se,{className:"h-6 w-16 rounded-full"})]}),o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Se,{className:"h-4 w-24"}),o.jsx(Se,{className:"h-4 w-16"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Se,{className:"h-4 w-24"}),o.jsx(Se,{className:"h-4 w-16"})]})]}),o.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700 flex gap-2",children:[o.jsx(Se,{className:"h-9 flex-1 rounded-lg"}),o.jsx(Se,{className:"h-9 flex-1 rounded-lg"}),o.jsx(Se,{className:"h-9 w-10 rounded-lg"})]})]},k))}):e.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(vc,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"No tenants found"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(k=>o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-lg transition-shadow cursor-pointer",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-lg truncate",children:k.companyName}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:k.ownerEmail})]})}),o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N(k.status)}`,children:k.status}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C(k.plan)}`,children:k.plan.toUpperCase()})]}),k.stats&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[o.jsx(Da,{size:16}),"Employees"]}),o.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[k.stats.employeeCount,"/",k.limits.maxEmployees]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[o.jsx(J8,{size:16}),"Storage"]}),o.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[k.stats.storageUsed.toFixed(1),"/",k.limits.maxStorage," MB"]})]})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:["Created ",new Date(k.createdAt).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:A=>{A.stopPropagation(),h(k)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-blue-600 bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 rounded-lg transition-colors text-sm",title:"Edit Tenant",children:[o.jsx(YN,{size:16}),"Edit"]}),k.status==="active"?o.jsxs("button",{onClick:A=>{A.stopPropagation(),S(k._id,k.status)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-amber-600 bg-amber-50 hover:bg-amber-100 dark:bg-amber-900/20 dark:hover:bg-amber-900/30 rounded-lg transition-colors text-sm",title:"Suspend Tenant",children:[o.jsx(Mye,{size:16}),"Suspend"]}):o.jsxs("button",{onClick:A=>{A.stopPropagation(),S(k._id,k.status)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-green-600 bg-green-50 hover:bg-green-100 dark:bg-green-900/20 dark:hover:bg-green-900/30 rounded-lg transition-colors text-sm",title:"Activate Tenant",children:[o.jsx(In,{size:16}),"Activate"]}),o.jsx("button",{onClick:A=>{A.stopPropagation(),g(k._id)},className:"px-3 py-2 text-red-600 bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete Tenant",children:o.jsx(yn,{size:16})})]})]})]},k._id))}),u&&o.jsx(BXe,{onClose:()=>f(!1),onCreate:v}),p&&o.jsx(HXe,{tenant:p,onClose:()=>h(null),onUpdate:v}),o.jsx(ji,{isOpen:m!==null,onClose:()=>g(null),onConfirm:_,title:"Delete Tenant",message:"Are you sure you want to delete this tenant? This will permanently delete all data including employees, projects, and records. This action cannot be undone.",confirmText:"Delete Tenant",variant:"danger",isLoading:x})]})},UXe=()=>{const[e,t]=b.useState(null),[r,n]=b.useState(!0);b.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0);const i=await je.getPlatformAnalytics();t(i)}catch(i){console.error("Failed to load analytics:",i)}finally{n(!1)}};if(r||!e)return o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx(Se,{className:"h-8 w-48 mb-2"}),o.jsx(Se,{className:"h-4 w-64"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[1,2,3,4].map(i=>o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Se,{className:"h-4 w-24 mb-2"}),o.jsx(Se,{className:"h-8 w-16"})]}),o.jsx(Se,{className:"h-12 w-12 rounded-lg"})]})},i))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[o.jsx(Se,{className:"h-6 w-32 mb-4"}),o.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(i=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx(Se,{className:"h-4 w-20"}),o.jsx(Se,{className:"h-4 w-12"})]}),o.jsx(Se,{className:"h-2 w-full rounded-full"})]},i))})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[o.jsx(Se,{className:"h-6 w-32 mb-4"}),o.jsx("div",{className:"space-y-3",children:[1,2,3].map(i=>o.jsx(Se,{className:"h-12 w-full rounded-lg"},i))})]})]})]});const s={free:"bg-gray-500",basic:"bg-blue-500",pro:"bg-purple-500",enterprise:"bg-amber-500"};return o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Platform Analytics"}),o.jsx("p",{className:"text-text-secondary mt-1",children:"Overview of platform usage and metrics"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total Tenants"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.overview.totalTenants})]}),o.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:o.jsx(vc,{className:"h-6 w-6 text-blue-600 dark:text-blue-300"})})]})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Active Tenants"}),o.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:e.overview.activeTenants})]}),o.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-lg",children:o.jsx(wc,{className:"h-6 w-6 text-green-600 dark:text-green-300"})})]})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total Users"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.overview.totalUsers})]}),o.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:o.jsx(Da,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})})]})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Trial Tenants"}),o.jsx("p",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:e.overview.trialTenants})]}),o.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900 rounded-lg",children:o.jsx(Rv,{className:"h-6 w-6 text-orange-600 dark:text-orange-300"})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Plan Distribution"}),o.jsx("div",{className:"space-y-4",children:e.planDistribution.map(i=>{const l=(i.count/e.overview.totalTenants*100).toFixed(1);return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white capitalize",children:i._id}),o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i.count," (",l,"%)"]})]}),o.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full ${s[i._id]||"bg-gray-500"}`,style:{width:`${l}%`}})})]},i._id)})})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Status Breakdown"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Active"}),o.jsx("span",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:e.overview.activeTenants})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Trial"}),o.jsx("span",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:e.overview.trialTenants})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Suspended"}),o.jsx("span",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:e.overview.suspendedTenants})]})]})]})]})]})};function VXe(){const[e,t]=b.useState([]),r=["Super Admin","Admin","HR","Employee","Project Manager","Consultant","CEO","Accountant","Intern"],[n,a]=b.useState([]),[s,i]=b.useState([]),{user:l,hasPermission:c}=Sr(),[d,u]=b.useState(!0),[f,p]=b.useState(null),[h,m]=b.useState(!1),[g,x]=b.useState(null),[y,v]=b.useState(""),[w,N]=b.useState([]),[C,_]=b.useState([]),[S,k]=b.useState([]),[A,O]=b.useState(!1),D=hN.filter(R=>{if(!(l!=null&&l.tenantId)||typeof l.tenantId!="object"||!("limits"in l.tenantId))return!0;const F=l.tenantId;return F.limits&&F.limits.enabledModules&&F.limits.enabledModules.includes(R.key)}).sort((R,F)=>R.label.localeCompare(F.label)),[M,I]=b.useState(null),[z,Y]=b.useState(!1),X=async()=>{u(!0);try{const[R,F,H]=await Promise.all([je.getRoles(),je.getPermissions(),je.getAllDocumentTypes()]);t(R.filter(W=>W.name!=="Super Admin")),a(F),H.success&&i(H.data),p(null)}catch(R){p("Failed to fetch data"),console.error(R)}finally{u(!1)}};b.useEffect(()=>{X()},[]);const V=R=>{R?(x(R),v(R.name),N(R.permissions.map(F=>F._id)),_(R.accessibleModules||[]),k(R.mandatoryDocuments||[])):(x(null),v(""),N([]),_([]),k([])),m(!0)},G=R=>{N(F=>F.includes(R)?F.filter(H=>H!==R):[...F,R])},J=R=>{k(F=>F.includes(R)?F.filter(H=>H!==R):[...F,R])},B=(R,F)=>{if(_(H=>F?[...H,R]:H.filter(W=>W!==R)),F){const H=n.filter(W=>W.name.startsWith(`${R}:`)).map(W=>W._id);N(W=>{const te=new Set(W);return H.forEach(pe=>te.add(pe)),Array.from(te)})}else{const H=n.filter(W=>W.name.startsWith(`${R}:`)).map(W=>W._id);N(W=>W.filter(te=>!H.includes(te)))}},q=async R=>{if(R.preventDefault(),!!y.trim()){O(!0);try{const F={name:y,permissions:w,accessibleModules:C,mandatoryDocuments:S};g?await je.updateRole(g._id,F):await je.createRole(F),X(),m(!1)}catch(F){console.error(F),alert(F.message||"Failed to save role")}finally{O(!1)}}},T=async()=>{if(M){Y(!0);try{await je.deleteRole(M),t(e.filter(R=>R._id!==M)),I(null)}catch(R){console.error(R),alert("Failed to delete role")}finally{Y(!1)}}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Role Management"}),o.jsx("p",{className:"text-text-secondary mt-1",children:"Manage system roles and permissions"})]}),c("roles:create")&&o.jsx(dt,{onClick:()=>V(),leftIcon:o.jsx(Na,{size:20}),children:"Add Role"})]}),f&&o.jsxs("div",{className:"bg-status-error/10 text-status-error p-4 rounded-lg flex items-center gap-2",children:[o.jsx(ta,{size:20}),o.jsx("span",{children:f})]}),o.jsx(eo,{columns:[{header:"Role Name",accessorKey:"name",searchKey:"name",render:R=>o.jsxs("div",{className:"flex items-center gap-2 font-medium text-text-primary",children:[o.jsx(gh,{size:16,className:r.includes(R.name)?"text-purple-600":"text-brand-primary"}),R.name,r.includes(R.name)&&o.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded border border-purple-200",children:"System"})]})},{header:"Mandatory Documents",render:R=>o.jsx("div",{className:"flex flex-wrap gap-1",children:R.mandatoryDocuments&&R.mandatoryDocuments.length>0?o.jsxs("span",{className:"px-2 py-0.5 bg-purple-50 text-purple-700 text-xs rounded-full border border-purple-100",children:[R.mandatoryDocuments.length," Documents Required"]}):o.jsx("span",{className:"text-xs text-text-secondary",children:"None"})})},{header:"Permissions",render:R=>o.jsxs("div",{className:"flex flex-wrap gap-1",children:[R.permissions.length>0?R.permissions.slice(0,3).map(F=>o.jsx("span",{className:"px-2 py-0.5 bg-brand-primary/10 text-brand-primary text-xs rounded-full",children:F.name.split(":")[1]||F.name},F._id)):o.jsx("span",{className:"text-sm text-text-secondary",children:"No permissions"}),R.permissions.length>3&&o.jsxs("span",{className:"text-xs text-text-secondary",children:["+",R.permissions.length-3," more"]})]})},{header:"Accessible Modules",render:R=>o.jsxs("div",{className:"flex flex-wrap gap-1",children:[R.accessibleModules&&R.accessibleModules.length>0?R.accessibleModules.slice(0,3).map(F=>{var W;const H=((W=hN.find(te=>te.key===F))==null?void 0:W.label)||F;return o.jsx("span",{className:"px-2 py-0.5 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-xs rounded-full border border-blue-100 dark:border-blue-800",children:H},F)}):o.jsx("span",{className:"text-sm text-text-secondary",children:"No modules"}),R.accessibleModules&&R.accessibleModules.length>3&&o.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-xs rounded-full border border-gray-200 dark:border-gray-700",children:["+",R.accessibleModules.length-3," more"]})]})},{header:"Actions",className:"text-right",render:R=>o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c("roles:edit")&&o.jsx(en,{content:"Edit Role",children:o.jsx("button",{onClick:()=>V(R),className:"p-2 text-text-secondary hover:text-brand-primary hover:bg-brand-primary/10 rounded-lg transition-colors",children:o.jsx(WN,{size:18})})}),c("roles:delete")&&!r.includes(R.name)&&o.jsx(en,{content:"Delete Role",children:o.jsx("button",{onClick:()=>I(R._id),className:"p-2 text-text-secondary hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:o.jsx(yn,{size:18})})})]})}],data:e,isLoading:d,emptyMessage:"No roles found."}),o.jsx(_r,{isOpen:h,onClose:()=>m(!1),title:g?"Edit Role":"Add New Role",maxWidth:"max-w-4xl",children:o.jsxs("form",{onSubmit:q,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:["Role Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(ft,{value:y,onChange:R=>v(R.target.value),placeholder:"e.g. HR Manager",className:"bg-bg-main",required:!0})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-text-secondary mb-2",children:"Mandatory Documents Checklist"}),o.jsx("div",{className:"border border-border rounded-lg p-4 bg-bg-main/50 max-h-48 overflow-y-auto grid grid-cols-2 gap-3",children:s.length>0?s.map(R=>o.jsx(gl,{label:R.name,checked:S.includes(R._id),onChange:()=>J(R._id)},R._id)):o.jsx("p",{className:"col-span-2 text-sm text-text-secondary text-center",children:"No document types available. Configure them in Settings."})}),o.jsx("p",{className:"text-xs text-text-secondary mt-1",children:"Select documents that employees with this role MUST upload."})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Accessible Modules"}),o.jsxs("div",{className:"flex gap-2 text-sm",children:[o.jsx("button",{type:"button",onClick:()=>{const R=D.map(H=>H.key);_(R);const F=n.filter(H=>{const[W]=H.name.split(":");return R.includes(W)}).map(H=>H._id);N(H=>{const W=new Set(H);return F.forEach(te=>W.add(te)),Array.from(W)})},className:"text-brand-primary hover:text-brand-primary/80 font-medium",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{type:"button",onClick:()=>{_([]);const R=D.map(H=>H.key),F=n.filter(H=>R.includes(H.name.split(":")[0])).map(H=>H._id);N(H=>H.filter(W=>!F.includes(W)))},className:"text-text-secondary hover:text-text-primary",children:"Deselect All"})]})]}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 border border-border rounded-lg p-4 bg-bg-main/50",children:D.map(R=>o.jsx(gl,{label:R.shortLabel||R.label,checked:C.includes(R.key),onChange:F=>B(R.key,F.target.checked)},R.key))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Permissions"}),o.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto border border-border rounded-lg p-4",children:n.length>0?Object.entries(n.reduce((R,F)=>{const[H]=F.name.split(":"),W=H||"Other";return R[W]||(R[W]=[]),R[W].push(F),R},{})).sort((R,F)=>R[0].localeCompare(F[0])).map(([R,F])=>{const H=F.map(te=>te._id),W=C.includes(R)||!D.some(te=>te.key===R);return o.jsxs("div",{className:`space-y-2 ${W?"":"opacity-50"}`,children:[o.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-1",children:[o.jsx("h3",{className:"text-sm font-semibold text-text-primary capitalize",children:R.replace("_"," ")}),o.jsxs("div",{className:"flex gap-2 text-xs",children:[o.jsx("button",{type:"button",onClick:()=>{N(te=>[...te,...H.filter(pe=>!te.includes(pe))])},className:"text-brand-primary hover:text-brand-primary/80 font-medium disabled:cursor-not-allowed disabled:text-gray-400",disabled:!W,children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{type:"button",onClick:()=>{N(te=>te.filter(pe=>!H.includes(pe)))},className:"text-text-secondary hover:text-text-primary disabled:cursor-not-allowed disabled:text-gray-400",disabled:!W,children:"Deselect All"})]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:F.sort((te,pe)=>te.name.localeCompare(pe.name)).map(te=>o.jsx("label",{className:`flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded ${W?"":"cursor-not-allowed"}`,children:o.jsx(gl,{checked:w.includes(te._id),onChange:()=>G(te._id),label:te.name.split(":")[1]||te.name,disabled:!W})},te._id))})]},R)}):o.jsx("p",{className:"text-sm text-text-secondary text-center py-2",children:"No permissions available."})})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 border border-border rounded-lg text-text-secondary hover:bg-gray-50 font-medium transition-colors",disabled:A,children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary font-medium transition-colors disabled:opacity-50",disabled:A,children:A?"Saving...":"Save Role"})]})]})}),o.jsx(ji,{isOpen:!!M,onClose:()=>I(null),onConfirm:T,title:"Delete Role",message:"Are you sure you want to delete this role? This action cannot be undone.",confirmText:"Delete",variant:"danger",isLoading:z})]})}function qXe(){const{hasPermission:e}=Sr(),t=e("designations:manage"),[r,n]=b.useState([]),[a,s]=b.useState(!0),[i,l]=b.useState(null),[c,d]=b.useState(!1),[u,f]=b.useState(null),[p,h]=b.useState({name:"",description:"",status:"active"}),[m,g]=b.useState(!1),[x,y]=b.useState(null),[v,w]=b.useState(!1),N=async()=>{s(!0);try{const k=await je.getDesignations();n(k),l(null)}catch(k){l("Failed to fetch designations"),console.error(k)}finally{s(!1)}};b.useEffect(()=>{N()},[]);const C=k=>{k?(f(k),h({name:k.name,description:k.description||"",status:k.status})):(f(null),h({name:"",description:"",status:"active"})),d(!0)},_=async k=>{if(k.preventDefault(),!!p.name.trim()){g(!0);try{u?await je.updateDesignation(u._id,p):await je.createDesignation(p),N(),d(!1)}catch(A){console.error(A),alert(A.message||"Failed to save designation")}finally{g(!1)}}},S=async()=>{if(x){w(!0);try{await je.deleteDesignation(x),n(r.filter(k=>k._id!==x)),y(null)}catch(k){console.error(k),alert(k.message||"Failed to delete designation")}finally{w(!1)}}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Designation Management"}),o.jsx("p",{className:"text-text-secondary mt-1",children:"Create and manage employee job designations"})]}),t&&o.jsx(dt,{onClick:()=>C(),leftIcon:o.jsx(Na,{size:20}),children:"Add Designation"})]}),i&&o.jsxs("div",{className:"bg-status-error/10 text-status-error p-4 rounded-lg flex items-center gap-2",children:[o.jsx(ta,{size:20}),o.jsx("span",{children:i})]}),o.jsx(eo,{columns:[{header:"Designation Name",accessorKey:"name",searchKey:"name",render:k=>o.jsxs("div",{className:"flex items-center gap-2 font-medium text-text-primary",children:[o.jsx(IZ,{size:16,className:"text-brand-primary"}),k.name]})},{header:"Description",accessorKey:"description",render:k=>o.jsx("span",{className:"text-text-secondary truncate block max-w-md",children:k.description||"-"})},{header:"Status",accessorKey:"status",render:k=>o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${k.status==="active"?"bg-status-success/10 text-status-success":"bg-status-error/10 text-status-error"}`,children:k.status.charAt(0).toUpperCase()+k.status.slice(1)})},{header:"Actions",className:"text-right",render:k=>o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(en,{content:"Edit",children:o.jsx("button",{onClick:()=>C(k),className:"p-2 text-text-secondary hover:text-brand-primary hover:bg-brand-primary/10 rounded-lg transition-colors",children:o.jsx(WN,{size:18})})}),o.jsx(en,{content:"Delete",children:o.jsx("button",{onClick:()=>y(k._id),className:"p-2 text-text-secondary hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:o.jsx(yn,{size:18})})})]})}].filter(k=>k.header!=="Actions"||t),data:r,isLoading:a,emptyMessage:"No designations found."}),o.jsx(_r,{isOpen:c,onClose:()=>d(!1),title:u?"Edit Designation":"Add Designation",maxWidth:"max-w-md",children:o.jsxs("form",{onSubmit:_,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:["Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(ft,{value:p.name,onChange:k=>h({...p,name:k.target.value}),placeholder:"e.g. Senior Software Engineer",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Description"}),o.jsx("textarea",{value:p.description,onChange:k=>h({...p,description:k.target.value}),className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/20 bg-bg-main text-text-primary",rows:3,placeholder:"Optional description"})]}),o.jsx("div",{children:o.jsx(sr,{label:"Status",value:p.status,onChange:k=>h({...p,status:k}),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 border border-border rounded-lg text-text-secondary hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary font-medium transition-colors disabled:opacity-50",disabled:m,children:m?"Saving...":"Save Designation"})]})]})}),o.jsx(ji,{isOpen:!!x,onClose:()=>y(null),onConfirm:S,title:"Delete Designation",message:"Are you sure you want to delete this designation?",confirmText:"Delete",variant:"danger",isLoading:v})]})}const WXe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function YXe(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,s]=b.useState(!1),[i,l]=b.useState(null),[c,d]=b.useState({name:"",startTime:"",endTime:"",breakDuration:0,gracePeriod:0,workingDays:["Monday","Tuesday","Wednesday","Thursday","Friday"],saturdayPolicy:"all",status:"active"}),u=async()=>{try{n(!0);const y=await je.getShifts();t(y)}catch(y){console.error("Failed to fetch shifts:",y)}finally{n(!1)}};b.useEffect(()=>{u()},[]);const f=y=>{l(y),d({name:y.name,startTime:y.startTime,endTime:y.endTime,breakDuration:y.breakDuration,gracePeriod:y.gracePeriod,workingDays:y.workingDays,saturdayPolicy:y.saturdayPolicy||"all",status:y.status}),s(!0)},p=async y=>{if(window.confirm("Are you sure you want to delete this shift?"))try{await je.deleteShift(y),u()}catch(v){alert(v.message)}},h=async y=>{y.preventDefault();try{i?await je.updateShift(i._id,c):await je.createShift(c),s(!1),u(),m()}catch(v){alert(v.message)}},m=()=>{l(null),d({name:"",startTime:"",endTime:"",breakDuration:0,gracePeriod:0,workingDays:["Monday","Tuesday","Wednesday","Thursday","Friday"],saturdayPolicy:"all",status:"active"})},g=y=>{d(v=>{const w=v.workingDays.includes(y)?v.workingDays.filter(N=>N!==y):[...v.workingDays,y];return{...v,workingDays:w}})},x=[{header:"Shift Name",accessorKey:"name",searchKey:"name"},{header:"Timings",render:y=>o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Mn,{size:14,className:"text-text-secondary"}),y.startTime," - ",y.endTime]})},{header:"Working Days",render:y=>o.jsx("div",{className:"flex flex-wrap gap-1",children:y.workingDays.map(v=>o.jsx("span",{className:"text-xs px-2 py-0.5 bg-bg-hover rounded text-text-secondary",children:v.slice(0,3)},v))})},{header:"Status",render:y=>o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:y.status.charAt(0).toUpperCase()+y.status.slice(1)})},{header:"Actions",render:y=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(en,{content:"Edit Shift",children:o.jsx("button",{onClick:()=>f(y),className:"p-1 text-text-secondary hover:text-brand-primary transition-colors",children:o.jsx(r6,{size:18})})}),o.jsx(en,{content:"Delete Shift",children:o.jsx("button",{onClick:()=>p(y._id),className:"p-1 text-text-secondary hover:text-red-500 transition-colors",children:o.jsx(yn,{size:18})})})]})}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Shift Management"}),o.jsx("p",{className:"text-text-secondary mt-1",children:"Manage work shifts and timings"})]}),o.jsx(dt,{onClick:()=>{m(),s(!0)},leftIcon:o.jsx(Na,{size:20}),children:"Add Shift"})]}),o.jsx("div",{className:"bg-bg-card rounded-lg border border-border overflow-hidden",children:o.jsx(eo,{data:e,columns:x,isLoading:r,emptyMessage:"No shifts found. Create your first shift to get started."})}),o.jsx(_r,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Shift":"Add New Shift",maxWidth:"max-w-xl",children:o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsx(ft,{label:"Shift Name",value:c.name,onChange:y=>d({...c,name:y.target.value}),placeholder:"e.g. General Shift, Night Shift",required:!0}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(ft,{label:"Start Time",type:"time",value:c.startTime,onChange:y=>d({...c,startTime:y.target.value}),required:!0}),o.jsx(ft,{label:"End Time",type:"time",value:c.endTime,onChange:y=>d({...c,endTime:y.target.value}),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(ft,{label:"Break Duration (mins)",type:"number",value:c.breakDuration,onChange:y=>d({...c,breakDuration:parseInt(y.target.value)||0})}),o.jsx(ft,{label:"Grace Period (mins)",type:"number",value:c.gracePeriod,onChange:y=>d({...c,gracePeriod:parseInt(y.target.value)||0})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Working Days"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:WXe.map(y=>o.jsx("button",{type:"button",onClick:()=>g(y),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${c.workingDays.includes(y)?"bg-brand-primary text-white":"bg-bg-hover text-text-secondary hover:bg-bg-secondary"}`,children:y.slice(0,3)},y))}),c.workingDays.includes("Saturday")&&o.jsxs("div",{className:"mt-3 bg-bg-panel p-3 rounded-lg border border-border",children:[o.jsx("label",{className:"block text-xs font-semibold text-text-muted uppercase tracking-wider mb-2",children:"Saturday Working Policy"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm text-text-primary cursor-pointer",children:[o.jsx("input",{type:"radio",name:"saturdayPolicy",checked:c.saturdayPolicy==="all",onChange:()=>d({...c,saturdayPolicy:"all"}),className:"text-brand-primary focus:ring-brand-primary"}),"All Saturdays"]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm text-text-primary cursor-pointer",children:[o.jsx("input",{type:"radio",name:"saturdayPolicy",checked:c.saturdayPolicy==="odd",onChange:()=>d({...c,saturdayPolicy:"odd"}),className:"text-brand-primary focus:ring-brand-primary"}),"Odd Saturdays Only"]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Status"}),o.jsx(sr,{value:c.status,onChange:y=>d({...c,status:y}),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 text-text-secondary hover:bg-bg-hover rounded-lg transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 transition-colors",children:i?"Update Shift":"Create Shift"})]})]})})]})}function GXe(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,s]=b.useState(!1),[i,l]=b.useState(null);b.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const g=(await je.getAllGlobalUsers({})).filter(x=>!x.isSuperAdmin&&!x.roles.some(y=>y.name==="Super Admin"));t(g)}catch(m){console.error("Failed to fetch users",m)}finally{n(!1)}},d=async m=>{try{const g=m.status==="active"?"inactive":"active";await je.updateGlobalUserStatus(m._id,g),c()}catch(g){console.error("Failed to update status",g),alert("Failed to update user status")}},u=m=>{l(m._id)},f=async()=>{if(i){s(!0);try{await je.deleteGlobalUser(i),c()}catch(m){console.error("Failed to delete user",m),alert(m.message||"Failed to delete user")}finally{s(!1),l(null)}}},p=m=>{switch(m){case"active":return"success";case"inactive":return"warning";case"suspended":return"error";default:return"default"}},h=[{header:"User",accessorKey:"name",render:m=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-primary/10 flex items-center justify-center text-brand-primary font-medium",children:m.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-text-primary",children:m.name}),o.jsx("div",{className:"text-xs text-text-secondary",children:m.email})]})]})},{header:"Tenant (Company)",accessorKey:"tenantId",render:m=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vc,{size:14,className:"text-text-muted"}),o.jsx("span",{className:"text-sm text-text-primary",children:m.tenantId?m.tenantId.companyName:"N/A (Super Admin)"})]})},{header:"Role",accessorKey:"roles",render:m=>o.jsxs("div",{className:"flex flex-wrap gap-1",children:[m.roles.map(g=>o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",children:g.name},g._id)),m.isSuperAdmin&&o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",children:"Super Admin"})]})},{header:"Status",accessorKey:"status",render:m=>o.jsx(Zu,{variant:p(m.status),children:m.status})},{header:"Actions",accessorKey:"actions",render:m=>o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(en,{content:m.status==="active"?"Deactivate User":"Activate User",children:o.jsx("button",{onClick:()=>d(m),className:`p-1 rounded transition-colors ${m.status==="active"?"text-amber-600 hover:bg-amber-50":"text-green-600 hover:bg-green-50"}`,children:m.status==="active"?o.jsx(nee,{size:16}):o.jsx(tee,{size:16})})}),o.jsx(en,{content:"Delete User",children:o.jsx("button",{onClick:()=>u(m),className:"p-1 hover:bg-red-50 text-text-muted hover:text-red-600 rounded transition-colors",children:o.jsx(yn,{size:16})})})]})}];return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"User Management"}),o.jsx("p",{className:"text-text-secondary mt-1",children:"View and manage all users across all tenants"})]})}),r?o.jsx("div",{className:"bg-bg-card rounded-xl border border-border shadow-sm overflow-hidden",children:o.jsxs("div",{className:"min-w-full divide-y divide-border",children:[o.jsx("div",{className:"bg-bg-secondary/50 px-6 py-3 border-b border-border flex justify-between",children:[1,2,3,4,5].map(m=>o.jsx(Se,{className:"h-4 w-24"},m))}),[1,2,3,4,5].map(m=>o.jsxs("div",{className:"px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Se,{className:"h-8 w-8 rounded-full"}),o.jsxs("div",{children:[o.jsx(Se,{className:"h-4 w-32 mb-1"}),o.jsx(Se,{className:"h-3 w-48"})]})]}),o.jsx(Se,{className:"h-4 w-32"}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(Se,{className:"h-5 w-16"}),o.jsx(Se,{className:"h-5 w-16"})]}),o.jsx(Se,{className:"h-5 w-16 rounded-full"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{className:"h-6 w-6"}),o.jsx(Se,{className:"h-6 w-6"})]})]},m))]})}):o.jsx("div",{className:"bg-bg-card rounded-xl border border-border shadow-sm overflow-hidden",children:o.jsx(eo,{data:e,columns:h})}),o.jsx(ji,{isOpen:i!==null,onClose:()=>l(null),onConfirm:f,title:"Delete User",message:"Are you sure you want to delete this user? This will also remove their employee record if it exists. This action cannot be undone.",confirmText:"Delete",variant:"danger",isLoading:a})]})}function KXe(){const[e,t]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[r,n]=b.useState(!1),[a,s]=b.useState(""),[i,l]=b.useState(""),c=u=>{t({...e,[u.target.name]:u.target.value}),l("")},d=async u=>{if(u.preventDefault(),l(""),s(""),e.newPassword!==e.confirmPassword){l("New passwords do not match");return}if(e.newPassword.length<8){l("Password must be at least 8 characters long");return}n(!0);try{await je.updateProfile({currentPassword:e.currentPassword,newPassword:e.newPassword}),s("Password updated successfully"),t({currentPassword:"",newPassword:"",confirmPassword:""})}catch(f){l(f.message||"Failed to update password")}finally{n(!1)}};return o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Settings"}),o.jsx("p",{className:"text-text-secondary mt-1",children:"Manage your account settings and security"})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-bg-card rounded-xl shadow-sm border border-border p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"p-2 bg-brand-primary/10 rounded-lg",children:o.jsx(gh,{className:"text-brand-primary",size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Security Settings"}),o.jsx("p",{className:"text-sm text-text-secondary",children:"Update your password and security preferences"})]})]}),o.jsxs("form",{onSubmit:d,className:"space-y-4 max-w-md",children:[i&&o.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[o.jsx(ta,{size:16}),i]}),a&&o.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center gap-2 text-green-700 dark:text-green-400 text-sm",children:[o.jsx(In,{size:16}),a]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Current Password"}),o.jsx(hd,{name:"currentPassword",value:e.currentPassword,onChange:c,required:!0,placeholder:""})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"New Password"}),o.jsx(hd,{name:"newPassword",value:e.newPassword,onChange:c,required:!0,placeholder:""}),o.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Must be at least 8 characters long"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Confirm New Password"}),o.jsx(hd,{name:"confirmPassword",value:e.confirmPassword,onChange:c,required:!0,placeholder:""})]}),o.jsx("div",{className:"pt-4",children:o.jsx(dt,{type:"submit",disabled:r,isLoading:r,className:"px-6 py-2 shadow-lg shadow-brand-primary/20",children:"Update Password"})})]})]})})})]})}const XXe=()=>{const[e,t]=b.useState(null),[r,n]=b.useState(!0),[a,s]=b.useState(!1),[i,l]=b.useState(""),[c,d]=b.useState(!1),[u,f]=b.useState({companyName:"",timezone:"America/New_York",currency:"USD",workHours:{start:"09:00",end:"18:00"},dateFormat:"MM/DD/YYYY"});b.useEffect(()=>{p()},[]);const p=async()=>{try{n(!0);const g=await je.getCompanySettings();t(g.company),f({companyName:g.company.name,timezone:g.company.timezone,currency:g.company.currency,workHours:g.company.workHours,dateFormat:g.company.dateFormat})}catch(g){l(g.message||"Failed to load settings")}finally{n(!1)}},h=async g=>{g.preventDefault(),l(""),d(!1),s(!0);try{await je.updateCompanySettings(u),d(!0),p(),setTimeout(()=>d(!1),3e3)}catch(x){l(x.message||"Failed to save settings")}finally{s(!1)}},m=g=>{const{name:x,value:y}=g.target;if(x.startsWith("workHours.")){const v=x.split(".")[1];f({...u,workHours:{...u.workHours,[v]:y}})}else f({...u,[x]:y})};return r?o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Loading settings..."})]})}):o.jsxs("div",{className:"p-6 max-w-4xl",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Company Settings"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your organization's configuration"})]}),o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[i&&o.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400",children:i}),c&&o.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-400",children:"Settings saved successfully!"}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(vc,{className:"text-blue-600",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Company Information"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Name"}),o.jsx(ft,{name:"companyName",value:u.companyName,onChange:m,required:!0,className:"bg-white dark:bg-gray-700"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subdomain"}),o.jsx(ft,{value:(e==null?void 0:e.subdomain)||"",disabled:!0,className:"bg-gray-100 dark:bg-gray-900 cursor-not-allowed"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Subdomain cannot be changed"})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Lh,{className:"text-blue-600",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Regional Settings"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Timezone"}),o.jsx(sr,{value:u.timezone,onChange:g=>f(x=>({...x,timezone:g})),options:[{value:"America/New_York",label:"Eastern Time (ET)"},{value:"America/Chicago",label:"Central Time (CT)"},{value:"America/Denver",label:"Mountain Time (MT)"},{value:"America/Los_Angeles",label:"Pacific Time (PT)"},{value:"Europe/London",label:"London (GMT)"},{value:"Asia/Kolkata",label:"India (IST)"},{value:"Asia/Singapore",label:"Singapore (SGT)"}],className:"bg-white dark:bg-gray-700"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx(Rv,{className:"inline mr-1",size:16}),"Currency"]}),o.jsx(sr,{value:u.currency,onChange:g=>f(x=>({...x,currency:g})),options:[{value:"USD",label:"USD - US Dollar"},{value:"EUR",label:"EUR - Euro"},{value:"GBP",label:"GBP - British Pound"},{value:"INR",label:"INR - Indian Rupee"},{value:"SGD",label:"SGD - Singapore Dollar"}],className:"bg-white dark:bg-gray-700"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date Format"}),o.jsx(sr,{value:u.dateFormat,onChange:g=>f(x=>({...x,dateFormat:g})),options:[{value:"MM/DD/YYYY",label:"MM/DD/YYYY (12/31/2024)"},{value:"DD/MM/YYYY",label:"DD/MM/YYYY (31/12/2024)"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD (2024-12-31)"}],className:"bg-white dark:bg-gray-700"})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Mn,{className:"text-blue-600",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Work Hours"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Time"}),o.jsx(ft,{type:"time",name:"workHours.start",value:u.workHours.start,onChange:m,className:"bg-white dark:bg-gray-700"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Time"}),o.jsx(ft,{type:"time",name:"workHours.end",value:u.workHours.end,onChange:m,className:"bg-white dark:bg-gray-700"})]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{type:"submit",disabled:a,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(Fm,{size:20}),a?"Saving...":"Save Settings"]})})]})]})},JXe=()=>{const[e,t]=b.useState(null),[r,n]=b.useState(!0);b.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0);const p=await je.getSubscriptionDetails();t(p.subscription)}catch(p){console.error("Failed to load subscription:",p)}finally{n(!1)}},s=p=>{const h={active:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",trial:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",suspended:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",expired:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return h[p]||h.active},i=p=>{const h={free:{name:"Free",price:"$0/mo",color:"gray"},basic:{name:"Basic",price:"$29/mo",color:"blue"},pro:{name:"Pro",price:"$99/mo",color:"purple"},enterprise:{name:"Enterprise",price:"Custom",color:"amber"}};return h[p]||h.free},l=(p,h)=>(p/h*100).toFixed(1),c=[{id:"free",name:"Free",price:"$0",period:"/month",features:["Up to 10 employees","100 MB storage","Basic modules (3)"],maxEmployees:10},{id:"basic",name:"Basic",price:"$29",period:"/month",features:["Up to 50 employees","500 MB storage","Standard modules (5)"],maxEmployees:50},{id:"pro",name:"Pro",price:"$99",period:"/month",features:["Up to 200 employees","2 GB storage","Advanced modules (7)","Priority support"],maxEmployees:200},{id:"enterprise",name:"Enterprise",price:"Custom",period:"",features:["Unlimited employees","10 GB storage","All modules (8)","24/7 support","Custom integrations"],maxEmployees:9999}];if(r||!e)return o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Loading subscription..."})]})});const d=i(e.plan),u=l(e.usage.employeeCount,e.limits.maxEmployees),f=l(e.usage.storageUsed,e.limits.maxStorage);return o.jsxs("div",{className:"p-6 max-w-6xl",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Subscription & Billing"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your subscription plan and usage"})]}),o.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-600 rounded-lg p-6 text-white mb-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsxs("h2",{className:"text-2xl font-bold",children:[d.name," Plan"]}),o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${s(e.status)}`,children:e.status})]}),o.jsx("p",{className:"text-blue-100 mb-4",children:e.subscriptionEnd?`Renews on ${new Date(e.subscriptionEnd).toLocaleDateString()}`:"Current plan"}),o.jsxs("div",{className:"flex items-baseline gap-1",children:[o.jsx("span",{className:"text-4xl font-bold",children:d.price}),e.plan!=="free"&&o.jsx("span",{className:"text-blue-100",children:"/month"})]})]}),o.jsx(Kd,{className:"h-16 w-16 opacity-50"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Da,{className:"text-blue-600",size:20}),o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Employee Usage"})]}),o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.usage.employeeCount," /"," ",e.limits.maxEmployees]})]}),o.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 mb-2",children:o.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all",style:{width:`${Math.min(Number(u),100)}%`}})}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[u,"% used"]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(J8,{className:"text-purple-600",size:20}),o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Storage Usage"})]}),o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.usage.storageUsed.toFixed(1)," /"," ",e.limits.maxStorage," MB"]})]}),o.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 mb-2",children:o.jsx("div",{className:"bg-purple-600 h-3 rounded-full transition-all",style:{width:`${Math.min(Number(f),100)}%`}})}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f,"% used"]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"All Plans"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:c.map(p=>o.jsxs("div",{className:`rounded-lg border-2 p-6 ${e.plan===p.id?"border-blue-600 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"}`,children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:p.name}),o.jsxs("div",{className:"mb-4",children:[o.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:p.price}),o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:p.period})]}),o.jsx("ul",{className:"space-y-2 mb-6",children:p.features.map((h,m)=>o.jsxs("li",{className:"flex items-start text-sm text-gray-600 dark:text-gray-400",children:[o.jsx(wc,{className:"mr-2 text-green-500 flex-shrink-0",size:16}),h]},m))}),e.plan===p.id?o.jsx("button",{disabled:!0,className:"w-full px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-600 dark:text-gray-400 rounded-lg cursor-not-allowed",children:"Current Plan"}):o.jsx("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",onClick:()=>alert("Stripe integration will be available in Week 5"),children:"Upgrade"})]},p.id))})]})]})},QXe=()=>{const[e,t]=b.useState(null),[r,n]=b.useState(!0);b.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0);const i=await je.getUsageAnalytics();t(i)}catch(i){console.error("Failed to load usage:",i)}finally{n(!1)}};if(r||!e)return o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Loading usage data..."})]})});const s=[{id:"attendance",name:"Attendance"},{id:"leave",name:"Leave Management"},{id:"employees",name:"Employee Management"},{id:"payroll",name:"Payroll"},{id:"projects",name:"Projects"},{id:"tasks",name:"Tasks"},{id:"timesheet",name:"Timesheet"},{id:"policies",name:"Policies"}];return o.jsxs("div",{className:"p-6 max-w-6xl",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Usage & Analytics"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Monitor your organization's usage and limits"})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Da,{className:"text-blue-600",size:24}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Employee Usage"})]}),o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[e.employees.current," / ",e.employees.limit]}),o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["(",e.employees.percentage,"%)"]})]}),o.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4",children:o.jsx("div",{className:`h-4 rounded-full transition-all ${Number(e.employees.percentage)>80?"bg-orange-500":"bg-blue-600"}`,style:{width:`${Math.min(Number(e.employees.percentage),100)}%`}})}),Number(e.employees.percentage)>80&&o.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-400 mt-2",children:" You're approaching your employee limit. Consider upgrading your plan."})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(J8,{className:"text-purple-600",size:24}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Storage Usage"})]}),o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[e.storage.used.toFixed(1)," MB / ",e.storage.limit," MB"]}),o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["(",e.storage.percentage,"%)"]})]}),o.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 mb-4",children:o.jsx("div",{className:`h-4 rounded-full transition-all ${Number(e.storage.percentage)>80?"bg-orange-500":"bg-purple-600"}`,style:{width:`${Math.min(Number(e.storage.percentage),100)}%`}})}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[o.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Documents"}),o.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[e.storage.breakdown.documents," MB"]})]}),o.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Profile Pictures"}),o.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[e.storage.breakdown.profilePictures," MB"]})]}),o.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Payslips"}),o.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[e.storage.breakdown.payslips," MB"]})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Kd,{className:"text-green-600",size:24}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Module Access"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.map(i=>{const l=e.modules.enabled.includes(i.id);return o.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${l?"bg-green-50 dark:bg-green-900/20":"bg-gray-50 dark:bg-gray-700"}`,children:[l?o.jsx(In,{className:"text-green-600 dark:text-green-400",size:20}):o.jsx(vx,{className:"text-gray-400",size:20}),o.jsx("span",{className:`font-medium ${l?"text-green-900 dark:text-green-300":"text-gray-500 dark:text-gray-400"}`,children:i.name})]},i.id)})}),e.modules.disabled.length>0&&o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-4",children:["Upgrade your plan to access all ",s.length," modules"]})]})]})},ZXe=({isOpen:e,onClose:t,onSuccess:r,initialData:n})=>{const[a,s]=b.useState({name:"",category:"Employment",description:"",isRequired:!1,expiryRequired:!1,maxFileSize:5}),[i,l]=b.useState(!1),[c,d]=b.useState(""),u=[{value:"Employment",label:"Employment"},{value:"Identity",label:"Identity"},{value:"Legal",label:"Legal"},{value:"Education",label:"Education"},{value:"Other",label:"Other"}];b.useEffect(()=>{s(n?{name:n.name,category:n.category,description:n.description||"",isRequired:n.isRequired,expiryRequired:n.expiryRequired,maxFileSize:n.maxFileSize?n.maxFileSize/(1024*1024):5}:{name:"",category:"Employment",description:"",isRequired:!1,expiryRequired:!1,maxFileSize:5})},[n]);const f=m=>{const{name:g,value:x,type:y}=m.target;s(v=>({...v,[g]:y==="checkbox"?m.target.checked:x}))},p=m=>{s(g=>({...g,category:m}))},h=async m=>{m.preventDefault(),l(!0),d("");try{const g={...a,maxFileSize:Number(a.maxFileSize)*1024*1024};n?await je.updateDocumentType(n._id,g):await je.createDocumentType(g),r(),t()}catch(g){d(g.message||"Failed to save document type")}finally{l(!1)}};return o.jsx(_r,{isOpen:e,onClose:t,title:n?"Edit Document Type":"Add Document Type",maxWidth:"max-w-xl",children:o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c&&o.jsx("div",{className:"p-3 bg-status-error/10 border border-status-error/20 rounded-lg text-status-error text-sm",children:c}),o.jsx(ft,{label:"Document Name",name:"name",value:a.name,onChange:f,required:!0,placeholder:"e.g. Offer Letter"}),o.jsx("div",{children:o.jsx(sr,{label:"Category",options:u,value:a.category,onChange:p})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Description (Optional)"}),o.jsx("textarea",{name:"description",value:a.description,onChange:f,rows:3,className:"w-full px-4 py-2 bg-bg-card border border-border rounded-lg text-text-primary focus:ring-2 focus:ring-brand-primary/20 focus:outline-none resize-none",placeholder:"Briefly describe this document purpose..."})]}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.jsx(ft,{label:"Max File Size (MB)",name:"maxFileSize",type:"number",value:a.maxFileSize,onChange:f,min:"1",max:"50",required:!0})}),o.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[o.jsxs("label",{className:"flex items-center gap-3 p-3 border border-border rounded-lg cursor-pointer hover:bg-bg-hover transition-colors",children:[o.jsx("input",{type:"checkbox",name:"isRequired",checked:a.isRequired,onChange:f,className:"w-4 h-4 text-brand-primary rounded border-gray-300 focus:ring-brand-primary"}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-sm font-medium text-text-primary",children:"Mark as Mandatory"}),o.jsx("span",{className:"block text-xs text-text-secondary",children:"Employees must upload this document"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 p-3 border border-border rounded-lg cursor-pointer hover:bg-bg-hover transition-colors",children:[o.jsx("input",{type:"checkbox",name:"expiryRequired",checked:a.expiryRequired,onChange:f,className:"w-4 h-4 text-brand-primary rounded border-gray-300 focus:ring-brand-primary"}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-sm font-medium text-text-primary",children:"Requires Expiry Date"}),o.jsx("span",{className:"block text-xs text-text-secondary",children:"User must select expiration date when uploading"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-border mt-6",children:[o.jsx(dt,{type:"button",onClick:t,variant:"ghost",className:"text-text-secondary hover:bg-bg-hover",children:"Cancel"}),o.jsx(dt,{type:"submit",isLoading:i,children:i?"Saving...":"Save Document Type"})]})]})})},eJe=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,s]=b.useState(!1),[i,l]=b.useState(null),[c,d]=b.useState(""),u=async()=>{try{n(!0);const g=await je.getAllDocumentTypes();g.success&&t(g.data)}catch(g){console.error("Failed to fetch document types:",g)}finally{n(!1)}};b.useEffect(()=>{u()},[]);const f=g=>{l(g),s(!0)},p=async g=>{if(window.confirm("Are you sure you want to delete this document type? This action cannot be undone."))try{await je.deleteDocumentType(g),u()}catch(x){console.error("Failed to delete document type:",x),alert("Failed to delete document type")}},h=()=>{s(!1),l(null)},m=e.filter(g=>g.name.toLowerCase().includes(c.toLowerCase()));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-bold text-text-primary",children:"Document Management"}),o.jsx("p",{className:"text-text-secondary text-sm",children:"Configure the types of documents employees can upload"})]}),o.jsx(dt,{onClick:()=>s(!0),leftIcon:o.jsx(Na,{size:18}),children:"Add Document Type"})]}),o.jsx("div",{className:"flex gap-4 mb-6",children:o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(df,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted",size:18}),o.jsx("input",{type:"text",placeholder:"Search document types...",value:c,onChange:g=>d(g.target.value),className:"w-full pl-10 pr-4 py-2 bg-bg-card border border-border rounded-lg text-text-primary focus:ring-2 focus:ring-brand-primary/20 focus:outline-none"})]})}),r?o.jsx("div",{className:"flex justify-center py-10",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"})}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[m.map(g=>o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-5 hover:border-brand-primary/30 transition-all shadow-sm group",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{className:"p-2.5 bg-brand-primary/10 text-brand-primary rounded-lg",children:o.jsx(xn,{size:24})}),o.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>f(g),className:"p-1.5 text-text-secondary hover:text-brand-primary hover:bg-bg-hover rounded-lg transition-colors",children:o.jsx(WN,{size:16})}),o.jsx("button",{onClick:()=>p(g._id),className:"p-1.5 text-text-secondary hover:text-status-error hover:bg-status-error/10 rounded-lg transition-colors",children:o.jsx(yn,{size:16})})]})]}),o.jsx("h3",{className:"font-semibold text-text-primary text-lg mb-1",children:g.name}),o.jsx("p",{className:"text-text-secondary text-sm mb-4 line-clamp-2 min-h-[40px]",children:g.description||"No description provided"}),o.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[o.jsx("span",{className:"px-2.5 py-1 bg-bg-main rounded-md text-text-secondary border border-border",children:g.category}),g.isRequired&&o.jsx("span",{className:"px-2.5 py-1 bg-status-error/10 text-status-error rounded-md border border-status-error/20 font-medium",children:"Required"}),g.expiryRequired&&o.jsx("span",{className:"px-2.5 py-1 bg-status-warning/10 text-status-warning rounded-md border border-status-warning/20 font-medium",children:"Expiry Tracking"})]})]},g._id)),m.length===0&&o.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-12 text-center border-2 border-dashed border-border rounded-xl",children:[o.jsx("div",{className:"bg-bg-main p-4 rounded-full mb-3",children:o.jsx(xn,{size:32,className:"text-text-muted"})}),o.jsx("h3",{className:"text-lg font-medium text-text-primary mb-1",children:"No document types found"}),o.jsx("p",{className:"text-text-secondary max-w-sm mx-auto",children:"Create a new document type to start managing employee documents."})]})]}),a&&o.jsx(ZXe,{isOpen:a,onClose:h,onSuccess:u,initialData:i})]})};function tJe(){const e=vs(),{user:t}=Sr();return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Miscellaneous"}),o.jsx("p",{className:"text-text-secondary",children:"Additional tools and features."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(!(t!=null&&t.tenantId)||typeof t.tenantId=="string"||!t.tenantId.limits||t.tenantId.limits.enabledModules.includes("feedback"))&&(!(t!=null&&t.accessibleModules)||t.accessibleModules.includes("feedback"))&&o.jsxs("div",{onClick:()=>e("/miscellaneous/feedback"),className:"bg-bg-card p-6 rounded-xl border border-border shadow-sm hover:shadow-md transition-shadow cursor-pointer group",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"p-3 bg-brand-primary/10 rounded-lg group-hover:bg-brand-primary/20 transition-colors",children:o.jsx(GZ,{className:"text-brand-primary",size:24})}),o.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Feedback"})]}),o.jsx("p",{className:"text-text-secondary text-sm",children:"Send constructive feedback or appreciation to your colleagues."})]}),(!(t!=null&&t.tenantId)||typeof t.tenantId=="string"||!t.tenantId.limits||t.tenantId.limits.enabledModules.includes("appreciation"))&&(!(t!=null&&t.accessibleModules)||t.accessibleModules.includes("appreciation"))&&o.jsxs("div",{onClick:()=>e("/miscellaneous/appreciation"),className:"bg-bg-card p-6 rounded-xl border border-border shadow-sm hover:shadow-md transition-shadow cursor-pointer group",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"p-3 bg-brand-primary/10 rounded-lg group-hover:bg-brand-primary/20 transition-colors",children:o.jsx(od,{className:"text-brand-primary",size:24})}),o.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Appreciation Center"})]}),o.jsx("p",{className:"text-text-secondary text-sm",children:"Recognize and celebrate your colleagues with virtual badges."})]}),((t==null?void 0:t.role)==="HR"||(t==null?void 0:t.role)==="Admin"||(t==null?void 0:t.isSuperAdmin))&&(!(t!=null&&t.tenantId)||typeof t.tenantId=="string"||!t.tenantId.limits||t.tenantId.limits.enabledModules.includes("email_automation"))&&o.jsxs("div",{onClick:()=>e("/miscellaneous/email-automation"),className:"bg-bg-card p-6 rounded-xl border border-border shadow-sm hover:shadow-md transition-shadow cursor-pointer group",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"p-3 bg-brand-primary/10 rounded-lg group-hover:bg-brand-primary/20 transition-colors",children:o.jsx(bc,{className:"text-brand-primary",size:24})}),o.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Email Automation"})]}),o.jsx("p",{className:"text-text-secondary text-sm",children:"Configure automated Birthday and Anniversary emails."})]})]})]})}const nG=["Behaves in a manner consistent with the company's mission, vision and values","Is viewed as a person of integrity by co-workers","Has an attitude of helpfulness toward co-workers","Complies with company policies and procedures","Is professional and courteous when communicating with coworkers","Represents the company in a positive manner when interacting with customers","Is interested in continuing to develop new skills and to grow as a professional","Follows through with tasks and responsibilities in an appropriate and timely manner","Demonstrates respect for the work and ideas of others","Is considerate of the needs of others","Is willing to accept responsibility for his or her own actions","Is someone that you feel would make an effective supervisor","Is someone you feel comfortable approaching to ask for assistance or advice","Stays focused on helping internal and external customers","Demonstrates a willingness to listen to what others have to say"];function rJe(){var cr,er,Gt,ar;const e=vs(),{user:t}=Sr();console.log("Current User Role:",t==null?void 0:t.role);const r=t==null?void 0:t.role,n=r==="Admin"||r==="HR"||r==="Super Admin"||r==="admin"||r==="hr"||(t==null?void 0:t.isCompanyAdmin),[a,s]=b.useState("surveys"),[i,l]=b.useState(!0),[c,d]=b.useState([]),[u,f]=b.useState([]),[p,h]=b.useState(""),[m,g]=b.useState(""),[x,y]=b.useState(!1),[v,w]=b.useState([]),[N,C]=b.useState("list"),[_,S]=b.useState(null),[k,A]=b.useState([]),[O,D]=b.useState(null),[M,I]=b.useState(""),[z,Y]=b.useState(""),[X,V]=b.useState([]),[G,J]=b.useState(""),[B,q]=b.useState(!1),[T,R]=b.useState(null),[F,H]=b.useState(null),[W,te]=b.useState({show:!1,formId:"",formTitle:""}),[pe,se]=b.useState({}),[ce,Ne]=b.useState(""),[he,ze]=b.useState(!1),[Pe,ee]=b.useState(""),[We,be]=b.useState(!1),[wt,Qe]=b.useState(!1),[me,we]=b.useState(""),[Me,Ge]=b.useState("");b.useEffect(()=>{Ve()},[]);const Xe=Ke=>{let lt=0,It=0;return Array.isArray(Ke)?Ke.forEach(ct=>{const Rt=ct.ratingValue,vr=Rt==="NE"?NaN:parseInt(Rt,10);isNaN(vr)||(lt+=vr,It++)}):typeof Ke=="object"&&Ke!==null&&Object.values(Ke).forEach(ct=>{const Rt=parseInt(ct,10);isNaN(Rt)||(lt+=Rt,It++)}),{total:lt,count:It,average:It?(lt/It).toFixed(1):"0"}},Ve=async()=>{try{l(!0);const[Ke,lt,It]=await Promise.all([je.getEmployees(),je.getMyFeedbacks(),je.getFeedbackForms()]),ct=Ke.filter(Rt=>Rt.user&&Rt.user._id!==(t==null?void 0:t.id));d(ct),f(lt),w(It)}catch(Ke){console.error("Failed to fetch feedback data",Ke)}finally{l(!1)}},st=async Ke=>{if(Ke.preventDefault(),!(!p||!m.trim())){y(!0),Ge("");try{await je.createFeedback({recipientId:p,message:m.trim()}),we("Your feedback has been sent successfully!"),be(!0),g(""),h("")}catch(lt){Ge(lt.message||"Failed to send feedback")}finally{y(!1)}}},Nt=async()=>{if(!M.trim()||X.length===0){Ge("Please provide a title and at least one question.");return}q(!0),Ge("");try{const Ke={title:M,description:z,questions:X,assignedTo:"all"};T?(await je.updateFeedbackForm(T._id,Ke),we("Survey updated successfully!")):(await je.createFeedbackForm(Ke),we("Survey created successfully!")),be(!0),Qe(!1),R(null),I(""),Y(""),V([]),H(null),J("");const lt=await je.getFeedbackForms();w(lt)}catch(Ke){Ge(Ke.message||"Failed to save survey")}finally{q(!1)}},_t=async()=>{try{l(!0),await je.deleteFeedbackForm(W.formId),we("Survey deleted successfully"),be(!0),te({show:!1,formId:"",formTitle:""});const Ke=await je.getFeedbackForms();w(Ke)}catch(Ke){Ge(Ke.message||"Failed to delete survey")}finally{l(!1)}},vt=()=>{if(G.trim()){if(F!==null){const Ke=[...X];Ke[F]={...Ke[F],text:G},V(Ke),H(null)}else V([...X,{text:G,type:"rating",order:X.length+1}]);J("")}},zt=Ke=>{const lt=[...X];lt.splice(Ke,1),V(lt),F===Ke&&(H(null),J(""))},At=async()=>{if(!_)return;if(!Pe){Ge("Please select an employee to review.");return}if(Object.keys(pe).length<_.questions.length){Ge("Please answer all questions.");return}ze(!0);try{const lt=_.questions.map(It=>({questionId:It._id,ratingValue:pe[It._id],textValue:ce}));await je.submitFeedbackResponse({formId:_._id,targetUserId:Pe,answers:lt}),we("Response submitted successfully!"),be(!0),C("list"),S(null),se({}),Ne(""),ee("")}catch(lt){Ge(lt.message||"Failed to submit response")}finally{ze(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center gap-0",children:[o.jsx(dt,{variant:"ghost",onClick:()=>e("/miscellaneous"),leftIcon:o.jsx(wi,{size:20}),style:{paddingRight:"0",paddingLeft:"0"}}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Feedback & Surveys"}),o.jsx("p",{className:"text-text-secondary",children:"Share feedback and participate in surveys"})]})]})}),o.jsxs("div",{className:"flex border-b border-border",children:[o.jsx("button",{className:`px-4 py-2 text-sm font-medium ${a==="surveys"?"text-brand-primary border-b-2 border-brand-primary":"text-text-secondary hover:text-text-primary"}`,onClick:()=>{s("surveys"),C("list"),Ge("")},children:"Surveys"}),o.jsx("button",{className:`px-4 py-2 text-sm font-medium ${a==="peer"?"text-brand-primary border-b-2 border-brand-primary":"text-text-secondary hover:text-text-primary"}`,onClick:()=>s("peer"),children:"Peer Feedback"})]}),Me&&o.jsx("div",{className:"bg-status-error/10 text-status-error p-3 rounded-lg text-sm",children:Me}),a==="peer"&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-1 space-y-6",children:o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6 shadow-sm sticky top-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:[o.jsx(GZ,{className:"text-brand-primary",size:20}),"Send Feedback"]}),o.jsxs("form",{onSubmit:st,className:"space-y-4",children:[o.jsx("div",{children:o.jsx(sr,{label:"Recipient",value:p,onChange:Ke=>h(Ke),options:c.map(Ke=>({value:Ke.user._id,label:`${Ke.firstName} ${Ke.lastName}`})),placeholder:"Select a colleague...",required:!0})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Message"}),o.jsx("textarea",{value:m,onChange:Ke=>g(Ke.target.value),placeholder:"Write your feedback here...",className:"w-full px-3 py-2 bg-bg-input border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/20 resize-none h-32",required:!0})]}),o.jsx(dt,{type:"submit",className:"w-full",disabled:x||!p||!m.trim(),isLoading:x,leftIcon:o.jsx(zm,{size:16}),children:"Send Feedback"})]})]})}),o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("h2",{className:"text-lg font-semibold text-text-primary mb-4",children:"My Feedback History"}),o.jsxs("div",{className:"space-y-4",children:[u.map(Ke=>o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-4 shadow-sm flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0 bg-brand-primary/5 rounded-full p-2 border border-brand-primary/10",children:o.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:o.jsx(Mk,{className:"w-5 h-5 text-brand-primary"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"flex justify-between items-start gap-2",children:o.jsxs("div",{className:"min-w-0",children:[o.jsxs("p",{className:"text-text-primary font-medium text-sm",children:[o.jsxs("span",{className:"text-text-secondary",children:["Feedback from"," "]}),o.jsx("span",{className:"font-bold text-brand-primary",children:Ke.sender.name})]}),o.jsxs("p",{className:"text-xs text-text-muted mt-0.5",children:["Received on"," ",new Date(Ke.createdAt).toLocaleDateString()]})]})}),o.jsxs("div",{className:"mt-2 bg-bg-main p-3 rounded-lg text-sm text-text-secondary italic border border-border/50 break-words",children:['"',Ke.message,'"']})]})]},Ke._id)),u.length===0&&!i&&o.jsxs("div",{className:"text-center py-12 text-text-secondary bg-bg-main rounded-xl border border-border border-dashed",children:[o.jsx(Mk,{size:32,className:"mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No feedback received yet."})]})]})]})]}),a==="surveys"&&o.jsxs("div",{children:[N==="list"&&o.jsxs("div",{className:"space-y-6",children:[n&&o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(dt,{variant:"secondary",onClick:async()=>{try{l(!0);const Ke={title:"Employee Review",description:"Standard performance review questionnaire.",questions:nG.map((It,ct)=>({text:It,type:"rating",order:ct+1})),assignedTo:"all"};await je.createFeedbackForm(Ke),we("Default survey published successfully!"),be(!0);const lt=await je.getFeedbackForms();w(lt)}catch(Ke){Ge(Ke.message||"Failed to publish survey")}finally{l(!1)}},leftIcon:o.jsx(y_,{size:16}),children:"Publish Default Survey"}),o.jsx(dt,{onClick:()=>{R(null),V([]),I(""),Y(""),H(null),J(""),Qe(!0)},leftIcon:o.jsx(Na,{size:16}),children:"Create New Survey"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[v.map(Ke=>o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow cursor-pointer group",onClick:()=>{S(Ke),C("respond"),se({}),Ne("")},children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"p-3 bg-brand-primary/10 text-brand-primary rounded-lg",children:o.jsx(y_,{size:24})}),o.jsx("span",{className:"text-xs text-text-muted bg-bg-main px-2 py-1 rounded",children:new Date(Ke.createdAt).toLocaleDateString()})]}),o.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2 group-hover:text-brand-primary transition-colors",children:Ke.title}),Ke.description&&o.jsx("p",{className:"text-sm text-text-secondary line-clamp-2 mb-4",children:Ke.description}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between text-sm text-text-secondary",children:[o.jsxs("span",{children:[Ke.questions.length," Questions"]}),o.jsx("span",{className:"text-brand-primary font-medium",children:"Start "})]}),n&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex gap-2",children:[o.jsx(dt,{variant:"secondary",className:"flex-1 text-xs h-8",onClick:lt=>{lt.stopPropagation(),S(Ke),l(!0),je.getFormResponses(Ke._id).then(It=>{A(It),C("results")}).catch(It=>console.error("Failed to fetch responses",It)).finally(()=>l(!1))},children:"View Results"}),o.jsx(en,{content:"Edit Survey",children:o.jsx(dt,{variant:"secondary",className:"h-8 w-8 !p-0 shrink-0 flex items-center justify-center",onClick:lt=>{lt.stopPropagation(),R(Ke),I(Ke.title),Y(Ke.description),V(Ke.questions),H(null),J(""),Qe(!0)},children:o.jsx(r6,{size:14})})}),o.jsx(en,{content:"Delete Survey",children:o.jsx(dt,{variant:"danger",className:"h-8 w-8 !p-0 shrink-0 flex items-center justify-center",onClick:lt=>{lt.stopPropagation(),te({show:!0,formId:Ke._id,formTitle:Ke.title})},children:o.jsx(yn,{size:14})})})]})]},Ke._id)),v.length===0&&!i&&o.jsxs("div",{className:"col-span-full text-center py-12 bg-bg-main rounded-xl border border-dashed border-border text-text-secondary",children:[o.jsx(y_,{size:32,className:"mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No surveys available at the moment."})]})]})]}),o.jsx(_r,{isOpen:wt,onClose:()=>{Qe(!1),R(null),H(null),J("")},title:T?"Edit Survey":"Create New Survey",maxWidth:"max-w-3xl",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Survey Title"}),o.jsx("input",{type:"text",value:M,onChange:Ke=>I(Ke.target.value),className:"w-full px-3 py-2 bg-bg-input border border-border rounded-lg",placeholder:"e.g., Q3 Peer Review"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Description (Optional)"}),o.jsx("textarea",{value:z,onChange:Ke=>Y(Ke.target.value),className:"w-full px-3 py-2 bg-bg-input border border-border rounded-lg h-24 resize-none",placeholder:"Brief description of the survey..."})]}),o.jsxs("div",{className:"bg-bg-main p-4 rounded-lg border border-border",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"font-medium text-text-primary",children:"Questions"}),o.jsx(dt,{variant:"secondary",className:"text-xs h-8",onClick:()=>{V(nG.map((Ke,lt)=>({text:Ke,type:"rating",order:lt+1})))},children:"Load Template"})]}),X.map((Ke,lt)=>o.jsxs("div",{className:"flex items-center justify-between bg-bg-card p-3 rounded mb-2 border border-border",children:[o.jsxs("span",{className:"text-sm text-text-primary font-medium",children:[lt+1,". ",Ke.text]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(en,{content:"Edit Question",children:o.jsx("button",{type:"button",onClick:()=>{H(lt),J(Ke.text)},className:"text-brand-primary hover:bg-brand-primary/10 p-1 rounded",children:o.jsx(r6,{size:16})})}),o.jsx(en,{content:"Remove Question",children:o.jsx("button",{type:"button",onClick:()=>zt(lt),className:"text-status-error hover:bg-status-error/10 p-1 rounded",children:o.jsx(yn,{size:16})})})]})]},lt)),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsx("input",{type:"text",value:G,onChange:Ke=>J(Ke.target.value),className:"flex-1 px-3 py-2 bg-bg-input border border-border rounded-lg",placeholder:"Type a question...",onKeyDown:Ke=>{Ke.key==="Enter"&&(Ke.preventDefault(),vt())}}),F!==null&&o.jsx(dt,{variant:"secondary",onClick:()=>{H(null),J("")},children:"Cancel"}),o.jsx(dt,{onClick:vt,variant:"secondary",children:F!==null?"Update":"Add"})]})]}),o.jsxs("div",{className:"flex gap-4 pt-4 justify-end",children:[o.jsx(dt,{variant:"secondary",onClick:()=>{Qe(!1),R(null),H(null),J("")},children:"Cancel"}),o.jsx(dt,{onClick:Nt,isLoading:B,children:T?"Save Changes":"Publish Survey"})]})]})}),N==="respond"&&_&&o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsx(dt,{variant:"ghost",onClick:()=>C("list"),leftIcon:o.jsx(wi,{size:16}),children:"Back to Surveys"}),o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-8 shadow-sm",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary mb-2",children:_.title}),o.jsx("p",{className:"text-text-secondary",children:_.description})]}),o.jsx("div",{className:"mb-8 max-w-md mx-auto",children:o.jsx(sr,{label:"Select Colleague to Review",value:Pe,onChange:Ke=>ee(Ke),options:c.map(Ke=>({value:Ke._id,label:`${Ke.firstName} ${Ke.lastName}`})),placeholder:"Choose a colleague...",required:!0,searchable:!0})}),o.jsxs("div",{className:"bg-brand-secondary/10 border border-brand-secondary/20 p-4 rounded-lg mb-8 text-sm text-text-secondary",children:[o.jsx("h4",{className:"font-semibold text-brand-secondary mb-2",children:"Rating Definitions"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2",children:[o.jsx("div",{children:"1: Never"}),o.jsx("div",{children:"2: Occasionally"}),o.jsx("div",{children:"3: Sometimes"}),o.jsx("div",{children:"4: Most of the time"}),o.jsx("div",{children:"5: Always"}),o.jsx("div",{children:"NE: No Experience"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-bg-main text-text-secondary font-semibold border-b border-border",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4 w-1/2",children:"Question"}),["1","2","3","4","5","NE"].map(Ke=>o.jsx("th",{className:"p-4 text-center w-12",children:Ke},Ke))]})}),o.jsx("tbody",{className:"divide-y divide-border",children:_.questions.map(Ke=>o.jsxs("tr",{className:"hover:bg-bg-main/30",children:[o.jsx("td",{className:"p-4 font-medium text-text-primary",children:Ke.text}),["1","2","3","4","5","NE"].map(lt=>o.jsx("td",{className:"p-4 text-center",children:o.jsx("input",{type:"radio",name:Ke._id,value:lt,checked:pe[Ke._id]===lt,onChange:It=>se(ct=>({...ct,[Ke._id]:It.target.value})),className:"w-4 h-4 text-brand-primary bg-bg-input border-border focus:ring-brand-primary"})},lt))]},Ke._id))})]})}),o.jsxs("div",{className:"mt-8 bg-bg-main/50 border border-border rounded-lg p-6",children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Additional Comments (Optional)"}),o.jsx("p",{className:"text-xs text-text-secondary mb-3",children:"Share any additional feedback, suggestions, or observations about this colleague."}),o.jsx("textarea",{value:ce,onChange:Ke=>Ne(Ke.target.value),placeholder:"Type your comments here...",className:"w-full px-4 py-3 bg-bg-input border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/20 resize-none text-text-primary placeholder:text-text-muted",rows:5})]}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsx(dt,{onClick:At,isLoading:he,className:"px-8",children:"Submit Response"})})]})]}),N==="results"&&_&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(dt,{variant:"ghost",onClick:()=>C("list"),leftIcon:o.jsx(wi,{size:16}),children:"Back to Surveys"}),o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6 shadow-sm",children:[o.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary mb-1",children:_.title}),o.jsx("p",{className:"text-text-secondary text-sm",children:"Detailed results and peer reviews"})]}),o.jsxs(Zu,{variant:"default",children:[k.length," Responses"]})]}),o.jsx(eo,{data:k,columns:[{header:"Respondent",accessorKey:"respondent.name",render:Ke=>{var lt;return o.jsx("div",{className:"flex flex-col",children:o.jsx("span",{className:"font-medium text-text-primary",children:((lt=Ke.respondent)==null?void 0:lt.name)||"Unknown"})})}},{header:"Reviewed Employee",accessorKey:"targetUser",render:Ke=>Ke.targetUser?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"w-8 h-8 rounded-full bg-brand-primary/10 flex items-center justify-center text-brand-primary font-bold text-xs",children:[Ke.targetUser.firstName[0],Ke.targetUser.lastName[0]]}),o.jsxs("span",{children:[Ke.targetUser.firstName," ",Ke.targetUser.lastName]})]}):o.jsx("span",{className:"text-text-muted italic",children:"General Survey"})},{header:"Date",accessorKey:"createdAt",render:Ke=>o.jsx("span",{className:"text-text-secondary",children:new Date(Ke.createdAt).toLocaleDateString()})},{header:"Score",accessorKey:"answers",render:Ke=>{const{average:lt,total:It}=Xe(Ke.answers),ct=parseFloat(lt);let Rt="default";return ct>=4?Rt="success":ct>=3?Rt="warning":ct>0&&(Rt="error"),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(Zu,{variant:Rt,children:[lt," / 5"]}),o.jsxs("span",{className:"text-xs text-text-muted",children:["(",It," pts)"]})]})}},{header:"Actions",render:Ke=>o.jsx(dt,{variant:"secondary",onClick:()=>D(Ke),className:"h-8 text-xs",children:"View Details"})}],emptyMessage:"No responses received yet."})]})]}),O&&_&&o.jsx(_r,{isOpen:!!O,onClose:()=>D(null),title:"Response Details",maxWidth:"max-w-2xl",footer:o.jsx("div",{className:"flex justify-end w-full",children:o.jsx(dt,{variant:"secondary",onClick:()=>D(null),children:"Close"})}),children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between p-4 bg-bg-main rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-text-secondary",children:"Respondent"}),o.jsx("p",{className:"font-medium text-text-primary",children:(cr=O.respondent)==null?void 0:cr.name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-text-secondary",children:"Reviewed Employee"}),o.jsxs("p",{className:"font-medium text-text-primary",children:[(er=O.targetUser)==null?void 0:er.firstName," ",(Gt=O.targetUser)==null?void 0:Gt.lastName]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-text-secondary",children:"Date"}),o.jsx("p",{className:"font-medium text-text-primary",children:new Date(O.createdAt).toLocaleDateString()})]})]}),o.jsx("h3",{className:"font-semibold text-text-primary mt-6 mb-2",children:"Questions & Answers"}),o.jsx("div",{className:"space-y-4",children:_.questions.map(Ke=>{const lt=O.answers.find(ct=>ct.questionId===Ke._id),It=lt?lt.ratingValue:null;return o.jsxs("div",{className:"bg-bg-main/50 p-4 rounded-lg border border-border",children:[o.jsx("p",{className:"text-sm text-text-primary mb-2",children:Ke.text}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-text-secondary uppercase",children:"Rating:"}),o.jsx("span",{className:`font-bold ${It==="5"||It==="4"?"text-green-500":It==="3"?"text-yellow-500":"text-red-500"}`,children:It||"N/A"})]})]},Ke._id)})}),((ar=O.answers[0])==null?void 0:ar.textValue)&&o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"font-semibold text-text-primary mb-2",children:"Additional Comments"}),o.jsx("div",{className:"bg-bg-main/50 p-4 rounded-lg border border-border",children:o.jsx("p",{className:"text-sm text-text-secondary whitespace-pre-wrap",children:O.answers[0].textValue})})]})]})})]}),o.jsx(ji,{isOpen:W.show,onClose:()=>te({...W,show:!1}),onConfirm:_t,title:"Delete Survey",message:`Are you sure you want to delete the survey "${W.formTitle}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"}),o.jsx(ji,{isOpen:We,onClose:()=>be(!1),onConfirm:()=>be(!1),title:"Success",message:me,confirmText:"OK",variant:"success",showCancel:!1})]})}function nJe(){const e=vs(),{user:t}=Sr(),r=(t==null?void 0:t.role)==="Admin"||(t==null?void 0:t.role)==="HR",[n,a]=b.useState([]),[s,i]=b.useState([]),[l,c]=b.useState([]),[d,u]=b.useState(!0),[f,p]=b.useState(""),[h,m]=b.useState(""),[g,x]=b.useState(""),[y,v]=b.useState(!1),[w,N]=b.useState(!1),[C,_]=b.useState(!1),[S,k]=b.useState(""),[A,O]=b.useState(null),[D,M]=b.useState(!1),[I,z]=b.useState(null),[Y,X]=b.useState(!1),[V,G]=b.useState(null);b.useEffect(()=>{J()},[]);const J=async()=>{try{u(!0);const[W,te,pe]=await Promise.all([je.getBadges(),je.getAppreciations(),je.getEmployees()]);a(W),i(te),c(pe.filter(se=>se.user&&se.user._id!==(t==null?void 0:t.id)))}catch(W){console.error("Failed to fetch appreciation data",W)}finally{u(!1)}},B=async W=>{if(W.preventDefault(),!(!f||!h))try{v(!0),await je.createAppreciation({recipientId:f,badgeId:h,message:g}),N(!0),p(""),m(""),x("");const te=await je.getAppreciations();i(te)}catch(te){console.error("Failed to send appreciation",te)}finally{v(!1)}},q=async W=>{if(W.preventDefault(),!(!S||!A&&!I))try{M(!0);const te=new FormData;te.append("title",S),A&&te.append("icon",A),I?await je.updateBadge(I,te):await je.createBadge(te);const pe=await je.getBadges();a(pe),k(""),O(null),z(null)}catch(te){console.error("Failed to save badge",te)}finally{M(!1)}},T=W=>{z(W._id),k(W.title),O(null)},R=()=>{z(null),k(""),O(null)},F=W=>{G(W),X(!0)},H=async()=>{if(V)try{await je.deleteBadge(V),a(n.filter(W=>W._id!==V)),X(!1),G(null)}catch(W){console.error("Failed to delete badge",W)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-0",children:[o.jsx(dt,{variant:"ghost",onClick:()=>e("/miscellaneous"),leftIcon:o.jsx(wi,{size:20}),style:{paddingRight:"0",paddingLeft:"0"}}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Appreciation Center"}),o.jsx("p",{className:"text-text-secondary",children:"Recognize and celebrate your colleagues"})]})]}),r&&o.jsx(dt,{onClick:()=>_(!0),leftIcon:o.jsx(od,{size:18}),children:"Manage Badges"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-1 space-y-6",children:o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6 shadow-sm sticky top-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:[o.jsx(od,{className:"text-brand-primary",size:20}),"Send Appreciation"]}),o.jsxs("form",{onSubmit:B,className:"space-y-4",children:[o.jsx("div",{children:o.jsx(sr,{label:"Recipient",value:f,onChange:W=>p(W),options:l.map(W=>({value:W.user._id,label:`${W.firstName} ${W.lastName}`})),placeholder:"Select a colleague...",required:!0})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Select Badge"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 max-h-48 overflow-y-auto p-1",children:[n.map(W=>o.jsxs("div",{onClick:()=>m(W._id),className:`cursor-pointer rounded-lg p-2 border transition-all flex flex-col items-center gap-1 text-center ${h===W._id?"border-brand-primary bg-brand-primary/5 ring-1 ring-brand-primary":"border-border hover:border-brand-primary/50"}`,children:[o.jsx("img",{src:W.icon.startsWith("http")?W.icon:`${Ma}${W.icon}`,alt:W.title,className:"w-8 h-8 object-contain"}),o.jsx("span",{className:"text-[10px] font-medium truncate w-full",children:W.title})]},W._id)),n.length===0&&o.jsx("div",{className:"col-span-3 text-center py-4 text-xs text-text-muted",children:"No badges available."})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Message (Optional)"}),o.jsx("textarea",{value:g,onChange:W=>x(W.target.value),placeholder:"Why are you appreciating them?",className:"w-full px-3 py-2 bg-bg-input border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/20 resize-none h-24"})]}),o.jsx(dt,{type:"submit",className:"w-full",disabled:y||!f||!h,isLoading:y,children:"Send Appreciation"})]})]})}),o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("h2",{className:"text-lg font-semibold text-text-primary mb-4",children:"Recent Appreciations"}),o.jsxs("div",{className:"space-y-4",children:[s.map(W=>{var te;return o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-4 shadow-sm flex items-start gap-3 animate-in fade-in slide-in-from-bottom-2",children:[o.jsx("div",{className:"flex-shrink-0 bg-brand-primary/5 rounded-full p-2 border border-brand-primary/10",children:W.badge?o.jsx("img",{src:W.badge.icon.startsWith("http")?W.badge.icon:`${Ma}${W.badge.icon}`,alt:W.badge.title,className:"w-8 h-8 object-contain"}):o.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:o.jsx(od,{className:"w-5 h-5 text-text-muted opacity-50"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsxs("p",{className:"text-text-primary font-medium text-base truncate",children:[o.jsxs("span",{className:"font-bold text-brand-primary",children:[W.recipient.firstName," ",W.recipient.lastName]}),o.jsx("span",{className:"text-text-secondary font-normal mx-1",children:"recieved"}),o.jsx("span",{className:"font-semibold text-text-primary",children:((te=W.badge)==null?void 0:te.title)||"Unknown Badge"})]}),o.jsxs("p",{className:"text-sm text-text-secondary mt-0.5 truncate",children:["from ",W.sender.firstName," ",W.sender.lastName]})]}),o.jsx("span",{className:"text-xs text-text-muted whitespace-nowrap pt-1",children:new Date(W.createdAt).toLocaleDateString()})]}),W.message&&o.jsxs("div",{className:"mt-2 bg-bg-main p-3 rounded-lg text-sm text-text-secondary italic border border-border/50 break-words",children:['"',W.message,'"']})]})]},W._id)}),s.length===0&&!d&&o.jsxs("div",{className:"text-center py-12 text-text-secondary bg-bg-main rounded-xl border border-border border-dashed",children:[o.jsx(od,{size:32,className:"mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No appreciations yet. Be the first to recognize someone!"})]}),d&&o.jsx("div",{className:"text-center py-12 text-text-secondary",children:"Loading..."})]})]})]}),o.jsx(_r,{isOpen:C,onClose:()=>_(!1),title:"Manage Badges",maxWidth:"max-w-2xl",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-2",children:[o.jsx("h3",{className:"font-semibold text-text-primary",children:I?"Edit Badge":"Add New Badge"}),I&&o.jsxs("button",{onClick:R,className:"text-xs flex items-center gap-1 text-text-secondary hover:text-text-primary",children:[o.jsx(Qi,{size:14})," Cancel"]})]}),o.jsxs("form",{onSubmit:q,className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Badge Title"}),o.jsx(ft,{value:S,onChange:W=>k(W.target.value),placeholder:"e.g. Star Performer",className:"bg-bg-input",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Icon (SVG/PNG)"}),o.jsx("div",{className:"flex items-center justify-center w-full",children:o.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-border border-dashed rounded-lg cursor-pointer bg-bg-main hover:bg-bg-hover transition-colors",children:[o.jsx("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:A?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"mb-2 text-sm text-brand-primary font-semibold",children:A.name}),o.jsx("p",{className:"text-xs text-text-muted",children:"Click to change"})]}):o.jsxs(o.Fragment,{children:[o.jsx(Sl,{className:"w-8 h-8 mb-3 text-text-muted"}),o.jsx("p",{className:"mb-2 text-sm text-text-secondary",children:o.jsx("span",{className:"font-semibold",children:"Click to upload"})}),o.jsx("p",{className:"text-xs text-text-muted",children:"SVG, PNG (max 5MB)"})]})}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:W=>W.target.files&&O(W.target.files[0]),required:!I})]})})]}),o.jsx(dt,{type:"submit",className:"w-full",disabled:D,isLoading:D,children:I?"Update Badge":"Upload Badge"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-text-primary border-b border-border pb-2",children:"Existing Badges"}),o.jsxs("div",{className:"max-h-[400px] overflow-y-auto space-y-2 pr-1",children:[n.map(W=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-bg-main rounded-lg border border-border",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:W.icon.startsWith("http")?W.icon:`${Ma}${W.icon}`,alt:W.title,className:"w-8 h-8 object-contain"}),o.jsx("span",{className:"text-sm font-medium text-text-primary",children:W.title})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>T(W),className:"p-1.5 text-text-secondary hover:text-brand-primary hover:bg-brand-primary/10 rounded-md transition-colors",title:"Edit",children:o.jsx(WN,{size:16})}),o.jsx("button",{onClick:()=>F(W._id),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-md transition-colors",title:"Delete",children:o.jsx(yn,{size:16})})]})]},W._id)),n.length===0&&o.jsx("p",{className:"text-sm text-text-muted text-center py-4",children:"No badges added yet."})]})]})]})}),o.jsx(ji,{isOpen:Y,onClose:()=>{X(!1),G(null)},onConfirm:H,title:"Delete Badge?",message:"Are you sure? This will not remove past appreciations but will prevent new ones.",confirmText:"Yes, Delete",cancelText:"Cancel",variant:"danger"}),o.jsx(ji,{isOpen:w,onClose:()=>N(!1),onConfirm:()=>N(!1),title:"Appreciation Sent!",message:"Your appreciation badge has been successfully delivered to your colleague.",confirmText:"Awesome!",variant:"success",showCancel:!1})]})}function Li(e){this.content=e}Li.prototype={constructor:Li,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,r){var n=r&&r!=e?this.remove(r):this,a=n.find(e),s=n.content.slice();return a==-1?s.push(r||e,t):(s[a+1]=t,r&&(s[a]=r)),new Li(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var r=this.content.slice();return r.splice(t,2),new Li(r)},addToStart:function(e,t){return new Li([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var r=this.remove(e).content.slice();return r.push(e,t),new Li(r)},addBefore:function(e,t,r){var n=this.remove(t),a=n.content.slice(),s=n.find(e);return a.splice(s==-1?a.length:s,0,t,r),new Li(a)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Li.from(e),e.size?new Li(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Li.from(e),e.size?new Li(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Li.from(e);for(var r=0;r<e.content.length;r+=2)t=t.remove(e.content[r]);return t},toObject:function(){var e={};return this.forEach(function(t,r){e[t]=r}),e},get size(){return this.content.length>>1}};Li.from=function(e){if(e instanceof Li)return e;var t=[];if(e)for(var r in e)t.push(r,e[r]);return new Li(t)};function qce(e,t,r){for(let n=0;;n++){if(n==e.childCount||n==t.childCount)return e.childCount==t.childCount?null:r;let a=e.child(n),s=t.child(n);if(a==s){r+=a.nodeSize;continue}if(!a.sameMarkup(s))return r;if(a.isText&&a.text!=s.text){for(let i=0;a.text[i]==s.text[i];i++)r++;return r}if(a.content.size||s.content.size){let i=qce(a.content,s.content,r+1);if(i!=null)return i}r+=a.nodeSize}}function Wce(e,t,r,n){for(let a=e.childCount,s=t.childCount;;){if(a==0||s==0)return a==s?null:{a:r,b:n};let i=e.child(--a),l=t.child(--s),c=i.nodeSize;if(i==l){r-=c,n-=c;continue}if(!i.sameMarkup(l))return{a:r,b:n};if(i.isText&&i.text!=l.text){let d=0,u=Math.min(i.text.length,l.text.length);for(;d<u&&i.text[i.text.length-d-1]==l.text[l.text.length-d-1];)d++,r--,n--;return{a:r,b:n}}if(i.content.size||l.content.size){let d=Wce(i.content,l.content,r-1,n-1);if(d)return d}r-=c,n-=c}}class bt{constructor(t,r){if(this.content=t,this.size=r||0,r==null)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,r,n,a=0,s){for(let i=0,l=0;l<r;i++){let c=this.content[i],d=l+c.nodeSize;if(d>t&&n(c,a+l,s||null,i)!==!1&&c.content.size){let u=l+1;c.nodesBetween(Math.max(0,t-u),Math.min(c.content.size,r-u),n,a+u)}l=d}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,r,n,a){let s="",i=!0;return this.nodesBetween(t,r,(l,c)=>{let d=l.isText?l.text.slice(Math.max(t,c)-c,r-c):l.isLeaf?a?typeof a=="function"?a(l):a:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&n&&(i?i=!1:s+=n),s+=d},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let r=this.lastChild,n=t.firstChild,a=this.content.slice(),s=0;for(r.isText&&r.sameMarkup(n)&&(a[a.length-1]=r.withText(r.text+n.text),s=1);s<t.content.length;s++)a.push(t.content[s]);return new bt(a,this.size+t.size)}cut(t,r=this.size){if(t==0&&r==this.size)return this;let n=[],a=0;if(r>t)for(let s=0,i=0;i<r;s++){let l=this.content[s],c=i+l.nodeSize;c>t&&((i<t||c>r)&&(l.isText?l=l.cut(Math.max(0,t-i),Math.min(l.text.length,r-i)):l=l.cut(Math.max(0,t-i-1),Math.min(l.content.size,r-i-1))),n.push(l),a+=l.nodeSize),i=c}return new bt(n,a)}cutByIndex(t,r){return t==r?bt.empty:t==0&&r==this.content.length?this:new bt(this.content.slice(t,r))}replaceChild(t,r){let n=this.content[t];if(n==r)return this;let a=this.content.slice(),s=this.size+r.nodeSize-n.nodeSize;return a[t]=r,new bt(a,s)}addToStart(t){return new bt([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new bt(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(t.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let r=this.content[t];if(!r)throw new RangeError("Index "+t+" out of range for "+this);return r}maybeChild(t){return this.content[t]||null}forEach(t){for(let r=0,n=0;r<this.content.length;r++){let a=this.content[r];t(a,n,r),n+=a.nodeSize}}findDiffStart(t,r=0){return qce(this,t,r)}findDiffEnd(t,r=this.size,n=t.size){return Wce(this,t,r,n)}findIndex(t){if(t==0)return T5(0,t);if(t==this.size)return T5(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,n=0;;r++){let a=this.child(r),s=n+a.nodeSize;if(s>=t)return s==t?T5(r+1,s):T5(r,n);n=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,r){if(!r)return bt.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new bt(r.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return bt.empty;let r,n=0;for(let a=0;a<t.length;a++){let s=t[a];n+=s.nodeSize,a&&s.isText&&t[a-1].sameMarkup(s)?(r||(r=t.slice(0,a)),r[r.length-1]=s.withText(r[r.length-1].text+s.text)):r&&r.push(s)}return new bt(r||t,n)}static from(t){if(!t)return bt.empty;if(t instanceof bt)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new bt([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}bt.empty=new bt([],0);const uM={index:0,offset:0};function T5(e,t){return uM.index=e,uM.offset=t,uM}function iA(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let r=Array.isArray(e);if(Array.isArray(t)!=r)return!1;if(r){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!iA(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!iA(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}let qn=class HP{constructor(t,r){this.type=t,this.attrs=r}addToSet(t){let r,n=!1;for(let a=0;a<t.length;a++){let s=t[a];if(this.eq(s))return t;if(this.type.excludes(s.type))r||(r=t.slice(0,a));else{if(s.type.excludes(this.type))return t;!n&&s.type.rank>this.type.rank&&(r||(r=t.slice(0,a)),r.push(this),n=!0),r&&r.push(s)}}return r||(r=t.slice()),n||r.push(this),r}removeFromSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return t.slice(0,r).concat(t.slice(r+1));return t}isInSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return!0;return!1}eq(t){return this==t||this.type==t.type&&iA(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=t.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let a=n.create(r.attrs);return n.checkAttrs(a.attrs),a}static sameSet(t,r){if(t==r)return!0;if(t.length!=r.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].eq(r[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return HP.none;if(t instanceof HP)return[t];let r=t.slice();return r.sort((n,a)=>n.type.rank-a.type.rank),r}};qn.none=[];class oA extends Error{}class Lt{constructor(t,r,n){this.content=t,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,r){let n=Gce(this.content,t+this.openStart,r);return n&&new Lt(n,this.openStart,this.openEnd)}removeBetween(t,r){return new Lt(Yce(this.content,t+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,r){if(!r)return Lt.empty;let n=r.openStart||0,a=r.openEnd||0;if(typeof n!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Lt(bt.fromJSON(t,r.content),n,a)}static maxOpen(t,r=!0){let n=0,a=0;for(let s=t.firstChild;s&&!s.isLeaf&&(r||!s.type.spec.isolating);s=s.firstChild)n++;for(let s=t.lastChild;s&&!s.isLeaf&&(r||!s.type.spec.isolating);s=s.lastChild)a++;return new Lt(t,n,a)}}Lt.empty=new Lt(bt.empty,0,0);function Yce(e,t,r){let{index:n,offset:a}=e.findIndex(t),s=e.maybeChild(n),{index:i,offset:l}=e.findIndex(r);if(a==t||s.isText){if(l!=r&&!e.child(i).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(r))}if(n!=i)throw new RangeError("Removing non-flat range");return e.replaceChild(n,s.copy(Yce(s.content,t-a-1,r-a-1)))}function Gce(e,t,r,n){let{index:a,offset:s}=e.findIndex(t),i=e.maybeChild(a);if(s==t||i.isText)return n&&!n.canReplace(a,a,r)?null:e.cut(0,t).append(r).append(e.cut(t));let l=Gce(i.content,t-s-1,r,i);return l&&e.replaceChild(a,i.copy(l))}function aJe(e,t,r){if(r.openStart>e.depth)throw new oA("Inserted content deeper than insertion position");if(e.depth-r.openStart!=t.depth-r.openEnd)throw new oA("Inconsistent open depths");return Kce(e,t,r,0)}function Kce(e,t,r,n){let a=e.index(n),s=e.node(n);if(a==t.index(n)&&n<e.depth-r.openStart){let i=Kce(e,t,r,n+1);return s.copy(s.content.replaceChild(a,i))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&e.depth==n&&t.depth==n){let i=e.parent,l=i.content;return jg(i,l.cut(0,e.parentOffset).append(r.content).append(l.cut(t.parentOffset)))}else{let{start:i,end:l}=sJe(r,e);return jg(s,Jce(e,i,l,t,n))}else return jg(s,lA(e,t,n))}function Xce(e,t){if(!t.type.compatibleContent(e.type))throw new oA("Cannot join "+t.type.name+" onto "+e.type.name)}function $P(e,t,r){let n=e.node(r);return Xce(n,t.node(r)),n}function Sg(e,t){let r=t.length-1;r>=0&&e.isText&&e.sameMarkup(t[r])?t[r]=e.withText(t[r].text+e.text):t.push(e)}function X2(e,t,r,n){let a=(t||e).node(r),s=0,i=t?t.index(r):a.childCount;e&&(s=e.index(r),e.depth>r?s++:e.textOffset&&(Sg(e.nodeAfter,n),s++));for(let l=s;l<i;l++)Sg(a.child(l),n);t&&t.depth==r&&t.textOffset&&Sg(t.nodeBefore,n)}function jg(e,t){return e.type.checkContent(t),e.copy(t)}function Jce(e,t,r,n,a){let s=e.depth>a&&$P(e,t,a+1),i=n.depth>a&&$P(r,n,a+1),l=[];return X2(null,e,a,l),s&&i&&t.index(a)==r.index(a)?(Xce(s,i),Sg(jg(s,Jce(e,t,r,n,a+1)),l)):(s&&Sg(jg(s,lA(e,t,a+1)),l),X2(t,r,a,l),i&&Sg(jg(i,lA(r,n,a+1)),l)),X2(n,null,a,l),new bt(l)}function lA(e,t,r){let n=[];if(X2(null,e,r,n),e.depth>r){let a=$P(e,t,r+1);Sg(jg(a,lA(e,t,r+1)),n)}return X2(t,null,r,n),new bt(n)}function sJe(e,t){let r=t.depth-e.openStart,a=t.node(r).copy(e.content);for(let s=r-1;s>=0;s--)a=t.node(s).copy(bt.from(a));return{start:a.resolveNoCache(e.openStart+r),end:a.resolveNoCache(a.content.size-e.openEnd-r)}}class pN{constructor(t,r,n){this.pos=t,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,r=this.index(this.depth);if(r==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],a=t.child(r);return n?t.child(r).cut(n):a}get nodeBefore(){let t=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(t).cut(0,r):t==0?null:this.parent.child(t-1)}posAtIndex(t,r){r=this.resolveDepth(r);let n=this.path[r*3],a=r==0?0:this.path[r*3-1]+1;for(let s=0;s<t;s++)a+=n.child(s).nodeSize;return a}marks(){let t=this.parent,r=this.index();if(t.content.size==0)return qn.none;if(this.textOffset)return t.child(r).marks;let n=t.maybeChild(r-1),a=t.maybeChild(r);if(!n){let l=n;n=a,a=l}let s=n.marks;for(var i=0;i<s.length;i++)s[i].type.spec.inclusive===!1&&(!a||!s[i].isInSet(a.marks))&&(s=s[i--].removeFromSet(s));return s}marksAcross(t){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,a=t.parent.maybeChild(t.index());for(var s=0;s<n.length;s++)n[s].type.spec.inclusive===!1&&(!a||!n[s].isInSet(a.marks))&&(n=n[s--].removeFromSet(n));return n}sharedDepth(t){for(let r=this.depth;r>0;r--)if(this.start(r)<=t&&this.end(r)>=t)return r;return 0}blockRange(t=this,r){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!r||r(this.node(n))))return new cA(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let r=1;r<=this.depth;r++)t+=(t?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return t+":"+this.parentOffset}static resolve(t,r){if(!(r>=0&&r<=t.content.size))throw new RangeError("Position "+r+" out of range");let n=[],a=0,s=r;for(let i=t;;){let{index:l,offset:c}=i.content.findIndex(s),d=s-c;if(n.push(i,l,a+c),!d||(i=i.child(l),i.isText))break;s=d-1,a+=c+1}return new pN(r,n,s)}static resolveCached(t,r){let n=aG.get(t);if(n)for(let s=0;s<n.elts.length;s++){let i=n.elts[s];if(i.pos==r)return i}else aG.set(t,n=new iJe);let a=n.elts[n.i]=pN.resolve(t,r);return n.i=(n.i+1)%oJe,a}}class iJe{constructor(){this.elts=[],this.i=0}}const oJe=12,aG=new WeakMap;class cA{constructor(t,r,n){this.$from=t,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const lJe=Object.create(null);let km=class UP{constructor(t,r,n,a=qn.none){this.type=t,this.attrs=r,this.marks=a,this.content=n||bt.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,r,n,a=0){this.content.nodesBetween(t,r,n,a,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,r,n,a){return this.content.textBetween(t,r,n,a)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,r,n){return this.type==t&&iA(this.attrs,r||t.defaultAttrs||lJe)&&qn.sameSet(this.marks,n||qn.none)}copy(t=null){return t==this.content?this:new UP(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new UP(this.type,this.attrs,this.content,t)}cut(t,r=this.content.size){return t==0&&r==this.content.size?this:this.copy(this.content.cut(t,r))}slice(t,r=this.content.size,n=!1){if(t==r)return Lt.empty;let a=this.resolve(t),s=this.resolve(r),i=n?0:a.sharedDepth(r),l=a.start(i),d=a.node(i).content.cut(a.pos-l,s.pos-l);return new Lt(d,a.depth-i,s.depth-i)}replace(t,r,n){return aJe(this.resolve(t),this.resolve(r),n)}nodeAt(t){for(let r=this;;){let{index:n,offset:a}=r.content.findIndex(t);if(r=r.maybeChild(n),!r)return null;if(a==t||r.isText)return r;t-=a+1}}childAfter(t){let{index:r,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(r),index:r,offset:n};let a=this.content.child(r-1);return{node:a,index:r-1,offset:n-a.nodeSize}}resolve(t){return pN.resolveCached(this,t)}resolveNoCache(t){return pN.resolve(this,t)}rangeHasMark(t,r,n){let a=!1;return r>t&&this.nodesBetween(t,r,s=>(n.isInSet(s.marks)&&(a=!0),!a)),a}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Qce(this.marks,t)}contentMatchAt(t){let r=this.type.contentMatch.matchFragment(this.content,0,t);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(t,r,n=bt.empty,a=0,s=n.childCount){let i=this.contentMatchAt(t).matchFragment(n,a,s),l=i&&i.matchFragment(this.content,r);if(!l||!l.validEnd)return!1;for(let c=a;c<s;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(t,r,n,a){if(a&&!this.type.allowsMarks(a))return!1;let s=this.contentMatchAt(t).matchType(n),i=s&&s.matchFragment(this.content,r);return i?i.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=qn.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),t=n.addToSet(t)}if(!qn.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(r=>r.toJSON())),t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(t.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(r.text,n)}let a=bt.fromJSON(t,r.content),s=t.nodeType(r.type).create(r.attrs,a,n);return s.type.checkAttrs(s.attrs),s}};km.prototype.text=void 0;class dA extends km{constructor(t,r,n,a){if(super(t,r,null,a),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Qce(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,r){return this.text.slice(t,r)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new dA(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new dA(this.type,this.attrs,t,this.marks)}cut(t=0,r=this.text.length){return t==0&&r==this.text.length?this:this.withText(this.text.slice(t,r))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Qce(e,t){for(let r=e.length-1;r>=0;r--)t=e[r].type.name+"("+t+")";return t}class ix{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,r){let n=new cJe(t,r);if(n.next==null)return ix.empty;let a=Zce(n);n.next&&n.err("Unexpected trailing text");let s=gJe(mJe(a));return xJe(s,n),s}matchType(t){for(let r=0;r<this.next.length;r++)if(this.next[r].type==t)return this.next[r].next;return null}matchFragment(t,r=0,n=t.childCount){let a=this;for(let s=r;a&&s<n;s++)a=a.matchType(t.child(s).type);return a}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:r}=this.next[t];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(t){for(let r=0;r<this.next.length;r++)for(let n=0;n<t.next.length;n++)if(this.next[r].type==t.next[n].type)return!0;return!1}fillBefore(t,r=!1,n=0){let a=[this];function s(i,l){let c=i.matchFragment(t,n);if(c&&(!r||c.validEnd))return bt.from(l.map(d=>d.createAndFill()));for(let d=0;d<i.next.length;d++){let{type:u,next:f}=i.next[d];if(!(u.isText||u.hasRequiredAttrs())&&a.indexOf(f)==-1){a.push(f);let p=s(f,l.concat(u));if(p)return p}}return null}return s(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let r=this.computeWrapping(t);return this.wrapCache.push(t,r),r}computeWrapping(t){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let a=n.shift(),s=a.match;if(s.matchType(t)){let i=[];for(let l=a;l.type;l=l.via)i.push(l.type);return i.reverse()}for(let i=0;i<s.next.length;i++){let{type:l,next:c}=s.next[i];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in r)&&(!a.type||c.validEnd)&&(n.push({match:l.contentMatch,type:l,via:a}),r[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function r(n){t.push(n);for(let a=0;a<n.next.length;a++)t.indexOf(n.next[a].next)==-1&&r(n.next[a].next)}return r(this),t.map((n,a)=>{let s=a+(n.validEnd?"*":" ")+" ";for(let i=0;i<n.next.length;i++)s+=(i?", ":"")+n.next[i].type.name+"->"+t.indexOf(n.next[i].next);return s}).join(`
`)}}ix.empty=new ix(!0);class cJe{constructor(t,r){this.string=t,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function Zce(e){let t=[];do t.push(dJe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function dJe(e){let t=[];do t.push(uJe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function uJe(e){let t=pJe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=fJe(e,t);else break;return t}function sG(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function fJe(e,t){let r=sG(e),n=r;return e.eat(",")&&(e.next!="}"?n=sG(e):n=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:t}}function hJe(e,t){let r=e.nodeTypes,n=r[t];if(n)return[n];let a=[];for(let s in r){let i=r[s];i.isInGroup(t)&&a.push(i)}return a.length==0&&e.err("No node type or group '"+t+"' found"),a}function pJe(e){if(e.eat("(")){let t=Zce(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=hJe(e,e.next).map(r=>(e.inline==null?e.inline=r.isInline:e.inline!=r.isInline&&e.err("Mixing inline and block content"),{type:"name",value:r}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function mJe(e){let t=[[]];return a(s(e,0),r()),t;function r(){return t.push([])-1}function n(i,l,c){let d={term:c,to:l};return t[i].push(d),d}function a(i,l){i.forEach(c=>c.to=l)}function s(i,l){if(i.type=="choice")return i.exprs.reduce((c,d)=>c.concat(s(d,l)),[]);if(i.type=="seq")for(let c=0;;c++){let d=s(i.exprs[c],l);if(c==i.exprs.length-1)return d;a(d,l=r())}else if(i.type=="star"){let c=r();return n(l,c),a(s(i.expr,c),c),[n(c)]}else if(i.type=="plus"){let c=r();return a(s(i.expr,l),c),a(s(i.expr,c),c),[n(c)]}else{if(i.type=="opt")return[n(l)].concat(s(i.expr,l));if(i.type=="range"){let c=l;for(let d=0;d<i.min;d++){let u=r();a(s(i.expr,c),u),c=u}if(i.max==-1)a(s(i.expr,c),c);else for(let d=i.min;d<i.max;d++){let u=r();n(c,u),a(s(i.expr,c),u),c=u}return[n(c)]}else{if(i.type=="name")return[n(l,void 0,i.value)];throw new Error("Unknown expr type")}}}}function ede(e,t){return t-e}function iG(e,t){let r=[];return n(t),r.sort(ede);function n(a){let s=e[a];if(s.length==1&&!s[0].term)return n(s[0].to);r.push(a);for(let i=0;i<s.length;i++){let{term:l,to:c}=s[i];!l&&r.indexOf(c)==-1&&n(c)}}}function gJe(e){let t=Object.create(null);return r(iG(e,0));function r(n){let a=[];n.forEach(i=>{e[i].forEach(({term:l,to:c})=>{if(!l)return;let d;for(let u=0;u<a.length;u++)a[u][0]==l&&(d=a[u][1]);iG(e,c).forEach(u=>{d||a.push([l,d=[]]),d.indexOf(u)==-1&&d.push(u)})})});let s=t[n.join(",")]=new ix(n.indexOf(e.length-1)>-1);for(let i=0;i<a.length;i++){let l=a[i][1].sort(ede);s.next.push({type:a[i][0],next:t[l.join(",")]||r(l)})}return s}}function xJe(e,t){for(let r=0,n=[e];r<n.length;r++){let a=n[r],s=!a.validEnd,i=[];for(let l=0;l<a.next.length;l++){let{type:c,next:d}=a.next[l];i.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),n.indexOf(d)==-1&&n.push(d)}s&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function tde(e){let t=Object.create(null);for(let r in e){let n=e[r];if(!n.hasDefault)return null;t[r]=n.default}return t}function rde(e,t){let r=Object.create(null);for(let n in e){let a=t&&t[n];if(a===void 0){let s=e[n];if(s.hasDefault)a=s.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=a}return r}function nde(e,t,r,n){for(let a in t)if(!(a in e))throw new RangeError(`Unsupported attribute ${a} for ${r} of type ${a}`);for(let a in e){let s=e[a];s.validate&&s.validate(t[a])}}function ade(e,t){let r=Object.create(null);if(t)for(let n in t)r[n]=new vJe(e,n,t[n]);return r}let oG=class sde{constructor(t,r,n){this.name=t,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=ade(t,n.attrs),this.defaultAttrs=tde(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ix.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:rde(this.attrs,t)}create(t=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new km(this,this.computeAttrs(t),bt.from(r),qn.setFrom(n))}createChecked(t=null,r,n){return r=bt.from(r),this.checkContent(r),new km(this,this.computeAttrs(t),r,qn.setFrom(n))}createAndFill(t=null,r,n){if(t=this.computeAttrs(t),r=bt.from(r),r.size){let i=this.contentMatch.fillBefore(r);if(!i)return null;r=i.append(r)}let a=this.contentMatch.matchFragment(r),s=a&&a.fillBefore(bt.empty,!0);return s?new km(this,t,r.append(s),qn.setFrom(n)):null}validContent(t){let r=this.contentMatch.matchFragment(t);if(!r||!r.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){nde(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let r=0;r<t.length;r++)if(!this.allowsMarkType(t[r].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let r;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?r&&r.push(t[n]):r||(r=t.slice(0,n));return r?r.length?r:qn.none:t}static compile(t,r){let n=Object.create(null);t.forEach((s,i)=>n[s]=new sde(s,r,i));let a=r.spec.topNode||"doc";if(!n[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let s in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function yJe(e,t,r){let n=r.split("|");return a=>{let s=a===null?"null":typeof a;if(n.indexOf(s)<0)throw new RangeError(`Expected value of type ${n} for attribute ${t} on type ${e}, got ${s}`)}}class vJe{constructor(t,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?yJe(t,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class s3{constructor(t,r,n,a){this.name=t,this.rank=r,this.schema=n,this.spec=a,this.attrs=ade(t,a.attrs),this.excluded=null;let s=tde(this.attrs);this.instance=s?new qn(this,s):null}create(t=null){return!t&&this.instance?this.instance:new qn(this,rde(this.attrs,t))}static compile(t,r){let n=Object.create(null),a=0;return t.forEach((s,i)=>n[s]=new s3(s,a++,r,i)),n}removeFromSet(t){for(var r=0;r<t.length;r++)t[r].type==this&&(t=t.slice(0,r).concat(t.slice(r+1)),r--);return t}isInSet(t){for(let r=0;r<t.length;r++)if(t[r].type==this)return t[r]}checkAttrs(t){nde(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class ide{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let a in t)r[a]=t[a];r.nodes=Li.from(t.nodes),r.marks=Li.from(t.marks||{}),this.nodes=oG.compile(this.spec.nodes,this),this.marks=s3.compile(this.spec.marks,this);let n=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");let s=this.nodes[a],i=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=n[i]||(n[i]=ix.parse(i,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?lG(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let a in this.marks){let s=this.marks[a],i=s.spec.excludes;s.excluded=i==null?[s]:i==""?[]:lG(this,i.split(" "))}this.nodeFromJSON=a=>km.fromJSON(this,a),this.markFromJSON=a=>qn.fromJSON(this,a),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,r=null,n,a){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof oG){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(r,n,a)}text(t,r){let n=this.nodes.text;return new dA(n,n.defaultAttrs,t,qn.setFrom(r))}mark(t,r){return typeof t=="string"&&(t=this.marks[t]),t.create(r)}nodeType(t){let r=this.nodes[t];if(!r)throw new RangeError("Unknown node type: "+t);return r}}function lG(e,t){let r=[];for(let n=0;n<t.length;n++){let a=t[n],s=e.marks[a],i=s;if(s)r.push(s);else for(let l in e.marks){let c=e.marks[l];(a=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(a)>-1)&&r.push(i=c)}if(!i)throw new SyntaxError("Unknown mark type: '"+t[n]+"'")}return r}function bJe(e){return e.tag!=null}function wJe(e){return e.style!=null}class Cm{constructor(t,r){this.schema=t,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(a=>{if(bJe(a))this.tags.push(a);else if(wJe(a)){let s=/[^=]*/.exec(a.style)[0];n.indexOf(s)<0&&n.push(s),this.styles.push(a)}}),this.normalizeLists=!this.tags.some(a=>{if(!/^(ul|ol)\b/.test(a.tag)||!a.node)return!1;let s=t.nodes[a.node];return s.contentMatch.matchType(s)})}parse(t,r={}){let n=new dG(this,r,!1);return n.addAll(t,qn.none,r.from,r.to),n.finish()}parseSlice(t,r={}){let n=new dG(this,r,!0);return n.addAll(t,qn.none,r.from,r.to),Lt.maxOpen(n.finish())}matchTag(t,r,n){for(let a=n?this.tags.indexOf(n)+1:0;a<this.tags.length;a++){let s=this.tags[a];if(jJe(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||r.matchesContext(s.context))){if(s.getAttrs){let i=s.getAttrs(t);if(i===!1)continue;s.attrs=i||void 0}return s}}}matchStyle(t,r,n,a){for(let s=a?this.styles.indexOf(a)+1:0;s<this.styles.length;s++){let i=this.styles[s],l=i.style;if(!(l.indexOf(t)!=0||i.context&&!n.matchesContext(i.context)||l.length>t.length&&(l.charCodeAt(t.length)!=61||l.slice(t.length+1)!=r))){if(i.getAttrs){let c=i.getAttrs(r);if(c===!1)continue;i.attrs=c||void 0}return i}}}static schemaRules(t){let r=[];function n(a){let s=a.priority==null?50:a.priority,i=0;for(;i<r.length;i++){let l=r[i];if((l.priority==null?50:l.priority)<s)break}r.splice(i,0,a)}for(let a in t.marks){let s=t.marks[a].spec.parseDOM;s&&s.forEach(i=>{n(i=uG(i)),i.mark||i.ignore||i.clearMark||(i.mark=a)})}for(let a in t.nodes){let s=t.nodes[a].spec.parseDOM;s&&s.forEach(i=>{n(i=uG(i)),i.node||i.ignore||i.mark||(i.node=a)})}return r}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Cm(t,Cm.schemaRules(t)))}}const ode={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},NJe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},lde={ol:!0,ul:!0},mN=1,VP=2,J2=4;function cG(e,t,r){return t!=null?(t?mN:0)|(t==="full"?VP:0):e&&e.whitespace=="pre"?mN|VP:r&~J2}class D5{constructor(t,r,n,a,s,i){this.type=t,this.attrs=r,this.marks=n,this.solid=a,this.options=i,this.content=[],this.activeMarks=qn.none,this.match=s||(i&J2?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(bt.from(t));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,a;return(a=n.findWrapping(t.type))?(this.match=n,a):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&mN)){let n=this.content[this.content.length-1],a;if(n&&n.isText&&(a=/[ \t\r\n\u000c]+$/.exec(n.text))){let s=n;n.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-a[0].length))}}let r=bt.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(bt.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!ode.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class dG{constructor(t,r,n){this.parser=t,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let a=r.topNode,s,i=cG(null,r.preserveWhitespace,0)|(n?J2:0);a?s=new D5(a.type,a.attrs,qn.none,!0,r.topMatch||a.type.contentMatch,i):n?s=new D5(null,null,qn.none,!0,null,i):s=new D5(t.schema.topNodeType,null,qn.none,!0,null,i),this.nodes=[s],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,r){t.nodeType==3?this.addTextNode(t,r):t.nodeType==1&&this.addElement(t,r)}addTextNode(t,r){let n=t.nodeValue,a=this.top,s=a.options&VP?"full":this.localPreserveWS||(a.options&mN)>0,{schema:i}=this.parser;if(s==="full"||a.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(s)if(s==="full")n=n.replace(/\r\n?/g,`
`);else if(i.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(i.linebreakReplacement.create())){let l=n.split(/\r?\n|\r/);for(let c=0;c<l.length;c++)c&&this.insertNode(i.linebreakReplacement.create(),r,!0),l[c]&&this.insertNode(i.text(l[c]),r,!/\S/.test(l[c]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let l=a.content[a.content.length-1],c=t.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(n=n.slice(1))}n&&this.insertNode(i.text(n),r,!/\S/.test(n)),this.findInText(t)}else this.findInside(t)}addElement(t,r,n){let a=this.localPreserveWS,s=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let i=t.nodeName.toLowerCase(),l;lde.hasOwnProperty(i)&&this.parser.normalizeLists&&SJe(t);let c=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(l=this.parser.matchTag(t,this,n));e:if(c?c.ignore:NJe.hasOwnProperty(i))this.findInside(t),this.ignoreFallback(t,r);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(t=c.skip);let d,u=this.needsBlock;if(ode.hasOwnProperty(i))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),d=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,r);break e}let f=c&&c.skip?r:this.readStyles(t,r);f&&this.addAll(t,f),d&&this.sync(s),this.needsBlock=u}else{let d=this.readStyles(t,r);d&&this.addElementByRule(t,c,d,c.consuming===!1?l:void 0)}this.localPreserveWS=a}leafFallback(t,r){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),r)}ignoreFallback(t,r){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(t,r){let n=t.style;if(n&&n.length)for(let a=0;a<this.parser.matchedStyles.length;a++){let s=this.parser.matchedStyles[a],i=n.getPropertyValue(s);if(i)for(let l=void 0;;){let c=this.parser.matchStyle(s,i,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?r=r.filter(d=>!c.clearMark(d)):r=r.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return r}addElementByRule(t,r,n,a){let s,i;if(r.node)if(i=this.parser.schema.nodes[r.node],i.isLeaf)this.insertNode(i.create(r.attrs),n,t.nodeName=="BR")||this.leafFallback(t,n);else{let c=this.enter(i,r.attrs||null,n,r.preserveWhitespace);c&&(s=!0,n=c)}else{let c=this.parser.schema.marks[r.mark];n=n.concat(c.create(r.attrs))}let l=this.top;if(i&&i.isLeaf)this.findInside(t);else if(a)this.addElement(t,n,a);else if(r.getContent)this.findInside(t),r.getContent(t,this.parser.schema).forEach(c=>this.insertNode(c,n,!1));else{let c=t;typeof r.contentElement=="string"?c=t.querySelector(r.contentElement):typeof r.contentElement=="function"?c=r.contentElement(t):r.contentElement&&(c=r.contentElement),this.findAround(t,c,!0),this.addAll(c,n),this.findAround(t,c,!1)}s&&this.sync(l)&&this.open--}addAll(t,r,n,a){let s=n||0;for(let i=n?t.childNodes[n]:t.firstChild,l=a==null?null:t.childNodes[a];i!=l;i=i.nextSibling,++s)this.findAtPoint(t,s),this.addDOM(i,r);this.findAtPoint(t,s)}findPlace(t,r,n){let a,s;for(let i=this.open,l=0;i>=0;i--){let c=this.nodes[i],d=c.findWrapping(t);if(d&&(!a||a.length>d.length+l)&&(a=d,s=c,!d.length))break;if(c.solid){if(n)break;l+=2}}if(!a)return null;this.sync(s);for(let i=0;i<a.length;i++)r=this.enterInner(a[i],null,r,!1);return r}insertNode(t,r,n){if(t.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(r=this.enterInner(s,null,r))}let a=this.findPlace(t,r,n);if(a){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(t.type));let i=qn.none;for(let l of a.concat(t.marks))(s.type?s.type.allowsMarkType(l.type):fG(l.type,t.type))&&(i=l.addToSet(i));return s.content.push(t.mark(i)),!0}return!1}enter(t,r,n,a){let s=this.findPlace(t.create(r),n,!1);return s&&(s=this.enterInner(t,r,n,!0,a)),s}enterInner(t,r,n,a=!1,s){this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(t);let l=cG(t,s,i.options);i.options&J2&&i.content.length==0&&(l|=J2);let c=qn.none;return n=n.filter(d=>(i.type?i.type.allowsMarkType(d.type):fG(d.type,t))?(c=d.addToSet(c),!1):!0),this.nodes.push(new D5(t,r,c,a,null,l)),this.open++,n}closeExtra(t=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let r=this.open;r>=0;r--){if(this.nodes[r]==t)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=mN)}return!1}get currentPos(){this.closeExtra();let t=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let a=n.length-1;a>=0;a--)t+=n[a].nodeSize;r&&t++}return t}findAtPoint(t,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(t,r,n){if(t!=r&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&t.nodeType==1&&t.contains(this.find[a].node)&&r.compareDocumentPosition(this.find[a].node)&(n?2:4)&&(this.find[a].pos=this.currentPos)}findInText(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&(this.find[r].pos=this.currentPos-(t.nodeValue.length-this.find[r].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let r=t.split("/"),n=this.options.context,a=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),s=-(n?n.depth+1:0)+(a?0:1),i=(l,c)=>{for(;l>=0;l--){let d=r[l];if(d==""){if(l==r.length-1||l==0)continue;for(;c>=s;c--)if(i(l-1,c))return!0;return!1}else{let u=c>0||c==0&&a?this.nodes[c].type:n&&c>=s?n.node(c-s).type:null;if(!u||u.name!=d&&!u.isInGroup(d))return!1;c--}}return!0};return i(r.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let r=t.depth;r>=0;r--){let n=t.node(r).contentMatchAt(t.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function SJe(e){for(let t=e.firstChild,r=null;t;t=t.nextSibling){let n=t.nodeType==1?t.nodeName.toLowerCase():null;n&&lde.hasOwnProperty(n)&&r?(r.appendChild(t),t=r):n=="li"?r=t:n&&(r=null)}}function jJe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function uG(e){let t={};for(let r in e)t[r]=e[r];return t}function fG(e,t){let r=t.schema.nodes;for(let n in r){let a=r[n];if(!a.allowsMarkType(e))continue;let s=[],i=l=>{s.push(l);for(let c=0;c<l.edgeCount;c++){let{type:d,next:u}=l.edge(c);if(d==t||s.indexOf(u)<0&&i(u))return!0}};if(i(a.contentMatch))return!0}}class Mx{constructor(t,r){this.nodes=t,this.marks=r}serializeFragment(t,r={},n){n||(n=fM(r).createDocumentFragment());let a=n,s=[];return t.forEach(i=>{if(s.length||i.marks.length){let l=0,c=0;for(;l<s.length&&c<i.marks.length;){let d=i.marks[c];if(!this.marks[d.type.name]){c++;continue}if(!d.eq(s[l][0])||d.type.spec.spanning===!1)break;l++,c++}for(;l<s.length;)a=s.pop()[1];for(;c<i.marks.length;){let d=i.marks[c++],u=this.serializeMark(d,i.isInline,r);u&&(s.push([d,a]),a.appendChild(u.dom),a=u.contentDOM||u.dom)}}a.appendChild(this.serializeNodeInner(i,r))}),n}serializeNodeInner(t,r){let{dom:n,contentDOM:a}=z_(fM(r),this.nodes[t.type.name](t),null,t.attrs);if(a){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,r,a)}return n}serializeNode(t,r={}){let n=this.serializeNodeInner(t,r);for(let a=t.marks.length-1;a>=0;a--){let s=this.serializeMark(t.marks[a],t.isInline,r);s&&((s.contentDOM||s.dom).appendChild(n),n=s.dom)}return n}serializeMark(t,r,n={}){let a=this.marks[t.type.name];return a&&z_(fM(n),a(t,r),null,t.attrs)}static renderSpec(t,r,n=null,a){return z_(t,r,n,a)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Mx(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let r=hG(t.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(t){return hG(t.marks)}}function hG(e){let t={};for(let r in e){let n=e[r].spec.toDOM;n&&(t[r]=n)}return t}function fM(e){return e.document||window.document}const pG=new WeakMap;function _Je(e){let t=pG.get(e);return t===void 0&&pG.set(e,t=kJe(e)),t}function kJe(e){let t=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")t||(t=[]),t.push(n);else for(let a=0;a<n.length;a++)r(n[a]);else for(let a in n)r(n[a])}return r(e),t}function z_(e,t,r,n){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let a=t[0],s;if(typeof a!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(s=_Je(n))&&s.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let i=a.indexOf(" ");i>0&&(r=a.slice(0,i),a=a.slice(i+1));let l,c=r?e.createElementNS(r,a):e.createElement(a),d=t[1],u=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){u=2;for(let f in d)if(d[f]!=null){let p=f.indexOf(" ");p>0?c.setAttributeNS(f.slice(0,p),f.slice(p+1),d[f]):f=="style"&&c.style?c.style.cssText=d[f]:c.setAttribute(f,d[f])}}for(let f=u;f<t.length;f++){let p=t[f];if(p===0){if(f<t.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:h,contentDOM:m}=z_(e,p,r,n);if(c.appendChild(h),m){if(l)throw new RangeError("Multiple content holes");l=m}}}return{dom:c,contentDOM:l}}const cde=65535,dde=Math.pow(2,16);function CJe(e,t){return e+t*dde}function mG(e){return e&cde}function AJe(e){return(e-(e&cde))/dde}const ude=1,fde=2,B_=4,hde=8;class qP{constructor(t,r,n){this.pos=t,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&hde)>0}get deletedBefore(){return(this.delInfo&(ude|B_))>0}get deletedAfter(){return(this.delInfo&(fde|B_))>0}get deletedAcross(){return(this.delInfo&B_)>0}}class oc{constructor(t,r=!1){if(this.ranges=t,this.inverted=r,!t.length&&oc.empty)return oc.empty}recover(t){let r=0,n=mG(t);if(!this.inverted)for(let a=0;a<n;a++)r+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[n*3]+r+AJe(t)}mapResult(t,r=1){return this._map(t,r,!1)}map(t,r=1){return this._map(t,r,!0)}_map(t,r,n){let a=0,s=this.inverted?2:1,i=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?a:0);if(c>t)break;let d=this.ranges[l+s],u=this.ranges[l+i],f=c+d;if(t<=f){let p=d?t==c?-1:t==f?1:r:r,h=c+a+(p<0?0:u);if(n)return h;let m=t==(r<0?c:f)?null:CJe(l/3,t-c),g=t==c?fde:t==f?ude:B_;return(r<0?t!=c:t!=f)&&(g|=hde),new qP(h,g,m)}a+=u-d}return n?t+a:new qP(t+a,0,null)}touches(t,r){let n=0,a=mG(r),s=this.inverted?2:1,i=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?n:0);if(c>t)break;let d=this.ranges[l+s],u=c+d;if(t<=u&&l==a*3)return!0;n+=this.ranges[l+i]-d}return!1}forEach(t){let r=this.inverted?2:1,n=this.inverted?1:2;for(let a=0,s=0;a<this.ranges.length;a+=3){let i=this.ranges[a],l=i-(this.inverted?s:0),c=i+(this.inverted?0:s),d=this.ranges[a+r],u=this.ranges[a+n];t(l,l+d,c,c+u),s+=u-d}}invert(){return new oc(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?oc.empty:new oc(t<0?[0,-t,0]:[0,0,t])}}oc.empty=new oc([]);class gN{constructor(t,r,n=0,a=t?t.length:0){this.mirror=r,this.from=n,this.to=a,this._maps=t||[],this.ownData=!(t||r)}get maps(){return this._maps}slice(t=0,r=this.maps.length){return new gN(this._maps,this.mirror,t,r)}appendMap(t,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(t){for(let r=0,n=this._maps.length;r<t._maps.length;r++){let a=t.getMirror(r);this.appendMap(t._maps[r],a!=null&&a<r?n+a:void 0)}}getMirror(t){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==t)return this.mirror[r+(r%2?-1:1)]}}setMirror(t,r){this.mirror||(this.mirror=[]),this.mirror.push(t,r)}appendMappingInverted(t){for(let r=t.maps.length-1,n=this._maps.length+t._maps.length;r>=0;r--){let a=t.getMirror(r);this.appendMap(t._maps[r].invert(),a!=null&&a>r?n-a-1:void 0)}}invert(){let t=new gN;return t.appendMappingInverted(this),t}map(t,r=1){if(this.mirror)return this._map(t,r,!0);for(let n=this.from;n<this.to;n++)t=this._maps[n].map(t,r);return t}mapResult(t,r=1){return this._map(t,r,!1)}_map(t,r,n){let a=0;for(let s=this.from;s<this.to;s++){let i=this._maps[s],l=i.mapResult(t,r);if(l.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,t=this._maps[c].recover(l.recover);continue}}a|=l.delInfo,t=l.pos}return n?t:new qP(t,a,null)}}const hM=Object.create(null);class jo{getMap(){return oc.empty}merge(t){return null}static fromJSON(t,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=hM[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(t,r)}static jsonID(t,r){if(t in hM)throw new RangeError("Duplicate use of step JSON ID "+t);return hM[t]=r,r.prototype.jsonID=t,r}}class Os{constructor(t,r){this.doc=t,this.failed=r}static ok(t){return new Os(t,null)}static fail(t){return new Os(null,t)}static fromReplace(t,r,n,a){try{return Os.ok(t.replace(r,n,a))}catch(s){if(s instanceof oA)return Os.fail(s.message);throw s}}}function p7(e,t,r){let n=[];for(let a=0;a<e.childCount;a++){let s=e.child(a);s.content.size&&(s=s.copy(p7(s.content,t,s))),s.isInline&&(s=t(s,r,a)),n.push(s)}return bt.fromArray(n)}class sm extends jo{constructor(t,r,n){super(),this.from=t,this.to=r,this.mark=n}apply(t){let r=t.slice(this.from,this.to),n=t.resolve(this.from),a=n.node(n.sharedDepth(this.to)),s=new Lt(p7(r.content,(i,l)=>!i.isAtom||!l.type.allowsMarkType(this.mark.type)?i:i.mark(this.mark.addToSet(i.marks)),a),r.openStart,r.openEnd);return Os.fromReplace(t,this.from,this.to,s)}invert(){return new Jd(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new sm(r.pos,n.pos,this.mark)}merge(t){return t instanceof sm&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new sm(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new sm(r.from,r.to,t.markFromJSON(r.mark))}}jo.jsonID("addMark",sm);class Jd extends jo{constructor(t,r,n){super(),this.from=t,this.to=r,this.mark=n}apply(t){let r=t.slice(this.from,this.to),n=new Lt(p7(r.content,a=>a.mark(this.mark.removeFromSet(a.marks)),t),r.openStart,r.openEnd);return Os.fromReplace(t,this.from,this.to,n)}invert(){return new sm(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Jd(r.pos,n.pos,this.mark)}merge(t){return t instanceof Jd&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Jd(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Jd(r.from,r.to,t.markFromJSON(r.mark))}}jo.jsonID("removeMark",Jd);class im extends jo{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return Os.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Os.fromReplace(t,this.pos,this.pos+1,new Lt(bt.from(n),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let a=0;a<r.marks.length;a++)if(!r.marks[a].isInSet(n))return new im(this.pos,r.marks[a]);return new im(this.pos,this.mark)}}return new ox(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new im(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new im(r.pos,t.markFromJSON(r.mark))}}jo.jsonID("addNodeMark",im);class ox extends jo{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return Os.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Os.fromReplace(t,this.pos,this.pos+1,new Lt(bt.from(n),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new im(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new ox(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ox(r.pos,t.markFromJSON(r.mark))}}jo.jsonID("removeNodeMark",ox);class pi extends jo{constructor(t,r,n,a=!1){super(),this.from=t,this.to=r,this.slice=n,this.structure=a}apply(t){return this.structure&&WP(t,this.from,this.to)?Os.fail("Structure replace would overwrite content"):Os.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new oc([this.from,this.to-this.from,this.slice.size])}invert(t){return new pi(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new pi(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(t){if(!(t instanceof pi)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let r=this.slice.size+t.slice.size==0?Lt.empty:new Lt(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new pi(this.from,this.to+(t.to-t.from),r,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let r=this.slice.size+t.slice.size==0?Lt.empty:new Lt(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new pi(t.from,this.to,r,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new pi(r.from,r.to,Lt.fromJSON(t,r.slice),!!r.structure)}}jo.jsonID("replace",pi);class Ni extends jo{constructor(t,r,n,a,s,i,l=!1){super(),this.from=t,this.to=r,this.gapFrom=n,this.gapTo=a,this.slice=s,this.insert=i,this.structure=l}apply(t){if(this.structure&&(WP(t,this.from,this.gapFrom)||WP(t,this.gapTo,this.to)))return Os.fail("Structure gap-replace would overwrite content");let r=t.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Os.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Os.fromReplace(t,this.from,this.to,n):Os.fail("Content does not fit in gap")}getMap(){return new oc([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let r=this.gapTo-this.gapFrom;return new Ni(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),a=this.from==this.gapFrom?r.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?n.pos:t.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||a<r.pos||s>n.pos?null:new Ni(r.pos,n.pos,a,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ni(r.from,r.to,r.gapFrom,r.gapTo,Lt.fromJSON(t,r.slice),r.insert,!!r.structure)}}jo.jsonID("replaceAround",Ni);function WP(e,t,r){let n=e.resolve(t),a=r-t,s=n.depth;for(;a>0&&s>0&&n.indexAfter(s)==n.node(s).childCount;)s--,a--;if(a>0){let i=n.node(s).maybeChild(n.indexAfter(s));for(;a>0;){if(!i||i.isLeaf)return!0;i=i.firstChild,a--}}return!1}function EJe(e,t,r,n){let a=[],s=[],i,l;e.doc.nodesBetween(t,r,(c,d,u)=>{if(!c.isInline)return;let f=c.marks;if(!n.isInSet(f)&&u.type.allowsMarkType(n.type)){let p=Math.max(d,t),h=Math.min(d+c.nodeSize,r),m=n.addToSet(f);for(let g=0;g<f.length;g++)f[g].isInSet(m)||(i&&i.to==p&&i.mark.eq(f[g])?i.to=h:a.push(i=new Jd(p,h,f[g])));l&&l.to==p?l.to=h:s.push(l=new sm(p,h,n))}}),a.forEach(c=>e.step(c)),s.forEach(c=>e.step(c))}function TJe(e,t,r,n){let a=[],s=0;e.doc.nodesBetween(t,r,(i,l)=>{if(!i.isInline)return;s++;let c=null;if(n instanceof s3){let d=i.marks,u;for(;u=n.isInSet(d);)(c||(c=[])).push(u),d=u.removeFromSet(d)}else n?n.isInSet(i.marks)&&(c=[n]):c=i.marks;if(c&&c.length){let d=Math.min(l+i.nodeSize,r);for(let u=0;u<c.length;u++){let f=c[u],p;for(let h=0;h<a.length;h++){let m=a[h];m.step==s-1&&f.eq(a[h].style)&&(p=m)}p?(p.to=d,p.step=s):a.push({style:f,from:Math.max(l,t),to:d,step:s})}}}),a.forEach(i=>e.step(new Jd(i.from,i.to,i.style)))}function m7(e,t,r,n=r.contentMatch,a=!0){let s=e.doc.nodeAt(t),i=[],l=t+1;for(let c=0;c<s.childCount;c++){let d=s.child(c),u=l+d.nodeSize,f=n.matchType(d.type);if(!f)i.push(new pi(l,u,Lt.empty));else{n=f;for(let p=0;p<d.marks.length;p++)r.allowsMarkType(d.marks[p].type)||e.step(new Jd(l,u,d.marks[p]));if(a&&d.isText&&r.whitespace!="pre"){let p,h=/\r?\n|\r/g,m;for(;p=h.exec(d.text);)m||(m=new Lt(bt.from(r.schema.text(" ",r.allowedMarks(d.marks))),0,0)),i.push(new pi(l+p.index,l+p.index+p[0].length,m))}}l=u}if(!n.validEnd){let c=n.fillBefore(bt.empty,!0);e.replace(l,l,new Lt(c,0,0))}for(let c=i.length-1;c>=0;c--)e.step(i[c])}function DJe(e,t,r){return(t==0||e.canReplace(t,e.childCount))&&(r==e.childCount||e.canReplace(0,r))}function Yb(e){let r=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth,a=0,s=0;;--n){let i=e.$from.node(n),l=e.$from.index(n)+a,c=e.$to.indexAfter(n)-s;if(n<e.depth&&i.canReplace(l,c,r))return n;if(n==0||i.type.spec.isolating||!DJe(i,l,c))break;l&&(a=1),c<i.childCount&&(s=1)}return null}function MJe(e,t,r){let{$from:n,$to:a,depth:s}=t,i=n.before(s+1),l=a.after(s+1),c=i,d=l,u=bt.empty,f=0;for(let m=s,g=!1;m>r;m--)g||n.index(m)>0?(g=!0,u=bt.from(n.node(m).copy(u)),f++):c--;let p=bt.empty,h=0;for(let m=s,g=!1;m>r;m--)g||a.after(m+1)<a.end(m)?(g=!0,p=bt.from(a.node(m).copy(p)),h++):d++;e.step(new Ni(c,d,i,l,new Lt(u.append(p),f,h),u.size-f,!0))}function g7(e,t,r=null,n=e){let a=OJe(e,t),s=a&&PJe(n,t);return s?a.map(gG).concat({type:t,attrs:r}).concat(s.map(gG)):null}function gG(e){return{type:e,attrs:null}}function OJe(e,t){let{parent:r,startIndex:n,endIndex:a}=e,s=r.contentMatchAt(n).findWrapping(t);if(!s)return null;let i=s.length?s[0]:t;return r.canReplaceWith(n,a,i)?s:null}function PJe(e,t){let{parent:r,startIndex:n,endIndex:a}=e,s=r.child(n),i=t.contentMatch.findWrapping(s.type);if(!i)return null;let c=(i.length?i[i.length-1]:t).contentMatch;for(let d=n;c&&d<a;d++)c=c.matchType(r.child(d).type);return!c||!c.validEnd?null:i}function RJe(e,t,r){let n=bt.empty;for(let i=r.length-1;i>=0;i--){if(n.size){let l=r[i].type.contentMatch.matchFragment(n);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=bt.from(r[i].type.create(r[i].attrs,n))}let a=t.start,s=t.end;e.step(new Ni(a,s,a,s,new Lt(n,0,0),r.length,!0))}function LJe(e,t,r,n,a){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,r,(i,l)=>{let c=typeof a=="function"?a(i):a;if(i.isTextblock&&!i.hasMarkup(n,c)&&IJe(e.doc,e.mapping.slice(s).map(l),n)){let d=null;if(n.schema.linebreakReplacement){let h=n.whitespace=="pre",m=!!n.contentMatch.matchType(n.schema.linebreakReplacement);h&&!m?d=!1:!h&&m&&(d=!0)}d===!1&&mde(e,i,l,s),m7(e,e.mapping.slice(s).map(l,1),n,void 0,d===null);let u=e.mapping.slice(s),f=u.map(l,1),p=u.map(l+i.nodeSize,1);return e.step(new Ni(f,p,f+1,p-1,new Lt(bt.from(n.create(c,null,i.marks)),0,0),1,!0)),d===!0&&pde(e,i,l,s),!1}})}function pde(e,t,r,n){t.forEach((a,s)=>{if(a.isText){let i,l=/\r?\n|\r/g;for(;i=l.exec(a.text);){let c=e.mapping.slice(n).map(r+1+s+i.index);e.replaceWith(c,c+1,t.type.schema.linebreakReplacement.create())}}})}function mde(e,t,r,n){t.forEach((a,s)=>{if(a.type==a.type.schema.linebreakReplacement){let i=e.mapping.slice(n).map(r+1+s);e.replaceWith(i,i+1,t.type.schema.text(`
`))}})}function IJe(e,t,r){let n=e.resolve(t),a=n.index();return n.parent.canReplaceWith(a,a+1,r)}function FJe(e,t,r,n,a){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");r||(r=s.type);let i=r.create(n,null,a||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,i);if(!r.validContent(s.content))throw new RangeError("Invalid content for node type "+r.name);e.step(new Ni(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new Lt(bt.from(i),0,0),1,!0))}function Ch(e,t,r=1,n){let a=e.resolve(t),s=a.depth-r,i=n&&n[n.length-1]||a.parent;if(s<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!i.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let d=a.depth-1,u=r-2;d>s;d--,u--){let f=a.node(d),p=a.index(d);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(p,f.childCount),m=n&&n[u+1];m&&(h=h.replaceChild(0,m.type.create(m.attrs)));let g=n&&n[u]||f;if(!f.canReplace(p+1,f.childCount)||!g.type.validContent(h))return!1}let l=a.indexAfter(s),c=n&&n[0];return a.node(s).canReplaceWith(l,l,c?c.type:a.node(s+1).type)}function zJe(e,t,r=1,n){let a=e.doc.resolve(t),s=bt.empty,i=bt.empty;for(let l=a.depth,c=a.depth-r,d=r-1;l>c;l--,d--){s=bt.from(a.node(l).copy(s));let u=n&&n[d];i=bt.from(u?u.type.create(u.attrs,i):a.node(l).copy(i))}e.step(new pi(t,t,new Lt(s.append(i),r,r),!0))}function o0(e,t){let r=e.resolve(t),n=r.index();return gde(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function BJe(e,t){t.content.size||e.type.compatibleContent(t.type);let r=e.contentMatchAt(e.childCount),{linebreakReplacement:n}=e.type.schema;for(let a=0;a<t.childCount;a++){let s=t.child(a),i=s.type==n?e.type.schema.nodes.text:s.type;if(r=r.matchType(i),!r||!e.type.allowsMarks(s.marks))return!1}return r.validEnd}function gde(e,t){return!!(e&&t&&!e.isLeaf&&BJe(e,t))}function i3(e,t,r=-1){let n=e.resolve(t);for(let a=n.depth;;a--){let s,i,l=n.index(a);if(a==n.depth?(s=n.nodeBefore,i=n.nodeAfter):r>0?(s=n.node(a+1),l++,i=n.node(a).maybeChild(l)):(s=n.node(a).maybeChild(l-1),i=n.node(a+1)),s&&!s.isTextblock&&gde(s,i)&&n.node(a).canReplace(l,l+1))return t;if(a==0)break;t=r<0?n.before(a):n.after(a)}}function HJe(e,t,r){let n=null,{linebreakReplacement:a}=e.doc.type.schema,s=e.doc.resolve(t-r),i=s.node().type;if(a&&i.inlineContent){let u=i.whitespace=="pre",f=!!i.contentMatch.matchType(a);u&&!f?n=!1:!u&&f&&(n=!0)}let l=e.steps.length;if(n===!1){let u=e.doc.resolve(t+r);mde(e,u.node(),u.before(),l)}i.inlineContent&&m7(e,t+r-1,i,s.node().contentMatchAt(s.index()),n==null);let c=e.mapping.slice(l),d=c.map(t-r);if(e.step(new pi(d,c.map(t+r,-1),Lt.empty,!0)),n===!0){let u=e.doc.resolve(d);pde(e,u.node(),u.before(),e.steps.length)}return e}function $Je(e,t,r){let n=e.resolve(t);if(n.parent.canReplaceWith(n.index(),n.index(),r))return t;if(n.parentOffset==0)for(let a=n.depth-1;a>=0;a--){let s=n.index(a);if(n.node(a).canReplaceWith(s,s,r))return n.before(a+1);if(s>0)return null}if(n.parentOffset==n.parent.content.size)for(let a=n.depth-1;a>=0;a--){let s=n.indexAfter(a);if(n.node(a).canReplaceWith(s,s,r))return n.after(a+1);if(s<n.node(a).childCount)return null}return null}function xde(e,t,r){let n=e.resolve(t);if(!r.content.size)return t;let a=r.content;for(let s=0;s<r.openStart;s++)a=a.firstChild.content;for(let s=1;s<=(r.openStart==0&&r.size?2:1);s++)for(let i=n.depth;i>=0;i--){let l=i==n.depth?0:n.pos<=(n.start(i+1)+n.end(i+1))/2?-1:1,c=n.index(i)+(l>0?1:0),d=n.node(i),u=!1;if(s==1)u=d.canReplace(c,c,a);else{let f=d.contentMatchAt(c).findWrapping(a.firstChild.type);u=f&&d.canReplaceWith(c,c,f[0])}if(u)return l==0?n.pos:l<0?n.before(i+1):n.after(i+1)}return null}function o3(e,t,r=t,n=Lt.empty){if(t==r&&!n.size)return null;let a=e.resolve(t),s=e.resolve(r);return yde(a,s,n)?new pi(t,r,n):new UJe(a,s,n).fit()}function yde(e,t,r){return!r.openStart&&!r.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),r.content)}class UJe{constructor(t,r,n){this.$from=t,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=bt.empty;for(let a=0;a<=t.depth;a++){let s=t.node(a);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(a))})}for(let a=t.depth;a>0;a--)this.placed=bt.from(t.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,a=this.close(t<0?this.$to:n.doc.resolve(t));if(!a)return null;let s=this.placed,i=n.depth,l=a.depth;for(;i&&l&&s.childCount==1;)s=s.firstChild.content,i--,l--;let c=new Lt(s,i,l);return t>-1?new Ni(n.pos,t,this.$to.pos,this.$to.end(),c,r):c.size||n.pos!=this.$to.pos?new pi(n.pos,a.pos,c):null}findFittable(){let t=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,a=this.unplaced.openEnd;n<t;n++){let s=r.firstChild;if(r.childCount>1&&(a=0),s.type.spec.isolating&&a<=n){t=n;break}r=s.content}for(let r=1;r<=2;r++)for(let n=r==1?t:this.unplaced.openStart;n>=0;n--){let a,s=null;n?(s=pM(this.unplaced.content,n-1).firstChild,a=s.content):a=this.unplaced.content;let i=a.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:d}=this.frontier[l],u,f=null;if(r==1&&(i?d.matchType(i.type)||(f=d.fillBefore(bt.from(i),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:n,frontierDepth:l,parent:s,inject:f};if(r==2&&i&&(u=d.findWrapping(i.type)))return{sliceDepth:n,frontierDepth:l,parent:s,wrap:u};if(s&&d.matchType(s.type))break}}}openMore(){let{content:t,openStart:r,openEnd:n}=this.unplaced,a=pM(t,r);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new Lt(t,r+1,Math.max(n,a.size+r>=t.size-n?r+1:0)),!0)}dropNode(){let{content:t,openStart:r,openEnd:n}=this.unplaced,a=pM(t,r);if(a.childCount<=1&&r>0){let s=t.size-r<=r+a.size;this.unplaced=new Lt(u2(t,r-1,1),r-1,s?r-1:n)}else this.unplaced=new Lt(u2(t,r,1),r,n)}placeNodes({sliceDepth:t,frontierDepth:r,parent:n,inject:a,wrap:s}){for(;this.depth>r;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let i=this.unplaced,l=n?n.content:i.content,c=i.openStart-t,d=0,u=[],{match:f,type:p}=this.frontier[r];if(a){for(let g=0;g<a.childCount;g++)u.push(a.child(g));f=f.matchFragment(a)}let h=l.size+t-(i.content.size-i.openEnd);for(;d<l.childCount;){let g=l.child(d),x=f.matchType(g.type);if(!x)break;d++,(d>1||c==0||g.content.size)&&(f=x,u.push(vde(g.mark(p.allowedMarks(g.marks)),d==1?c:0,d==l.childCount?h:-1)))}let m=d==l.childCount;m||(h=-1),this.placed=f2(this.placed,r,bt.from(u)),this.frontier[r].match=f,m&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,x=l;g<h;g++){let y=x.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),x=y.content}this.unplaced=m?t==0?Lt.empty:new Lt(u2(i.content,t-1,1),t-1,h<0?i.openEnd:t-1):new Lt(u2(i.content,t,d),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],r;if(!t.type.isTextblock||!mM(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,a=this.$to.after(n);for(;n>1&&a==this.$to.end(--n);)++a;return a}findCloseLevel(t){e:for(let r=Math.min(this.depth,t.depth);r>=0;r--){let{match:n,type:a}=this.frontier[r],s=r<t.depth&&t.end(r+1)==t.pos+(t.depth-(r+1)),i=mM(t,r,a,n,s);if(i){for(let l=r-1;l>=0;l--){let{match:c,type:d}=this.frontier[l],u=mM(t,l,d,c,!0);if(!u||u.childCount)continue e}return{depth:r,fit:i,move:s?t.doc.resolve(t.after(r+1)):t}}}}close(t){let r=this.findCloseLevel(t);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=f2(this.placed,r.depth,r.fit)),t=r.move;for(let n=r.depth+1;n<=t.depth;n++){let a=t.node(n),s=a.type.contentMatch.fillBefore(a.content,!0,t.index(n));this.openFrontierNode(a.type,a.attrs,s)}return t}openFrontierNode(t,r=null,n){let a=this.frontier[this.depth];a.match=a.match.matchType(t),this.placed=f2(this.placed,this.depth,bt.from(t.create(r,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(bt.empty,!0);r.childCount&&(this.placed=f2(this.placed,this.frontier.length,r))}}function u2(e,t,r){return t==0?e.cutByIndex(r,e.childCount):e.replaceChild(0,e.firstChild.copy(u2(e.firstChild.content,t-1,r)))}function f2(e,t,r){return t==0?e.append(r):e.replaceChild(e.childCount-1,e.lastChild.copy(f2(e.lastChild.content,t-1,r)))}function pM(e,t){for(let r=0;r<t;r++)e=e.firstChild.content;return e}function vde(e,t,r){if(t<=0)return e;let n=e.content;return t>1&&(n=n.replaceChild(0,vde(n.firstChild,t-1,n.childCount==1?r-1:0))),t>0&&(n=e.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(e.type.contentMatch.matchFragment(n).fillBefore(bt.empty,!0)))),e.copy(n)}function mM(e,t,r,n,a){let s=e.node(t),i=a?e.indexAfter(t):e.index(t);if(i==s.childCount&&!r.compatibleContent(s.type))return null;let l=n.fillBefore(s.content,!0,i);return l&&!VJe(r,s.content,i)?l:null}function VJe(e,t,r){for(let n=r;n<t.childCount;n++)if(!e.allowsMarks(t.child(n).marks))return!0;return!1}function qJe(e){return e.spec.defining||e.spec.definingForContent}function WJe(e,t,r,n){if(!n.size)return e.deleteRange(t,r);let a=e.doc.resolve(t),s=e.doc.resolve(r);if(yde(a,s,n))return e.step(new pi(t,r,n));let i=wde(a,s);i[i.length-1]==0&&i.pop();let l=-(a.depth+1);i.unshift(l);for(let p=a.depth,h=a.pos-1;p>0;p--,h--){let m=a.node(p).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;i.indexOf(p)>-1?l=p:a.before(p)==h&&i.splice(1,0,-p)}let c=i.indexOf(l),d=[],u=n.openStart;for(let p=n.content,h=0;;h++){let m=p.firstChild;if(d.push(m),h==n.openStart)break;p=m.content}for(let p=u-1;p>=0;p--){let h=d[p],m=qJe(h.type);if(m&&!h.sameMarkup(a.node(Math.abs(l)-1)))u=p;else if(m||!h.type.isTextblock)break}for(let p=n.openStart;p>=0;p--){let h=(p+u+1)%(n.openStart+1),m=d[h];if(m)for(let g=0;g<i.length;g++){let x=i[(g+c)%i.length],y=!0;x<0&&(y=!1,x=-x);let v=a.node(x-1),w=a.index(x-1);if(v.canReplaceWith(w,w,m.type,m.marks))return e.replace(a.before(x),y?s.after(x):r,new Lt(bde(n.content,0,n.openStart,h),h,n.openEnd))}}let f=e.steps.length;for(let p=i.length-1;p>=0&&(e.replace(t,r,n),!(e.steps.length>f));p--){let h=i[p];h<0||(t=a.before(h),r=s.after(h))}}function bde(e,t,r,n,a){if(t<r){let s=e.firstChild;e=e.replaceChild(0,s.copy(bde(s.content,t+1,r,n,s)))}if(t>n){let s=a.contentMatchAt(0),i=s.fillBefore(e).append(e);e=i.append(s.matchFragment(i).fillBefore(bt.empty,!0))}return e}function YJe(e,t,r,n){if(!n.isInline&&t==r&&e.doc.resolve(t).parent.content.size){let a=$Je(e.doc,t,n.type);a!=null&&(t=r=a)}e.replaceRange(t,r,new Lt(bt.from(n),0,0))}function GJe(e,t,r){let n=e.doc.resolve(t),a=e.doc.resolve(r),s=wde(n,a);for(let i=0;i<s.length;i++){let l=s[i],c=i==s.length-1;if(c&&l==0||n.node(l).type.contentMatch.validEnd)return e.delete(n.start(l),a.end(l));if(l>0&&(c||n.node(l-1).canReplace(n.index(l-1),a.indexAfter(l-1))))return e.delete(n.before(l),a.after(l))}for(let i=1;i<=n.depth&&i<=a.depth;i++)if(t-n.start(i)==n.depth-i&&r>n.end(i)&&a.end(i)-r!=a.depth-i&&n.start(i-1)==a.start(i-1)&&n.node(i-1).canReplace(n.index(i-1),a.index(i-1)))return e.delete(n.before(i),r);e.delete(t,r)}function wde(e,t){let r=[],n=Math.min(e.depth,t.depth);for(let a=n;a>=0;a--){let s=e.start(a);if(s<e.pos-(e.depth-a)||t.end(a)>t.pos+(t.depth-a)||e.node(a).type.spec.isolating||t.node(a).type.spec.isolating)break;(s==t.start(a)||a==e.depth&&a==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&a&&t.start(a-1)==s-1)&&r.push(a)}return r}class pv extends jo{constructor(t,r,n){super(),this.pos=t,this.attr=r,this.value=n}apply(t){let r=t.nodeAt(this.pos);if(!r)return Os.fail("No node at attribute step's position");let n=Object.create(null);for(let s in r.attrs)n[s]=r.attrs[s];n[this.attr]=this.value;let a=r.type.create(n,null,r.marks);return Os.fromReplace(t,this.pos,this.pos+1,new Lt(bt.from(a),0,r.isLeaf?0:1))}getMap(){return oc.empty}invert(t){return new pv(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new pv(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new pv(r.pos,r.attr,r.value)}}jo.jsonID("attr",pv);class xN extends jo{constructor(t,r){super(),this.attr=t,this.value=r}apply(t){let r=Object.create(null);for(let a in t.attrs)r[a]=t.attrs[a];r[this.attr]=this.value;let n=t.type.create(r,t.content,t.marks);return Os.ok(n)}getMap(){return oc.empty}invert(t){return new xN(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new xN(r.attr,r.value)}}jo.jsonID("docAttr",xN);let rb=class extends Error{};rb=function e(t){let r=Error.call(this,t);return r.__proto__=e.prototype,r};rb.prototype=Object.create(Error.prototype);rb.prototype.constructor=rb;rb.prototype.name="TransformError";class Nde{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new gN}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let r=this.maybeStep(t);if(r.failed)throw new rb(r.failed);return this}maybeStep(t){let r=t.apply(this.doc);return r.failed||this.addStep(t,r.doc),r}get docChanged(){return this.steps.length>0}addStep(t,r){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=r}replace(t,r=t,n=Lt.empty){let a=o3(this.doc,t,r,n);return a&&this.step(a),this}replaceWith(t,r,n){return this.replace(t,r,new Lt(bt.from(n),0,0))}delete(t,r){return this.replace(t,r,Lt.empty)}insert(t,r){return this.replaceWith(t,t,r)}replaceRange(t,r,n){return WJe(this,t,r,n),this}replaceRangeWith(t,r,n){return YJe(this,t,r,n),this}deleteRange(t,r){return GJe(this,t,r),this}lift(t,r){return MJe(this,t,r),this}join(t,r=1){return HJe(this,t,r),this}wrap(t,r){return RJe(this,t,r),this}setBlockType(t,r=t,n,a=null){return LJe(this,t,r,n,a),this}setNodeMarkup(t,r,n=null,a){return FJe(this,t,r,n,a),this}setNodeAttribute(t,r,n){return this.step(new pv(t,r,n)),this}setDocAttribute(t,r){return this.step(new xN(t,r)),this}addNodeMark(t,r){return this.step(new im(t,r)),this}removeNodeMark(t,r){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(r instanceof qn)r.isInSet(n.marks)&&this.step(new ox(t,r));else{let a=n.marks,s,i=[];for(;s=r.isInSet(a);)i.push(new ox(t,s)),a=s.removeFromSet(a);for(let l=i.length-1;l>=0;l--)this.step(i[l])}return this}split(t,r=1,n){return zJe(this,t,r,n),this}addMark(t,r,n){return EJe(this,t,r,n),this}removeMark(t,r,n){return TJe(this,t,r,n),this}clearIncompatible(t,r,n){return m7(this,t,r,n),this}}const gM=Object.create(null);class Lr{constructor(t,r,n){this.$anchor=t,this.$head=r,this.ranges=n||[new KJe(t.min(r),t.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let r=0;r<t.length;r++)if(t[r].$from.pos!=t[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,r=Lt.empty){let n=r.content.lastChild,a=null;for(let l=0;l<r.openEnd;l++)a=n,n=n.lastChild;let s=t.steps.length,i=this.ranges;for(let l=0;l<i.length;l++){let{$from:c,$to:d}=i[l],u=t.mapping.slice(s);t.replaceRange(u.map(c.pos),u.map(d.pos),l?Lt.empty:r),l==0&&vG(t,s,(n?n.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(t,r){let n=t.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:i,$to:l}=a[s],c=t.mapping.slice(n),d=c.map(i.pos),u=c.map(l.pos);s?t.deleteRange(d,u):(t.replaceRangeWith(d,u,r),vG(t,n,r.isInline?-1:1))}}static findFrom(t,r,n=!1){let a=t.parent.inlineContent?new yr(t):wy(t.node(0),t.parent,t.pos,t.index(),r,n);if(a)return a;for(let s=t.depth-1;s>=0;s--){let i=r<0?wy(t.node(0),t.node(s),t.before(s+1),t.index(s),r,n):wy(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,r,n);if(i)return i}return null}static near(t,r=1){return this.findFrom(t,r)||this.findFrom(t,-r)||new jc(t.node(0))}static atStart(t){return wy(t,t,0,0,1)||new jc(t)}static atEnd(t){return wy(t,t,t.content.size,t.childCount,-1)||new jc(t)}static fromJSON(t,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=gM[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(t,r)}static jsonID(t,r){if(t in gM)throw new RangeError("Duplicate use of selection JSON ID "+t);return gM[t]=r,r.prototype.jsonID=t,r}getBookmark(){return yr.between(this.$anchor,this.$head).getBookmark()}}Lr.prototype.visible=!0;class KJe{constructor(t,r){this.$from=t,this.$to=r}}let xG=!1;function yG(e){!xG&&!e.parent.inlineContent&&(xG=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class yr extends Lr{constructor(t,r=t){yG(t),yG(r),super(t,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,r){let n=t.resolve(r.map(this.head));if(!n.parent.inlineContent)return Lr.near(n);let a=t.resolve(r.map(this.anchor));return new yr(a.parent.inlineContent?a:n,n)}replace(t,r=Lt.empty){if(super.replace(t,r),r==Lt.empty){let n=this.$from.marksAcross(this.$to);n&&t.ensureMarks(n)}}eq(t){return t instanceof yr&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new l3(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new yr(t.resolve(r.anchor),t.resolve(r.head))}static create(t,r,n=r){let a=t.resolve(r);return new this(a,n==r?a:t.resolve(n))}static between(t,r,n){let a=t.pos-r.pos;if((!n||a)&&(n=a>=0?1:-1),!r.parent.inlineContent){let s=Lr.findFrom(r,n,!0)||Lr.findFrom(r,-n,!0);if(s)r=s.$head;else return Lr.near(r,n)}return t.parent.inlineContent||(a==0?t=r:(t=(Lr.findFrom(t,-n,!0)||Lr.findFrom(t,n,!0)).$anchor,t.pos<r.pos!=a<0&&(t=r))),new yr(t,r)}}Lr.jsonID("text",yr);class l3{constructor(t,r){this.anchor=t,this.head=r}map(t){return new l3(t.map(this.anchor),t.map(this.head))}resolve(t){return yr.between(t.resolve(this.anchor),t.resolve(this.head))}}class dr extends Lr{constructor(t){let r=t.nodeAfter,n=t.node(0).resolve(t.pos+r.nodeSize);super(t,n),this.node=r}map(t,r){let{deleted:n,pos:a}=r.mapResult(this.anchor),s=t.resolve(a);return n?Lr.near(s):new dr(s)}content(){return new Lt(bt.from(this.node),0,0)}eq(t){return t instanceof dr&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new x7(this.anchor)}static fromJSON(t,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new dr(t.resolve(r.anchor))}static create(t,r){return new dr(t.resolve(r))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}dr.prototype.visible=!1;Lr.jsonID("node",dr);class x7{constructor(t){this.anchor=t}map(t){let{deleted:r,pos:n}=t.mapResult(this.anchor);return r?new l3(n,n):new x7(n)}resolve(t){let r=t.resolve(this.anchor),n=r.nodeAfter;return n&&dr.isSelectable(n)?new dr(r):Lr.near(r)}}class jc extends Lr{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,r=Lt.empty){if(r==Lt.empty){t.delete(0,t.doc.content.size);let n=Lr.atStart(t.doc);n.eq(t.selection)||t.setSelection(n)}else super.replace(t,r)}toJSON(){return{type:"all"}}static fromJSON(t){return new jc(t)}map(t){return new jc(t)}eq(t){return t instanceof jc}getBookmark(){return XJe}}Lr.jsonID("all",jc);const XJe={map(){return this},resolve(e){return new jc(e)}};function wy(e,t,r,n,a,s=!1){if(t.inlineContent)return yr.create(e,r);for(let i=n-(a>0?0:1);a>0?i<t.childCount:i>=0;i+=a){let l=t.child(i);if(l.isAtom){if(!s&&dr.isSelectable(l))return dr.create(e,r-(a<0?l.nodeSize:0))}else{let c=wy(e,l,r+a,a<0?l.childCount:0,a,s);if(c)return c}r+=l.nodeSize*a}return null}function vG(e,t,r){let n=e.steps.length-1;if(n<t)return;let a=e.steps[n];if(!(a instanceof pi||a instanceof Ni))return;let s=e.mapping.maps[n],i;s.forEach((l,c,d,u)=>{i==null&&(i=u)}),e.setSelection(Lr.near(e.doc.resolve(i),r))}const bG=1,M5=2,wG=4;class JJe extends Nde{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|bG)&~M5,this.storedMarks=null,this}get selectionSet(){return(this.updated&bG)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=M5,this}ensureMarks(t){return qn.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&M5)>0}addStep(t,r){super.addStep(t,r),this.updated=this.updated&~M5,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,r=!0){let n=this.selection;return r&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||qn.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,r,n){let a=this.doc.type.schema;if(r==null)return t?this.replaceSelectionWith(a.text(t),!0):this.deleteSelection();{if(n==null&&(n=r),!t)return this.deleteRange(r,n);let s=this.storedMarks;if(!s){let i=this.doc.resolve(r);s=n==r?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,a.text(t,s)),!this.selection.empty&&this.selection.to==r+t.length&&this.setSelection(Lr.near(this.selection.$to)),this}}setMeta(t,r){return this.meta[typeof t=="string"?t:t.key]=r,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=wG,this}get scrolledIntoView(){return(this.updated&wG)>0}}function NG(e,t){return!t||!e?e:e.bind(t)}class h2{constructor(t,r,n){this.name=t,this.init=NG(r.init,n),this.apply=NG(r.apply,n)}}const QJe=[new h2("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new h2("selection",{init(e,t){return e.selection||Lr.atStart(t.doc)},apply(e){return e.selection}}),new h2("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,r,n){return n.selection.$cursor?e.storedMarks:null}}),new h2("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class xM{constructor(t,r){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=QJe.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new h2(n.key,n.spec.state,n))})}}class Uy{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let a=this.config.plugins[n];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let r=[t],n=this.applyInner(t),a=null;for(;;){let s=!1;for(let i=0;i<this.config.plugins.length;i++){let l=this.config.plugins[i];if(l.spec.appendTransaction){let c=a?a[i].n:0,d=a?a[i].state:this,u=c<r.length&&l.spec.appendTransaction.call(l,c?r.slice(c):r,d,n);if(u&&n.filterTransaction(u,i)){if(u.setMeta("appendedTransaction",t),!a){a=[];for(let f=0;f<this.config.plugins.length;f++)a.push(f<i?{state:n,n:r.length}:{state:this,n:0})}r.push(u),n=n.applyInner(u),s=!0}a&&(a[i]={state:n,n:r.length})}}if(!s)return{state:n,transactions:r}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new Uy(this.config),n=this.config.fields;for(let a=0;a<n.length;a++){let s=n[a];r[s.name]=s.apply(t,this[s.name],this,r)}return r}get tr(){return new JJe(this)}static create(t){let r=new xM(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new Uy(r);for(let a=0;a<r.fields.length;a++)n[r.fields[a].name]=r.fields[a].init(t,n);return n}reconfigure(t){let r=new xM(this.schema,t.plugins),n=r.fields,a=new Uy(r);for(let s=0;s<n.length;s++){let i=n[s].name;a[i]=this.hasOwnProperty(i)?this[i]:n[s].init(t,a)}return a}toJSON(t){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),t&&typeof t=="object")for(let n in t){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let a=t[n],s=a.spec.state;s&&s.toJSON&&(r[n]=s.toJSON.call(a,this[a.key]))}return r}static fromJSON(t,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let a=new xM(t.schema,t.plugins),s=new Uy(a);return a.fields.forEach(i=>{if(i.name=="doc")s.doc=km.fromJSON(t.schema,r.doc);else if(i.name=="selection")s.selection=Lr.fromJSON(s.doc,r.selection);else if(i.name=="storedMarks")r.storedMarks&&(s.storedMarks=r.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let l in n){let c=n[l],d=c.spec.state;if(c.key==i.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(r,l)){s[i.name]=d.fromJSON.call(c,t,r[l],s);return}}s[i.name]=i.init(t,s)}}),s}}function Sde(e,t,r){for(let n in e){let a=e[n];a instanceof Function?a=a.bind(t):n=="handleDOMEvents"&&(a=Sde(a,t,{})),r[n]=a}return r}class Ra{constructor(t){this.spec=t,this.props={},t.props&&Sde(t.props,this,this.props),this.key=t.key?t.key.key:jde("plugin")}getState(t){return t[this.key]}}const yM=Object.create(null);function jde(e){return e in yM?e+"$"+ ++yM[e]:(yM[e]=0,e+"$")}class ai{constructor(t="key"){this.key=jde(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const y7=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function _de(e,t){let{$cursor:r}=e.selection;return!r||(t?!t.endOfTextblock("backward",e):r.parentOffset>0)?null:r}const kde=(e,t,r)=>{let n=_de(e,r);if(!n)return!1;let a=v7(n);if(!a){let i=n.blockRange(),l=i&&Yb(i);return l==null?!1:(t&&t(e.tr.lift(i,l).scrollIntoView()),!0)}let s=a.nodeBefore;if(Rde(e,a,t,-1))return!0;if(n.parent.content.size==0&&(nb(s,"end")||dr.isSelectable(s)))for(let i=n.depth;;i--){let l=o3(e.doc,n.before(i),n.after(i),Lt.empty);if(l&&l.slice.size<l.to-l.from){if(t){let c=e.tr.step(l);c.setSelection(nb(s,"end")?Lr.findFrom(c.doc.resolve(c.mapping.map(a.pos,-1)),-1):dr.create(c.doc,a.pos-s.nodeSize)),t(c.scrollIntoView())}return!0}if(i==1||n.node(i-1).childCount>1)break}return s.isAtom&&a.depth==n.depth-1?(t&&t(e.tr.delete(a.pos-s.nodeSize,a.pos).scrollIntoView()),!0):!1},ZJe=(e,t,r)=>{let n=_de(e,r);if(!n)return!1;let a=v7(n);return a?Cde(e,a,t):!1},eQe=(e,t,r)=>{let n=Ede(e,r);if(!n)return!1;let a=b7(n);return a?Cde(e,a,t):!1};function Cde(e,t,r){let n=t.nodeBefore,a=n,s=t.pos-1;for(;!a.isTextblock;s--){if(a.type.spec.isolating)return!1;let u=a.lastChild;if(!u)return!1;a=u}let i=t.nodeAfter,l=i,c=t.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let u=l.firstChild;if(!u)return!1;l=u}let d=o3(e.doc,s,c,Lt.empty);if(!d||d.from!=s||d instanceof pi&&d.slice.size>=c-s)return!1;if(r){let u=e.tr.step(d);u.setSelection(yr.create(u.doc,s)),r(u.scrollIntoView())}return!0}function nb(e,t,r=!1){for(let n=e;n;n=t=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const Ade=(e,t,r)=>{let{$head:n,empty:a}=e.selection,s=n;if(!a)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",e):n.parentOffset>0)return!1;s=v7(n)}let i=s&&s.nodeBefore;return!i||!dr.isSelectable(i)?!1:(t&&t(e.tr.setSelection(dr.create(e.doc,s.pos-i.nodeSize)).scrollIntoView()),!0)};function v7(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Ede(e,t){let{$cursor:r}=e.selection;return!r||(t?!t.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)?null:r}const Tde=(e,t,r)=>{let n=Ede(e,r);if(!n)return!1;let a=b7(n);if(!a)return!1;let s=a.nodeAfter;if(Rde(e,a,t,1))return!0;if(n.parent.content.size==0&&(nb(s,"start")||dr.isSelectable(s))){let i=o3(e.doc,n.before(),n.after(),Lt.empty);if(i&&i.slice.size<i.to-i.from){if(t){let l=e.tr.step(i);l.setSelection(nb(s,"start")?Lr.findFrom(l.doc.resolve(l.mapping.map(a.pos)),1):dr.create(l.doc,l.mapping.map(a.pos))),t(l.scrollIntoView())}return!0}}return s.isAtom&&a.depth==n.depth-1?(t&&t(e.tr.delete(a.pos,a.pos+s.nodeSize).scrollIntoView()),!0):!1},Dde=(e,t,r)=>{let{$head:n,empty:a}=e.selection,s=n;if(!a)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)return!1;s=b7(n)}let i=s&&s.nodeAfter;return!i||!dr.isSelectable(i)?!1:(t&&t(e.tr.setSelection(dr.create(e.doc,s.pos)).scrollIntoView()),!0)};function b7(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let r=e.node(t);if(e.index(t)+1<r.childCount)return e.doc.resolve(e.after(t+1));if(r.type.spec.isolating)break}return null}const tQe=(e,t)=>{let r=e.selection,n=r instanceof dr,a;if(n){if(r.node.isTextblock||!o0(e.doc,r.from))return!1;a=r.from}else if(a=i3(e.doc,r.from,-1),a==null)return!1;if(t){let s=e.tr.join(a);n&&s.setSelection(dr.create(s.doc,a-e.doc.resolve(a).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0},rQe=(e,t)=>{let r=e.selection,n;if(r instanceof dr){if(r.node.isTextblock||!o0(e.doc,r.to))return!1;n=r.to}else if(n=i3(e.doc,r.to,1),n==null)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},nQe=(e,t)=>{let{$from:r,$to:n}=e.selection,a=r.blockRange(n),s=a&&Yb(a);return s==null?!1:(t&&t(e.tr.lift(a,s).scrollIntoView()),!0)},Mde=(e,t)=>{let{$head:r,$anchor:n}=e.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function w7(e){for(let t=0;t<e.edgeCount;t++){let{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const aQe=(e,t)=>{let{$head:r,$anchor:n}=e.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let a=r.node(-1),s=r.indexAfter(-1),i=w7(a.contentMatchAt(s));if(!i||!a.canReplaceWith(s,s,i))return!1;if(t){let l=r.after(),c=e.tr.replaceWith(l,l,i.createAndFill());c.setSelection(Lr.near(c.doc.resolve(l),1)),t(c.scrollIntoView())}return!0},Ode=(e,t)=>{let r=e.selection,{$from:n,$to:a}=r;if(r instanceof jc||n.parent.inlineContent||a.parent.inlineContent)return!1;let s=w7(a.parent.contentMatchAt(a.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let i=(!n.parentOffset&&a.index()<a.parent.childCount?n:a).pos,l=e.tr.insert(i,s.createAndFill());l.setSelection(yr.create(l.doc,i+1)),t(l.scrollIntoView())}return!0},Pde=(e,t)=>{let{$cursor:r}=e.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let s=r.before();if(Ch(e.doc,s))return t&&t(e.tr.split(s).scrollIntoView()),!0}let n=r.blockRange(),a=n&&Yb(n);return a==null?!1:(t&&t(e.tr.lift(n,a).scrollIntoView()),!0)};function sQe(e){return(t,r)=>{let{$from:n,$to:a}=t.selection;if(t.selection instanceof dr&&t.selection.node.isBlock)return!n.parentOffset||!Ch(t.doc,n.pos)?!1:(r&&r(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let s=[],i,l,c=!1,d=!1;for(let h=n.depth;;h--)if(n.node(h).isBlock){c=n.end(h)==n.pos+(n.depth-h),d=n.start(h)==n.pos-(n.depth-h),l=w7(n.node(h-1).contentMatchAt(n.indexAfter(h-1))),s.unshift(c&&l?{type:l}:null),i=h;break}else{if(h==1)return!1;s.unshift(null)}let u=t.tr;(t.selection instanceof yr||t.selection instanceof jc)&&u.deleteSelection();let f=u.mapping.map(n.pos),p=Ch(u.doc,f,s.length,s);if(p||(s[0]=l?{type:l}:null,p=Ch(u.doc,f,s.length,s)),!p)return!1;if(u.split(f,s.length,s),!c&&d&&n.node(i).type!=l){let h=u.mapping.map(n.before(i)),m=u.doc.resolve(h);l&&n.node(i-1).canReplaceWith(m.index(),m.index()+1,l)&&u.setNodeMarkup(u.mapping.map(n.before(i)),l)}return r&&r(u.scrollIntoView()),!0}}const iQe=sQe(),oQe=(e,t)=>{let{$from:r,to:n}=e.selection,a,s=r.sharedDepth(n);return s==0?!1:(a=r.before(s),t&&t(e.tr.setSelection(dr.create(e.doc,a))),!0)};function lQe(e,t,r){let n=t.nodeBefore,a=t.nodeAfter,s=t.index();return!n||!a||!n.type.compatibleContent(a.type)?!1:!n.content.size&&t.parent.canReplace(s-1,s)?(r&&r(e.tr.delete(t.pos-n.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(a.isTextblock||o0(e.doc,t.pos))?!1:(r&&r(e.tr.join(t.pos).scrollIntoView()),!0)}function Rde(e,t,r,n){let a=t.nodeBefore,s=t.nodeAfter,i,l,c=a.type.spec.isolating||s.type.spec.isolating;if(!c&&lQe(e,t,r))return!0;let d=!c&&t.parent.canReplace(t.index(),t.index()+1);if(d&&(i=(l=a.contentMatchAt(a.childCount)).findWrapping(s.type))&&l.matchType(i[0]||s.type).validEnd){if(r){let h=t.pos+s.nodeSize,m=bt.empty;for(let y=i.length-1;y>=0;y--)m=bt.from(i[y].create(null,m));m=bt.from(a.copy(m));let g=e.tr.step(new Ni(t.pos-1,h,t.pos,h,new Lt(m,1,0),i.length,!0)),x=g.doc.resolve(h+2*i.length);x.nodeAfter&&x.nodeAfter.type==a.type&&o0(g.doc,x.pos)&&g.join(x.pos),r(g.scrollIntoView())}return!0}let u=s.type.spec.isolating||n>0&&c?null:Lr.findFrom(t,1),f=u&&u.$from.blockRange(u.$to),p=f&&Yb(f);if(p!=null&&p>=t.depth)return r&&r(e.tr.lift(f,p).scrollIntoView()),!0;if(d&&nb(s,"start",!0)&&nb(a,"end")){let h=a,m=[];for(;m.push(h),!h.isTextblock;)h=h.lastChild;let g=s,x=1;for(;!g.isTextblock;g=g.firstChild)x++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(r){let y=bt.empty;for(let w=m.length-1;w>=0;w--)y=bt.from(m[w].copy(y));let v=e.tr.step(new Ni(t.pos-m.length,t.pos+s.nodeSize,t.pos+x,t.pos+s.nodeSize-x,new Lt(y,m.length,0),0,!0));r(v.scrollIntoView())}return!0}}return!1}function Lde(e){return function(t,r){let n=t.selection,a=e<0?n.$from:n.$to,s=a.depth;for(;a.node(s).isInline;){if(!s)return!1;s--}return a.node(s).isTextblock?(r&&r(t.tr.setSelection(yr.create(t.doc,e<0?a.start(s):a.end(s)))),!0):!1}}const cQe=Lde(-1),dQe=Lde(1);function uQe(e,t=null){return function(r,n){let{$from:a,$to:s}=r.selection,i=a.blockRange(s),l=i&&g7(i,e,t);return l?(n&&n(r.tr.wrap(i,l).scrollIntoView()),!0):!1}}function SG(e,t=null){return function(r,n){let a=!1;for(let s=0;s<r.selection.ranges.length&&!a;s++){let{$from:{pos:i},$to:{pos:l}}=r.selection.ranges[s];r.doc.nodesBetween(i,l,(c,d)=>{if(a)return!1;if(!(!c.isTextblock||c.hasMarkup(e,t)))if(c.type==e)a=!0;else{let u=r.doc.resolve(d),f=u.index();a=u.parent.canReplaceWith(f,f+1,e)}})}if(!a)return!1;if(n){let s=r.tr;for(let i=0;i<r.selection.ranges.length;i++){let{$from:{pos:l},$to:{pos:c}}=r.selection.ranges[i];s.setBlockType(l,c,e,t)}n(s.scrollIntoView())}return!0}}function N7(...e){return function(t,r,n){for(let a=0;a<e.length;a++)if(e[a](t,r,n))return!0;return!1}}N7(y7,kde,Ade);N7(y7,Tde,Dde);N7(Mde,Ode,Pde,iQe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function fQe(e,t=null){return function(r,n){let{$from:a,$to:s}=r.selection,i=a.blockRange(s);if(!i)return!1;let l=n?r.tr:null;return hQe(l,i,e,t)?(n&&n(l.scrollIntoView()),!0):!1}}function hQe(e,t,r,n=null){let a=!1,s=t,i=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(r)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let c=i.resolve(t.start-2);s=new cA(c,c,t.depth),t.endIndex<t.parent.childCount&&(t=new cA(t.$from,i.resolve(t.$to.end(t.depth)),t.depth)),a=!0}let l=g7(s,r,n,t);return l?(e&&pQe(e,t,l,a,r),!0):!1}function pQe(e,t,r,n,a){let s=bt.empty;for(let u=r.length-1;u>=0;u--)s=bt.from(r[u].type.create(r[u].attrs,s));e.step(new Ni(t.start-(n?2:0),t.end,t.start,t.end,new Lt(s,0,0),r.length,!0));let i=0;for(let u=0;u<r.length;u++)r[u].type==a&&(i=u+1);let l=r.length-i,c=t.start+r.length-(n?2:0),d=t.parent;for(let u=t.startIndex,f=t.endIndex,p=!0;u<f;u++,p=!1)!p&&Ch(e.doc,c,l)&&(e.split(c,l),c+=2*l),c+=d.child(u).nodeSize;return e}function mQe(e){return function(t,r){let{$from:n,$to:a}=t.selection,s=n.blockRange(a,i=>i.childCount>0&&i.firstChild.type==e);return s?r?n.node(s.depth-1).type==e?gQe(t,r,e,s):xQe(t,r,s):!0:!1}}function gQe(e,t,r,n){let a=e.tr,s=n.end,i=n.$to.end(n.depth);s<i&&(a.step(new Ni(s-1,i,s,i,new Lt(bt.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new cA(a.doc.resolve(n.$from.pos),a.doc.resolve(i),n.depth));const l=Yb(n);if(l==null)return!1;a.lift(n,l);let c=a.doc.resolve(a.mapping.map(s,-1)-1);return o0(a.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&a.join(c.pos),t(a.scrollIntoView()),!0}function xQe(e,t,r){let n=e.tr,a=r.parent;for(let h=r.end,m=r.endIndex-1,g=r.startIndex;m>g;m--)h-=a.child(m).nodeSize,n.delete(h-1,h+1);let s=n.doc.resolve(r.start),i=s.nodeAfter;if(n.mapping.map(r.end)!=r.start+s.nodeAfter.nodeSize)return!1;let l=r.startIndex==0,c=r.endIndex==a.childCount,d=s.node(-1),u=s.index(-1);if(!d.canReplace(u+(l?0:1),u+1,i.content.append(c?bt.empty:bt.from(a))))return!1;let f=s.pos,p=f+i.nodeSize;return n.step(new Ni(f-(l?1:0),p+(c?1:0),f+1,p-1,new Lt((l?bt.empty:bt.from(a.copy(bt.empty))).append(c?bt.empty:bt.from(a.copy(bt.empty))),l?0:1,c?0:1),l?0:1)),t(n.scrollIntoView()),!0}function yQe(e){return function(t,r){let{$from:n,$to:a}=t.selection,s=n.blockRange(a,d=>d.childCount>0&&d.firstChild.type==e);if(!s)return!1;let i=s.startIndex;if(i==0)return!1;let l=s.parent,c=l.child(i-1);if(c.type!=e)return!1;if(r){let d=c.lastChild&&c.lastChild.type==l.type,u=bt.from(d?e.create():null),f=new Lt(bt.from(e.create(null,bt.from(l.type.create(null,u)))),d?3:1,0),p=s.start,h=s.end;r(t.tr.step(new Ni(p-(d?3:1),h,p,h,f,1,!0)).scrollIntoView())}return!0}}const Bi=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},ab=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let YP=null;const Yf=function(e,t,r){let n=YP||(YP=document.createRange());return n.setEnd(e,r??e.nodeValue.length),n.setStart(e,t||0),n},vQe=function(){YP=null},lx=function(e,t,r,n){return r&&(jG(e,t,r,n,-1)||jG(e,t,r,n,1))},bQe=/^(img|br|input|textarea|hr)$/i;function jG(e,t,r,n,a){for(var s;;){if(e==r&&t==n)return!0;if(t==(a<0?0:id(e))){let i=e.parentNode;if(!i||i.nodeType!=1||LS(e)||bQe.test(e.nodeName)||e.contentEditable=="false")return!1;t=Bi(e)+(a<0?0:1),e=i}else if(e.nodeType==1){let i=e.childNodes[t+(a<0?-1:0)];if(i.nodeType==1&&i.contentEditable=="false")if(!((s=i.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)t+=a;else return!1;else e=i,t=a<0?id(e):0}else return!1}}function id(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function wQe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=id(e)}else if(e.parentNode&&!LS(e))t=Bi(e),e=e.parentNode;else return null}}function NQe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!LS(e))t=Bi(e)+1,e=e.parentNode;else return null}}function SQe(e,t,r){for(let n=t==0,a=t==id(e);n||a;){if(e==r)return!0;let s=Bi(e);if(e=e.parentNode,!e)return!1;n=n&&s==0,a=a&&s==id(e)}}function LS(e){let t;for(let r=e;r&&!(t=r.pmViewDesc);r=r.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const c3=function(e){return e.focusNode&&lx(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function K0(e,t){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=e,r.key=r.code=t,r}function jQe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function _Qe(e,t,r){if(e.caretPositionFromPoint)try{let n=e.caretPositionFromPoint(t,r);if(n)return{node:n.offsetNode,offset:Math.min(id(n.offsetNode),n.offset)}}catch{}if(e.caretRangeFromPoint){let n=e.caretRangeFromPoint(t,r);if(n)return{node:n.startContainer,offset:Math.min(id(n.startContainer),n.startOffset)}}}const ef=typeof navigator<"u"?navigator:null,_G=typeof document<"u"?document:null,l0=ef&&ef.userAgent||"",GP=/Edge\/(\d+)/.exec(l0),Ide=/MSIE \d/.exec(l0),KP=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(l0),xl=!!(Ide||KP||GP),Am=Ide?document.documentMode:KP?+KP[1]:GP?+GP[1]:0,md=!xl&&/gecko\/(\d+)/i.test(l0);md&&+(/Firefox\/(\d+)/.exec(l0)||[0,0])[1];const XP=!xl&&/Chrome\/(\d+)/.exec(l0),vi=!!XP,Fde=XP?+XP[1]:0,So=!xl&&!!ef&&/Apple Computer/.test(ef.vendor),sb=So&&(/Mobile\/\w+/.test(l0)||!!ef&&ef.maxTouchPoints>2),Kc=sb||(ef?/Mac/.test(ef.platform):!1),zde=ef?/Win/.test(ef.platform):!1,dh=/Android \d/.test(l0),IS=!!_G&&"webkitFontSmoothing"in _G.documentElement.style,kQe=IS?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function CQe(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Hf(e,t){return typeof e=="number"?e:e[t]}function AQe(e){let t=e.getBoundingClientRect(),r=t.width/e.offsetWidth||1,n=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*r,top:t.top,bottom:t.top+e.clientHeight*n}}function kG(e,t,r){let n=e.someProp("scrollThreshold")||0,a=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let i=r||e.dom;i;){if(i.nodeType!=1){i=ab(i);continue}let l=i,c=l==s.body,d=c?CQe(s):AQe(l),u=0,f=0;if(t.top<d.top+Hf(n,"top")?f=-(d.top-t.top+Hf(a,"top")):t.bottom>d.bottom-Hf(n,"bottom")&&(f=t.bottom-t.top>d.bottom-d.top?t.top+Hf(a,"top")-d.top:t.bottom-d.bottom+Hf(a,"bottom")),t.left<d.left+Hf(n,"left")?u=-(d.left-t.left+Hf(a,"left")):t.right>d.right-Hf(n,"right")&&(u=t.right-d.right+Hf(a,"right")),u||f)if(c)s.defaultView.scrollBy(u,f);else{let h=l.scrollLeft,m=l.scrollTop;f&&(l.scrollTop+=f),u&&(l.scrollLeft+=u);let g=l.scrollLeft-h,x=l.scrollTop-m;t={left:t.left-g,top:t.top-x,right:t.right-g,bottom:t.bottom-x}}let p=c?"fixed":getComputedStyle(i).position;if(/^(fixed|sticky)$/.test(p))break;i=p=="absolute"?i.offsetParent:ab(i)}}function EQe(e){let t=e.dom.getBoundingClientRect(),r=Math.max(0,t.top),n,a;for(let s=(t.left+t.right)/2,i=r+1;i<Math.min(innerHeight,t.bottom);i+=5){let l=e.root.elementFromPoint(s,i);if(!l||l==e.dom||!e.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=r-20){n=l,a=c.top;break}}return{refDOM:n,refTop:a,stack:Bde(e.dom)}}function Bde(e){let t=[],r=e.ownerDocument;for(let n=e;n&&(t.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),e!=r);n=ab(n));return t}function TQe({refDOM:e,refTop:t,stack:r}){let n=e?e.getBoundingClientRect().top:0;Hde(r,n==0?0:n-t)}function Hde(e,t){for(let r=0;r<e.length;r++){let{dom:n,top:a,left:s}=e[r];n.scrollTop!=a+t&&(n.scrollTop=a+t),n.scrollLeft!=s&&(n.scrollLeft=s)}}let oy=null;function DQe(e){if(e.setActive)return e.setActive();if(oy)return e.focus(oy);let t=Bde(e);e.focus(oy==null?{get preventScroll(){return oy={preventScroll:!0},!0}}:void 0),oy||(oy=!1,Hde(t,0))}function $de(e,t){let r,n=2e8,a,s=0,i=t.top,l=t.top,c,d;for(let u=e.firstChild,f=0;u;u=u.nextSibling,f++){let p;if(u.nodeType==1)p=u.getClientRects();else if(u.nodeType==3)p=Yf(u).getClientRects();else continue;for(let h=0;h<p.length;h++){let m=p[h];if(m.top<=i&&m.bottom>=l){i=Math.max(m.bottom,i),l=Math.min(m.top,l);let g=m.left>t.left?m.left-t.left:m.right<t.left?t.left-m.right:0;if(g<n){r=u,n=g,a=g&&r.nodeType==3?{left:m.right<t.left?m.right:m.left,top:t.top}:t,u.nodeType==1&&g&&(s=f+(t.left>=(m.left+m.right)/2?1:0));continue}}else m.top>t.top&&!c&&m.left<=t.left&&m.right>=t.left&&(c=u,d={left:Math.max(m.left,Math.min(m.right,t.left)),top:m.top});!r&&(t.left>=m.right&&t.top>=m.top||t.left>=m.left&&t.top>=m.bottom)&&(s=f+1)}}return!r&&c&&(r=c,a=d,n=0),r&&r.nodeType==3?MQe(r,a):!r||n&&r.nodeType==1?{node:e,offset:s}:$de(r,a)}function MQe(e,t){let r=e.nodeValue.length,n=document.createRange(),a;for(let s=0;s<r;s++){n.setEnd(e,s+1),n.setStart(e,s);let i=Dp(n,1);if(i.top!=i.bottom&&S7(t,i)){a={node:e,offset:s+(t.left>=(i.left+i.right)/2?1:0)};break}}return n.detach(),a||{node:e,offset:0}}function S7(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function OQe(e,t){let r=e.parentNode;return r&&/^li$/i.test(r.nodeName)&&t.left<e.getBoundingClientRect().left?r:e}function PQe(e,t,r){let{node:n,offset:a}=$de(t,r),s=-1;if(n.nodeType==1&&!n.firstChild){let i=n.getBoundingClientRect();s=i.left!=i.right&&r.left>(i.left+i.right)/2?1:-1}return e.docView.posFromDOM(n,a,s)}function RQe(e,t,r,n){let a=-1;for(let s=t,i=!1;s!=e.dom;){let l=e.docView.nearestDesc(s,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!i&&c.left>n.left||c.top>n.top?a=l.posBefore:(!i&&c.right<n.left||c.bottom<n.top)&&(a=l.posAfter),i=!0),!l.contentDOM&&a<0&&!l.node.isText))return(l.node.isBlock?n.top<(c.top+c.bottom)/2:n.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return a>-1?a:e.docView.posFromDOM(t,r,-1)}function Ude(e,t,r){let n=e.childNodes.length;if(n&&r.top<r.bottom)for(let a=Math.max(0,Math.min(n-1,Math.floor(n*(t.top-r.top)/(r.bottom-r.top))-2)),s=a;;){let i=e.childNodes[s];if(i.nodeType==1){let l=i.getClientRects();for(let c=0;c<l.length;c++){let d=l[c];if(S7(t,d))return Ude(i,t,d)}}if((s=(s+1)%n)==a)break}return e}function LQe(e,t){let r=e.dom.ownerDocument,n,a=0,s=_Qe(r,t.left,t.top);s&&({node:n,offset:a}=s);let i=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top),l;if(!i||!e.dom.contains(i.nodeType!=1?i.parentNode:i)){let d=e.dom.getBoundingClientRect();if(!S7(t,d)||(i=Ude(e.dom,t,d),!i))return null}if(So)for(let d=i;n&&d;d=ab(d))d.draggable&&(n=void 0);if(i=OQe(i,t),n){if(md&&n.nodeType==1&&(a=Math.min(a,n.childNodes.length),a<n.childNodes.length)){let u=n.childNodes[a],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&a++}let d;IS&&a&&n.nodeType==1&&(d=n.childNodes[a-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=t.top&&a--,n==e.dom&&a==n.childNodes.length-1&&n.lastChild.nodeType==1&&t.top>n.lastChild.getBoundingClientRect().bottom?l=e.state.doc.content.size:(a==0||n.nodeType!=1||n.childNodes[a-1].nodeName!="BR")&&(l=RQe(e,n,a,t))}l==null&&(l=PQe(e,i,t));let c=e.docView.nearestDesc(i,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function CG(e){return e.top<e.bottom||e.left<e.right}function Dp(e,t){let r=e.getClientRects();if(r.length){let n=r[t<0?0:r.length-1];if(CG(n))return n}return Array.prototype.find.call(r,CG)||e.getBoundingClientRect()}const IQe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Vde(e,t,r){let{node:n,offset:a,atom:s}=e.docView.domFromPos(t,r<0?-1:1),i=IS||md;if(n.nodeType==3)if(i&&(IQe.test(n.nodeValue)||(r<0?!a:a==n.nodeValue.length))){let c=Dp(Yf(n,a,a),r);if(md&&a&&/\s/.test(n.nodeValue[a-1])&&a<n.nodeValue.length){let d=Dp(Yf(n,a-1,a-1),-1);if(d.top==c.top){let u=Dp(Yf(n,a,a+1),-1);if(u.top!=c.top)return G1(u,u.left<d.left)}}return c}else{let c=a,d=a,u=r<0?1:-1;return r<0&&!a?(d++,u=-1):r>=0&&a==n.nodeValue.length?(c--,u=1):r<0?c--:d++,G1(Dp(Yf(n,c,d),u),u<0)}if(!e.state.doc.resolve(t-(s||0)).parent.inlineContent){if(s==null&&a&&(r<0||a==id(n))){let c=n.childNodes[a-1];if(c.nodeType==1)return vM(c.getBoundingClientRect(),!1)}if(s==null&&a<id(n)){let c=n.childNodes[a];if(c.nodeType==1)return vM(c.getBoundingClientRect(),!0)}return vM(n.getBoundingClientRect(),r>=0)}if(s==null&&a&&(r<0||a==id(n))){let c=n.childNodes[a-1],d=c.nodeType==3?Yf(c,id(c)-(i?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(d)return G1(Dp(d,1),!1)}if(s==null&&a<id(n)){let c=n.childNodes[a];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let d=c?c.nodeType==3?Yf(c,0,i?0:1):c.nodeType==1?c:null:null;if(d)return G1(Dp(d,-1),!0)}return G1(Dp(n.nodeType==3?Yf(n):n,-r),r>=0)}function G1(e,t){if(e.width==0)return e;let r=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:r,right:r}}function vM(e,t){if(e.height==0)return e;let r=t?e.top:e.bottom;return{top:r,bottom:r,left:e.left,right:e.right}}function qde(e,t,r){let n=e.state,a=e.root.activeElement;n!=t&&e.updateState(t),a!=e.dom&&e.focus();try{return r()}finally{n!=t&&e.updateState(n),a!=e.dom&&a&&a.focus()}}function FQe(e,t,r){let n=t.selection,a=r=="up"?n.$from:n.$to;return qde(e,t,()=>{let{node:s}=e.docView.domFromPos(a.pos,r=="up"?-1:1);for(;;){let l=e.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let i=Vde(e,a.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=Yf(l,0,l.nodeValue.length).getClientRects();else continue;for(let d=0;d<c.length;d++){let u=c[d];if(u.bottom>u.top+1&&(r=="up"?i.top-u.top>(u.bottom-i.top)*2:u.bottom-i.bottom>(i.bottom-u.top)*2))return!1}}return!0})}const zQe=/[\u0590-\u08ac]/;function BQe(e,t,r){let{$head:n}=t.selection;if(!n.parent.isTextblock)return!1;let a=n.parentOffset,s=!a,i=a==n.parent.content.size,l=e.domSelection();return l?!zQe.test(n.parent.textContent)||!l.modify?r=="left"||r=="backward"?s:i:qde(e,t,()=>{let{focusNode:c,focusOffset:d,anchorNode:u,anchorOffset:f}=e.domSelectionRange(),p=l.caretBidiLevel;l.modify("move",r,"character");let h=n.depth?e.docView.domAfterPos(n.before()):e.dom,{focusNode:m,focusOffset:g}=e.domSelectionRange(),x=m&&!h.contains(m.nodeType==1?m:m.parentNode)||c==m&&d==g;try{l.collapse(u,f),c&&(c!=u||d!=f)&&l.extend&&l.extend(c,d)}catch{}return p!=null&&(l.caretBidiLevel=p),x}):n.pos==n.start()||n.pos==n.end()}let AG=null,EG=null,TG=!1;function HQe(e,t,r){return AG==t&&EG==r?TG:(AG=t,EG=r,TG=r=="up"||r=="down"?FQe(e,t,r):BQe(e,t,r))}const gd=0,DG=1,sg=2,tf=3;class FS{constructor(t,r,n,a){this.parent=t,this.children=r,this.dom=n,this.contentDOM=a,this.dirty=gd,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,r,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let r=0;r<this.children.length;r++)t+=this.children[r].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let r=0,n=this.posAtStart;;r++){let a=this.children[r];if(a==t)return n;n+=a.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,r,n){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(n<0){let s,i;if(t==this.contentDOM)s=t.childNodes[r-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&!((i=s.pmViewDesc)&&i.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(i)+i.size:this.posAtStart}else{let s,i;if(t==this.contentDOM)s=t.childNodes[r];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&!((i=s.pmViewDesc)&&i.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(i):this.posAtEnd}let a;if(t==this.dom&&this.contentDOM)a=r>Bi(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let s=t;;s=s.parentNode){if(s==this.dom){a=!1;break}if(s.previousSibling)break}if(a==null&&r==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){a=!0;break}if(s.nextSibling)break}}return a??n>0?this.posAtEnd:this.posAtStart}nearestDesc(t,r=!1){for(let n=!0,a=t;a;a=a.parentNode){let s=this.getDesc(a),i;if(s&&(!r||s.node))if(n&&(i=s.nodeDOM)&&!(i.nodeType==1?i.contains(t.nodeType==1?t:t.parentNode):i==t))n=!1;else return s}}getDesc(t){let r=t.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(t,r,n){for(let a=t;a;a=a.parentNode){let s=this.getDesc(a);if(s)return s.localPosFromDOM(t,r,n)}return-1}descAt(t){for(let r=0,n=0;r<this.children.length;r++){let a=this.children[r],s=n+a.size;if(n==t&&s!=n){for(;!a.border&&a.children.length;)for(let i=0;i<a.children.length;i++){let l=a.children[i];if(l.size){a=l;break}}return a}if(t<s)return a.descAt(t-n-a.border);n=s}}domFromPos(t,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n=0,a=0;for(let s=0;n<this.children.length;n++){let i=this.children[n],l=s+i.size;if(l>t||i instanceof Yde){a=t-s;break}s=l}if(a)return this.children[n].domFromPos(a-this.children[n].border,r);for(let s;n&&!(s=this.children[n-1]).size&&s instanceof Wde&&s.side>=0;n--);if(r<=0){let s,i=!0;for(;s=n?this.children[n-1]:null,!(!s||s.dom.parentNode==this.contentDOM);n--,i=!1);return s&&r&&i&&!s.border&&!s.domAtom?s.domFromPos(s.size,r):{node:this.contentDOM,offset:s?Bi(s.dom)+1:0}}else{let s,i=!0;for(;s=n<this.children.length?this.children[n]:null,!(!s||s.dom.parentNode==this.contentDOM);n++,i=!1);return s&&i&&!s.border&&!s.domAtom?s.domFromPos(0,r):{node:this.contentDOM,offset:s?Bi(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let a=-1,s=-1;for(let i=n,l=0;;l++){let c=this.children[l],d=i+c.size;if(a==-1&&t<=d){let u=i+c.border;if(t>=u&&r<=d-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(t,r,u);t=i;for(let f=l;f>0;f--){let p=this.children[f-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){a=Bi(p.dom)+1;break}t-=p.size}a==-1&&(a=0)}if(a>-1&&(d>r||l==this.children.length-1)){r=d;for(let u=l+1;u<this.children.length;u++){let f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){s=Bi(f.dom);break}r+=f.size}s==-1&&(s=this.contentDOM.childNodes.length);break}i=d}return{node:this.contentDOM,from:t,to:r,fromOffset:a,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[t<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(t)}domAfterPos(t){let{node:r,offset:n}=this.domFromPos(t,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+t);return r.childNodes[n]}setSelection(t,r,n,a=!1){let s=Math.min(t,r),i=Math.max(t,r);for(let h=0,m=0;h<this.children.length;h++){let g=this.children[h],x=m+g.size;if(s>m&&i<x)return g.setSelection(t-m-g.border,r-m-g.border,n,a);m=x}let l=this.domFromPos(t,t?-1:1),c=r==t?l:this.domFromPos(r,r?-1:1),d=n.root.getSelection(),u=n.domSelectionRange(),f=!1;if((md||So)&&t==r){let{node:h,offset:m}=l;if(h.nodeType==3){if(f=!!(m&&h.nodeValue[m-1]==`
`),f&&m==h.nodeValue.length)for(let g=h,x;g;g=g.parentNode){if(x=g.nextSibling){x.nodeName=="BR"&&(l=c={node:x.parentNode,offset:Bi(x)+1});break}let y=g.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let g=h.childNodes[m-1];f=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(md&&u.focusNode&&u.focusNode!=c.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(a=!0)}if(!(a||f&&So)&&lx(l.node,l.offset,u.anchorNode,u.anchorOffset)&&lx(c.node,c.offset,u.focusNode,u.focusOffset))return;let p=!1;if((d.extend||t==r)&&!(f&&md)){d.collapse(l.node,l.offset);try{t!=r&&d.extend(c.node,c.offset),p=!0}catch{}}if(!p){if(t>r){let m=l;l=c,c=m}let h=document.createRange();h.setEnd(c.node,c.offset),h.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(h)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,r){for(let n=0,a=0;a<this.children.length;a++){let s=this.children[a],i=n+s.size;if(n==i?t<=i&&r>=n:t<i&&r>n){let l=n+s.border,c=i-s.border;if(t>=l&&r<=c){this.dirty=t==n||r==i?sg:DG,t==l&&r==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=tf:s.markDirty(t-l,r-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?sg:tf}n=i}this.dirty=sg}markParentsDirty(){let t=1;for(let r=this.parent;r;r=r.parent,t++){let n=t==1?sg:DG;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class Wde extends FS{constructor(t,r,n,a){let s,i=r.type.toDOM;if(typeof i=="function"&&(i=i(n,()=>{if(!s)return a;if(s.parent)return s.parent.posBeforeChild(s)})),!r.type.spec.raw){if(i.nodeType!=1){let l=document.createElement("span");l.appendChild(i),i=l}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(t,[],i,null),this.widget=r,this.widget=r,s=this}matchesWidget(t){return this.dirty==gd&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let r=this.widget.spec.stopEvent;return r?r(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class $Qe extends FS{constructor(t,r,n,a){super(t,[],r,null),this.textDOM=n,this.text=a}get size(){return this.text.length}localPosFromDOM(t,r){return t!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class cx extends FS{constructor(t,r,n,a,s){super(t,[],n,a),this.mark=r,this.spec=s}static create(t,r,n,a){let s=a.nodeViews[r.type.name],i=s&&s(r,a,n);return(!i||!i.dom)&&(i=Mx.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new cx(t,r,i.dom,i.contentDOM||i.dom,i)}parseRule(){return this.dirty&tf||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=tf&&this.mark.eq(t)}markDirty(t,r){if(super.markDirty(t,r),this.dirty!=gd){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=gd}}slice(t,r,n){let a=cx.create(this.parent,this.mark,!0,n),s=this.children,i=this.size;r<i&&(s=QP(s,r,i,n)),t>0&&(s=QP(s,0,t,n));for(let l=0;l<s.length;l++)s[l].parent=a;return a.children=s,a}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Em extends FS{constructor(t,r,n,a,s,i,l,c,d){super(t,[],s,i),this.node=r,this.outerDeco=n,this.innerDeco=a,this.nodeDOM=l}static create(t,r,n,a,s,i){let l=s.nodeViews[r.type.name],c,d=l&&l(r,s,()=>{if(!c)return i;if(c.parent)return c.parent.posBeforeChild(c)},n,a),u=d&&d.dom,f=d&&d.contentDOM;if(r.isText){if(!u)u=document.createTextNode(r.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:f}=Mx.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!f&&!r.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),r.type.spec.draggable&&(u.draggable=!0));let p=u;return u=Xde(u,n,r),d?c=new UQe(t,r,n,a,u,f||null,p,d,s,i+1):r.isText?new d3(t,r,n,a,u,p,s):new Em(t,r,n,a,u,f||null,p,s,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>bt.empty)}return t}matchesNode(t,r,n){return this.dirty==gd&&t.eq(this.node)&&uA(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,r){let n=this.node.inlineContent,a=r,s=t.composing?this.localCompositionInfo(t,r):null,i=s&&s.pos>-1?s:null,l=s&&s.pos<0,c=new qQe(this,i&&i.node,t);GQe(this.node,this.innerDeco,(d,u,f)=>{d.spec.marks?c.syncToMarks(d.spec.marks,n,t):d.type.side>=0&&!f&&c.syncToMarks(u==this.node.childCount?qn.none:this.node.child(u).marks,n,t),c.placeWidget(d,t,a)},(d,u,f,p)=>{c.syncToMarks(d.marks,n,t);let h;c.findNodeMatch(d,u,f,p)||l&&t.state.selection.from>a&&t.state.selection.to<a+d.nodeSize&&(h=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(d,u,f,h,t)||c.updateNextNode(d,u,f,t,p,a)||c.addNode(d,u,f,t,a),a+=d.nodeSize}),c.syncToMarks([],n,t),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==sg)&&(i&&this.protectLocalComposition(t,i),Gde(this.contentDOM,this.children,t),sb&&KQe(this.dom))}localCompositionInfo(t,r){let{from:n,to:a}=t.state.selection;if(!(t.state.selection instanceof yr)||n<r||a>r+this.node.content.size)return null;let s=t.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let i=s.nodeValue,l=XQe(this.node.content,i,n-r,a-r);return l<0?null:{node:s,pos:l,text:i}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:r,pos:n,text:a}){if(this.getDesc(r))return;let s=r;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let i=new $Qe(this,s,r,a);t.input.compositionNodes.push(i),this.children=QP(this.children,n,n+a.length,t,i)}update(t,r,n,a){return this.dirty==tf||!t.sameMarkup(this.node)?!1:(this.updateInner(t,r,n,a),!0)}updateInner(t,r,n,a){this.updateOuterDeco(r),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=gd}updateOuterDeco(t){if(uA(t,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=Kde(this.dom,this.nodeDOM,JP(this.outerDeco,this.node,r),JP(t,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function MG(e,t,r,n,a){Xde(n,t,e);let s=new Em(void 0,e,t,r,n,n,n,a,0);return s.contentDOM&&s.updateChildren(a,0),s}class d3 extends Em{constructor(t,r,n,a,s,i,l){super(t,r,n,a,s,null,i,l,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,r,n,a){return this.dirty==tf||this.dirty!=gd&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=gd||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=t,this.dirty=gd,!0)}inParent(){let t=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,r,n){return t==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(t,r,n)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,r,n){let a=this.node.cut(t,r),s=document.createTextNode(a.text);return new d3(this.parent,a,this.outerDeco,this.innerDeco,s,s,n)}markDirty(t,r){super.markDirty(t,r),this.dom!=this.nodeDOM&&(t==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=tf)}get domAtom(){return!1}isText(t){return this.node.text==t}}class Yde extends FS{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==gd&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class UQe extends Em{constructor(t,r,n,a,s,i,l,c,d,u){super(t,r,n,a,s,i,l,d,u),this.spec=c}update(t,r,n,a){if(this.dirty==tf)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let s=this.spec.update(t,r,n);return s&&this.updateInner(t,r,n,a),s}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,r,n,a)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,r,n,a){this.spec.setSelection?this.spec.setSelection(t,r,n.root):super.setSelection(t,r,n,a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function Gde(e,t,r){let n=e.firstChild,a=!1;for(let s=0;s<t.length;s++){let i=t[s],l=i.dom;if(l.parentNode==e){for(;l!=n;)n=OG(n),a=!0;n=n.nextSibling}else a=!0,e.insertBefore(l,n);if(i instanceof cx){let c=n?n.previousSibling:e.lastChild;Gde(i.contentDOM,i.children,r),n=c?c.nextSibling:e.firstChild}}for(;n;)n=OG(n),a=!0;a&&r.trackWrites==e&&(r.trackWrites=null)}const Q2=function(e){e&&(this.nodeName=e)};Q2.prototype=Object.create(null);const ig=[new Q2];function JP(e,t,r){if(e.length==0)return ig;let n=r?ig[0]:new Q2,a=[n];for(let s=0;s<e.length;s++){let i=e[s].type.attrs;if(i){i.nodeName&&a.push(n=new Q2(i.nodeName));for(let l in i){let c=i[l];c!=null&&(r&&a.length==1&&a.push(n=new Q2(t.isInline?"span":"div")),l=="class"?n.class=(n.class?n.class+" ":"")+c:l=="style"?n.style=(n.style?n.style+";":"")+c:l!="nodeName"&&(n[l]=c))}}}return a}function Kde(e,t,r,n){if(r==ig&&n==ig)return t;let a=t;for(let s=0;s<n.length;s++){let i=n[s],l=r[s];if(s){let c;l&&l.nodeName==i.nodeName&&a!=e&&(c=a.parentNode)&&c.nodeName.toLowerCase()==i.nodeName||(c=document.createElement(i.nodeName),c.pmIsDeco=!0,c.appendChild(a),l=ig[0]),a=c}VQe(a,l||ig[0],i)}return a}function VQe(e,t,r){for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&e.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=t[n]&&e.setAttribute(n,r[n]);if(t.class!=r.class){let n=t.class?t.class.split(" ").filter(Boolean):[],a=r.class?r.class.split(" ").filter(Boolean):[];for(let s=0;s<n.length;s++)a.indexOf(n[s])==-1&&e.classList.remove(n[s]);for(let s=0;s<a.length;s++)n.indexOf(a[s])==-1&&e.classList.add(a[s]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=r.style){if(t.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,a;for(;a=n.exec(t.style);)e.style.removeProperty(a[1])}r.style&&(e.style.cssText+=r.style)}}function Xde(e,t,r){return Kde(e,e,ig,JP(t,r,e.nodeType!=1))}function uA(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].type.eq(t[r].type))return!1;return!0}function OG(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class qQe{constructor(t,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=WQe(t.node.content,t)}destroyBetween(t,r){if(t!=r){for(let n=t;n<r;n++)this.top.children[n].destroy();this.top.children.splice(t,r-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,r,n){let a=0,s=this.stack.length>>1,i=Math.min(s,t.length);for(;a<i&&(a==s-1?this.top:this.stack[a+1<<1]).matchesMark(t[a])&&t[a].type.spec.spanning!==!1;)a++;for(;a<s;)this.destroyRest(),this.top.dirty=gd,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let d=this.top.children[c];if(d.matchesMark(t[s])&&!this.isLocked(d.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=cx.create(this.top,t[s],r,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(t,r,n,a){let s=-1,i;if(a>=this.preMatch.index&&(i=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&i.matchesNode(t,r,n))s=this.top.children.indexOf(i,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let d=this.top.children[l];if(d.matchesNode(t,r,n)&&!this.preMatch.matched.has(d)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(t,r,n,a,s){let i=this.top.children[a];return i.dirty==tf&&i.dom==i.contentDOM&&(i.dirty=sg),i.update(t,r,n,s)?(this.destroyBetween(this.index,a),this.index++,!0):!1}findIndexWithChild(t){for(;;){let r=t.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=t.pmViewDesc;if(n){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==n)return a}return-1}t=r}}updateNextNode(t,r,n,a,s,i){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof Em){let d=this.preMatch.matched.get(c);if(d!=null&&d!=s)return!1;let u=c.dom,f,p=this.isLocked(u)&&!(t.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==t.text&&c.dirty!=tf&&uA(r,c.outerDeco));if(!p&&c.update(t,r,n,a))return this.destroyBetween(this.index,l),c.dom!=u&&(this.changed=!0),this.index++,!0;if(!p&&(f=this.recreateWrapper(c,t,r,n,a,i)))return this.destroyBetween(this.index,l),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=sg,f.updateChildren(a,i+1),f.dirty=gd),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,r,n,a,s,i){if(t.dirty||r.isAtom||!t.children.length||!t.node.content.eq(r.content)||!uA(n,t.outerDeco)||!a.eq(t.innerDeco))return null;let l=Em.create(this.top,r,n,a,s,i);if(l.contentDOM){l.children=t.children,t.children=[];for(let c of l.children)c.parent=l}return t.destroy(),l}addNode(t,r,n,a,s){let i=Em.create(this.top,t,r,n,a,s);i.contentDOM&&i.updateChildren(a,s+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(t,r,n){let a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(t)&&(t==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{let s=new Wde(this.top,t,r,n);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],r=this.top;for(;t instanceof cx;)r=t,t=r.children[r.children.length-1];(!t||!(t instanceof d3)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((So||vi)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(t,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);t=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),t=="BR"&&(n.className="ProseMirror-trailingBreak");let a=new Yde(this.top,[],n,null);r!=this.top?r.children.push(a):r.children.splice(this.index++,0,a),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function WQe(e,t){let r=t,n=r.children.length,a=e.childCount,s=new Map,i=[];e:for(;a>0;){let l;for(;;)if(n){let d=r.children[n-1];if(d instanceof cx)r=d,n=d.children.length;else{l=d,n--;break}}else{if(r==t)break e;n=r.parent.children.indexOf(r),r=r.parent}let c=l.node;if(c){if(c!=e.child(a-1))break;--a,s.set(l,a),i.push(l)}}return{index:a,matched:s,matches:i.reverse()}}function YQe(e,t){return e.type.side-t.type.side}function GQe(e,t,r,n){let a=t.locals(e),s=0;if(a.length==0){for(let d=0;d<e.childCount;d++){let u=e.child(d);n(u,a,t.forChild(s,u),d),s+=u.nodeSize}return}let i=0,l=[],c=null;for(let d=0;;){let u,f;for(;i<a.length&&a[i].to==s;){let x=a[i++];x.widget&&(u?(f||(f=[u])).push(x):u=x)}if(u)if(f){f.sort(YQe);for(let x=0;x<f.length;x++)r(f[x],d,!!c)}else r(u,d,!!c);let p,h;if(c)h=-1,p=c,c=null;else if(d<e.childCount)h=d,p=e.child(d++);else break;for(let x=0;x<l.length;x++)l[x].to<=s&&l.splice(x--,1);for(;i<a.length&&a[i].from<=s&&a[i].to>s;)l.push(a[i++]);let m=s+p.nodeSize;if(p.isText){let x=m;i<a.length&&a[i].from<x&&(x=a[i].from);for(let y=0;y<l.length;y++)l[y].to<x&&(x=l[y].to);x<m&&(c=p.cut(x-s),p=p.cut(0,x-s),m=x,h=-1)}else for(;i<a.length&&a[i].to<m;)i++;let g=p.isInline&&!p.isLeaf?l.filter(x=>!x.inline):l.slice();n(p,g,t.forChild(s,p),h),s=m}}function KQe(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function XQe(e,t,r,n){for(let a=0,s=0;a<e.childCount&&s<=n;){let i=e.child(a++),l=s;if(s+=i.nodeSize,!i.isText)continue;let c=i.text;for(;a<e.childCount;){let d=e.child(a++);if(s+=d.nodeSize,!d.isText)break;c+=d.text}if(s>=r){if(s>=n&&c.slice(n-t.length-l,n-l)==t)return n-t.length;let d=l<n?c.lastIndexOf(t,n-l-1):-1;if(d>=0&&d+t.length+l>=r)return l+d;if(r==n&&c.length>=n+t.length-l&&c.slice(n-l,n-l+t.length)==t)return n}}return-1}function QP(e,t,r,n,a){let s=[];for(let i=0,l=0;i<e.length;i++){let c=e[i],d=l,u=l+=c.size;d>=r||u<=t?s.push(c):(d<t&&s.push(c.slice(0,t-d,n)),a&&(s.push(a),a=void 0),u>r&&s.push(c.slice(r-d,c.size,n)))}return s}function j7(e,t=null){let r=e.domSelectionRange(),n=e.state.doc;if(!r.focusNode)return null;let a=e.docView.nearestDesc(r.focusNode),s=a&&a.size==0,i=e.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(i<0)return null;let l=n.resolve(i),c,d;if(c3(r)){for(c=i;a&&!a.node;)a=a.parent;let f=a.node;if(a&&f.isAtom&&dr.isSelectable(f)&&a.parent&&!(f.isInline&&SQe(r.focusNode,r.focusOffset,a.dom))){let p=a.posBefore;d=new dr(i==p?l:n.resolve(p))}}else{if(r instanceof e.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let f=i,p=i;for(let h=0;h<r.rangeCount;h++){let m=r.getRangeAt(h);f=Math.min(f,e.docView.posFromDOM(m.startContainer,m.startOffset,1)),p=Math.max(p,e.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(f<0)return null;[c,i]=p==e.state.selection.anchor?[p,f]:[f,p],l=n.resolve(i)}else c=e.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(c<0)return null}let u=n.resolve(c);if(!d){let f=t=="pointer"||e.state.selection.head<l.pos&&!s?1:-1;d=_7(e,u,l,f)}return d}function Jde(e){return e.editable?e.hasFocus():Zde(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Ah(e,t=!1){let r=e.state.selection;if(Qde(e,r),!!Jde(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&vi){let n=e.domSelectionRange(),a=e.domObserver.currentSelection;if(n.anchorNode&&a.anchorNode&&lx(n.anchorNode,n.anchorOffset,a.anchorNode,a.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)QQe(e);else{let{anchor:n,head:a}=r,s,i;PG&&!(r instanceof yr)&&(r.$from.parent.inlineContent||(s=RG(e,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(i=RG(e,r.to))),e.docView.setSelection(n,a,e,t),PG&&(s&&LG(s),i&&LG(i)),r.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&JQe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const PG=So||vi&&Fde<63;function RG(e,t){let{node:r,offset:n}=e.docView.domFromPos(t,0),a=n<r.childNodes.length?r.childNodes[n]:null,s=n?r.childNodes[n-1]:null;if(So&&a&&a.contentEditable=="false")return bM(a);if((!a||a.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(a)return bM(a);if(s)return bM(s)}}function bM(e){return e.contentEditable="true",So&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function LG(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function JQe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let r=e.domSelectionRange(),n=r.anchorNode,a=r.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=a)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!Jde(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function QQe(e){let t=e.domSelection();if(!t)return;let r=e.cursorWrapper.dom,n=r.nodeName=="IMG";n?t.collapse(r.parentNode,Bi(r)+1):t.collapse(r,0),!n&&!e.state.selection.visible&&xl&&Am<=11&&(r.disabled=!0,r.disabled=!1)}function Qde(e,t){if(t instanceof dr){let r=e.docView.descAt(t.from);r!=e.lastSelectedViewDesc&&(IG(e),r&&r.selectNode(),e.lastSelectedViewDesc=r)}else IG(e)}function IG(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function _7(e,t,r,n){return e.someProp("createSelectionBetween",a=>a(e,t,r))||yr.between(t,r,n)}function FG(e){return e.editable&&!e.hasFocus()?!1:Zde(e)}function Zde(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function ZQe(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),r=e.domSelectionRange();return lx(t.node,t.offset,r.anchorNode,r.anchorOffset)}function ZP(e,t){let{$anchor:r,$head:n}=e.selection,a=t>0?r.max(n):r.min(n),s=a.parent.inlineContent?a.depth?e.doc.resolve(t>0?a.after():a.before()):null:a;return s&&Lr.findFrom(s,t)}function Ip(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function zG(e,t,r){let n=e.state.selection;if(n instanceof yr)if(r.indexOf("s")>-1){let{$head:a}=n,s=a.textOffset?null:t<0?a.nodeBefore:a.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let i=e.state.doc.resolve(a.pos+s.nodeSize*(t<0?-1:1));return Ip(e,new yr(n.$anchor,i))}else if(n.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let a=ZP(e.state,t);return a&&a instanceof dr?Ip(e,a):!1}else if(!(Kc&&r.indexOf("m")>-1)){let a=n.$head,s=a.textOffset?null:t<0?a.nodeBefore:a.nodeAfter,i;if(!s||s.isText)return!1;let l=t<0?a.pos-s.nodeSize:a.pos;return s.isAtom||(i=e.docView.descAt(l))&&!i.contentDOM?dr.isSelectable(s)?Ip(e,new dr(t<0?e.state.doc.resolve(a.pos-s.nodeSize):a)):IS?Ip(e,new yr(e.state.doc.resolve(t<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(n instanceof dr&&n.node.isInline)return Ip(e,new yr(t>0?n.$to:n.$from));{let a=ZP(e.state,t);return a?Ip(e,a):!1}}}function fA(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Z2(e,t){let r=e.pmViewDesc;return r&&r.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function ly(e,t){return t<0?eZe(e):tZe(e)}function eZe(e){let t=e.domSelectionRange(),r=t.focusNode,n=t.focusOffset;if(!r)return;let a,s,i=!1;for(md&&r.nodeType==1&&n<fA(r)&&Z2(r.childNodes[n],-1)&&(i=!0);;)if(n>0){if(r.nodeType!=1)break;{let l=r.childNodes[n-1];if(Z2(l,-1))a=r,s=--n;else if(l.nodeType==3)r=l,n=r.nodeValue.length;else break}}else{if(eue(r))break;{let l=r.previousSibling;for(;l&&Z2(l,-1);)a=r.parentNode,s=Bi(l),l=l.previousSibling;if(l)r=l,n=fA(r);else{if(r=r.parentNode,r==e.dom)break;n=0}}}i?eR(e,r,n):a&&eR(e,a,s)}function tZe(e){let t=e.domSelectionRange(),r=t.focusNode,n=t.focusOffset;if(!r)return;let a=fA(r),s,i;for(;;)if(n<a){if(r.nodeType!=1)break;let l=r.childNodes[n];if(Z2(l,1))s=r,i=++n;else break}else{if(eue(r))break;{let l=r.nextSibling;for(;l&&Z2(l,1);)s=l.parentNode,i=Bi(l)+1,l=l.nextSibling;if(l)r=l,n=0,a=fA(r);else{if(r=r.parentNode,r==e.dom)break;n=a=0}}}s&&eR(e,s,i)}function eue(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function rZe(e,t){for(;e&&t==e.childNodes.length&&!LS(e);)t=Bi(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let r=e.childNodes[t];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;e=r,t=0}}function nZe(e,t){for(;e&&!t&&!LS(e);)t=Bi(e),e=e.parentNode;for(;e&&t;){let r=e.childNodes[t-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;e=r,t=e.childNodes.length}}function eR(e,t,r){if(t.nodeType!=3){let s,i;(i=rZe(t,r))?(t=i,r=0):(s=nZe(t,r))&&(t=s,r=s.nodeValue.length)}let n=e.domSelection();if(!n)return;if(c3(n)){let s=document.createRange();s.setEnd(t,r),s.setStart(t,r),n.removeAllRanges(),n.addRange(s)}else n.extend&&n.extend(t,r);e.domObserver.setCurSelection();let{state:a}=e;setTimeout(()=>{e.state==a&&Ah(e)},50)}function BG(e,t){let r=e.state.doc.resolve(t);if(!(vi||zde)&&r.parent.inlineContent){let a=e.coordsAtPos(t);if(t>r.start()){let s=e.coordsAtPos(t-1),i=(s.top+s.bottom)/2;if(i>a.top&&i<a.bottom&&Math.abs(s.left-a.left)>1)return s.left<a.left?"ltr":"rtl"}if(t<r.end()){let s=e.coordsAtPos(t+1),i=(s.top+s.bottom)/2;if(i>a.top&&i<a.bottom&&Math.abs(s.left-a.left)>1)return s.left>a.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function HG(e,t,r){let n=e.state.selection;if(n instanceof yr&&!n.empty||r.indexOf("s")>-1||Kc&&r.indexOf("m")>-1)return!1;let{$from:a,$to:s}=n;if(!a.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let i=ZP(e.state,t);if(i&&i instanceof dr)return Ip(e,i)}if(!a.parent.inlineContent){let i=t<0?a:s,l=n instanceof jc?Lr.near(i,t):Lr.findFrom(i,t);return l?Ip(e,l):!1}return!1}function $G(e,t){if(!(e.state.selection instanceof yr))return!0;let{$head:r,$anchor:n,empty:a}=e.state.selection;if(!r.sameParent(n))return!0;if(!a)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){let i=e.state.tr;return t<0?i.delete(r.pos-s.nodeSize,r.pos):i.delete(r.pos,r.pos+s.nodeSize),e.dispatch(i),!0}return!1}function UG(e,t,r){e.domObserver.stop(),t.contentEditable=r,e.domObserver.start()}function aZe(e){if(!So||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:r}=e.domSelectionRange();if(t&&t.nodeType==1&&r==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let n=t.firstChild;UG(e,n,"true"),setTimeout(()=>UG(e,n,"false"),20)}return!1}function sZe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function iZe(e,t){let r=t.keyCode,n=sZe(t);if(r==8||Kc&&r==72&&n=="c")return $G(e,-1)||ly(e,-1);if(r==46&&!t.shiftKey||Kc&&r==68&&n=="c")return $G(e,1)||ly(e,1);if(r==13||r==27)return!0;if(r==37||Kc&&r==66&&n=="c"){let a=r==37?BG(e,e.state.selection.from)=="ltr"?-1:1:-1;return zG(e,a,n)||ly(e,a)}else if(r==39||Kc&&r==70&&n=="c"){let a=r==39?BG(e,e.state.selection.from)=="ltr"?1:-1:1;return zG(e,a,n)||ly(e,a)}else{if(r==38||Kc&&r==80&&n=="c")return HG(e,-1,n)||ly(e,-1);if(r==40||Kc&&r==78&&n=="c")return aZe(e)||HG(e,1,n)||ly(e,1);if(n==(Kc?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function k7(e,t){e.someProp("transformCopied",h=>{t=h(t,e)});let r=[],{content:n,openStart:a,openEnd:s}=t;for(;a>1&&s>1&&n.childCount==1&&n.firstChild.childCount==1;){a--,s--;let h=n.firstChild;r.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),n=h.content}let i=e.someProp("clipboardSerializer")||Mx.fromSchema(e.state.schema),l=iue(),c=l.createElement("div");c.appendChild(i.serializeFragment(n,{document:l}));let d=c.firstChild,u,f=0;for(;d&&d.nodeType==1&&(u=sue[d.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let m=l.createElement(u[h]);for(;c.firstChild;)m.appendChild(c.firstChild);c.appendChild(m),f++}d=c.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${a} ${s}${f?` -${f}`:""} ${JSON.stringify(r)}`);let p=e.someProp("clipboardTextSerializer",h=>h(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:c,text:p,slice:t}}function tue(e,t,r,n,a){let s=a.parent.type.spec.code,i,l;if(!r&&!t)return null;let c=!!t&&(n||s||!r);if(c){if(e.someProp("transformPastedText",p=>{t=p(t,s||n,e)}),s)return l=new Lt(bt.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",p=>{l=p(l,e,!0)}),l;let f=e.someProp("clipboardTextParser",p=>p(t,a,n,e));if(f)l=f;else{let p=a.marks(),{schema:h}=e.state,m=Mx.fromSchema(h);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let x=i.appendChild(document.createElement("p"));g&&x.appendChild(m.serializeNode(h.text(g,p)))})}}else e.someProp("transformPastedHTML",f=>{r=f(r,e)}),i=dZe(r),IS&&uZe(i);let d=i&&i.querySelector("[data-pm-slice]"),u=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0;f--){let p=i.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;i=p}if(l||(l=(e.someProp("clipboardParser")||e.someProp("domParser")||Cm.fromSchema(e.state.schema)).parseSlice(i,{preserveWhitespace:!!(c||u),context:a,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!oZe.test(p.parentNode.nodeName)?{ignore:!0}:null}})),u)l=fZe(VG(l,+u[1],+u[2]),u[4]);else if(l=Lt.maxOpen(lZe(l.content,a),!0),l.openStart||l.openEnd){let f=0,p=0;for(let h=l.content.firstChild;f<l.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=l.content.lastChild;p<l.openEnd&&!h.type.spec.isolating;p++,h=h.lastChild);l=VG(l,f,p)}return e.someProp("transformPasted",f=>{l=f(l,e,c)}),l}const oZe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function lZe(e,t){if(e.childCount<2)return e;for(let r=t.depth;r>=0;r--){let a=t.node(r).contentMatchAt(t.index(r)),s,i=[];if(e.forEach(l=>{if(!i)return;let c=a.findWrapping(l.type),d;if(!c)return i=null;if(d=i.length&&s.length&&nue(c,s,l,i[i.length-1],0))i[i.length-1]=d;else{i.length&&(i[i.length-1]=aue(i[i.length-1],s.length));let u=rue(l,c);i.push(u),a=a.matchType(u.type),s=c}}),i)return bt.from(i)}return e}function rue(e,t,r=0){for(let n=t.length-1;n>=r;n--)e=t[n].create(null,bt.from(e));return e}function nue(e,t,r,n,a){if(a<e.length&&a<t.length&&e[a]==t[a]){let s=nue(e,t,r,n.lastChild,a+1);if(s)return n.copy(n.content.replaceChild(n.childCount-1,s));if(n.contentMatchAt(n.childCount).matchType(a==e.length-1?r.type:e[a+1]))return n.copy(n.content.append(bt.from(rue(r,e,a+1))))}}function aue(e,t){if(t==0)return e;let r=e.content.replaceChild(e.childCount-1,aue(e.lastChild,t-1)),n=e.contentMatchAt(e.childCount).fillBefore(bt.empty,!0);return e.copy(r.append(n))}function tR(e,t,r,n,a,s){let i=t<0?e.firstChild:e.lastChild,l=i.content;return e.childCount>1&&(s=0),a<n-1&&(l=tR(l,t,r,n,a+1,s)),a>=r&&(l=t<0?i.contentMatchAt(0).fillBefore(l,s<=a).append(l):l.append(i.contentMatchAt(i.childCount).fillBefore(bt.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,i.copy(l))}function VG(e,t,r){return t<e.openStart&&(e=new Lt(tR(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),r<e.openEnd&&(e=new Lt(tR(e.content,1,r,e.openEnd,0,0),e.openStart,r)),e}const sue={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let qG=null;function iue(){return qG||(qG=document.implementation.createHTMLDocument("title"))}let wM=null;function cZe(e){let t=window.trustedTypes;return t?(wM||(wM=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),wM.createHTML(e)):e}function dZe(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let r=iue().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(e),a;if((a=n&&sue[n[1].toLowerCase()])&&(e=a.map(s=>"<"+s+">").join("")+e+a.map(s=>"</"+s+">").reverse().join("")),r.innerHTML=cZe(e),a)for(let s=0;s<a.length;s++)r=r.querySelector(a[s])||r;return r}function uZe(e){let t=e.querySelectorAll(vi?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<t.length;r++){let n=t[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),n)}}function fZe(e,t){if(!e.size)return e;let r=e.content.firstChild.type.schema,n;try{n=JSON.parse(t)}catch{return e}let{content:a,openStart:s,openEnd:i}=e;for(let l=n.length-2;l>=0;l-=2){let c=r.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;a=bt.from(c.create(n[l+1],a)),s++,i++}return new Lt(a,s,i)}const Xo={},Jo={},hZe={touchstart:!0,touchmove:!0};class pZe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function mZe(e){for(let t in Xo){let r=Xo[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=n=>{xZe(e,n)&&!C7(e,n)&&(e.editable||!(n.type in Jo))&&r(e,n)},hZe[t]?{passive:!0}:void 0)}So&&e.dom.addEventListener("input",()=>null),rR(e)}function om(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function gZe(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function rR(e){e.someProp("handleDOMEvents",t=>{for(let r in t)e.input.eventHandlers[r]||e.dom.addEventListener(r,e.input.eventHandlers[r]=n=>C7(e,n))})}function C7(e,t){return e.someProp("handleDOMEvents",r=>{let n=r[t.type];return n?n(e,t)||t.defaultPrevented:!1})}function xZe(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let r=t.target;r!=e.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(t))return!1;return!0}function yZe(e,t){!C7(e,t)&&Xo[t.type]&&(e.editable||!(t.type in Jo))&&Xo[t.type](e,t)}Jo.keydown=(e,t)=>{let r=t;if(e.input.shiftKey=r.keyCode==16||r.shiftKey,!lue(e,r)&&(e.input.lastKeyCode=r.keyCode,e.input.lastKeyCodeTime=Date.now(),!(dh&&vi&&r.keyCode==13)))if(r.keyCode!=229&&e.domObserver.forceFlush(),sb&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();e.input.lastIOSEnter=n,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==n&&(e.someProp("handleKeyDown",a=>a(e,K0(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",n=>n(e,r))||iZe(e,r)?r.preventDefault():om(e,"key")};Jo.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Jo.keypress=(e,t)=>{let r=t;if(lue(e,r)||!r.charCode||r.ctrlKey&&!r.altKey||Kc&&r.metaKey)return;if(e.someProp("handleKeyPress",a=>a(e,r))){r.preventDefault();return}let n=e.state.selection;if(!(n instanceof yr)||!n.$from.sameParent(n.$to)){let a=String.fromCharCode(r.charCode),s=()=>e.state.tr.insertText(a).scrollIntoView();!/[\r\n]/.test(a)&&!e.someProp("handleTextInput",i=>i(e,n.$from.pos,n.$to.pos,a,s))&&e.dispatch(s()),r.preventDefault()}};function u3(e){return{left:e.clientX,top:e.clientY}}function vZe(e,t){let r=t.x-e.clientX,n=t.y-e.clientY;return r*r+n*n<100}function A7(e,t,r,n,a){if(n==-1)return!1;let s=e.state.doc.resolve(n);for(let i=s.depth+1;i>0;i--)if(e.someProp(t,l=>i>s.depth?l(e,r,s.nodeAfter,s.before(i),a,!0):l(e,r,s.node(i),s.before(i),a,!1)))return!0;return!1}function mv(e,t,r){if(e.focused||e.focus(),e.state.selection.eq(t))return;let n=e.state.tr.setSelection(t);n.setMeta("pointer",!0),e.dispatch(n)}function bZe(e,t){if(t==-1)return!1;let r=e.state.doc.resolve(t),n=r.nodeAfter;return n&&n.isAtom&&dr.isSelectable(n)?(mv(e,new dr(r)),!0):!1}function wZe(e,t){if(t==-1)return!1;let r=e.state.selection,n,a;r instanceof dr&&(n=r.node);let s=e.state.doc.resolve(t);for(let i=s.depth+1;i>0;i--){let l=i>s.depth?s.nodeAfter:s.node(i);if(dr.isSelectable(l)){n&&r.$from.depth>0&&i>=r.$from.depth&&s.before(r.$from.depth+1)==r.$from.pos?a=s.before(r.$from.depth):a=s.before(i);break}}return a!=null?(mv(e,dr.create(e.state.doc,a)),!0):!1}function NZe(e,t,r,n,a){return A7(e,"handleClickOn",t,r,n)||e.someProp("handleClick",s=>s(e,t,n))||(a?wZe(e,r):bZe(e,r))}function SZe(e,t,r,n){return A7(e,"handleDoubleClickOn",t,r,n)||e.someProp("handleDoubleClick",a=>a(e,t,n))}function jZe(e,t,r,n){return A7(e,"handleTripleClickOn",t,r,n)||e.someProp("handleTripleClick",a=>a(e,t,n))||_Ze(e,r,n)}function _Ze(e,t,r){if(r.button!=0)return!1;let n=e.state.doc;if(t==-1)return n.inlineContent?(mv(e,yr.create(n,0,n.content.size)),!0):!1;let a=n.resolve(t);for(let s=a.depth+1;s>0;s--){let i=s>a.depth?a.nodeAfter:a.node(s),l=a.before(s);if(i.inlineContent)mv(e,yr.create(n,l+1,l+1+i.content.size));else if(dr.isSelectable(i))mv(e,dr.create(n,l));else continue;return!0}}function E7(e){return hA(e)}const oue=Kc?"metaKey":"ctrlKey";Xo.mousedown=(e,t)=>{let r=t;e.input.shiftKey=r.shiftKey;let n=E7(e),a=Date.now(),s="singleClick";a-e.input.lastClick.time<500&&vZe(r,e.input.lastClick)&&!r[oue]&&e.input.lastClick.button==r.button&&(e.input.lastClick.type=="singleClick"?s="doubleClick":e.input.lastClick.type=="doubleClick"&&(s="tripleClick")),e.input.lastClick={time:a,x:r.clientX,y:r.clientY,type:s,button:r.button};let i=e.posAtCoords(u3(r));i&&(s=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new kZe(e,i,r,!!n)):(s=="doubleClick"?SZe:jZe)(e,i.pos,i.inside,r)?r.preventDefault():om(e,"pointer"))};class kZe{constructor(t,r,n,a){this.view=t,this.pos=r,this.event=n,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[oue],this.allowDefault=n.shiftKey;let s,i;if(r.inside>-1)s=t.state.doc.nodeAt(r.inside),i=r.inside;else{let u=t.state.doc.resolve(r.pos);s=u.parent,i=u.depth?u.before():0}const l=a?null:n.target,c=l?t.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:d}=t.state;(n.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof dr&&d.from<=i&&d.to>i)&&(this.mightDrag={node:s,pos:i,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&md&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),om(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ah(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(u3(t))),this.updateAllowDefault(t),this.allowDefault||!r?om(this.view,"pointer"):NZe(this.view,r.pos,r.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||So&&this.mightDrag&&!this.mightDrag.node.isAtom||vi&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(mv(this.view,Lr.near(this.view.state.doc.resolve(r.pos))),t.preventDefault()):om(this.view,"pointer")}move(t){this.updateAllowDefault(t),om(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Xo.touchstart=e=>{e.input.lastTouch=Date.now(),E7(e),om(e,"pointer")};Xo.touchmove=e=>{e.input.lastTouch=Date.now(),om(e,"pointer")};Xo.contextmenu=e=>E7(e);function lue(e,t){return e.composing?!0:So&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const CZe=dh?5e3:-1;Jo.compositionstart=Jo.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,r=t.selection.$to;if(t.selection instanceof yr&&(t.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)||vi&&zde&&AZe(e)))e.markCursor=e.state.storedMarks||r.marks(),hA(e,!0),e.markCursor=null;else if(hA(e,!t.selection.empty),md&&t.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=e.domSelectionRange();for(let a=n.focusNode,s=n.focusOffset;a&&a.nodeType==1&&s!=0;){let i=s<0?a.lastChild:a.childNodes[s-1];if(!i)break;if(i.nodeType==3){let l=e.domSelection();l&&l.collapse(i,i.nodeValue.length);break}else a=i,s=-1}}e.input.composing=!0}cue(e,CZe)};function AZe(e){let{focusNode:t,focusOffset:r}=e.domSelectionRange();if(!t||t.nodeType!=1||r>=t.childNodes.length)return!1;let n=t.childNodes[r];return n.nodeType==1&&n.contentEditable=="false"}Jo.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,cue(e,20))};function cue(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>hA(e),t))}function due(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=TZe());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function EZe(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let r=wQe(t.focusNode,t.focusOffset),n=NQe(t.focusNode,t.focusOffset);if(r&&n&&r!=n){let a=n.pmViewDesc,s=e.domObserver.lastChangedTextNode;if(r==s||n==s)return s;if(!a||!a.isText(n.nodeValue))return n;if(e.input.compositionNode==n){let i=r.pmViewDesc;if(!(!i||!i.isText(r.nodeValue)))return n}}return r||n}function TZe(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function hA(e,t=!1){if(!(dh&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),due(e),t||e.docView&&e.docView.dirty){let r=j7(e),n=e.state.selection;return r&&!r.eq(n)?e.dispatch(e.state.tr.setSelection(r)):(e.markCursor||t)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function DZe(e,t){if(!e.dom.parentNode)return;let r=e.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(t),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),a=document.createRange();a.selectNodeContents(t),e.dom.blur(),n.removeAllRanges(),n.addRange(a),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),e.focus()},50)}const yN=xl&&Am<15||sb&&kQe<604;Xo.copy=Jo.cut=(e,t)=>{let r=t,n=e.state.selection,a=r.type=="cut";if(n.empty)return;let s=yN?null:r.clipboardData,i=n.content(),{dom:l,text:c}=k7(e,i);s?(r.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",c)):DZe(e,l),a&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function MZe(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function OZe(e,t){if(!e.dom.parentNode)return;let r=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,n=e.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let a=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),n.parentNode&&n.parentNode.removeChild(n),r?vN(e,n.value,null,a,t):vN(e,n.textContent,n.innerHTML,a,t)},50)}function vN(e,t,r,n,a){let s=tue(e,t,r,n,e.state.selection.$from);if(e.someProp("handlePaste",c=>c(e,a,s||Lt.empty)))return!0;if(!s)return!1;let i=MZe(s),l=i?e.state.tr.replaceSelectionWith(i,n):e.state.tr.replaceSelection(s);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function uue(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let r=e.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}Jo.paste=(e,t)=>{let r=t;if(e.composing&&!dh)return;let n=yN?null:r.clipboardData,a=e.input.shiftKey&&e.input.lastKeyCode!=45;n&&vN(e,uue(n),n.getData("text/html"),a,r)?r.preventDefault():OZe(e,r)};class fue{constructor(t,r,n){this.slice=t,this.move=r,this.node=n}}const PZe=Kc?"altKey":"ctrlKey";function hue(e,t){let r=e.someProp("dragCopies",n=>!n(t));return r??!t[PZe]}Xo.dragstart=(e,t)=>{let r=t,n=e.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let a=e.state.selection,s=a.empty?null:e.posAtCoords(u3(r)),i;if(!(s&&s.pos>=a.from&&s.pos<=(a instanceof dr?a.to-1:a.to))){if(n&&n.mightDrag)i=dr.create(e.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let f=e.docView.nearestDesc(r.target,!0);f&&f.node.type.spec.draggable&&f!=e.docView&&(i=dr.create(e.state.doc,f.posBefore))}}let l=(i||e.state.selection).content(),{dom:c,text:d,slice:u}=k7(e,l);(!r.dataTransfer.files.length||!vi||Fde>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(yN?"Text":"text/html",c.innerHTML),r.dataTransfer.effectAllowed="copyMove",yN||r.dataTransfer.setData("text/plain",d),e.dragging=new fue(u,hue(e,r),i)};Xo.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Jo.dragover=Jo.dragenter=(e,t)=>t.preventDefault();Jo.drop=(e,t)=>{try{RZe(e,t,e.dragging)}finally{e.dragging=null}};function RZe(e,t,r){if(!t.dataTransfer)return;let n=e.posAtCoords(u3(t));if(!n)return;let a=e.state.doc.resolve(n.pos),s=r&&r.slice;s?e.someProp("transformPasted",h=>{s=h(s,e,!1)}):s=tue(e,uue(t.dataTransfer),yN?null:t.dataTransfer.getData("text/html"),!1,a);let i=!!(r&&hue(e,t));if(e.someProp("handleDrop",h=>h(e,t,s||Lt.empty,i))){t.preventDefault();return}if(!s)return;t.preventDefault();let l=s?xde(e.state.doc,a.pos,s):a.pos;l==null&&(l=a.pos);let c=e.state.tr;if(i){let{node:h}=r;h?h.replace(c):c.deleteSelection()}let d=c.mapping.map(l),u=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=c.doc;if(u?c.replaceRangeWith(d,d,s.content.firstChild):c.replaceRange(d,d,s),c.doc.eq(f))return;let p=c.doc.resolve(d);if(u&&dr.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new dr(p));else{let h=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((m,g,x,y)=>h=y),c.setSelection(_7(e,p,c.doc.resolve(h)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))}Xo.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Ah(e)},20))};Xo.blur=(e,t)=>{let r=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),r.relatedTarget&&e.dom.contains(r.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Xo.beforeinput=(e,t)=>{if(vi&&dh&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:n}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=n||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",s=>s(e,K0(8,"Backspace")))))return;let{$cursor:a}=e.state.selection;a&&a.pos>0&&e.dispatch(e.state.tr.delete(a.pos-1,a.pos).scrollIntoView())},50)}};for(let e in Jo)Xo[e]=Jo[e];function bN(e,t){if(e==t)return!0;for(let r in e)if(e[r]!==t[r])return!1;for(let r in t)if(!(r in e))return!1;return!0}class pA{constructor(t,r){this.toDOM=t,this.spec=r||_g,this.side=this.spec.side||0}map(t,r,n,a){let{pos:s,deleted:i}=t.mapResult(r.from+a,this.side<0?-1:1);return i?null:new qo(s-n,s-n,this)}valid(){return!0}eq(t){return this==t||t instanceof pA&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&bN(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Tm{constructor(t,r){this.attrs=t,this.spec=r||_g}map(t,r,n,a){let s=t.map(r.from+a,this.spec.inclusiveStart?-1:1)-n,i=t.map(r.to+a,this.spec.inclusiveEnd?1:-1)-n;return s>=i?null:new qo(s,i,this)}valid(t,r){return r.from<r.to}eq(t){return this==t||t instanceof Tm&&bN(this.attrs,t.attrs)&&bN(this.spec,t.spec)}static is(t){return t.type instanceof Tm}destroy(){}}class T7{constructor(t,r){this.attrs=t,this.spec=r||_g}map(t,r,n,a){let s=t.mapResult(r.from+a,1);if(s.deleted)return null;let i=t.mapResult(r.to+a,-1);return i.deleted||i.pos<=s.pos?null:new qo(s.pos-n,i.pos-n,this)}valid(t,r){let{index:n,offset:a}=t.content.findIndex(r.from),s;return a==r.from&&!(s=t.child(n)).isText&&a+s.nodeSize==r.to}eq(t){return this==t||t instanceof T7&&bN(this.attrs,t.attrs)&&bN(this.spec,t.spec)}destroy(){}}class qo{constructor(t,r,n){this.from=t,this.to=r,this.type=n}copy(t,r){return new qo(t,r,this.type)}eq(t,r=0){return this.type.eq(t.type)&&this.from+r==t.from&&this.to+r==t.to}map(t,r,n){return this.type.map(t,this,r,n)}static widget(t,r,n){return new qo(t,t,new pA(r,n))}static inline(t,r,n,a){return new qo(t,r,new Tm(n,a))}static node(t,r,n,a){return new qo(t,r,new T7(n,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof Tm}get widget(){return this.type instanceof pA}}const Ny=[],_g={};class Aa{constructor(t,r){this.local=t.length?t:Ny,this.children=r.length?r:Ny}static create(t,r){return r.length?mA(r,t,0,_g):uo}find(t,r,n){let a=[];return this.findInner(t??0,r??1e9,a,0,n),a}findInner(t,r,n,a,s){for(let i=0;i<this.local.length;i++){let l=this.local[i];l.from<=r&&l.to>=t&&(!s||s(l.spec))&&n.push(l.copy(l.from+a,l.to+a))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<r&&this.children[i+1]>t){let l=this.children[i]+1;this.children[i+2].findInner(t-l,r-l,n,a+l,s)}}map(t,r,n){return this==uo||t.maps.length==0?this:this.mapInner(t,r,0,0,n||_g)}mapInner(t,r,n,a,s){let i;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(t,n,a);c&&c.type.valid(r,c)?(i||(i=[])).push(c):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?LZe(this.children,i||[],t,r,n,a,s):i?new Aa(i.sort(kg),Ny):uo}add(t,r){return r.length?this==uo?Aa.create(t,r):this.addInner(t,r,0):this}addInner(t,r,n){let a,s=0;t.forEach((l,c)=>{let d=c+n,u;if(u=mue(r,l,d)){for(a||(a=this.children.slice());s<a.length&&a[s]<c;)s+=3;a[s]==c?a[s+2]=a[s+2].addInner(l,u,d+1):a.splice(s,0,c,c+l.nodeSize,mA(u,l,d+1,_g)),s+=3}});let i=pue(s?gue(r):r,-n);for(let l=0;l<i.length;l++)i[l].type.valid(t,i[l])||i.splice(l--,1);return new Aa(i.length?this.local.concat(i).sort(kg):this.local,a||this.children)}remove(t){return t.length==0||this==uo?this:this.removeInner(t,0)}removeInner(t,r){let n=this.children,a=this.local;for(let s=0;s<n.length;s+=3){let i,l=n[s]+r,c=n[s+1]+r;for(let u=0,f;u<t.length;u++)(f=t[u])&&f.from>l&&f.to<c&&(t[u]=null,(i||(i=[])).push(f));if(!i)continue;n==this.children&&(n=this.children.slice());let d=n[s+2].removeInner(i,l+1);d!=uo?n[s+2]=d:(n.splice(s,3),s-=3)}if(a.length){for(let s=0,i;s<t.length;s++)if(i=t[s])for(let l=0;l<a.length;l++)a[l].eq(i,r)&&(a==this.local&&(a=this.local.slice()),a.splice(l--,1))}return n==this.children&&a==this.local?this:a.length||n.length?new Aa(a,n):uo}forChild(t,r){if(this==uo)return this;if(r.isLeaf)return Aa.empty;let n,a;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=t){this.children[l]==t&&(n=this.children[l+2]);break}let s=t+1,i=s+r.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<i&&c.to>s&&c.type instanceof Tm){let d=Math.max(s,c.from)-s,u=Math.min(i,c.to)-s;d<u&&(a||(a=[])).push(c.copy(d,u))}}if(a){let l=new Aa(a.sort(kg),Ny);return n?new qp([l,n]):l}return n||uo}eq(t){if(this==t)return!0;if(!(t instanceof Aa)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(t.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0}locals(t){return D7(this.localsInner(t))}localsInner(t){if(this==uo)return Ny;if(t.inlineContent||!this.local.some(Tm.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Tm||r.push(this.local[n]);return r}forEachSet(t){t(this)}}Aa.empty=new Aa([],[]);Aa.removeOverlap=D7;const uo=Aa.empty;class qp{constructor(t){this.members=t}map(t,r){const n=this.members.map(a=>a.map(t,r,_g));return qp.from(n)}forChild(t,r){if(r.isLeaf)return Aa.empty;let n=[];for(let a=0;a<this.members.length;a++){let s=this.members[a].forChild(t,r);s!=uo&&(s instanceof qp?n=n.concat(s.members):n.push(s))}return qp.from(n)}eq(t){if(!(t instanceof qp)||t.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(t.members[r]))return!1;return!0}locals(t){let r,n=!0;for(let a=0;a<this.members.length;a++){let s=this.members[a].localsInner(t);if(s.length)if(!r)r=s;else{n&&(r=r.slice(),n=!1);for(let i=0;i<s.length;i++)r.push(s[i])}}return r?D7(n?r:r.sort(kg)):Ny}static from(t){switch(t.length){case 0:return uo;case 1:return t[0];default:return new qp(t.every(r=>r instanceof Aa)?t:t.reduce((r,n)=>r.concat(n instanceof Aa?n:n.members),[]))}}forEachSet(t){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(t)}}function LZe(e,t,r,n,a,s,i){let l=e.slice();for(let d=0,u=s;d<r.maps.length;d++){let f=0;r.maps[d].forEach((p,h,m,g)=>{let x=g-m-(h-p);for(let y=0;y<l.length;y+=3){let v=l[y+1];if(v<0||p>v+u-f)continue;let w=l[y]+u-f;h>=w?l[y+1]=p<=w?-2:-1:p>=u&&x&&(l[y]+=x,l[y+1]+=x)}f+=x}),u=r.maps[d].map(u,-1)}let c=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){c=!0,l[d+1]=-1;continue}let u=r.map(e[d]+s),f=u-a;if(f<0||f>=n.content.size){c=!0;continue}let p=r.map(e[d+1]+s,-1),h=p-a,{index:m,offset:g}=n.content.findIndex(f),x=n.maybeChild(m);if(x&&g==f&&g+x.nodeSize==h){let y=l[d+2].mapInner(r,x,u+1,e[d]+s+1,i);y!=uo?(l[d]=f,l[d+1]=h,l[d+2]=y):(l[d+1]=-2,c=!0)}else c=!0}if(c){let d=IZe(l,e,t,r,a,s,i),u=mA(d,n,0,i);t=u.local;for(let f=0;f<l.length;f+=3)l[f+1]<0&&(l.splice(f,3),f-=3);for(let f=0,p=0;f<u.children.length;f+=3){let h=u.children[f];for(;p<l.length&&l[p]<h;)p+=3;l.splice(p,0,u.children[f],u.children[f+1],u.children[f+2])}}return new Aa(t.sort(kg),l)}function pue(e,t){if(!t||!e.length)return e;let r=[];for(let n=0;n<e.length;n++){let a=e[n];r.push(new qo(a.from+t,a.to+t,a.type))}return r}function IZe(e,t,r,n,a,s,i){function l(c,d){for(let u=0;u<c.local.length;u++){let f=c.local[u].map(n,a,d);f?r.push(f):i.onRemove&&i.onRemove(c.local[u].spec)}for(let u=0;u<c.children.length;u+=3)l(c.children[u+2],c.children[u]+d+1)}for(let c=0;c<e.length;c+=3)e[c+1]==-1&&l(e[c+2],t[c]+s+1);return r}function mue(e,t,r){if(t.isLeaf)return null;let n=r+t.nodeSize,a=null;for(let s=0,i;s<e.length;s++)(i=e[s])&&i.from>r&&i.to<n&&((a||(a=[])).push(i),e[s]=null);return a}function gue(e){let t=[];for(let r=0;r<e.length;r++)e[r]!=null&&t.push(e[r]);return t}function mA(e,t,r,n){let a=[],s=!1;t.forEach((l,c)=>{let d=mue(e,l,c+r);if(d){s=!0;let u=mA(d,l,r+c+1,n);u!=uo&&a.push(c,c+l.nodeSize,u)}});let i=pue(s?gue(e):e,-r).sort(kg);for(let l=0;l<i.length;l++)i[l].type.valid(t,i[l])||(n.onRemove&&n.onRemove(i[l].spec),i.splice(l--,1));return i.length||a.length?new Aa(i,a):uo}function kg(e,t){return e.from-t.from||e.to-t.to}function D7(e){let t=e;for(let r=0;r<t.length-1;r++){let n=t[r];if(n.from!=n.to)for(let a=r+1;a<t.length;a++){let s=t[a];if(s.from==n.from){s.to!=n.to&&(t==e&&(t=e.slice()),t[a]=s.copy(s.from,n.to),WG(t,a+1,s.copy(n.to,s.to)));continue}else{s.from<n.to&&(t==e&&(t=e.slice()),t[r]=n.copy(n.from,s.from),WG(t,a,n.copy(s.from,n.to)));break}}}return t}function WG(e,t,r){for(;t<e.length&&kg(r,e[t])>0;)t++;e.splice(t,0,r)}function NM(e){let t=[];return e.someProp("decorations",r=>{let n=r(e.state);n&&n!=uo&&t.push(n)}),e.cursorWrapper&&t.push(Aa.create(e.state.doc,[e.cursorWrapper.deco])),qp.from(t)}const FZe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},zZe=xl&&Am<=11;class BZe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class HZe{constructor(t,r){this.view=t,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new BZe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let a=0;a<n.length;a++)this.queue.push(n[a]);xl&&Am<=11&&n.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),zZe&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,FZe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let r=0;r<t.length;r++)this.queue.push(t[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(FG(this.view)){if(this.suppressingSelectionUpdates)return Ah(this.view);if(xl&&Am<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&lx(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let r=new Set,n;for(let s=t.focusNode;s;s=ab(s))r.add(s);for(let s=t.anchorNode;s;s=ab(s))if(r.has(s)){n=s;break}let a=n&&this.view.docView.nearestDesc(n);if(a&&a.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=t.domSelectionRange(),a=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&FG(t)&&!this.ignoreSelectionChange(n),s=-1,i=-1,l=!1,c=[];if(t.editable)for(let u=0;u<r.length;u++){let f=this.registerMutation(r[u],c);f&&(s=s<0?f.from:Math.min(f.from,s),i=i<0?f.to:Math.max(f.to,i),f.typeOver&&(l=!0))}if(md&&c.length){let u=c.filter(f=>f.nodeName=="BR");if(u.length==2){let[f,p]=u;f.parentNode&&f.parentNode.parentNode==p.parentNode?p.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let p of u){let h=p.parentNode;h&&h.nodeName=="LI"&&(!f||VZe(t,f)!=h)&&p.remove()}}}else if((vi||So)&&c.some(u=>u.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let u of c)if(u.nodeName=="BR"&&u.parentNode){let f=u.nextSibling;f&&f.nodeType==1&&f.contentEditable=="false"&&u.parentNode.removeChild(u)}}let d=null;s<0&&a&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&c3(n)&&(d=j7(t))&&d.eq(Lr.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Ah(t),this.currentSelection.set(n),t.scrollToSelection()):(s>-1||a)&&(s>-1&&(t.docView.markDirty(s,i),$Ze(t)),this.handleDOMChange(s,i,l,c),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||Ah(t),this.currentSelection.set(n))}registerMutation(t,r){if(r.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(n==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!n||n.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let f=t.addedNodes[u];r.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let a=t.previousSibling,s=t.nextSibling;if(xl&&Am<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:f,nextSibling:p}=t.addedNodes[u];(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(a=f),(!p||Array.prototype.indexOf.call(t.addedNodes,p)<0)&&(s=p)}let i=a&&a.parentNode==t.target?Bi(a)+1:0,l=n.localPosFromDOM(t.target,i,-1),c=s&&s.parentNode==t.target?Bi(s):t.target.childNodes.length,d=n.localPosFromDOM(t.target,c,1);return{from:l,to:d}}else return t.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=t.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let YG=new WeakMap,GG=!1;function $Ze(e){if(!YG.has(e)&&(YG.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=md,GG)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),GG=!0}}function KG(e,t){let r=t.startContainer,n=t.startOffset,a=t.endContainer,s=t.endOffset,i=e.domAtPos(e.state.selection.anchor);return lx(i.node,i.offset,a,s)&&([r,n,a,s]=[a,s,r,n]),{anchorNode:r,anchorOffset:n,focusNode:a,focusOffset:s}}function UZe(e,t){if(t.getComposedRanges){let a=t.getComposedRanges(e.root)[0];if(a)return KG(e,a)}let r;function n(a){a.preventDefault(),a.stopImmediatePropagation(),r=a.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0),r?KG(e,r):null}function VZe(e,t){for(let r=t.parentNode;r&&r!=e.dom;r=r.parentNode){let n=e.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function qZe(e,t,r){let{node:n,fromOffset:a,toOffset:s,from:i,to:l}=e.docView.parseRange(t,r),c=e.domSelectionRange(),d,u=c.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(d=[{node:u,offset:c.anchorOffset}],c3(c)||d.push({node:c.focusNode,offset:c.focusOffset})),vi&&e.input.lastKeyCode===8)for(let x=s;x>a;x--){let y=n.childNodes[x-1],v=y.pmViewDesc;if(y.nodeName=="BR"&&!v){s=x;break}if(!v||v.size)break}let f=e.state.doc,p=e.someProp("domParser")||Cm.fromSchema(e.state.schema),h=f.resolve(i),m=null,g=p.parse(n,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:a,to:s,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:WZe,context:h});if(d&&d[0].pos!=null){let x=d[0].pos,y=d[1]&&d[1].pos;y==null&&(y=x),m={anchor:x+i,head:y+i}}return{doc:g,sel:m,from:i,to:l}}function WZe(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(So&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(e.parentNode.lastChild==e||So&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const YZe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function GZe(e,t,r,n,a){let s=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let S=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,k=j7(e,S);if(k&&!e.state.selection.eq(k)){if(vi&&dh&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",O=>O(e,K0(13,"Enter"))))return;let A=e.state.tr.setSelection(k);S=="pointer"?A.setMeta("pointer",!0):S=="key"&&A.scrollIntoView(),s&&A.setMeta("composition",s),e.dispatch(A)}return}let i=e.state.doc.resolve(t),l=i.sharedDepth(r);t=i.before(l+1),r=e.state.doc.resolve(r).after(l+1);let c=e.state.selection,d=qZe(e,t,r),u=e.state.doc,f=u.slice(d.from,d.to),p,h;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(p=e.state.selection.to,h="end"):(p=e.state.selection.from,h="start"),e.input.lastKeyCode=null;let m=JZe(f.content,d.doc.content,d.from,p,h);if(m&&e.input.domChangeCount++,(sb&&e.input.lastIOSEnter>Date.now()-225||dh)&&a.some(S=>S.nodeType==1&&!YZe.test(S.nodeName))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",S=>S(e,K0(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!m)if(n&&c instanceof yr&&!c.empty&&c.$head.sameParent(c.$anchor)&&!e.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))m={start:c.from,endA:c.to,endB:c.to};else{if(d.sel){let S=XG(e,e.state.doc,d.sel);if(S&&!S.eq(e.state.selection)){let k=e.state.tr.setSelection(S);s&&k.setMeta("composition",s),e.dispatch(k)}}return}e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof yr&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=d.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=d.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),xl&&Am<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>d.from&&d.doc.textBetween(m.start-d.from-1,m.start-d.from+1)==" "&&(m.start--,m.endA--,m.endB--);let g=d.doc.resolveNoCache(m.start-d.from),x=d.doc.resolveNoCache(m.endB-d.from),y=u.resolve(m.start),v=g.sameParent(x)&&g.parent.inlineContent&&y.end()>=m.endA;if((sb&&e.input.lastIOSEnter>Date.now()-225&&(!v||a.some(S=>S.nodeName=="DIV"||S.nodeName=="P"))||!v&&g.pos<d.doc.content.size&&(!g.sameParent(x)||!g.parent.inlineContent)&&g.pos<x.pos&&!/\S/.test(d.doc.textBetween(g.pos,x.pos,"","")))&&e.someProp("handleKeyDown",S=>S(e,K0(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>m.start&&XZe(u,m.start,m.endA,g,x)&&e.someProp("handleKeyDown",S=>S(e,K0(8,"Backspace")))){dh&&vi&&e.domObserver.suppressSelectionUpdates();return}vi&&m.endB==m.start&&(e.input.lastChromeDelete=Date.now()),dh&&!v&&g.start()!=x.start()&&x.parentOffset==0&&g.depth==x.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==m.endA&&(m.endB-=2,x=d.doc.resolveNoCache(m.endB-d.from),setTimeout(()=>{e.someProp("handleKeyDown",function(S){return S(e,K0(13,"Enter"))})},20));let w=m.start,N=m.endA,C=S=>{let k=S||e.state.tr.replace(w,N,d.doc.slice(m.start-d.from,m.endB-d.from));if(d.sel){let A=XG(e,k.doc,d.sel);A&&!(vi&&e.composing&&A.empty&&(m.start!=m.endB||e.input.lastChromeDelete<Date.now()-100)&&(A.head==w||A.head==k.mapping.map(N)-1)||xl&&A.empty&&A.head==w)&&k.setSelection(A)}return s&&k.setMeta("composition",s),k.scrollIntoView()},_;if(v)if(g.pos==x.pos){xl&&Am<=11&&g.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ah(e),20));let S=C(e.state.tr.delete(w,N)),k=u.resolve(m.start).marksAcross(u.resolve(m.endA));k&&S.ensureMarks(k),e.dispatch(S)}else if(m.endA==m.endB&&(_=KZe(g.parent.content.cut(g.parentOffset,x.parentOffset),y.parent.content.cut(y.parentOffset,m.endA-y.start())))){let S=C(e.state.tr);_.type=="add"?S.addMark(w,N,_.mark):S.removeMark(w,N,_.mark),e.dispatch(S)}else if(g.parent.child(g.index()).isText&&g.index()==x.index()-(x.textOffset?0:1)){let S=g.parent.textBetween(g.parentOffset,x.parentOffset),k=()=>C(e.state.tr.insertText(S,w,N));e.someProp("handleTextInput",A=>A(e,w,N,S,k))||e.dispatch(k())}else e.dispatch(C());else e.dispatch(C())}function XG(e,t,r){return Math.max(r.anchor,r.head)>t.content.size?null:_7(e,t.resolve(r.anchor),t.resolve(r.head))}function KZe(e,t){let r=e.firstChild.marks,n=t.firstChild.marks,a=r,s=n,i,l,c;for(let u=0;u<n.length;u++)a=n[u].removeFromSet(a);for(let u=0;u<r.length;u++)s=r[u].removeFromSet(s);if(a.length==1&&s.length==0)l=a[0],i="add",c=u=>u.mark(l.addToSet(u.marks));else if(a.length==0&&s.length==1)l=s[0],i="remove",c=u=>u.mark(l.removeFromSet(u.marks));else return null;let d=[];for(let u=0;u<t.childCount;u++)d.push(c(t.child(u)));if(bt.from(d).eq(e))return{mark:l,type:i}}function XZe(e,t,r,n,a){if(r-t<=a.pos-n.pos||SM(n,!0,!1)<a.pos)return!1;let s=e.resolve(t);if(!n.parent.isTextblock){let l=s.nodeAfter;return l!=null&&r==t+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let i=e.resolve(SM(s,!0,!0));return!i.parent.isTextblock||i.pos>r||SM(i,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(i.parent.content)}function SM(e,t,r){let n=e.depth,a=t?e.end():e.pos;for(;n>0&&(t||e.indexAfter(n)==e.node(n).childCount);)n--,a++,t=!1;if(r){let s=e.node(n).maybeChild(e.indexAfter(n));for(;s&&!s.isLeaf;)s=s.firstChild,a++}return a}function JZe(e,t,r,n,a){let s=e.findDiffStart(t,r);if(s==null)return null;let{a:i,b:l}=e.findDiffEnd(t,r+e.size,r+t.size);if(a=="end"){let c=Math.max(0,s-Math.min(i,l));n-=i+c-s}if(i<s&&e.size<t.size){let c=n<=s&&n>=i?s-n:0;s-=c,s&&s<t.size&&JG(t.textBetween(s-1,s+1))&&(s+=c?1:-1),l=s+(l-i),i=s}else if(l<s){let c=n<=s&&n>=l?s-n:0;s-=c,s&&s<e.size&&JG(e.textBetween(s-1,s+1))&&(s+=c?1:-1),i=s+(i-l),l=s}return{start:s,endA:i,endB:l}}function JG(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),r=e.charCodeAt(1);return t>=56320&&t<=57343&&r>=55296&&r<=56319}class xue{constructor(t,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new pZe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(rK),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=eK(this),ZG(this),this.nodeViews=tK(this),this.docView=MG(this.state.doc,QG(this),NM(this),this.dom,this),this.domObserver=new HZe(this,(n,a,s,i)=>GZe(this,n,a,s,i)),this.domObserver.start(),mZe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let r in t)this._props[r]=t[r];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&rR(this);let r=this._props;this._props=t,t.plugins&&(t.plugins.forEach(rK),this.directPlugins=t.plugins),this.updateStateInner(t.state,r)}setProps(t){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in t)r[n]=t[n];this.update(r)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,r){var n;let a=this.state,s=!1,i=!1;t.storedMarks&&this.composing&&(due(this),i=!0),this.state=t;let l=a.plugins!=t.plugins||this._props.plugins!=r.plugins;if(l||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let h=tK(this);ZZe(h,this.nodeViews)&&(this.nodeViews=h,s=!0)}(l||r.handleDOMEvents!=this._props.handleDOMEvents)&&rR(this),this.editable=eK(this),ZG(this);let c=NM(this),d=QG(this),u=a.plugins!=t.plugins&&!a.doc.eq(t.doc)?"reset":t.scrollToSelection>a.scrollToSelection?"to selection":"preserve",f=s||!this.docView.matchesNode(t.doc,d,c);(f||!t.selection.eq(a.selection))&&(i=!0);let p=u=="preserve"&&i&&this.dom.style.overflowAnchor==null&&EQe(this);if(i){this.domObserver.stop();let h=f&&(xl||vi)&&!this.composing&&!a.selection.empty&&!t.selection.empty&&QZe(a.selection,t.selection);if(f){let m=vi?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=EZe(this)),(s||!this.docView.update(t.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=MG(t.doc,d,c,this.dom,this)),m&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&ZQe(this))?Ah(this,h):(Qde(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(a),!((n=this.dragging)===null||n===void 0)&&n.node&&!a.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,a),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():p&&TQe(p)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof dr){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&kG(this,r.getBoundingClientRect(),t)}else kG(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,t)}}updateDraggedNode(t,r){let n=t.node,a=-1;if(this.state.doc.nodeAt(n.from)==n.node)a=n.from;else{let s=n.from+(this.state.doc.content.size-r.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==n.node&&(a=s)}this.dragging=new fue(t.slice,t.move,a<0?void 0:dr.create(this.state.doc,a))}someProp(t,r){let n=this._props&&this._props[t],a;if(n!=null&&(a=r?r(n):n))return a;for(let i=0;i<this.directPlugins.length;i++){let l=this.directPlugins[i].props[t];if(l!=null&&(a=r?r(l):l))return a}let s=this.state.plugins;if(s)for(let i=0;i<s.length;i++){let l=s[i].props[t];if(l!=null&&(a=r?r(l):l))return a}}hasFocus(){if(xl){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&DQe(this.dom),Ah(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return t||document}updateRoot(){this._root=null}posAtCoords(t){return LQe(this,t)}coordsAtPos(t,r=1){return Vde(this,t,r)}domAtPos(t,r=0){return this.docView.domFromPos(t,r)}nodeDOM(t){let r=this.docView.descAt(t);return r?r.nodeDOM:null}posAtDOM(t,r,n=-1){let a=this.docView.posFromDOM(t,r,n);if(a==null)throw new RangeError("DOM position not inside the editor");return a}endOfTextblock(t,r){return HQe(this,r||this.state,t)}pasteHTML(t,r){return vN(this,"",t,!1,r||new ClipboardEvent("paste"))}pasteText(t,r){return vN(this,t,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(t){return k7(this,t)}destroy(){this.docView&&(gZe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],NM(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,vQe())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return yZe(this,t)}domSelectionRange(){let t=this.domSelection();return t?So&&this.root.nodeType===11&&jQe(this.dom.ownerDocument)==this.dom&&UZe(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}xue.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function QG(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(e.state)),r)for(let n in r)n=="class"?t.class+=" "+r[n]:n=="style"?t.style=(t.style?t.style+";":"")+r[n]:!t[n]&&n!="contenteditable"&&n!="nodeName"&&(t[n]=String(r[n]))}),t.translate||(t.translate="no"),[qo.node(0,e.state.doc.content.size,t)]}function ZG(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:qo.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function eK(e){return!e.someProp("editable",t=>t(e.state)===!1)}function QZe(e,t){let r=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(r)!=t.$anchor.start(r)}function tK(e){let t=Object.create(null);function r(n){for(let a in n)Object.prototype.hasOwnProperty.call(t,a)||(t[a]=n[a])}return e.someProp("nodeViews",r),e.someProp("markViews",r),t}function ZZe(e,t){let r=0,n=0;for(let a in e){if(e[a]!=t[a])return!0;r++}for(let a in t)n++;return r!=n}function rK(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Gm={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},gA={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},eet=typeof navigator<"u"&&/Mac/.test(navigator.platform),tet=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Hi=0;Hi<10;Hi++)Gm[48+Hi]=Gm[96+Hi]=String(Hi);for(var Hi=1;Hi<=24;Hi++)Gm[Hi+111]="F"+Hi;for(var Hi=65;Hi<=90;Hi++)Gm[Hi]=String.fromCharCode(Hi+32),gA[Hi]=String.fromCharCode(Hi);for(var jM in Gm)gA.hasOwnProperty(jM)||(gA[jM]=Gm[jM]);function ret(e){var t=eet&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||tet&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",r=!t&&e.key||(e.shiftKey?gA:Gm)[e.keyCode]||e.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const net=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),aet=typeof navigator<"u"&&/Win/.test(navigator.platform);function set(e){let t=e.split(/-(?!$)/),r=t[t.length-1];r=="Space"&&(r=" ");let n,a,s,i;for(let l=0;l<t.length-1;l++){let c=t[l];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))a=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))net?i=!0:a=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(r="Alt-"+r),a&&(r="Ctrl-"+r),i&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function iet(e){let t=Object.create(null);for(let r in e)t[set(r)]=e[r];return t}function _M(e,t,r=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),r&&t.shiftKey&&(e="Shift-"+e),e}function oet(e){return new Ra({props:{handleKeyDown:yue(e)}})}function yue(e){let t=iet(e);return function(r,n){let a=ret(n),s,i=t[_M(a,n)];if(i&&i(r.state,r.dispatch,r))return!0;if(a.length==1&&a!=" "){if(n.shiftKey){let l=t[_M(a,n,!1)];if(l&&l(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(aet&&n.ctrlKey&&n.altKey)&&(s=Gm[n.keyCode])&&s!=a){let l=t[_M(s,n)];if(l&&l(r.state,r.dispatch,r))return!0}}return!1}}var cet=Object.defineProperty,M7=(e,t)=>{for(var r in t)cet(e,r,{get:t[r],enumerable:!0})};function f3(e){const{state:t,transaction:r}=e;let{selection:n}=r,{doc:a}=r,{storedMarks:s}=r;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return n},get doc(){return a},get tr(){return n=r.selection,a=r.doc,s=r.storedMarks,r}}}var h3=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:n}=t,{tr:a}=r,s=this.buildProps(a);return Object.fromEntries(Object.entries(e).map(([i,l])=>[i,(...d)=>{const u=l(...d)(s);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(a),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:n,state:a}=this,{view:s}=n,i=[],l=!!e,c=e||a.tr,d=()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),i.every(f=>f===!0)),u={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...m)=>{const g=this.buildProps(c,t),x=p(...m)(g);return i.push(x),u}])),run:d};return u}createCan(e){const{rawCommands:t,state:r}=this,n=!1,a=e||r.tr,s=this.buildProps(a,n);return{...Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...d)=>c(...d)({...s,dispatch:void 0})])),chain:()=>this.createChain(a,n)}}buildProps(e,t=!0){const{rawCommands:r,editor:n,state:a}=this,{view:s}=n,i={tr:e,editor:n,view:s,state:f3({state:a,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...d)=>c(...d)(i)]))}};return i}},vue={};M7(vue,{blur:()=>det,clearContent:()=>uet,clearNodes:()=>fet,command:()=>het,createParagraphNear:()=>pet,cut:()=>met,deleteCurrentNode:()=>get,deleteNode:()=>xet,deleteRange:()=>yet,deleteSelection:()=>vet,enter:()=>bet,exitCode:()=>wet,extendMarkRange:()=>Net,first:()=>jet,focus:()=>ket,forEach:()=>Cet,insertContent:()=>Aet,insertContentAt:()=>Det,joinBackward:()=>Pet,joinDown:()=>Oet,joinForward:()=>Ret,joinItemBackward:()=>Let,joinItemForward:()=>Iet,joinTextblockBackward:()=>Fet,joinTextblockForward:()=>zet,joinUp:()=>Met,keyboardShortcut:()=>Het,lift:()=>$et,liftEmptyBlock:()=>Uet,liftListItem:()=>Vet,newlineInCode:()=>qet,resetAttributes:()=>Wet,scrollIntoView:()=>Yet,selectAll:()=>Get,selectNodeBackward:()=>Ket,selectNodeForward:()=>Xet,selectParentNode:()=>Jet,selectTextblockEnd:()=>Qet,selectTextblockStart:()=>Zet,setContent:()=>ett,setMark:()=>btt,setMeta:()=>wtt,setNode:()=>Ntt,setNodeSelection:()=>Stt,setTextDirection:()=>jtt,setTextSelection:()=>_tt,sinkListItem:()=>ktt,splitBlock:()=>Ctt,splitListItem:()=>Att,toggleList:()=>Ett,toggleMark:()=>Ttt,toggleNode:()=>Dtt,toggleWrap:()=>Mtt,undoInputRule:()=>Ott,unsetAllMarks:()=>Ptt,unsetMark:()=>Rtt,unsetTextDirection:()=>Ltt,updateAttributes:()=>Itt,wrapIn:()=>Ftt,wrapInList:()=>ztt});var det=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var r;e.isDestroyed||(t.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),uet=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),fet=()=>({state:e,tr:t,dispatch:r})=>{const{selection:n}=t,{ranges:a}=n;return r&&a.forEach(({$from:s,$to:i})=>{e.doc.nodesBetween(s.pos,i.pos,(l,c)=>{if(l.type.isText)return;const{doc:d,mapping:u}=t,f=d.resolve(u.map(c)),p=d.resolve(u.map(c+l.nodeSize)),h=f.blockRange(p);if(!h)return;const m=Yb(h);if(l.type.isTextblock){const{defaultType:g}=f.parent.contentMatchAt(f.index());t.setNodeMarkup(h.start,g)}(m||m===0)&&t.lift(h,m)})}),!0},het=e=>t=>e(t),pet=()=>({state:e,dispatch:t})=>Ode(e,t),met=(e,t)=>({editor:r,tr:n})=>{const{state:a}=r,s=a.doc.slice(e.from,e.to);n.deleteRange(e.from,e.to);const i=n.mapping.map(t);return n.insert(i,s.content),n.setSelection(new yr(n.doc.resolve(Math.max(i-1,0)))),!0},get=()=>({tr:e,dispatch:t})=>{const{selection:r}=e,n=r.$anchor.node();if(n.content.size>0)return!1;const a=e.selection.$anchor;for(let s=a.depth;s>0;s-=1)if(a.node(s).type===n.type){if(t){const l=a.before(s),c=a.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1};function Is(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var xet=e=>({tr:t,state:r,dispatch:n})=>{const a=Is(e,r.schema),s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===a){if(n){const c=s.before(i),d=s.after(i);t.delete(c,d).scrollIntoView()}return!0}return!1},yet=e=>({tr:t,dispatch:r})=>{const{from:n,to:a}=e;return r&&t.delete(n,a),!0},vet=()=>({state:e,dispatch:t})=>y7(e,t),bet=()=>({commands:e})=>e.keyboardShortcut("Enter"),wet=()=>({state:e,dispatch:t})=>aQe(e,t);function O7(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function xA(e,t,r={strict:!0}){const n=Object.keys(t);return n.length?n.every(a=>r.strict?t[a]===e[a]:O7(t[a])?t[a].test(e[a]):t[a]===e[a]):!0}function bue(e,t,r={}){return e.find(n=>n.type===t&&xA(Object.fromEntries(Object.keys(r).map(a=>[a,n.attrs[a]])),r))}function nK(e,t,r={}){return!!bue(e,t,r)}function P7(e,t,r){var n;if(!e||!t)return;let a=e.parent.childAfter(e.parentOffset);if((!a.node||!a.node.marks.some(u=>u.type===t))&&(a=e.parent.childBefore(e.parentOffset)),!a.node||!a.node.marks.some(u=>u.type===t)||(r=r||((n=a.node.marks[0])==null?void 0:n.attrs),!bue([...a.node.marks],t,r)))return;let i=a.index,l=e.start()+a.offset,c=i+1,d=l+a.node.nodeSize;for(;i>0&&nK([...e.parent.child(i-1).marks],t,r);)i-=1,l-=e.parent.child(i).nodeSize;for(;c<e.parent.childCount&&nK([...e.parent.child(c).marks],t,r);)d+=e.parent.child(c).nodeSize,c+=1;return{from:l,to:d}}function ip(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var Net=(e,t={})=>({tr:r,state:n,dispatch:a})=>{const s=ip(e,n.schema),{doc:i,selection:l}=r,{$from:c,from:d,to:u}=l;if(a){const f=P7(c,s,t);if(f&&f.from<=d&&f.to>=u){const p=yr.create(i,f.from,f.to);r.setSelection(p)}}return!0},jet=e=>t=>{const r=typeof e=="function"?e(t):e;for(let n=0;n<r.length;n+=1)if(r[n](t))return!0;return!1};function wue(e){return e instanceof yr}function og(e=0,t=0,r=0){return Math.min(Math.max(e,t),r)}function Nue(e,t=null){if(!t)return null;const r=Lr.atStart(e),n=Lr.atEnd(e);if(t==="start"||t===!0)return r;if(t==="end")return n;const a=r.from,s=n.to;return t==="all"?yr.create(e,og(0,a,s),og(e.content.size,a,s)):yr.create(e,og(t,a,s),og(t,a,s))}function _et(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function R7(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var ket=(e=null,t={})=>({editor:r,view:n,tr:a,dispatch:s})=>{t={scrollIntoView:!0,...t};const i=()=>{(R7()||_et())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),t!=null&&t.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!wue(r.state.selection))return i(),!0;const l=Nue(a.doc,e)||r.state.selection,c=r.state.selection.eq(l);return s&&(c||a.setSelection(l),c&&a.storedMarks&&a.setStoredMarks(a.storedMarks),i()),!0},Cet=(e,t)=>r=>e.every((n,a)=>t(n,{...r,index:a})),Aet=(e,t)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},e,t),Sue=e=>{const t=e.childNodes;for(let r=t.length-1;r>=0;r-=1){const n=t[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?e.removeChild(n):n.nodeType===1&&Sue(n)}return e};function O5(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,r=new window.DOMParser().parseFromString(t,"text/html").body;return Sue(r)}function wN(e,t,r){if(e instanceof km||e instanceof bt)return e;r={slice:!0,parseOptions:{},...r};const n=typeof e=="object"&&e!==null,a=typeof e=="string";if(n)try{if(Array.isArray(e)&&e.length>0)return bt.fromArray(e.map(l=>t.nodeFromJSON(l)));const i=t.nodeFromJSON(e);return r.errorOnInvalidContent&&i.check(),i}catch(s){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),wN("",t,r)}if(a){if(r.errorOnInvalidContent){let i=!1,l="";const c=new ide({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(i=!0,l=typeof d=="string"?d:d.outerHTML,null)}]}})});if(r.slice?Cm.fromSchema(c).parseSlice(O5(e),r.parseOptions):Cm.fromSchema(c).parse(O5(e),r.parseOptions),r.errorOnInvalidContent&&i)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=Cm.fromSchema(t);return r.slice?s.parseSlice(O5(e),r.parseOptions).content:s.parse(O5(e),r.parseOptions)}return wN("",t,r)}function Eet(e,t,r){const n=e.steps.length-1;if(n<t)return;const a=e.steps[n];if(!(a instanceof pi||a instanceof Ni))return;const s=e.mapping.maps[n];let i=0;s.forEach((l,c,d,u)=>{i===0&&(i=u)}),e.setSelection(Lr.near(e.doc.resolve(i),r))}var Tet=e=>!("type"in e),Det=(e,t,r)=>({tr:n,dispatch:a,editor:s})=>{var i;if(a){r={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let l;const c=x=>{s.emit("contentError",{editor:s,error:x,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{wN(t,s.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(x){c(x)}try{l=wN(t,s.schema,{parseOptions:d,errorOnInvalidContent:(i=r.errorOnInvalidContent)!=null?i:s.options.enableContentCheck})}catch(x){return c(x),!1}let{from:u,to:f}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},p=!0,h=!0;if((Tet(l)?l:[l]).forEach(x=>{x.check(),p=p?x.isText&&x.marks.length===0:!1,h=h?x.isBlock:!1}),u===f&&h){const{parent:x}=n.doc.resolve(u);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(u-=1,f+=1)}let g;if(p){if(Array.isArray(t))g=t.map(x=>x.text||"").join("");else if(t instanceof bt){let x="";t.forEach(y=>{y.text&&(x+=y.text)}),g=x}else typeof t=="object"&&t&&t.text?g=t.text:g=t;n.insertText(g,u,f)}else{g=l;const x=n.doc.resolve(u),y=x.node(),v=x.parentOffset===0,w=y.isText||y.isTextblock,N=y.content.size>0;v&&w&&N&&(u=Math.max(0,u-1)),n.replaceWith(u,f,g)}r.updateSelection&&Eet(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:u,text:g}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:u,text:g})}return!0},Met=()=>({state:e,dispatch:t})=>tQe(e,t),Oet=()=>({state:e,dispatch:t})=>rQe(e,t),Pet=()=>({state:e,dispatch:t})=>kde(e,t),Ret=()=>({state:e,dispatch:t})=>Tde(e,t),Let=()=>({state:e,dispatch:t,tr:r})=>{try{const n=i3(e.doc,e.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),t&&t(r),!0)}catch{return!1}},Iet=()=>({state:e,dispatch:t,tr:r})=>{try{const n=i3(e.doc,e.selection.$from.pos,1);return n==null?!1:(r.join(n,2),t&&t(r),!0)}catch{return!1}},Fet=()=>({state:e,dispatch:t})=>ZJe(e,t),zet=()=>({state:e,dispatch:t})=>eQe(e,t);function jue(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Bet(e){const t=e.split(/-(?!$)/);let r=t[t.length-1];r==="Space"&&(r=" ");let n,a,s,i;for(let l=0;l<t.length-1;l+=1){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))a=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))R7()||jue()?i=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return n&&(r=`Alt-${r}`),a&&(r=`Ctrl-${r}`),i&&(r=`Meta-${r}`),s&&(r=`Shift-${r}`),r}var Het=e=>({editor:t,view:r,tr:n,dispatch:a})=>{const s=Bet(e).split(/-(?!$)/),i=s.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),l=new KeyboardEvent("keydown",{key:i==="Space"?" ":i,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=t.captureTransaction(()=>{r.someProp("handleKeyDown",d=>d(r,l))});return c==null||c.steps.forEach(d=>{const u=d.map(n.mapping);u&&a&&n.maybeStep(u)}),!0};function Km(e,t,r={}){const{from:n,to:a,empty:s}=e.selection,i=t?Is(t,e.schema):null,l=[];e.doc.nodesBetween(n,a,(f,p)=>{if(f.isText)return;const h=Math.max(n,p),m=Math.min(a,p+f.nodeSize);l.push({node:f,from:h,to:m})});const c=a-n,d=l.filter(f=>i?i.name===f.node.type.name:!0).filter(f=>xA(f.node.attrs,r,{strict:!1}));return s?!!d.length:d.reduce((f,p)=>f+p.to-p.from,0)>=c}var $et=(e,t={})=>({state:r,dispatch:n})=>{const a=Is(e,r.schema);return Km(r,a,t)?nQe(r,n):!1},Uet=()=>({state:e,dispatch:t})=>Pde(e,t),Vet=e=>({state:t,dispatch:r})=>{const n=Is(e,t.schema);return mQe(n)(t,r)},qet=()=>({state:e,dispatch:t})=>Mde(e,t);function p3(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function aK(e,t){const r=typeof t=="string"?[t]:t;return Object.keys(e).reduce((n,a)=>(r.includes(a)||(n[a]=e[a]),n),{})}var Wet=(e,t)=>({tr:r,state:n,dispatch:a})=>{let s=null,i=null;const l=p3(typeof e=="string"?e:e.name,n.schema);if(!l)return!1;l==="node"&&(s=Is(e,n.schema)),l==="mark"&&(i=ip(e,n.schema));let c=!1;return r.selection.ranges.forEach(d=>{n.doc.nodesBetween(d.$from.pos,d.$to.pos,(u,f)=>{s&&s===u.type&&(c=!0,a&&r.setNodeMarkup(f,void 0,aK(u.attrs,t))),i&&u.marks.length&&u.marks.forEach(p=>{i===p.type&&(c=!0,a&&r.addMark(f,f+u.nodeSize,i.create(aK(p.attrs,t))))})})}),c},Yet=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),Get=()=>({tr:e,dispatch:t})=>{if(t){const r=new jc(e.doc);e.setSelection(r)}return!0},Ket=()=>({state:e,dispatch:t})=>Ade(e,t),Xet=()=>({state:e,dispatch:t})=>Dde(e,t),Jet=()=>({state:e,dispatch:t})=>oQe(e,t),Qet=()=>({state:e,dispatch:t})=>dQe(e,t),Zet=()=>({state:e,dispatch:t})=>cQe(e,t);function nR(e,t,r={},n={}){return wN(e,t,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}var ett=(e,{errorOnInvalidContent:t,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:a,tr:s,dispatch:i,commands:l})=>{const{doc:c}=s;if(n.preserveWhitespace!=="full"){const d=nR(e,a.schema,n,{errorOnInvalidContent:t??a.options.enableContentCheck});return i&&s.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!r),!0}return i&&s.setMeta("preventUpdate",!r),l.insertContentAt({from:0,to:c.content.size},e,{parseOptions:n,errorOnInvalidContent:t??a.options.enableContentCheck})};function _ue(e,t){const r=ip(t,e.schema),{from:n,to:a,empty:s}=e.selection,i=[];s?(e.storedMarks&&i.push(...e.storedMarks),i.push(...e.selection.$head.marks())):e.doc.nodesBetween(n,a,c=>{i.push(...c.marks)});const l=i.find(c=>c.type.name===r.name);return l?{...l.attrs}:{}}function kue(e,t){const r=new Nde(e);return t.forEach(n=>{n.steps.forEach(a=>{r.step(a)})}),r}function ttt(e){for(let t=0;t<e.edgeCount;t+=1){const{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function rtt(e,t,r){const n=[];return e.nodesBetween(t.from,t.to,(a,s)=>{r(a)&&n.push({node:a,pos:s})}),n}function ntt(e,t){for(let r=e.depth;r>0;r-=1){const n=e.node(r);if(t(n))return{pos:r>0?e.before(r):0,start:e.start(r),depth:r,node:n}}}function m3(e){return t=>ntt(t.$from,e)}function lr(e,t,r){return e.config[t]===void 0&&e.parent?lr(e.parent,t,r):typeof e.config[t]=="function"?e.config[t].bind({...r,parent:e.parent?lr(e.parent,t,r):null}):e.config[t]}function L7(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},n=lr(t,"addExtensions",r);return n?[t,...L7(n())]:t}).flat(10)}function I7(e,t){const r=Mx.fromSchema(t).serializeFragment(e),a=document.implementation.createHTMLDocument().createElement("div");return a.appendChild(r),a.innerHTML}function Cue(e){return typeof e=="function"}function Sn(e,t=void 0,...r){return Cue(e)?t?e.bind(t)(...r):e(...r):e}function att(e={}){return Object.keys(e).length===0&&e.constructor===Object}function ib(e){const t=e.filter(a=>a.type==="extension"),r=e.filter(a=>a.type==="node"),n=e.filter(a=>a.type==="mark");return{baseExtensions:t,nodeExtensions:r,markExtensions:n}}function Aue(e){const t=[],{nodeExtensions:r,markExtensions:n}=ib(e),a=[...r,...n],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(i=>{const l={name:i.name,options:i.options,storage:i.storage,extensions:a},c=lr(i,"addGlobalAttributes",l);if(!c)return;c().forEach(u=>{u.types.forEach(f=>{Object.entries(u.attributes).forEach(([p,h])=>{t.push({type:f,name:p,attribute:{...s,...h}})})})})}),a.forEach(i=>{const l={name:i.name,options:i.options,storage:i.storage},c=lr(i,"addAttributes",l);if(!c)return;const d=c();Object.entries(d).forEach(([u,f])=>{const p={...s,...f};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,t.push({type:i.name,name:u,attribute:p})})}),t}function ts(...e){return e.filter(t=>!!t).reduce((t,r)=>{const n={...t};return Object.entries(r).forEach(([a,s])=>{if(!n[a]){n[a]=s;return}if(a==="class"){const l=s?String(s).split(" "):[],c=n[a]?n[a].split(" "):[],d=l.filter(u=>!c.includes(u));n[a]=[...c,...d].join(" ")}else if(a==="style"){const l=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],c=n[a]?n[a].split(";").map(u=>u.trim()).filter(Boolean):[],d=new Map;c.forEach(u=>{const[f,p]=u.split(":").map(h=>h.trim());d.set(f,p)}),l.forEach(u=>{const[f,p]=u.split(":").map(h=>h.trim());d.set(f,p)}),n[a]=Array.from(d.entries()).map(([u,f])=>`${u}: ${f}`).join("; ")}else n[a]=s}),n},{})}function yA(e,t){return t.filter(r=>r.type===e.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(e.attrs)||{}:{[r.name]:e.attrs[r.name]}).reduce((r,n)=>ts(r,n),{})}function stt(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function sK(e,t){return"style"in e?e:{...e,getAttrs:r=>{const n=e.getAttrs?e.getAttrs(r):e.attrs;if(n===!1)return!1;const a=t.reduce((s,i)=>{const l=i.attribute.parseHTML?i.attribute.parseHTML(r):stt(r.getAttribute(i.name));return l==null?s:{...s,[i.name]:l}},{});return{...n,...a}}}}function iK(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>t==="attrs"&&att(r)?!1:r!=null))}function oK(e){var t,r;const n={};return!((t=e==null?void 0:e.attribute)!=null&&t.isRequired)&&"default"in((e==null?void 0:e.attribute)||{})&&(n.default=e.attribute.default),((r=e==null?void 0:e.attribute)==null?void 0:r.validate)!==void 0&&(n.validate=e.attribute.validate),[e.name,n]}function itt(e,t){var r;const n=Aue(e),{nodeExtensions:a,markExtensions:s}=ib(e),i=(r=a.find(d=>lr(d,"topNode")))==null?void 0:r.name,l=Object.fromEntries(a.map(d=>{const u=n.filter(y=>y.type===d.name),f={name:d.name,options:d.options,storage:d.storage,editor:t},p=e.reduce((y,v)=>{const w=lr(v,"extendNodeSchema",f);return{...y,...w?w(d):{}}},{}),h=iK({...p,content:Sn(lr(d,"content",f)),marks:Sn(lr(d,"marks",f)),group:Sn(lr(d,"group",f)),inline:Sn(lr(d,"inline",f)),atom:Sn(lr(d,"atom",f)),selectable:Sn(lr(d,"selectable",f)),draggable:Sn(lr(d,"draggable",f)),code:Sn(lr(d,"code",f)),whitespace:Sn(lr(d,"whitespace",f)),linebreakReplacement:Sn(lr(d,"linebreakReplacement",f)),defining:Sn(lr(d,"defining",f)),isolating:Sn(lr(d,"isolating",f)),attrs:Object.fromEntries(u.map(oK))}),m=Sn(lr(d,"parseHTML",f));m&&(h.parseDOM=m.map(y=>sK(y,u)));const g=lr(d,"renderHTML",f);g&&(h.toDOM=y=>g({node:y,HTMLAttributes:yA(y,u)}));const x=lr(d,"renderText",f);return x&&(h.toText=x),[d.name,h]})),c=Object.fromEntries(s.map(d=>{const u=n.filter(x=>x.type===d.name),f={name:d.name,options:d.options,storage:d.storage,editor:t},p=e.reduce((x,y)=>{const v=lr(y,"extendMarkSchema",f);return{...x,...v?v(d):{}}},{}),h=iK({...p,inclusive:Sn(lr(d,"inclusive",f)),excludes:Sn(lr(d,"excludes",f)),group:Sn(lr(d,"group",f)),spanning:Sn(lr(d,"spanning",f)),code:Sn(lr(d,"code",f)),attrs:Object.fromEntries(u.map(oK))}),m=Sn(lr(d,"parseHTML",f));m&&(h.parseDOM=m.map(x=>sK(x,u)));const g=lr(d,"renderHTML",f);return g&&(h.toDOM=x=>g({mark:x,HTMLAttributes:yA(x,u)})),[d.name,h]}));return new ide({topNode:i,nodes:l,marks:c})}function ott(e){const t=e.filter((r,n)=>e.indexOf(r)!==n);return Array.from(new Set(t))}function F7(e){return e.sort((r,n)=>{const a=lr(r,"priority")||100,s=lr(n,"priority")||100;return a>s?-1:a<s?1:0})}function Eue(e){const t=F7(L7(e)),r=ott(t.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),t}function Tue(e,t,r){const{from:n,to:a}=t,{blockSeparator:s=`

`,textSerializers:i={}}=r||{};let l="";return e.nodesBetween(n,a,(c,d,u,f)=>{var p;c.isBlock&&d>n&&(l+=s);const h=i==null?void 0:i[c.type.name];if(h)return u&&(l+=h({node:c,pos:d,parent:u,index:f,range:t})),!1;c.isText&&(l+=(p=c==null?void 0:c.text)==null?void 0:p.slice(Math.max(n,d)-d,a-d))}),l}function ltt(e,t){const r={from:0,to:e.content.size};return Tue(e,r,t)}function Due(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,r])=>[t,r.spec.toText]))}function ctt(e,t){const r=Is(t,e.schema),{from:n,to:a}=e.selection,s=[];e.doc.nodesBetween(n,a,l=>{s.push(l)});const i=s.reverse().find(l=>l.type.name===r.name);return i?{...i.attrs}:{}}function Mue(e,t){const r=p3(typeof t=="string"?t:t.name,e.schema);return r==="node"?ctt(e,t):r==="mark"?_ue(e,t):{}}function dtt(e,t=JSON.stringify){const r={};return e.filter(n=>{const a=t(n);return Object.prototype.hasOwnProperty.call(r,a)?!1:r[a]=!0})}function utt(e){const t=dtt(e);return t.length===1?t:t.filter((r,n)=>!t.filter((s,i)=>i!==n).some(s=>r.oldRange.from>=s.oldRange.from&&r.oldRange.to<=s.oldRange.to&&r.newRange.from>=s.newRange.from&&r.newRange.to<=s.newRange.to))}function Oue(e){const{mapping:t,steps:r}=e,n=[];return t.maps.forEach((a,s)=>{const i=[];if(a.ranges.length)a.forEach((l,c)=>{i.push({from:l,to:c})});else{const{from:l,to:c}=r[s];if(l===void 0||c===void 0)return;i.push({from:l,to:c})}i.forEach(({from:l,to:c})=>{const d=t.slice(s).map(l,-1),u=t.slice(s).map(c),f=t.invert().map(d,-1),p=t.invert().map(u);n.push({oldRange:{from:f,to:p},newRange:{from:d,to:u}})})}),utt(n)}function z7(e,t,r){const n=[];return e===t?r.resolve(e).marks().forEach(a=>{const s=r.resolve(e),i=P7(s,a.type);i&&n.push({mark:a,...i})}):r.nodesBetween(e,t,(a,s)=>{!a||(a==null?void 0:a.nodeSize)===void 0||n.push(...a.marks.map(i=>({from:s,to:s+a.nodeSize,mark:i})))}),n}var ftt=(e,t,r,n=20)=>{const a=e.doc.resolve(r);let s=n,i=null;for(;s>0&&i===null;){const l=a.node(s);(l==null?void 0:l.type.name)===t?i=l:s-=1}return[i,s]};function kM(e,t){return t.nodes[e]||t.marks[e]||null}function H_(e,t,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const a=e.find(s=>s.type===t&&s.name===n);return a?a.attribute.keepOnSplit:!1}))}var htt=(e,t=500)=>{let r="";const n=e.parentOffset;return e.parent.nodesBetween(Math.max(0,n-t),n,(a,s,i,l)=>{var c,d;const u=((d=(c=a.type.spec).toText)==null?void 0:d.call(c,{node:a,pos:s,parent:i,index:l}))||a.textContent||"%leaf%";r+=a.isAtom&&!a.isText?u:u.slice(0,Math.max(0,n-s))}),r};function aR(e,t,r={}){const{empty:n,ranges:a}=e.selection,s=t?ip(t,e.schema):null;if(n)return!!(e.storedMarks||e.selection.$from.marks()).filter(f=>s?s.name===f.type.name:!0).find(f=>xA(f.attrs,r,{strict:!1}));let i=0;const l=[];if(a.forEach(({$from:f,$to:p})=>{const h=f.pos,m=p.pos;e.doc.nodesBetween(h,m,(g,x)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(h,x),v=Math.min(m,x+g.nodeSize),w=v-y;i+=w,l.push(...g.marks.map(N=>({mark:N,from:y,to:v})))})}),i===0)return!1;const c=l.filter(f=>s?s.name===f.mark.type.name:!0).filter(f=>xA(f.mark.attrs,r,{strict:!1})).reduce((f,p)=>f+p.to-p.from,0),d=l.filter(f=>s?f.mark.type!==s&&f.mark.type.excludes(s):!0).reduce((f,p)=>f+p.to-p.from,0);return(c>0?c+d:c)>=i}function ptt(e,t,r={}){if(!t)return Km(e,null,r)||aR(e,null,r);const n=p3(t,e.schema);return n==="node"?Km(e,t,r):n==="mark"?aR(e,t,r):!1}var mtt=(e,t)=>{const{$from:r,$to:n,$anchor:a}=e.selection;if(t){const s=m3(l=>l.type.name===t)(e.selection);if(!s)return!1;const i=e.doc.resolve(s.pos+1);return a.pos+1===i.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},gtt=e=>{const{$from:t,$to:r}=e.selection;return!(t.parentOffset>0||t.pos!==r.pos)};function lK(e,t){return Array.isArray(t)?t.some(r=>(typeof r=="string"?r:r.name)===e.name):t}function cK(e,t){const{nodeExtensions:r}=ib(t),n=r.find(i=>i.name===e);if(!n)return!1;const a={name:n.name,options:n.options,storage:n.storage},s=Sn(lr(n,"group",a));return typeof s!="string"?!1:s.split(" ").includes("list")}function g3(e,{checkChildren:t=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((n=e.text)!=null?n:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let a=!0;return e.content.forEach(s=>{a!==!1&&(g3(s,{ignoreWhitespace:r,checkChildren:t})||(a=!1))}),a}return!1}function Pue(e){return e instanceof dr}var Rue=class Lue{constructor(t){this.position=t}static fromJSON(t){return new Lue(t.position)}toJSON(){return{position:this.position}}};function xtt(e,t){const r=t.mapping.mapResult(e.position);return{position:new Rue(r.pos),mapResult:r}}function ytt(e){return new Rue(e)}function vtt(e,t,r){var n;const{selection:a}=t;let s=null;if(wue(a)&&(s=a.$cursor),s){const l=(n=e.storedMarks)!=null?n:s.marks();return s.parent.type.allowsMarkType(r)&&(!!r.isInSet(l)||!l.some(d=>d.type.excludes(r)))}const{ranges:i}=a;return i.some(({$from:l,$to:c})=>{let d=l.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(r):!1;return e.doc.nodesBetween(l.pos,c.pos,(u,f,p)=>{if(d)return!1;if(u.isInline){const h=!p||p.type.allowsMarkType(r),m=!!r.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(r));d=h&&m}return!d}),d})}var btt=(e,t={})=>({tr:r,state:n,dispatch:a})=>{const{selection:s}=r,{empty:i,ranges:l}=s,c=ip(e,n.schema);if(a)if(i){const d=_ue(n,c);r.addStoredMark(c.create({...d,...t}))}else l.forEach(d=>{const u=d.$from.pos,f=d.$to.pos;n.doc.nodesBetween(u,f,(p,h)=>{const m=Math.max(h,u),g=Math.min(h+p.nodeSize,f);p.marks.find(y=>y.type===c)?p.marks.forEach(y=>{c===y.type&&r.addMark(m,g,c.create({...y.attrs,...t}))}):r.addMark(m,g,c.create(t))})});return vtt(n,r,c)},wtt=(e,t)=>({tr:r})=>(r.setMeta(e,t),!0),Ntt=(e,t={})=>({state:r,dispatch:n,chain:a})=>{const s=Is(e,r.schema);let i;return r.selection.$anchor.sameParent(r.selection.$head)&&(i=r.selection.$anchor.parent.attrs),s.isTextblock?a().command(({commands:l})=>SG(s,{...i,...t})(r)?!0:l.clearNodes()).command(({state:l})=>SG(s,{...i,...t})(l,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Stt=e=>({tr:t,dispatch:r})=>{if(r){const{doc:n}=t,a=og(e,0,n.content.size),s=dr.create(n,a);t.setSelection(s)}return!0},jtt=(e,t)=>({tr:r,state:n,dispatch:a})=>{const{selection:s}=n;let i,l;return typeof t=="number"?(i=t,l=t):t&&"from"in t&&"to"in t?(i=t.from,l=t.to):(i=s.from,l=s.to),a&&r.doc.nodesBetween(i,l,(c,d)=>{c.isText||r.setNodeMarkup(d,void 0,{...c.attrs,dir:e})}),!0},_tt=e=>({tr:t,dispatch:r})=>{if(r){const{doc:n}=t,{from:a,to:s}=typeof e=="number"?{from:e,to:e}:e,i=yr.atStart(n).from,l=yr.atEnd(n).to,c=og(a,i,l),d=og(s,i,l),u=yr.create(n,c,d);t.setSelection(u)}return!0},ktt=e=>({state:t,dispatch:r})=>{const n=Is(e,t.schema);return yQe(n)(t,r)};function dK(e,t){const r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(r){const n=r.filter(a=>t==null?void 0:t.includes(a.type.name));e.tr.ensureMarks(n)}}var Ctt=({keepMarks:e=!0}={})=>({tr:t,state:r,dispatch:n,editor:a})=>{const{selection:s,doc:i}=t,{$from:l,$to:c}=s,d=a.extensionManager.attributes,u=H_(d,l.node().type.name,l.node().attrs);if(s instanceof dr&&s.node.isBlock)return!l.parentOffset||!Ch(i,l.pos)?!1:(n&&(e&&dK(r,a.extensionManager.splittableMarks),t.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const f=c.parentOffset===c.parent.content.size,p=l.depth===0?void 0:ttt(l.node(-1).contentMatchAt(l.indexAfter(-1)));let h=f&&p?[{type:p,attrs:u}]:void 0,m=Ch(t.doc,t.mapping.map(l.pos),1,h);if(!h&&!m&&Ch(t.doc,t.mapping.map(l.pos),1,p?[{type:p}]:void 0)&&(m=!0,h=p?[{type:p,attrs:u}]:void 0),n){if(m&&(s instanceof yr&&t.deleteSelection(),t.split(t.mapping.map(l.pos),1,h),p&&!f&&!l.parentOffset&&l.parent.type!==p)){const g=t.mapping.map(l.before()),x=t.doc.resolve(g);l.node(-1).canReplaceWith(x.index(),x.index()+1,p)&&t.setNodeMarkup(t.mapping.map(l.before()),p)}e&&dK(r,a.extensionManager.splittableMarks),t.scrollIntoView()}return m},Att=(e,t={})=>({tr:r,state:n,dispatch:a,editor:s})=>{var i;const l=Is(e,n.schema),{$from:c,$to:d}=n.selection,u=n.selection.node;if(u&&u.isBlock||c.depth<2||!c.sameParent(d))return!1;const f=c.node(-1);if(f.type!==l)return!1;const p=s.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(a){let y=bt.empty;const v=c.index(-1)?1:c.index(-2)?2:3;for(let k=c.depth-v;k>=c.depth-3;k-=1)y=bt.from(c.node(k).copy(y));const w=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,N={...H_(p,c.node().type.name,c.node().attrs),...t},C=((i=l.contentMatch.defaultType)==null?void 0:i.createAndFill(N))||void 0;y=y.append(bt.from(l.createAndFill(null,C)||void 0));const _=c.before(c.depth-(v-1));r.replace(_,c.after(-w),new Lt(y,4-v,0));let S=-1;r.doc.nodesBetween(_,r.doc.content.size,(k,A)=>{if(S>-1)return!1;k.isTextblock&&k.content.size===0&&(S=A+1)}),S>-1&&r.setSelection(yr.near(r.doc.resolve(S))),r.scrollIntoView()}return!0}const h=d.pos===c.end()?f.contentMatchAt(0).defaultType:null,m={...H_(p,f.type.name,f.attrs),...t},g={...H_(p,c.node().type.name,c.node().attrs),...t};r.delete(c.pos,d.pos);const x=h?[{type:l,attrs:m},{type:h,attrs:g}]:[{type:l,attrs:m}];if(!Ch(r.doc,c.pos,2))return!1;if(a){const{selection:y,storedMarks:v}=n,{splittableMarks:w}=s.extensionManager,N=v||y.$to.parentOffset&&y.$from.marks();if(r.split(c.pos,2,x).scrollIntoView(),!N||!a)return!0;const C=N.filter(_=>w.includes(_.type.name));r.ensureMarks(C)}return!0},CM=(e,t)=>{const r=m3(i=>i.type===t)(e.selection);if(!r)return!0;const n=e.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const a=e.doc.nodeAt(n);return r.node.type===(a==null?void 0:a.type)&&o0(e.doc,r.pos)&&e.join(r.pos),!0},AM=(e,t)=>{const r=m3(i=>i.type===t)(e.selection);if(!r)return!0;const n=e.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const a=e.doc.nodeAt(n);return r.node.type===(a==null?void 0:a.type)&&o0(e.doc,n)&&e.join(n),!0},Ett=(e,t,r,n={})=>({editor:a,tr:s,state:i,dispatch:l,chain:c,commands:d,can:u})=>{const{extensions:f,splittableMarks:p}=a.extensionManager,h=Is(e,i.schema),m=Is(t,i.schema),{selection:g,storedMarks:x}=i,{$from:y,$to:v}=g,w=y.blockRange(v),N=x||g.$to.parentOffset&&g.$from.marks();if(!w)return!1;const C=m3(_=>cK(_.type.name,f))(g);if(w.depth>=1&&C&&w.depth-C.depth<=1){if(C.node.type===h)return d.liftListItem(m);if(cK(C.node.type.name,f)&&h.validContent(C.node.content)&&l)return c().command(()=>(s.setNodeMarkup(C.pos,h),!0)).command(()=>CM(s,h)).command(()=>AM(s,h)).run()}return!r||!N||!l?c().command(()=>u().wrapInList(h,n)?!0:d.clearNodes()).wrapInList(h,n).command(()=>CM(s,h)).command(()=>AM(s,h)).run():c().command(()=>{const _=u().wrapInList(h,n),S=N.filter(k=>p.includes(k.type.name));return s.ensureMarks(S),_?!0:d.clearNodes()}).wrapInList(h,n).command(()=>CM(s,h)).command(()=>AM(s,h)).run()},Ttt=(e,t={},r={})=>({state:n,commands:a})=>{const{extendEmptyMarkRange:s=!1}=r,i=ip(e,n.schema);return aR(n,i,t)?a.unsetMark(i,{extendEmptyMarkRange:s}):a.setMark(i,t)},Dtt=(e,t,r={})=>({state:n,commands:a})=>{const s=Is(e,n.schema),i=Is(t,n.schema),l=Km(n,s,r);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),l?a.setNode(i,c):a.setNode(s,{...c,...r})},Mtt=(e,t={})=>({state:r,commands:n})=>{const a=Is(e,r.schema);return Km(r,a,t)?n.lift(a):n.wrapIn(a,t)},Ott=()=>({state:e,dispatch:t})=>{const r=e.plugins;for(let n=0;n<r.length;n+=1){const a=r[n];let s;if(a.spec.isInputRules&&(s=a.getState(e))){if(t){const i=e.tr,l=s.transform;for(let c=l.steps.length-1;c>=0;c-=1)i.step(l.steps[c].invert(l.docs[c]));if(s.text){const c=i.doc.resolve(s.from).marks();i.replaceWith(s.from,s.to,e.schema.text(s.text,c))}else i.delete(s.from,s.to)}return!0}}return!1},Ptt=()=>({tr:e,dispatch:t})=>{const{selection:r}=e,{empty:n,ranges:a}=r;return n||t&&a.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},Rtt=(e,t={})=>({tr:r,state:n,dispatch:a})=>{var s;const{extendEmptyMarkRange:i=!1}=t,{selection:l}=r,c=ip(e,n.schema),{$from:d,empty:u,ranges:f}=l;if(!a)return!0;if(u&&i){let{from:p,to:h}=l;const m=(s=d.marks().find(x=>x.type===c))==null?void 0:s.attrs,g=P7(d,c,m);g&&(p=g.from,h=g.to),r.removeMark(p,h,c)}else f.forEach(p=>{r.removeMark(p.$from.pos,p.$to.pos,c)});return r.removeStoredMark(c),!0},Ltt=e=>({tr:t,state:r,dispatch:n})=>{const{selection:a}=r;let s,i;return typeof e=="number"?(s=e,i=e):e&&"from"in e&&"to"in e?(s=e.from,i=e.to):(s=a.from,i=a.to),n&&t.doc.nodesBetween(s,i,(l,c)=>{if(l.isText)return;const d={...l.attrs};delete d.dir,t.setNodeMarkup(c,void 0,d)}),!0},Itt=(e,t={})=>({tr:r,state:n,dispatch:a})=>{let s=null,i=null;const l=p3(typeof e=="string"?e:e.name,n.schema);if(!l)return!1;l==="node"&&(s=Is(e,n.schema)),l==="mark"&&(i=ip(e,n.schema));let c=!1;return r.selection.ranges.forEach(d=>{const u=d.$from.pos,f=d.$to.pos;let p,h,m,g;r.selection.empty?n.doc.nodesBetween(u,f,(x,y)=>{s&&s===x.type&&(c=!0,m=Math.max(y,u),g=Math.min(y+x.nodeSize,f),p=y,h=x)}):n.doc.nodesBetween(u,f,(x,y)=>{y<u&&s&&s===x.type&&(c=!0,m=Math.max(y,u),g=Math.min(y+x.nodeSize,f),p=y,h=x),y>=u&&y<=f&&(s&&s===x.type&&(c=!0,a&&r.setNodeMarkup(y,void 0,{...x.attrs,...t})),i&&x.marks.length&&x.marks.forEach(v=>{if(i===v.type&&(c=!0,a)){const w=Math.max(y,u),N=Math.min(y+x.nodeSize,f);r.addMark(w,N,i.create({...v.attrs,...t}))}}))}),h&&(p!==void 0&&a&&r.setNodeMarkup(p,void 0,{...h.attrs,...t}),i&&h.marks.length&&h.marks.forEach(x=>{i===x.type&&a&&r.addMark(m,g,i.create({...x.attrs,...t}))}))}),c},Ftt=(e,t={})=>({state:r,dispatch:n})=>{const a=Is(e,r.schema);return uQe(a,t)(r,n)},ztt=(e,t={})=>({state:r,dispatch:n})=>{const a=Is(e,r.schema);return fQe(a,t)(r,n)},Btt=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(n=>n.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(n=>n!==t):delete this.callbacks[e]),this}once(e,t){const r=(...n)=>{this.off(e,r),t.apply(this,n)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}},x3=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},Htt=(e,t)=>{if(O7(t))return t.exec(e);const r=t(e);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=e,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function P5(e){var t;const{editor:r,from:n,to:a,text:s,rules:i,plugin:l}=e,{view:c}=r;if(c.composing)return!1;const d=c.state.doc.resolve(n);if(d.parent.type.spec.code||(t=d.nodeBefore||d.nodeAfter)!=null&&t.marks.find(p=>p.type.spec.code))return!1;let u=!1;const f=htt(d)+s;return i.forEach(p=>{if(u)return;const h=Htt(f,p.find);if(!h)return;const m=c.state.tr,g=f3({state:c.state,transaction:m}),x={from:n-(h[0].length-s.length),to:a},{commands:y,chain:v,can:w}=new h3({editor:r,state:g});p.handler({state:g,range:x,match:h,commands:y,chain:v,can:w})===null||!m.steps.length||(p.undoable&&m.setMeta(l,{transform:m,from:n,to:a,text:s}),c.dispatch(m),u=!0)}),u}function $tt(e){const{editor:t,rules:r}=e,n=new Ra({state:{init(){return null},apply(a,s,i){const l=a.getMeta(n);if(l)return l;const c=a.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:u}=c;typeof u=="string"?u=u:u=I7(bt.from(u),i.schema);const{from:f}=c,p=f+u.length;P5({editor:t,from:f,to:p,text:u,rules:r,plugin:n})}),a.selectionSet||a.docChanged?null:s}},props:{handleTextInput(a,s,i,l){return P5({editor:t,from:s,to:i,text:l,rules:r,plugin:n})},handleDOMEvents:{compositionend:a=>(setTimeout(()=>{const{$cursor:s}=a.state.selection;s&&P5({editor:t,from:s.pos,to:s.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(a,s){if(s.key!=="Enter")return!1;const{$cursor:i}=a.state.selection;return i?P5({editor:t,from:i.pos,to:i.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function Utt(e){return Object.prototype.toString.call(e).slice(8,-1)}function R5(e){return Utt(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Iue(e,t){const r={...e};return R5(e)&&R5(t)&&Object.keys(t).forEach(n=>{R5(t[n])&&R5(e[n])?r[n]=Iue(e[n],t[n]):r[n]=t[n]}),r}var B7=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...Sn(lr(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Sn(lr(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Iue(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},c0=class Fue extends B7{constructor(){super(...arguments),this.type="mark"}static create(t={}){const r=typeof t=="function"?t():t;return new Fue(r)}static handleExit({editor:t,mark:r}){const{tr:n}=t.state,a=t.state.selection.$from;if(a.pos===a.end()){const i=a.marks();if(!!!i.find(d=>(d==null?void 0:d.type.name)===r.name))return!1;const c=i.find(d=>(d==null?void 0:d.type.name)===r.name);return c&&n.removeStoredMark(c),n.insertText(" ",a.pos),t.view.dispatch(n),!0}return!1}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}};function Vtt(e){return typeof e=="number"}var qtt=class{constructor(e){this.find=e.find,this.handler=e.handler}},Wtt=(e,t,r)=>{if(O7(t))return[...e.matchAll(t)];const n=t(e,r);return n?n.map(a=>{const s=[a.text];return s.index=a.index,s.input=e,s.data=a.data,a.replaceWith&&(a.text.includes(a.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(a.replaceWith)),s}):[]};function Ytt(e){const{editor:t,state:r,from:n,to:a,rule:s,pasteEvent:i,dropEvent:l}=e,{commands:c,chain:d,can:u}=new h3({editor:t,state:r}),f=[];return r.doc.nodesBetween(n,a,(h,m)=>{var g,x,y,v,w;if((x=(g=h.type)==null?void 0:g.spec)!=null&&x.code||!(h.isText||h.isTextblock||h.isInline))return;const N=(w=(v=(y=h.content)==null?void 0:y.size)!=null?v:h.nodeSize)!=null?w:0,C=Math.max(n,m),_=Math.min(a,m+N);if(C>=_)return;const S=h.isText?h.text||"":h.textBetween(C-m,_-m,void 0,"");Wtt(S,s.find,i).forEach(A=>{if(A.index===void 0)return;const O=C+A.index+1,D=O+A[0].length,M={from:r.tr.mapping.map(O),to:r.tr.mapping.map(D)},I=s.handler({state:r,range:M,match:A,commands:c,chain:d,can:u,pasteEvent:i,dropEvent:l});f.push(I)})}),f.every(h=>h!==null)}var L5=null,Gtt=e=>{var t;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=r.clipboardData)==null||t.setData("text/html",e),r};function Ktt(e){const{editor:t,rules:r}=e;let n=null,a=!1,s=!1,i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:u,from:f,to:p,rule:h,pasteEvt:m})=>{const g=u.tr,x=f3({state:u,transaction:g});if(!(!Ytt({editor:t,state:x,from:Math.max(f-1,0),to:p.b-1,rule:h,pasteEvent:m,dropEvent:l})||!g.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return r.map(u=>new Ra({view(f){const p=m=>{var g;n=(g=f.dom.parentElement)!=null&&g.contains(m.target)?f.dom.parentElement:null,n&&(L5=t)},h=()=>{L5&&(L5=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(f,p)=>{if(s=n===f.dom.parentElement,l=p,!s){const h=L5;h!=null&&h.isEditable&&setTimeout(()=>{const m=h.state.selection;m&&h.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(f,p)=>{var h;const m=(h=p.clipboardData)==null?void 0:h.getData("text/html");return i=p,a=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(f,p,h)=>{const m=f[0],g=m.getMeta("uiEvent")==="paste"&&!a,x=m.getMeta("uiEvent")==="drop"&&!s,y=m.getMeta("applyPasteRules"),v=!!y;if(!g&&!x&&!v)return;if(v){let{text:C}=y;typeof C=="string"?C=C:C=I7(bt.from(C),h.schema);const{from:_}=y,S=_+C.length,k=Gtt(C);return c({rule:u,state:h,from:_,to:{b:S},pasteEvt:k})}const w=p.doc.content.findDiffStart(h.doc.content),N=p.doc.content.findDiffEnd(h.doc.content);if(!(!Vtt(w)||!N||w===N.b))return c({rule:u,state:h,from:w,to:N,pasteEvt:i})}}))}var y3=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=Eue(e),this.schema=itt(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:kM(t.name,this.schema)},n=lr(t,"addCommands",r);return n?{...e,...n()}:e},{})}get plugins(){const{editor:e}=this;return F7([...this.extensions].reverse()).flatMap(n=>{const a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:kM(n.name,this.schema)},s=[],i=lr(n,"addKeyboardShortcuts",a);let l={};if(n.type==="mark"&&lr(n,"exitable",a)&&(l.ArrowRight=()=>c0.handleExit({editor:e,mark:n})),i){const p=Object.fromEntries(Object.entries(i()).map(([h,m])=>[h,()=>m({editor:e})]));l={...l,...p}}const c=oet(l);s.push(c);const d=lr(n,"addInputRules",a);if(lK(n,e.options.enableInputRules)&&d){const p=d();if(p&&p.length){const h=$tt({editor:e,rules:p}),m=Array.isArray(h)?h:[h];s.push(...m)}}const u=lr(n,"addPasteRules",a);if(lK(n,e.options.enablePasteRules)&&u){const p=u();if(p&&p.length){const h=Ktt({editor:e,rules:p});s.push(...h)}}const f=lr(n,"addProseMirrorPlugins",a);if(f){const p=f();s.push(...p)}return s})}get attributes(){return Aue(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=ib(this.extensions);return Object.fromEntries(t.filter(r=>!!lr(r,"addNodeView")).map(r=>{const n=this.attributes.filter(c=>c.type===r.name),a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:Is(r.name,this.schema)},s=lr(r,"addNodeView",a);if(!s)return[];const i=s();if(!i)return[];const l=(c,d,u,f,p)=>{const h=yA(c,n);return i({node:c,view:d,getPos:u,decorations:f,innerDecorations:p,editor:e,extension:r,HTMLAttributes:h})};return[r.name,l]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=ib(this.extensions);return Object.fromEntries(t.filter(r=>!!lr(r,"addMarkView")).map(r=>{const n=this.attributes.filter(l=>l.type===r.name),a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:ip(r.name,this.schema)},s=lr(r,"addMarkView",a);if(!s)return[];const i=(l,c,d)=>{const u=yA(l,n);return s()({mark:l,view:c,inline:d,editor:e,extension:r,HTMLAttributes:u,updateAttributes:f=>{drt(l,e,f)}})};return[r.name,i]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var r;const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:kM(t.name,this.schema)};t.type==="mark"&&((r=Sn(lr(t,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(t.name);const a=lr(t,"onBeforeCreate",n),s=lr(t,"onCreate",n),i=lr(t,"onUpdate",n),l=lr(t,"onSelectionUpdate",n),c=lr(t,"onTransaction",n),d=lr(t,"onFocus",n),u=lr(t,"onBlur",n),f=lr(t,"onDestroy",n);a&&this.editor.on("beforeCreate",a),s&&this.editor.on("create",s),i&&this.editor.on("update",i),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),d&&this.editor.on("focus",d),u&&this.editor.on("blur",u),f&&this.editor.on("destroy",f)})}};y3.resolve=Eue;y3.sort=F7;y3.flatten=L7;var Xtt={};M7(Xtt,{ClipboardTextSerializer:()=>Bue,Commands:()=>Hue,Delete:()=>$ue,Drop:()=>Uue,Editable:()=>Vue,FocusEvents:()=>Wue,Keymap:()=>Yue,Paste:()=>Gue,Tabindex:()=>Kue,TextDirection:()=>Xue,focusEventsPluginKey:()=>que});var Fn=class zue extends B7{constructor(){super(...arguments),this.type="extension"}static create(t={}){const r=typeof t=="function"?t():t;return new zue(r)}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}},Bue=Fn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ra({key:new ai("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:r}=e,{doc:n,selection:a}=t,{ranges:s}=a,i=Math.min(...s.map(u=>u.$from.pos)),l=Math.max(...s.map(u=>u.$to.pos)),c=Due(r);return Tue(n,{from:i,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),Hue=Fn.create({name:"commands",addCommands(){return{...vue}}}),$ue=Fn.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var r,n,a;const s=()=>{var i,l,c,d;if((d=(c=(l=(i=this.editor.options.coreExtensionOptions)==null?void 0:i.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,e))!=null?d:e.getMeta("y-sync$"))return;const u=kue(e.before,[e,...t]);Oue(u).forEach(h=>{u.mapping.mapResult(h.oldRange.from).deletedAfter&&u.mapping.mapResult(h.oldRange.to).deletedBefore&&u.before.nodesBetween(h.oldRange.from,h.oldRange.to,(m,g)=>{const x=g+m.nodeSize-2,y=h.oldRange.from<=g&&x<=h.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:g,to:x,newFrom:u.mapping.map(g),newTo:u.mapping.map(x),deletedRange:h.oldRange,newRange:h.newRange,partial:!y,editor:this.editor,transaction:e,combinedTransform:u})})});const p=u.mapping;u.steps.forEach((h,m)=>{var g,x;if(h instanceof Jd){const y=p.slice(m).map(h.from,-1),v=p.slice(m).map(h.to),w=p.invert().map(y,-1),N=p.invert().map(v),C=(g=u.doc.nodeAt(y-1))==null?void 0:g.marks.some(S=>S.eq(h.mark)),_=(x=u.doc.nodeAt(v))==null?void 0:x.marks.some(S=>S.eq(h.mark));this.editor.emit("delete",{type:"mark",mark:h.mark,from:h.from,to:h.to,deletedRange:{from:w,to:N},newRange:{from:y,to:v},partial:!!(_||C),editor:this.editor,transaction:e,combinedTransform:u})}})};(a=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||a?setTimeout(s,0):s()}}),Uue=Fn.create({name:"drop",addProseMirrorPlugins(){return[new Ra({key:new ai("tiptapDrop"),props:{handleDrop:(e,t,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:r,moved:n})}}})]}}),Vue=Fn.create({name:"editable",addProseMirrorPlugins(){return[new Ra({key:new ai("editable"),props:{editable:()=>this.editor.options.editable}})]}}),que=new ai("focusEvents"),Wue=Fn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Ra({key:que,props:{handleDOMEvents:{focus:(t,r)=>{e.isFocused=!0;const n=e.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return t.dispatch(n),!1},blur:(t,r)=>{e.isFocused=!1;const n=e.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return t.dispatch(n),!1}}}})]}}),Yue=Fn.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:i})=>[()=>i.undoInputRule(),()=>i.command(({tr:l})=>{const{selection:c,doc:d}=l,{empty:u,$anchor:f}=c,{pos:p,parent:h}=f,m=f.parent.isTextblock&&p>0?l.doc.resolve(p-1):f,g=m.parent.type.spec.isolating,x=f.pos-f.parentOffset,y=g&&m.parent.childCount===1?x===f.pos:Lr.atStart(d).from===p;return!u||!h.type.isTextblock||h.textContent.length||!y||y&&f.parent.type.name==="paragraph"?!1:i.clearNodes()}),()=>i.deleteSelection(),()=>i.joinBackward(),()=>i.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:i})=>[()=>i.deleteSelection(),()=>i.deleteCurrentNode(),()=>i.joinForward(),()=>i.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:i})=>[()=>i.newlineInCode(),()=>i.createParagraphNear(),()=>i.liftEmptyBlock(),()=>i.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},a={...n},s={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return R7()||jue()?s:a},addProseMirrorPlugins(){return[new Ra({key:new ai("clearDocument"),appendTransaction:(e,t,r)=>{if(e.some(g=>g.getMeta("composition")))return;const n=e.some(g=>g.docChanged)&&!t.doc.eq(r.doc),a=e.some(g=>g.getMeta("preventClearDocument"));if(!n||a)return;const{empty:s,from:i,to:l}=t.selection,c=Lr.atStart(t.doc).from,d=Lr.atEnd(t.doc).to;if(s||!(i===c&&l===d)||!g3(r.doc))return;const p=r.tr,h=f3({state:r,transaction:p}),{commands:m}=new h3({editor:this.editor,state:h});if(m.clearNodes(),!!p.steps.length)return p}})]}}),Gue=Fn.create({name:"paste",addProseMirrorPlugins(){return[new Ra({key:new ai("tiptapPaste"),props:{handlePaste:(e,t,r)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:r})}}})]}}),Kue=Fn.create({name:"tabindex",addProseMirrorPlugins(){return[new Ra({key:new ai("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Xue=Fn.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=ib(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const r=t.getAttribute("dir");return r&&(r==="ltr"||r==="rtl"||r==="auto")?r:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Ra({key:new ai("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),Jtt=class Sy{constructor(t,r,n=!1,a=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=t,this.editor=r,this.currentNode=a}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(t);return new Sy(r,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Sy(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Sy(t,this.editor)}get children(){const t=[];return this.node.content.forEach((r,n)=>{const a=r.isBlock&&!r.isTextblock,s=r.isAtom&&!r.isText,i=this.pos+n+(s?0:1);if(i<0||i>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(i);if(!a&&l.depth<=this.depth)return;const c=new Sy(l,this.editor,a,a?r:null);a&&(c.actualDepth=this.depth+1),t.push(new Sy(l,this.editor,a,a?r:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,r={}){let n=null,a=this.parent;for(;a&&!n;){if(a.node.type.name===t)if(Object.keys(r).length>0){const s=a.node.attrs,i=Object.keys(r);for(let l=0;l<i.length;l+=1){const c=i[l];if(s[c]!==r[c])break}}else n=a;a=a.parent}return n}querySelector(t,r={}){return this.querySelectorAll(t,r,!0)[0]||null}querySelectorAll(t,r={},n=!1){let a=[];if(!this.children||this.children.length===0)return a;const s=Object.keys(r);return this.children.forEach(i=>{n&&a.length>0||(i.node.type.name===t&&s.every(c=>r[c]===i.node.attrs[c])&&a.push(i),!(n&&a.length>0)&&(a=a.concat(i.querySelectorAll(t,r,n))))}),a}setAttribute(t){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(r)}},Qtt=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Ztt(e,t,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const a=document.createElement("style");return t&&a.setAttribute("nonce",t),a.setAttribute("data-tiptap-style",""),a.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(a),a}var ert=class extends Btt{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:xtt,createMappablePosition:ytt},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:a,moved:s})=>this.options.onDrop(n,a,s)),this.on("paste",({event:n,slice:a})=>this.options.onPaste(n,a)),this.on("delete",this.options.onDelete);const t=this.createDoc(),r=Nue(t,this.options.autofocus);this.editorState=Uy.create({doc:t,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e!=null&&e.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Ztt(Qtt,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const r=Cue(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(a=>{const s=typeof a=="string"?`${a}$`:a.key;r=r.filter(i=>!i.key.startsWith(s))}),t.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[Vue,Bue.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),Hue,Wue,Yue,Kue,Uue,Gue,$ue,Xue.configure({direction:this.options.textDirection})].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a==null?void 0:a.type));this.extensionManager=new y3(n,this)}createCommandManager(){this.commandManager=new h3({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=nR(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),e=nR(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new xue(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(d=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(d)});return}const{state:t,transactions:r}=this.state.applyTransaction(e),n=!this.state.selection.eq(t.selection),a=r.includes(e),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!a)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=r.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),l=i==null?void 0:i.getMeta("focus"),c=i==null?void 0:i.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:i}),c&&this.emit("blur",{editor:this,event:c.event,transaction:i}),!(e.getMeta("preventUpdate")||!r.some(d=>d.docChanged)||s.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:r.slice(1)})}getAttributes(e){return Mue(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,n=typeof e=="string"?t:e;return ptt(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return I7(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return ltt(this.state.doc,{blockSeparator:t,textSerializers:{...Due(this.schema),...r}})}get isEmpty(){return g3(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var r;return((r=this.$doc)==null?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Jtt(t,this)}get $doc(){return this.$pos(0)}};function ob(e){return new x3({find:e.find,handler:({state:t,range:r,match:n})=>{const a=Sn(e.getAttributes,void 0,n);if(a===!1||a===null)return null;const{tr:s}=t,i=n[n.length-1],l=n[0];if(i){const c=l.search(/\S/),d=r.from+l.indexOf(i),u=d+i.length;if(z7(r.from,r.to,t.doc).filter(h=>h.mark.type.excluded.find(g=>g===e.type&&g!==h.mark.type)).filter(h=>h.to>d).length)return null;u<r.to&&s.delete(u,r.to),d>r.from&&s.delete(r.from+c,d);const p=r.from+c+i.length;s.addMark(r.from+c,p,e.type.create(a||{})),s.removeStoredMark(e.type)}},undoable:e.undoable})}function Jue(e){return new x3({find:e.find,handler:({state:t,range:r,match:n})=>{const a=Sn(e.getAttributes,void 0,n)||{},{tr:s}=t,i=r.from;let l=r.to;const c=e.type.create(a);if(n[1]){const d=n[0].lastIndexOf(n[1]);let u=i+d;u>l?u=l:l=u+n[1].length;const f=n[0][n[0].length-1];s.insertText(f,i+n[0].length-1),s.replaceWith(u,l,c)}else if(n[0]){const d=e.type.isInline?i:i-1;s.insert(d,e.type.create(a)).delete(s.mapping.map(i),s.mapping.map(l))}s.scrollIntoView()},undoable:e.undoable})}function sR(e){return new x3({find:e.find,handler:({state:t,range:r,match:n})=>{const a=t.doc.resolve(r.from),s=Sn(e.getAttributes,void 0,n)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e.type))return null;t.tr.delete(r.from,r.to).setBlockType(r.from,r.from,e.type,s)},undoable:e.undoable})}function lb(e){return new x3({find:e.find,handler:({state:t,range:r,match:n,chain:a})=>{const s=Sn(e.getAttributes,void 0,n)||{},i=t.tr.delete(r.from,r.to),c=i.doc.resolve(r.from).blockRange(),d=c&&g7(c,e.type,s);if(!d)return null;if(i.wrap(c,d),e.keepMarks&&e.editor){const{selection:f,storedMarks:p}=t,{splittableMarks:h}=e.editor.extensionManager,m=p||f.$to.parentOffset&&f.$from.marks();if(m){const g=m.filter(x=>h.includes(x.type.name));i.ensureMarks(g)}}if(e.keepAttributes){const f=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";a().updateAttributes(f,s).run()}const u=i.doc.resolve(r.from-1).nodeBefore;u&&u.type===e.type&&o0(i.doc,r.from-1)&&(!e.joinPredicate||e.joinPredicate(n,u))&&i.join(r.from-1)},undoable:e.undoable})}var trt=e=>"touches"in e,rrt=class{constructor(e){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=l=>{if(!this.isResizing||!this.activeHandle)return;const c=l.clientX-this.startX,d=l.clientY-this.startY;this.handleResize(c,d)},this.handleTouchMove=l=>{if(!this.isResizing||!this.activeHandle)return;const c=l.touches[0];if(!c)return;const d=c.clientX-this.startX,u=c.clientY-this.startY;this.handleResize(d,u)},this.handleMouseUp=()=>{if(!this.isResizing)return;const l=this.element.offsetWidth,c=this.element.offsetHeight;this.onCommit(l,c),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=l=>{l.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=l=>{l.key==="Shift"&&(this.isShiftKeyPressed=!1)};var t,r,n,a,s,i;this.node=e.node,this.editor=e.editor,this.element=e.element,this.contentElement=e.contentElement,this.getPos=e.getPos,this.onResize=e.onResize,this.onCommit=e.onCommit,this.onUpdate=e.onUpdate,(t=e.options)!=null&&t.min&&(this.minSize={...this.minSize,...e.options.min}),(r=e.options)!=null&&r.max&&(this.maxSize=e.options.max),(n=e==null?void 0:e.options)!=null&&n.directions&&(this.directions=e.options.directions),(a=e.options)!=null&&a.preserveAspectRatio&&(this.preserveAspectRatio=e.options.preserveAspectRatio),(s=e.options)!=null&&s.className&&(this.classNames={container:e.options.className.container||"",wrapper:e.options.className.wrapper||"",handle:e.options.className.handle||"",resizing:e.options.className.resizing||""}),(i=e.options)!=null&&i.createCustomHandle&&(this.createCustomHandle=e.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const e=this.editor.isEditable;e!==this.lastEditableState&&(this.lastEditableState=e,e?e&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(e,t,r){return e.type!==this.node.type?!1:(this.node=e,this.onUpdate?this.onUpdate(e,t,r):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const e=document.createElement("div");return e.dataset.resizeContainer="",e.dataset.node=this.node.type.name,e.style.display="flex",this.classNames.container&&(e.className=this.classNames.container),e.appendChild(this.wrapper),e}createWrapper(){const e=document.createElement("div");return e.style.position="relative",e.style.display="block",e.dataset.resizeWrapper="",this.classNames.wrapper&&(e.className=this.classNames.wrapper),e.appendChild(this.element),e}createHandle(e){const t=document.createElement("div");return t.dataset.resizeHandle=e,t.style.position="absolute",this.classNames.handle&&(t.className=this.classNames.handle),t}positionHandle(e,t){const r=t.includes("top"),n=t.includes("bottom"),a=t.includes("left"),s=t.includes("right");r&&(e.style.top="0"),n&&(e.style.bottom="0"),a&&(e.style.left="0"),s&&(e.style.right="0"),(t==="top"||t==="bottom")&&(e.style.left="0",e.style.right="0"),(t==="left"||t==="right")&&(e.style.top="0",e.style.bottom="0")}attachHandles(){this.directions.forEach(e=>{let t;this.createCustomHandle?t=this.createCustomHandle(e):t=this.createHandle(e),t instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${e}") did not return an HTMLElement. Falling back to default handle.`),t=this.createHandle(e)),this.createCustomHandle||this.positionHandle(t,e),t.addEventListener("mousedown",r=>this.handleResizeStart(r,e)),t.addEventListener("touchstart",r=>this.handleResizeStart(r,e)),this.handleMap.set(e,t),this.wrapper.appendChild(t)})}removeHandles(){this.handleMap.forEach(e=>e.remove()),this.handleMap.clear()}applyInitialSize(){const e=this.node.attrs.width,t=this.node.attrs.height;e?(this.element.style.width=`${e}px`,this.initialWidth=e):this.initialWidth=this.element.offsetWidth,t?(this.element.style.height=`${t}px`,this.initialHeight=t):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(e,t){e.preventDefault(),e.stopPropagation(),this.isResizing=!0,this.activeHandle=t,trt(e)?(this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY):(this.startX=e.clientX,this.startY=e.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(e,t){if(!this.activeHandle)return;const r=this.preserveAspectRatio||this.isShiftKeyPressed,{width:n,height:a}=this.calculateNewDimensions(this.activeHandle,e,t),s=this.applyConstraints(n,a,r);this.element.style.width=`${s.width}px`,this.element.style.height=`${s.height}px`,this.onResize&&this.onResize(s.width,s.height)}calculateNewDimensions(e,t,r){let n=this.startWidth,a=this.startHeight;const s=e.includes("right"),i=e.includes("left"),l=e.includes("bottom"),c=e.includes("top");return s?n=this.startWidth+t:i&&(n=this.startWidth-t),l?a=this.startHeight+r:c&&(a=this.startHeight-r),(e==="right"||e==="left")&&(n=this.startWidth+(s?t:-t)),(e==="top"||e==="bottom")&&(a=this.startHeight+(l?r:-r)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(n,a,e):{width:n,height:a}}applyConstraints(e,t,r){var n,a,s,i;if(!r){let d=Math.max(this.minSize.width,e),u=Math.max(this.minSize.height,t);return(n=this.maxSize)!=null&&n.width&&(d=Math.min(this.maxSize.width,d)),(a=this.maxSize)!=null&&a.height&&(u=Math.min(this.maxSize.height,u)),{width:d,height:u}}let l=e,c=t;return l<this.minSize.width&&(l=this.minSize.width,c=l/this.aspectRatio),c<this.minSize.height&&(c=this.minSize.height,l=c*this.aspectRatio),(s=this.maxSize)!=null&&s.width&&l>this.maxSize.width&&(l=this.maxSize.width,c=l/this.aspectRatio),(i=this.maxSize)!=null&&i.height&&c>this.maxSize.height&&(c=this.maxSize.height,l=c*this.aspectRatio),{width:l,height:c}}applyAspectRatio(e,t,r){const n=r==="left"||r==="right",a=r==="top"||r==="bottom";return n?{width:e,height:e/this.aspectRatio}:a?{width:t*this.aspectRatio,height:t}:{width:e,height:e/this.aspectRatio}}};function nrt(e,t){const{selection:r}=e,{$from:n}=r;if(r instanceof dr){const s=n.index();return n.parent.canReplaceWith(s,s+1,t)}let a=n.depth;for(;a>=0;){const s=n.index(a);if(n.node(a).contentMatchAt(s).matchType(t))return!0;a-=1}return!1}var art={};M7(art,{createAtomBlockMarkdownSpec:()=>srt,createBlockMarkdownSpec:()=>irt,createInlineMarkdownSpec:()=>crt,parseAttributes:()=>H7,parseIndentedBlocks:()=>iR,renderNestedMarkdownContent:()=>U7,serializeAttributes:()=>$7});function H7(e){if(!(e!=null&&e.trim()))return{};const t={},r=[],n=e.replace(/["']([^"']*)["']/g,d=>(r.push(d),`__QUOTED_${r.length-1}__`)),a=n.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(a){const d=a.map(u=>u.trim().slice(1));t.class=d.join(" ")}const s=n.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const i=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(n.matchAll(i)).forEach(([,d,u])=>{var f;const p=parseInt(((f=u.match(/__QUOTED_(\d+)__/))==null?void 0:f[1])||"0",10),h=r[p];h&&(t[d]=h.slice(1,-1))});const c=n.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function $7(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(n=>t.push(`.${n}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([r,n])=>{r==="class"||r==="id"||(n===!0?t.push(r):n!==!1&&n!=null&&t.push(`${r}="${String(n)}"`))}),t.join(" ")}function srt(e){const{nodeName:t,name:r,parseAttributes:n=H7,serializeAttributes:a=$7,defaultAttributes:s={},requiredAttributes:i=[],allowedAttributes:l}=e,c=r||t,d=u=>{if(!l)return u;const f={};return l.forEach(p=>{p in u&&(f[p]=u[p])}),f};return{parseMarkdown:(u,f)=>{const p={...s,...u.attributes};return f.createNode(t,p,[])},markdownTokenizer:{name:t,level:"block",start(u){var f;const p=new RegExp(`^:::${c}(?:\\s|$)`,"m"),h=(f=u.match(p))==null?void 0:f.index;return h!==void 0?h:-1},tokenize(u,f,p){const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(h);if(!m)return;const g=m[1]||"",x=n(g);if(!i.find(v=>!(v in x)))return{type:t,raw:m[0],attributes:x}}},renderMarkdown:u=>{const f=d(u.attrs||{}),p=a(f),h=p?` {${p}}`:"";return`:::${c}${h} :::`}}}function irt(e){const{nodeName:t,name:r,getContent:n,parseAttributes:a=H7,serializeAttributes:s=$7,defaultAttributes:i={},content:l="block",allowedAttributes:c}=e,d=r||t,u=f=>{if(!c)return f;const p={};return c.forEach(h=>{h in f&&(p[h]=f[h])}),p};return{parseMarkdown:(f,p)=>{let h;if(n){const g=n(f);h=typeof g=="string"?[{type:"text",text:g}]:g}else l==="block"?h=p.parseChildren(f.tokens||[]):h=p.parseInline(f.tokens||[]);const m={...i,...f.attributes};return p.createNode(t,m,h)},markdownTokenizer:{name:t,level:"block",start(f){var p;const h=new RegExp(`^:::${d}`,"m"),m=(p=f.match(h))==null?void 0:p.index;return m!==void 0?m:-1},tokenize(f,p,h){var m;const g=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),x=f.match(g);if(!x)return;const[y,v=""]=x,w=a(v);let N=1;const C=y.length;let _="";const S=/^:::([\w-]*)(\s.*)?/gm,k=f.slice(C);for(S.lastIndex=0;;){const A=S.exec(k);if(A===null)break;const O=A.index,D=A[1];if(!((m=A[2])!=null&&m.endsWith(":::"))){if(D)N+=1;else if(N-=1,N===0){const M=k.slice(0,O);_=M.trim();const I=f.slice(0,C+O+A[0].length);let z=[];if(_)if(l==="block")for(z=h.blockTokens(M),z.forEach(Y=>{Y.text&&(!Y.tokens||Y.tokens.length===0)&&(Y.tokens=h.inlineTokens(Y.text))});z.length>0;){const Y=z[z.length-1];if(Y.type==="paragraph"&&(!Y.text||Y.text.trim()===""))z.pop();else break}else z=h.inlineTokens(_);return{type:t,raw:I,attributes:w,content:_,tokens:z}}}}}},renderMarkdown:(f,p)=>{const h=u(f.attrs||{}),m=s(h),g=m?` {${m}}`:"",x=p.renderChildren(f.content||[],`

`);return`:::${d}${g}

${x}

:::`}}}function ort(e){if(!e.trim())return{};const t={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let n=r.exec(e);for(;n!==null;){const[,a,s,i]=n;t[a]=s||i,n=r.exec(e)}return t}function lrt(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,r])=>`${t}="${r}"`).join(" ")}function crt(e){const{nodeName:t,name:r,getContent:n,parseAttributes:a=ort,serializeAttributes:s=lrt,defaultAttributes:i={},selfClosing:l=!1,allowedAttributes:c}=e,d=r||t,u=p=>{if(!c)return p;const h={};return c.forEach(m=>{const g=typeof m=="string"?m:m.name,x=typeof m=="string"?void 0:m.skipIfDefault;if(g in p){const y=p[g];if(x!==void 0&&y===x)return;h[g]=y}}),h},f=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(p,h)=>{const m={...i,...p.attributes};if(l)return h.createNode(t,m);const g=n?n(p):p.content||"";return g?h.createNode(t,m,[h.createTextNode(g)]):h.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(p){const h=l?new RegExp(`\\[${f}\\s*[^\\]]*\\]`):new RegExp(`\\[${f}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${f}\\]`),m=p.match(h),g=m==null?void 0:m.index;return g!==void 0?g:-1},tokenize(p,h,m){const g=l?new RegExp(`^\\[${f}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${f}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${f}\\]`),x=p.match(g);if(!x)return;let y="",v="";if(l){const[,N]=x;v=N}else{const[,N,C]=x;v=N,y=C||""}const w=a(v.trim());return{type:t,raw:x[0],content:y.trim(),attributes:w}}},renderMarkdown:p=>{let h="";n?h=n(p):p.content&&p.content.length>0&&(h=p.content.filter(y=>y.type==="text").map(y=>y.text).join(""));const m=u(p.attrs||{}),g=s(m),x=g?` ${g}`:"";return l?`[${d}${x}]`:`[${d}${x}]${h}[/${d}]`}}}function iR(e,t,r){var n,a,s,i;const l=e.split(`
`),c=[];let d="",u=0;const f=t.baseIndentSize||2;for(;u<l.length;){const p=l[u],h=p.match(t.itemPattern);if(!h){if(c.length>0)break;if(p.trim()===""){u+=1,d=`${d}${p}
`;continue}else return}const m=t.extractItemData(h),{indentLevel:g,mainContent:x}=m;d=`${d}${p}
`;const y=[x];for(u+=1;u<l.length;){const C=l[u];if(C.trim()===""){const S=l.slice(u+1).findIndex(O=>O.trim()!=="");if(S===-1)break;if((((a=(n=l[u+1+S].match(/^(\s*)/))==null?void 0:n[1])==null?void 0:a.length)||0)>g){y.push(C),d=`${d}${C}
`,u+=1;continue}else break}if((((i=(s=C.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:i.length)||0)>g)y.push(C),d=`${d}${C}
`,u+=1;else break}let v;const w=y.slice(1);if(w.length>0){const C=w.map(_=>_.slice(g+f)).join(`
`);C.trim()&&(t.customNestedParser?v=t.customNestedParser(C):v=r.blockTokens(C))}const N=t.createToken(m,v);c.push(N)}if(c.length!==0)return{items:c,raw:d}}function U7(e,t,r,n){if(!e||!Array.isArray(e.content))return"";const a=typeof r=="function"?r(n):r,[s,...i]=e.content,l=t.renderChildren([s]),c=[`${a}${l}`];return i&&i.length>0&&i.forEach(d=>{const u=t.renderChildren([d]);if(u){const f=u.split(`
`).map(p=>p?t.indent(p):"").join(`
`);c.push(f)}}),c.join(`
`)}function drt(e,t,r={}){const{state:n}=t,{doc:a,tr:s}=n,i=e;a.descendants((l,c)=>{const d=s.mapping.map(c),u=s.mapping.map(c)+l.nodeSize;let f=null;if(l.marks.forEach(h=>{if(h!==i)return!1;f=h}),!f)return;let p=!1;if(Object.keys(r).forEach(h=>{r[h]!==f.attrs[h]&&(p=!0)}),p){const h=e.type.create({...e.attrs,...r});s.removeMark(d,u,e.type),s.addMark(d,u,h)}}),s.docChanged&&t.view.dispatch(s)}var Ml=class Que extends B7{constructor(){super(...arguments),this.type="node"}static create(t={}){const r=typeof t=="function"?t():t;return new Que(r)}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}};function dx(e){return new qtt({find:e.find,handler:({state:t,range:r,match:n,pasteEvent:a})=>{const s=Sn(e.getAttributes,void 0,n,a);if(s===!1||s===null)return null;const{tr:i}=t,l=n[n.length-1],c=n[0];let d=r.to;if(l){const u=c.search(/\S/),f=r.from+c.indexOf(l),p=f+l.length;if(z7(r.from,r.to,t.doc).filter(m=>m.mark.type.excluded.find(x=>x===e.type&&x!==m.mark.type)).filter(m=>m.to>f).length)return null;p<r.to&&i.delete(p,r.to),f>r.from&&i.delete(r.from+u,f),d=r.from+u+l.length,i.addMark(r.from+u,d,e.type.create(s||{})),i.removeStoredMark(e.type)}}})}const{getOwnPropertyNames:urt,getOwnPropertySymbols:frt}=Object,{hasOwnProperty:hrt}=Object.prototype;function uK(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function I5(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:s}=a,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);const c=e(r,n,a);return s.delete(r),s.delete(n),c}}function prt(e){return e!=null?e[Symbol.toStringTag]:void 0}function fK(e){return urt(e).concat(frt(e))}const mrt=Object.hasOwn||((e,t)=>hrt.call(e,t));function Ox(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const grt="__v",xrt="__o",yrt="_owner",{getOwnPropertyDescriptor:hK,keys:pK}=Object;function vrt(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function brt(e,t){return Ox(e.getTime(),t.getTime())}function wrt(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Nrt(e,t){return e===t}function mK(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),s=e.entries();let i,l,c=0;for(;(i=s.next())&&!i.done;){const d=t.entries();let u=!1,f=0;for(;(l=d.next())&&!l.done;){if(a[f]){f++;continue}const p=i.value,h=l.value;if(r.equals(p[0],h[0],c,f,e,t,r)&&r.equals(p[1],h[1],p[0],h[0],e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1;c++}return!0}const Srt=Ox;function jrt(e,t,r){const n=pK(e);let a=n.length;if(pK(t).length!==a)return!1;for(;a-- >0;)if(!Zue(e,t,r,n[a]))return!1;return!0}function K1(e,t,r){const n=fK(e);let a=n.length;if(fK(t).length!==a)return!1;let s,i,l;for(;a-- >0;)if(s=n[a],!Zue(e,t,r,s)||(i=hK(e,s),l=hK(t,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function _rt(e,t){return Ox(e.valueOf(),t.valueOf())}function krt(e,t){return e.source===t.source&&e.flags===t.flags}function gK(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),s=e.values();let i,l;for(;(i=s.next())&&!i.done;){const c=t.values();let d=!1,u=0;for(;(l=c.next())&&!l.done;){if(!a[u]&&r.equals(i.value,l.value,i.value,l.value,e,t,r)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function Crt(e,t){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Art(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Zue(e,t,r,n){return(n===yrt||n===xrt||n===grt)&&(e.$$typeof||t.$$typeof)?!0:mrt(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const Ert="[object Arguments]",Trt="[object Boolean]",Drt="[object Date]",Mrt="[object Error]",Ort="[object Map]",Prt="[object Number]",Rrt="[object Object]",Lrt="[object RegExp]",Irt="[object Set]",Frt="[object String]",zrt="[object URL]",{isArray:Brt}=Array,xK=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,{assign:yK}=Object,Hrt=Object.prototype.toString.call.bind(Object.prototype.toString);function $rt({areArraysEqual:e,areDatesEqual:t,areErrorsEqual:r,areFunctionsEqual:n,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:i,arePrimitiveWrappersEqual:l,areRegExpsEqual:c,areSetsEqual:d,areTypedArraysEqual:u,areUrlsEqual:f,unknownTagComparators:p}){return function(m,g,x){if(m===g)return!0;if(m==null||g==null)return!1;const y=typeof m;if(y!==typeof g)return!1;if(y!=="object")return y==="number"?s(m,g,x):y==="function"?n(m,g,x):!1;const v=m.constructor;if(v!==g.constructor)return!1;if(v===Object)return i(m,g,x);if(Brt(m))return e(m,g,x);if(xK!=null&&xK(m))return u(m,g,x);if(v===Date)return t(m,g,x);if(v===RegExp)return c(m,g,x);if(v===Map)return a(m,g,x);if(v===Set)return d(m,g,x);const w=Hrt(m);if(w===Drt)return t(m,g,x);if(w===Lrt)return c(m,g,x);if(w===Ort)return a(m,g,x);if(w===Irt)return d(m,g,x);if(w===Rrt)return typeof m.then!="function"&&typeof g.then!="function"&&i(m,g,x);if(w===zrt)return f(m,g,x);if(w===Mrt)return r(m,g,x);if(w===Ert)return i(m,g,x);if(w===Trt||w===Prt||w===Frt)return l(m,g,x);if(p){let N=p[w];if(!N){const C=prt(m);C&&(N=p[C])}if(N)return N(m,g,x)}return!1}}function Urt({circular:e,createCustomConfig:t,strict:r}){let n={areArraysEqual:r?K1:vrt,areDatesEqual:brt,areErrorsEqual:wrt,areFunctionsEqual:Nrt,areMapsEqual:r?uK(mK,K1):mK,areNumbersEqual:Srt,areObjectsEqual:r?K1:jrt,arePrimitiveWrappersEqual:_rt,areRegExpsEqual:krt,areSetsEqual:r?uK(gK,K1):gK,areTypedArraysEqual:r?K1:Crt,areUrlsEqual:Art,unknownTagComparators:void 0};if(t&&(n=yK({},n,t(n))),e){const a=I5(n.areArraysEqual),s=I5(n.areMapsEqual),i=I5(n.areObjectsEqual),l=I5(n.areSetsEqual);n=yK({},n,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:i,areSetsEqual:l})}return n}function Vrt(e){return function(t,r,n,a,s,i,l){return e(t,r,l)}}function qrt({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:d=e?new WeakMap:void 0,meta:u}=r();return t(l,c,{cache:d,equals:n,meta:u,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const s={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,s)}}const Wrt=d0();d0({strict:!0});d0({circular:!0});d0({circular:!0,strict:!0});d0({createInternalComparator:()=>Ox});d0({strict:!0,createInternalComparator:()=>Ox});d0({circular:!0,createInternalComparator:()=>Ox});d0({circular:!0,createInternalComparator:()=>Ox,strict:!0});function d0(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,s=Urt(e),i=$rt(s),l=r?r(i):Vrt(i);return qrt({circular:t,comparator:i,createState:n,equals:l,strict:a})}var Yrt=(...e)=>t=>{e.forEach(r=>{typeof r=="function"?r(t):r&&(r.current=t)})},Grt=({contentComponent:e})=>{const t=GL.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return o.jsx(o.Fragment,{children:Object.values(t)})};function Krt(){const e=new Set;let t={};return{subscribe(r){return e.add(r),()=>{e.delete(r)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(r,n){t={...t,[r]:YR.createPortal(n.reactElement,n.element,r)},e.forEach(a=>a())},removeRenderer(r){const n={...t};delete n[r],t=n,e.forEach(a=>a())}}}var Xrt=class extends Fe.Component{constructor(e){var t;super(e),this.editorContentRef=Fe.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=Krt(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.firstChild))return;const r=document.createElement("div");r.append(t.view.dom),t.setOptions({element:r})}catch{}}}render(){const{editor:e,innerRef:t,...r}=this.props;return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:Yrt(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&o.jsx(Grt,{contentComponent:e.contentComponent})]})}},Jrt=b.forwardRef((e,t)=>{const r=Fe.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return Fe.createElement(Xrt,{key:r,innerRef:t,...e})}),Qrt=Fe.memo(Jrt),Zrt=typeof window<"u"?b.useLayoutEffect:b.useEffect,ent=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}};function tnt(e){var t;const[r]=b.useState(()=>new ent(e.editor)),n=hne.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:Wrt);return Zrt(()=>r.watch(e.editor),[e.editor,r]),b.useDebugValue(n),n}var rnt=!1,oR=typeof window>"u",nnt=oR||!!(typeof window<"u"&&window.next),ant=class efe{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?oR||nnt?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...n)=>{var a,s;return(s=(a=this.options.current).onBeforeCreate)==null?void 0:s.call(a,...n)},onBlur:(...n)=>{var a,s;return(s=(a=this.options.current).onBlur)==null?void 0:s.call(a,...n)},onCreate:(...n)=>{var a,s;return(s=(a=this.options.current).onCreate)==null?void 0:s.call(a,...n)},onDestroy:(...n)=>{var a,s;return(s=(a=this.options.current).onDestroy)==null?void 0:s.call(a,...n)},onFocus:(...n)=>{var a,s;return(s=(a=this.options.current).onFocus)==null?void 0:s.call(a,...n)},onSelectionUpdate:(...n)=>{var a,s;return(s=(a=this.options.current).onSelectionUpdate)==null?void 0:s.call(a,...n)},onTransaction:(...n)=>{var a,s;return(s=(a=this.options.current).onTransaction)==null?void 0:s.call(a,...n)},onUpdate:(...n)=>{var a,s;return(s=(a=this.options.current).onUpdate)==null?void 0:s.call(a,...n)},onContentError:(...n)=>{var a,s;return(s=(a=this.options.current).onContentError)==null?void 0:s.call(a,...n)},onDrop:(...n)=>{var a,s;return(s=(a=this.options.current).onDrop)==null?void 0:s.call(a,...n)},onPaste:(...n)=>{var a,s;return(s=(a=this.options.current).onPaste)==null?void 0:s.call(a,...n)},onDelete:(...n)=>{var a,s;return(s=(a=this.options.current).onDelete)==null?void 0:s.call(a,...n)}};return new ert(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,r){return Object.keys(t).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&t.extensions&&r.extensions?t.extensions.length!==r.extensions.length?!1:t.extensions.every((a,s)=>{var i;return a===((i=r.extensions)==null?void 0:i[s])}):t[n]===r[n])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?efe.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((n,a)=>n===t[a]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function snt(e={},t=[]){const r=b.useRef(e);r.current=e;const[n]=b.useState(()=>new ant(r)),a=GL.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return b.useDebugValue(a),b.useEffect(n.onRender(t)),tnt({editor:a,selector:({transactionNumber:s})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&s===0?0:s+1}),a}var int=b.createContext({editor:null});int.Consumer;var ont=b.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),lnt=()=>b.useContext(ont);Fe.forwardRef((e,t)=>{const{onDragStart:r}=lnt(),n=e.as||"div";return o.jsx(n,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...e.style}})});Fe.createContext({markViewContentRef:()=>{}});var vA=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:r,...n}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,n,r]},cnt=/^\s*>\s$/,dnt=Ml.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return vA("blockquote",{...ts(this.options.HTMLAttributes,e),children:vA("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const r=">",n=[];return e.content.forEach(a=>{const l=t.renderChildren([a]).split(`
`).map(c=>c.trim()===""?r:`${r} ${c}`);n.push(l.join(`
`))}),n.join(`
${r}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[lb({find:cnt,type:this.type})]}}),unt=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,fnt=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,hnt=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,pnt=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,mnt=c0.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return vA("strong",{...ts(this.options.HTMLAttributes,e),children:vA("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ob({find:unt,type:this.type}),ob({find:hnt,type:this.type})]},addPasteRules(){return[dx({find:fnt,type:this.type}),dx({find:pnt,type:this.type})]}}),gnt=/(^|[^`])`([^`]+)`(?!`)$/,xnt=/(^|[^`])`([^`]+)`(?!`)/g,ynt=c0.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",ts(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ob({find:gnt,type:this.type})]},addPasteRules(){return[dx({find:xnt,type:this.type})]}}),EM=4,vnt=/^```([a-z]+)?[\s\n]$/,bnt=/^~~~([a-z]+)?[\s\n]$/,wnt=Ml.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:EM,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:r}=this.options;if(!r)return null;const s=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(i=>i.startsWith(r)).map(i=>i.replace(r,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",ts(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var r;return((r=e.raw)==null?void 0:r.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var r;let n="";const a=((r=e.attrs)==null?void 0:r.language)||"";return e.content?n=[`\`\`\`${a}`,t.renderChildren(e.content),"```"].join(`
`):n=`\`\`\`${a}

\`\`\``,n},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,r=t.pos===1;return!e||t.parent.type.name!==this.name?!1:r||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const r=(t=this.options.tabSize)!=null?t:EM,{state:n}=e,{selection:a}=n,{$from:s,empty:i}=a;if(s.parent.type!==this.type)return!1;const l=" ".repeat(r);return i?e.commands.insertContent(l):e.commands.command(({tr:c})=>{const{from:d,to:u}=a,h=n.doc.textBetween(d,u,`
`,`
`).split(`
`).map(m=>l+m).join(`
`);return c.replaceWith(d,u,n.schema.text(h)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const r=(t=this.options.tabSize)!=null?t:EM,{state:n}=e,{selection:a}=n,{$from:s,empty:i}=a;return s.parent.type!==this.type?!1:i?e.commands.command(({tr:l})=>{var c;const{pos:d}=s,u=s.start(),f=s.end(),h=n.doc.textBetween(u,f,`
`,`
`).split(`
`);let m=0,g=0;const x=d-u;for(let _=0;_<h.length;_+=1){if(g+h[_].length>=x){m=_;break}g+=h[_].length+1}const v=((c=h[m].match(/^ */))==null?void 0:c[0])||"",w=Math.min(v.length,r);if(w===0)return!0;let N=u;for(let _=0;_<m;_+=1)N+=h[_].length+1;return l.delete(N,N+w),d-N<=w&&l.setSelection(yr.create(l.doc,N)),!0}):e.commands.command(({tr:l})=>{const{from:c,to:d}=a,p=n.doc.textBetween(c,d,`
`,`
`).split(`
`).map(h=>{var m;const g=((m=h.match(/^ */))==null?void 0:m[0])||"",x=Math.min(g.length,r);return h.slice(x)}).join(`
`);return l.replaceWith(c,d,n.schema.text(p)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:r}=t,{$from:n,empty:a}=r;if(!a||n.parent.type!==this.type)return!1;const s=n.parentOffset===n.parent.nodeSize-2,i=n.parent.textContent.endsWith(`

`);return!s||!i?!1:e.chain().command(({tr:l})=>(l.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:r,doc:n}=t,{$from:a,empty:s}=r;if(!s||a.parent.type!==this.type||!(a.parentOffset===a.parent.nodeSize-2))return!1;const l=a.after();return l===void 0?!1:n.nodeAt(l)?e.commands.command(({tr:d})=>(d.setSelection(Lr.near(n.resolve(l))),!0)):e.commands.exitCode()}}},addInputRules(){return[sR({find:vnt,type:this.type,getAttributes:e=>({language:e[1]})}),sR({find:bnt,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Ra({key:new ai("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const r=t.clipboardData.getData("text/plain"),n=t.clipboardData.getData("vscode-editor-data"),a=n?JSON.parse(n):void 0,s=a==null?void 0:a.mode;if(!r||!s)return!1;const{tr:i,schema:l}=e.state,c=l.text(r.replace(/\r\n?/g,`
`));return i.replaceSelectionWith(this.type.create({language:s},c)),i.selection.$from.parent.type!==this.type&&i.setSelection(yr.near(i.doc.resolve(Math.max(0,i.selection.from-2)))),i.setMeta("paste",!0),e.dispatch(i),!0}}})]}}),Nnt=Ml.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),Snt=Ml.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",ts(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:r,editor:n})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:a,storedMarks:s}=r;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:l}=n.extensionManager,c=s||a.$to.parentOffset&&a.$from.marks();return t().insertContent({type:this.name}).command(({tr:d,dispatch:u})=>{if(u&&c&&i){const f=c.filter(p=>l.includes(p.type.name));d.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),jnt=Ml.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,ts(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var r;const n=(r=e.attrs)!=null&&r.level?parseInt(e.attrs.level,10):1,a="#".repeat(n);return e.content?`${a} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>sR({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),_nt=Ml.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",ts(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!nrt(t,t.schema.nodes[this.name]))return!1;const{selection:r}=t,{$to:n}=r,a=e();return Pue(r)?a.insertContentAt(n.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({state:s,tr:i,dispatch:l})=>{if(l){const{$to:c}=i.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?i.setSelection(yr.create(i.doc,c.pos+1)):c.nodeAfter.isBlock?i.setSelection(dr.create(i.doc,c.pos)):i.setSelection(yr.create(i.doc,c.pos));else{const u=s.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,f=u==null?void 0:u.create();f&&(i.insert(d,f),i.setSelection(yr.create(i.doc,d+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Jue({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),knt=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Cnt=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Ant=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Ent=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Tnt=c0.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",ts(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ob({find:knt,type:this.type}),ob({find:Ant,type:this.type})]},addPasteRules(){return[dx({find:Cnt,type:this.type}),dx({find:Ent,type:this.type})]}});const Dnt="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Mnt="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",lR="numeric",cR="ascii",dR="alpha",ew="asciinumeric",p2="alphanumeric",uR="domain",tfe="emoji",Ont="scheme",Pnt="slashscheme",TM="whitespace";function Rnt(e,t){return e in t||(t[e]=[]),t[e]}function lg(e,t,r){t[lR]&&(t[ew]=!0,t[p2]=!0),t[cR]&&(t[ew]=!0,t[dR]=!0),t[ew]&&(t[p2]=!0),t[dR]&&(t[p2]=!0),t[p2]&&(t[uR]=!0),t[tfe]&&(t[uR]=!0);for(const n in t){const a=Rnt(n,r);a.indexOf(e)<0&&a.push(e)}}function Lnt(e,t){const r={};for(const n in t)t[n].indexOf(e)>=0&&(r[n]=!0);return r}function dl(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}dl.groups={};dl.prototype={accepts(){return!!this.t},go(e){const t=this,r=t.j[e];if(r)return r;for(let n=0;n<t.jr.length;n++){const a=t.jr[n][0],s=t.jr[n][1];if(s&&a.test(e))return s}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,r,n){for(let a=0;a<e.length;a++)this.tt(e[a],t,r,n)},tr(e,t,r,n){n=n||dl.groups;let a;return t&&t.j?a=t:(a=new dl(t),r&&n&&lg(t,r,n)),this.jr.push([e,a]),a},ts(e,t,r,n){let a=this;const s=e.length;if(!s)return a;for(let i=0;i<s-1;i++)a=a.tt(e[i]);return a.tt(e[s-1],t,r,n)},tt(e,t,r,n){n=n||dl.groups;const a=this;if(t&&t.j)return a.j[e]=t,t;const s=t;let i,l=a.go(e);if(l?(i=new dl,Object.assign(i.j,l.j),i.jr.push.apply(i.jr,l.jr),i.jd=l.jd,i.t=l.t):i=new dl,s){if(n)if(i.t&&typeof i.t=="string"){const c=Object.assign(Lnt(i.t,n),r);lg(s,c,n)}else r&&lg(s,r,n);i.t=s}return a.j[e]=i,i}};const Pr=(e,t,r,n,a)=>e.ta(t,r,n,a),Ha=(e,t,r,n,a)=>e.tr(t,r,n,a),vK=(e,t,r,n,a)=>e.ts(t,r,n,a),kt=(e,t,r,n,a)=>e.tt(t,r,n,a),qf="WORD",fR="UWORD",rfe="ASCIINUMERICAL",nfe="ALPHANUMERICAL",NN="LOCALHOST",hR="TLD",pR="UTLD",$_="SCHEME",jy="SLASH_SCHEME",V7="NUM",mR="WS",q7="NL",tw="OPENBRACE",rw="CLOSEBRACE",bA="OPENBRACKET",wA="CLOSEBRACKET",NA="OPENPAREN",SA="CLOSEPAREN",jA="OPENANGLEBRACKET",_A="CLOSEANGLEBRACKET",kA="FULLWIDTHLEFTPAREN",CA="FULLWIDTHRIGHTPAREN",AA="LEFTCORNERBRACKET",EA="RIGHTCORNERBRACKET",TA="LEFTWHITECORNERBRACKET",DA="RIGHTWHITECORNERBRACKET",MA="FULLWIDTHLESSTHAN",OA="FULLWIDTHGREATERTHAN",PA="AMPERSAND",RA="APOSTROPHE",LA="ASTERISK",Fp="AT",IA="BACKSLASH",FA="BACKTICK",zA="CARET",Wp="COLON",W7="COMMA",BA="DOLLAR",ju="DOT",HA="EQUALS",Y7="EXCLAMATION",qc="HYPHEN",nw="PERCENT",$A="PIPE",UA="PLUS",VA="POUND",aw="QUERY",G7="QUOTE",afe="FULLWIDTHMIDDLEDOT",K7="SEMI",_u="SLASH",sw="TILDE",qA="UNDERSCORE",sfe="EMOJI",WA="SYM";var ife=Object.freeze({__proto__:null,ALPHANUMERICAL:nfe,AMPERSAND:PA,APOSTROPHE:RA,ASCIINUMERICAL:rfe,ASTERISK:LA,AT:Fp,BACKSLASH:IA,BACKTICK:FA,CARET:zA,CLOSEANGLEBRACKET:_A,CLOSEBRACE:rw,CLOSEBRACKET:wA,CLOSEPAREN:SA,COLON:Wp,COMMA:W7,DOLLAR:BA,DOT:ju,EMOJI:sfe,EQUALS:HA,EXCLAMATION:Y7,FULLWIDTHGREATERTHAN:OA,FULLWIDTHLEFTPAREN:kA,FULLWIDTHLESSTHAN:MA,FULLWIDTHMIDDLEDOT:afe,FULLWIDTHRIGHTPAREN:CA,HYPHEN:qc,LEFTCORNERBRACKET:AA,LEFTWHITECORNERBRACKET:TA,LOCALHOST:NN,NL:q7,NUM:V7,OPENANGLEBRACKET:jA,OPENBRACE:tw,OPENBRACKET:bA,OPENPAREN:NA,PERCENT:nw,PIPE:$A,PLUS:UA,POUND:VA,QUERY:aw,QUOTE:G7,RIGHTCORNERBRACKET:EA,RIGHTWHITECORNERBRACKET:DA,SCHEME:$_,SEMI:K7,SLASH:_u,SLASH_SCHEME:jy,SYM:WA,TILDE:sw,TLD:hR,UNDERSCORE:qA,UTLD:pR,UWORD:fR,WORD:qf,WS:mR});const $f=/[a-z]/,X1=new RegExp("\\p{L}","u"),DM=new RegExp("\\p{Emoji}","u"),Uf=/\d/,MM=/\s/,bK="\r",OM=`
`,Int="",Fnt="",PM="";let F5=null,z5=null;function znt(e=[]){const t={};dl.groups=t;const r=new dl;F5==null&&(F5=wK(Dnt)),z5==null&&(z5=wK(Mnt)),kt(r,"'",RA),kt(r,"{",tw),kt(r,"}",rw),kt(r,"[",bA),kt(r,"]",wA),kt(r,"(",NA),kt(r,")",SA),kt(r,"<",jA),kt(r,">",_A),kt(r,"",kA),kt(r,"",CA),kt(r,"",AA),kt(r,"",EA),kt(r,"",TA),kt(r,"",DA),kt(r,"",MA),kt(r,"",OA),kt(r,"&",PA),kt(r,"*",LA),kt(r,"@",Fp),kt(r,"`",FA),kt(r,"^",zA),kt(r,":",Wp),kt(r,",",W7),kt(r,"$",BA),kt(r,".",ju),kt(r,"=",HA),kt(r,"!",Y7),kt(r,"-",qc),kt(r,"%",nw),kt(r,"|",$A),kt(r,"+",UA),kt(r,"#",VA),kt(r,"?",aw),kt(r,'"',G7),kt(r,"/",_u),kt(r,";",K7),kt(r,"~",sw),kt(r,"_",qA),kt(r,"\\",IA),kt(r,"",afe);const n=Ha(r,Uf,V7,{[lR]:!0});Ha(n,Uf,n);const a=Ha(n,$f,rfe,{[ew]:!0}),s=Ha(n,X1,nfe,{[p2]:!0}),i=Ha(r,$f,qf,{[cR]:!0});Ha(i,Uf,a),Ha(i,$f,i),Ha(a,Uf,a),Ha(a,$f,a);const l=Ha(r,X1,fR,{[dR]:!0});Ha(l,$f),Ha(l,Uf,s),Ha(l,X1,l),Ha(s,Uf,s),Ha(s,$f),Ha(s,X1,s);const c=kt(r,OM,q7,{[TM]:!0}),d=kt(r,bK,mR,{[TM]:!0}),u=Ha(r,MM,mR,{[TM]:!0});kt(r,PM,u),kt(d,OM,c),kt(d,PM,u),Ha(d,MM,u),kt(u,bK),kt(u,OM),Ha(u,MM,u),kt(u,PM,u);const f=Ha(r,DM,sfe,{[tfe]:!0});kt(f,"#"),Ha(f,DM,f),kt(f,Int,f);const p=kt(f,Fnt);kt(p,"#"),Ha(p,DM,f);const h=[[$f,i],[Uf,a]],m=[[$f,null],[X1,l],[Uf,s]];for(let g=0;g<F5.length;g++)Ep(r,F5[g],hR,qf,h);for(let g=0;g<z5.length;g++)Ep(r,z5[g],pR,fR,m);lg(hR,{tld:!0,ascii:!0},t),lg(pR,{utld:!0,alpha:!0},t),Ep(r,"file",$_,qf,h),Ep(r,"mailto",$_,qf,h),Ep(r,"http",jy,qf,h),Ep(r,"https",jy,qf,h),Ep(r,"ftp",jy,qf,h),Ep(r,"ftps",jy,qf,h),lg($_,{scheme:!0,ascii:!0},t),lg(jy,{slashscheme:!0,ascii:!0},t),e=e.sort((g,x)=>g[0]>x[0]?1:-1);for(let g=0;g<e.length;g++){const x=e[g][0],v=e[g][1]?{[Ont]:!0}:{[Pnt]:!0};x.indexOf("-")>=0?v[uR]=!0:$f.test(x)?Uf.test(x)?v[ew]=!0:v[cR]=!0:v[lR]=!0,vK(r,x,x,v)}return vK(r,"localhost",NN,{ascii:!0}),r.jd=new dl(WA),{start:r,tokens:Object.assign({groups:t},ife)}}function ofe(e,t){const r=Bnt(t.replace(/[A-Z]/g,l=>l.toLowerCase())),n=r.length,a=[];let s=0,i=0;for(;i<n;){let l=e,c=null,d=0,u=null,f=-1,p=-1;for(;i<n&&(c=l.go(r[i]));)l=c,l.accepts()?(f=0,p=0,u=l):f>=0&&(f+=r[i].length,p++),d+=r[i].length,s+=r[i].length,i++;s-=f,i-=p,d-=f,a.push({t:u.t,v:t.slice(s-d,s),s:s-d,e:s})}return a}function Bnt(e){const t=[],r=e.length;let n=0;for(;n<r;){let a=e.charCodeAt(n),s,i=a<55296||a>56319||n+1===r||(s=e.charCodeAt(n+1))<56320||s>57343?e[n]:e.slice(n,n+2);t.push(i),n+=i.length}return t}function Ep(e,t,r,n,a){let s;const i=t.length;for(let l=0;l<i-1;l++){const c=t[l];e.j[c]?s=e.j[c]:(s=new dl(n),s.jr=a.slice(),e.j[c]=s),e=s}return s=new dl(r),s.jr=a.slice(),e.j[t[i-1]]=s,s}function wK(e){const t=[],r=[];let n=0,a="0123456789";for(;n<e.length;){let s=0;for(;a.indexOf(e[n+s])>=0;)s++;if(s>0){t.push(r.join(""));for(let i=parseInt(e.substring(n,n+s),10);i>0;i--)r.pop();n+=s}else r.push(e[n]),n++}return t}const SN={defaultProtocol:"http",events:null,format:NK,formatHref:NK,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function X7(e,t=null){let r=Object.assign({},SN);e&&(r=Object.assign(r,e instanceof X7?e.o:e));const n=r.ignoreTags,a=[];for(let s=0;s<n.length;s++)a.push(n[s].toUpperCase());this.o=r,t&&(this.defaultRender=t),this.ignoreTags=a}X7.prototype={o:SN,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,r){const n=t!=null;let a=this.o[e];return a&&(typeof a=="object"?(a=r.t in a?a[r.t]:SN[e],typeof a=="function"&&n&&(a=a(t,r))):typeof a=="function"&&n&&(a=a(t,r.t,r)),a)},getObj(e,t,r){let n=this.o[e];return typeof n=="function"&&t!=null&&(n=n(t,r.t,r)),n},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function NK(e){return e}function lfe(e,t){this.t="token",this.v=e,this.tk=t}lfe.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),r=e.get("truncate",t,this),n=e.get("format",t,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=SN.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,r=this.toHref(e.get("defaultProtocol")),n=e.get("formatHref",r,this),a=e.get("tagName",r,t),s=this.toFormattedString(e),i={},l=e.get("className",r,t),c=e.get("target",r,t),d=e.get("rel",r,t),u=e.getObj("attributes",r,t),f=e.getObj("events",r,t);return i.href=n,l&&(i.class=l),c&&(i.target=c),d&&(i.rel=d),u&&Object.assign(i,u),{tagName:a,attributes:i,content:s,eventListeners:f}}};function v3(e,t){class r extends lfe{constructor(a,s){super(a,s),this.t=e}}for(const n in t)r.prototype[n]=t[n];return r.t=e,r}const SK=v3("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),jK=v3("text"),Hnt=v3("nl"),B5=v3("url",{isLink:!0,toHref(e=SN.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==NN&&e[1].t===Wp}}),Hc=e=>new dl(e);function $nt({groups:e}){const t=e.domain.concat([PA,LA,Fp,IA,FA,zA,BA,HA,qc,V7,nw,$A,UA,VA,_u,WA,sw,qA]),r=[RA,Wp,W7,ju,Y7,nw,aw,G7,K7,jA,_A,tw,rw,wA,bA,NA,SA,kA,CA,AA,EA,TA,DA,MA,OA],n=[PA,RA,LA,IA,FA,zA,BA,HA,qc,tw,rw,nw,$A,UA,VA,aw,_u,WA,sw,qA],a=Hc(),s=kt(a,sw);Pr(s,n,s),Pr(s,e.domain,s);const i=Hc(),l=Hc(),c=Hc();Pr(a,e.domain,i),Pr(a,e.scheme,l),Pr(a,e.slashscheme,c),Pr(i,n,s),Pr(i,e.domain,i);const d=kt(i,Fp);kt(s,Fp,d),kt(l,Fp,d),kt(c,Fp,d);const u=kt(s,ju);Pr(u,n,s),Pr(u,e.domain,s);const f=Hc();Pr(d,e.domain,f),Pr(f,e.domain,f);const p=kt(f,ju);Pr(p,e.domain,f);const h=Hc(SK);Pr(p,e.tld,h),Pr(p,e.utld,h),kt(d,NN,h);const m=kt(f,qc);kt(m,qc,m),Pr(m,e.domain,f),Pr(h,e.domain,f),kt(h,ju,p),kt(h,qc,m);const g=kt(h,Wp);Pr(g,e.numeric,SK);const x=kt(i,qc),y=kt(i,ju);kt(x,qc,x),Pr(x,e.domain,i),Pr(y,n,s),Pr(y,e.domain,i);const v=Hc(B5);Pr(y,e.tld,v),Pr(y,e.utld,v),Pr(v,e.domain,i),Pr(v,n,s),kt(v,ju,y),kt(v,qc,x),kt(v,Fp,d);const w=kt(v,Wp),N=Hc(B5);Pr(w,e.numeric,N);const C=Hc(B5),_=Hc();Pr(C,t,C),Pr(C,r,_),Pr(_,t,C),Pr(_,r,_),kt(v,_u,C),kt(N,_u,C);const S=kt(l,Wp),k=kt(c,Wp),A=kt(k,_u),O=kt(A,_u);Pr(l,e.domain,i),kt(l,ju,y),kt(l,qc,x),Pr(c,e.domain,i),kt(c,ju,y),kt(c,qc,x),Pr(S,e.domain,C),kt(S,_u,C),kt(S,aw,C),Pr(O,e.domain,C),Pr(O,t,C),kt(O,_u,C);const D=[[tw,rw],[bA,wA],[NA,SA],[jA,_A],[kA,CA],[AA,EA],[TA,DA],[MA,OA]];for(let M=0;M<D.length;M++){const[I,z]=D[M],Y=kt(C,I);kt(_,I,Y),kt(Y,z,C);const X=Hc(B5);Pr(Y,t,X);const V=Hc();Pr(Y,r),Pr(X,t,X),Pr(X,r,V),Pr(V,t,X),Pr(V,r,V),kt(X,z,C),kt(V,z,C)}return kt(a,NN,v),kt(a,q7,Hnt),{start:a,tokens:ife}}function Unt(e,t,r){let n=r.length,a=0,s=[],i=[];for(;a<n;){let l=e,c=null,d=null,u=0,f=null,p=-1;for(;a<n&&!(c=l.go(r[a].t));)i.push(r[a++]);for(;a<n&&(d=c||l.go(r[a].t));)c=null,l=d,l.accepts()?(p=0,f=l):p>=0&&p++,a++,u++;if(p<0)a-=u,a<n&&(i.push(r[a]),a++);else{i.length>0&&(s.push(RM(jK,t,i)),i=[]),a-=p,u-=p;const h=f.t,m=r.slice(a-u,a);s.push(RM(h,t,m))}}return i.length>0&&s.push(RM(jK,t,i)),s}function RM(e,t,r){const n=r[0].s,a=r[r.length-1].e,s=t.slice(n,a);return new e(s,r)}const Vnt=typeof console<"u"&&console&&console.warn||(()=>{}),qnt="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",sa={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Wnt(){return dl.groups={},sa.scanner=null,sa.parser=null,sa.tokenQueue=[],sa.pluginQueue=[],sa.customSchemes=[],sa.initialized=!1,sa}function _K(e,t=!1){if(sa.initialized&&Vnt(`linkifyjs: already initialized - will not register custom scheme "${e}" ${qnt}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);sa.customSchemes.push([e,t])}function Ynt(){sa.scanner=znt(sa.customSchemes);for(let e=0;e<sa.tokenQueue.length;e++)sa.tokenQueue[e][1]({scanner:sa.scanner});sa.parser=$nt(sa.scanner.tokens);for(let e=0;e<sa.pluginQueue.length;e++)sa.pluginQueue[e][1]({scanner:sa.scanner,parser:sa.parser});return sa.initialized=!0,sa}function J7(e){return sa.initialized||Ynt(),Unt(sa.parser.start,e,ofe(sa.scanner.start,e))}J7.scan=ofe;function cfe(e,t=null,r=null){if(t&&typeof t=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);r=t,t=null}const n=new X7(r),a=J7(e),s=[];for(let i=0;i<a.length;i++){const l=a[i];l.isLink&&(!t||l.t===t)&&n.check(l)&&s.push(l.toFormattedObject(n))}return s}var Q7="[\0- -\u2029]",Gnt=new RegExp(Q7),Knt=new RegExp(`${Q7}$`),Xnt=new RegExp(Q7,"g");function Jnt(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function Qnt(e){return new Ra({key:new ai("autolink"),appendTransaction:(t,r,n)=>{const a=t.some(d=>d.docChanged)&&!r.doc.eq(n.doc),s=t.some(d=>d.getMeta("preventAutolink"));if(!a||s)return;const{tr:i}=n,l=kue(r.doc,[...t]);if(Oue(l).forEach(({newRange:d})=>{const u=rtt(n.doc,d,h=>h.isTextblock);let f,p;if(u.length>1)f=u[0],p=n.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(u.length){const h=n.doc.textBetween(d.from,d.to," "," ");if(!Knt.test(h))return;f=u[0],p=n.doc.textBetween(f.pos,d.to,void 0," ")}if(f&&p){const h=p.split(Gnt).filter(Boolean);if(h.length<=0)return!1;const m=h[h.length-1],g=f.pos+p.lastIndexOf(m);if(!m)return!1;const x=J7(m).map(y=>y.toObject(e.defaultProtocol));if(!Jnt(x))return!1;x.filter(y=>y.isLink).map(y=>({...y,from:g+y.start+1,to:g+y.end+1})).filter(y=>n.schema.marks.code?!n.doc.rangeHasMark(y.from,y.to,n.schema.marks.code):!0).filter(y=>e.validate(y.value)).filter(y=>e.shouldAutoLink(y.value)).forEach(y=>{z7(y.from,y.to,n.doc).some(v=>v.mark.type===e.type)||i.addMark(y.from,y.to,e.type.create({href:y.href}))})}}),!!i.steps.length)return i}})}function Znt(e){return new Ra({key:new ai("handleClickLink"),props:{handleClick:(t,r,n)=>{var a,s;if(n.button!==0||!t.editable)return!1;let i=!1;if(e.enableClickSelection&&(i=e.editor.commands.extendMarkRange(e.type.name)),e.openOnClick){let l=null;if(n.target instanceof HTMLAnchorElement)l=n.target;else{let f=n.target;const p=[];for(;f.nodeName!=="DIV";)p.push(f),f=f.parentNode;l=p.find(h=>h.nodeName==="A")}if(!l)return i;const c=Mue(t.state,e.type.name),d=(a=l==null?void 0:l.href)!=null?a:c.href,u=(s=l==null?void 0:l.target)!=null?s:c.target;l&&d&&(window.open(d,u),i=!0)}return i}}})}function eat(e){return new Ra({key:new ai("handlePasteLink"),props:{handlePaste:(t,r,n)=>{const{shouldAutoLink:a}=e,{state:s}=t,{selection:i}=s,{empty:l}=i;if(l)return!1;let c="";n.content.forEach(u=>{c+=u.textContent});const d=cfe(c,{defaultProtocol:e.defaultProtocol}).find(u=>u.isLink&&u.value===c);return!c||!d||a!==void 0&&!a(d.href)?!1:e.editor.commands.setMark(e.type,{href:d.href})}}})}function E0(e,t){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(n=>{const a=typeof n=="string"?n:n.scheme;a&&r.push(a)}),!e||e.replace(Xnt,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var tat=c0.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){_K(e);return}_K(e.scheme,e.optionalSlashes)})},onDestroy(){Wnt()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!E0(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:r=>!!E0(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!E0(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ts(this.options.HTMLAttributes,e),0]:["a",ts(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var r;const n=((r=e.attrs)==null?void 0:r.href)||"";return`[${t.renderChildren(e)}](${n})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:r}=e;return this.options.isAllowedUri(r,{defaultValidate:n=>!!E0(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:r}=e||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!E0(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[dx({find:e=>{const t=[];if(e){const{protocols:r,defaultProtocol:n}=this.options,a=cfe(e).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:i=>!!E0(i,r),protocols:r,defaultProtocol:n}));a.length&&a.forEach(s=>{this.options.shouldAutoLink(s.value)&&t.push({text:s.value,data:{href:s.href},index:s.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:r}=this.options;return this.options.autolink&&e.push(Qnt({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:a=>!!E0(a,t),protocols:t,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),e.push(Znt({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(eat({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),rat=Object.defineProperty,nat=(e,t)=>{for(var r in t)rat(e,r,{get:t[r],enumerable:!0})},aat="listItem",kK="textStyle",CK=/^\s*([-+*])\s$/,dfe=Ml.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",ts(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(aat,this.editor.getAttributes(kK)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=lb({find:CK,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=lb({find:CK,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(kK),editor:this.editor})),[e]}}),ufe=Ml.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",ts(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let r=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(a=>a.type==="paragraph"))r=t.parseChildren(e.tokens);else{const a=e.tokens[0];if(a&&a.type==="text"&&a.tokens&&a.tokens.length>0){if(r=[{type:"paragraph",content:t.parseInline(a.tokens)}],e.tokens.length>1){const i=e.tokens.slice(1),l=t.parseChildren(i);r.push(...l)}}else r=t.parseChildren(e.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(e,t,r)=>U7(e,t,n=>n.parentType==="bulletList"?"- ":n.parentType==="orderedList"?`${n.index+1}. `:"- ",r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),sat={};nat(sat,{findListItemPos:()=>zS,getNextListDepth:()=>Z7,handleBackspace:()=>gR,handleDelete:()=>xR,hasListBefore:()=>ffe,hasListItemAfter:()=>iat,hasListItemBefore:()=>hfe,listItemHasSubList:()=>pfe,nextListIsDeeper:()=>mfe,nextListIsHigher:()=>gfe});var zS=(e,t)=>{const{$from:r}=t.selection,n=Is(e,t.schema);let a=null,s=r.depth,i=r.pos,l=null;for(;s>0&&l===null;)a=r.node(s),a.type===n?l=s:(s-=1,i-=1);return l===null?null:{$pos:t.doc.resolve(i),depth:l}},Z7=(e,t)=>{const r=zS(e,t);if(!r)return!1;const[,n]=ftt(t,e,r.$pos.pos+4);return n},ffe=(e,t,r)=>{const{$anchor:n}=e.selection,a=Math.max(0,n.pos-2),s=e.doc.resolve(a).node();return!(!s||!r.includes(s.type.name))},hfe=(e,t)=>{var r;const{$anchor:n}=t.selection,a=t.doc.resolve(n.pos-2);return!(a.index()===0||((r=a.nodeBefore)==null?void 0:r.type.name)!==e)},pfe=(e,t,r)=>{if(!r)return!1;const n=Is(e,t.schema);let a=!1;return r.descendants(s=>{s.type===n&&(a=!0)}),a},gR=(e,t,r)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!Km(e.state,t)&&ffe(e.state,t,r)){const{$anchor:l}=e.state.selection,c=e.state.doc.resolve(l.before()-1),d=[];c.node().descendants((p,h)=>{p.type.name===t&&d.push({node:p,pos:h})});const u=d.at(-1);if(!u)return!1;const f=e.state.doc.resolve(c.start()+u.pos+1);return e.chain().cut({from:l.start()-1,to:l.end()+1},f.end()).joinForward().run()}if(!Km(e.state,t)||!gtt(e.state))return!1;const n=zS(t,e.state);if(!n)return!1;const s=e.state.doc.resolve(n.$pos.pos-2).node(n.depth),i=pfe(t,e.state,s);return hfe(t,e.state)&&!i?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},mfe=(e,t)=>{const r=Z7(e,t),n=zS(e,t);return!n||!r?!1:r>n.depth},gfe=(e,t)=>{const r=Z7(e,t),n=zS(e,t);return!n||!r?!1:r<n.depth},xR=(e,t)=>{if(!Km(e.state,t)||!mtt(e.state,t))return!1;const{selection:r}=e.state,{$from:n,$to:a}=r;return!r.empty&&n.sameParent(a)?!1:mfe(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():gfe(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},iat=(e,t)=>{var r;const{$anchor:n}=t.selection,a=t.doc.resolve(n.pos-n.parentOffset-2);return!(a.index()===a.parent.childCount-1||((r=a.nodeAfter)==null?void 0:r.type.name)!==e)},xfe=Fn.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r})=>{e.state.schema.nodes[r]!==void 0&&xR(e,r)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r})=>{e.state.schema.nodes[r]!==void 0&&xR(e,r)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{e.state.schema.nodes[r]!==void 0&&gR(e,r,n)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{e.state.schema.nodes[r]!==void 0&&gR(e,r,n)&&(t=!0)}),t}}}}),AK=/^(\s*)(\d+)\.\s+(.*)$/,oat=/^\s/;function lat(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r],s=a.match(AK);if(!s)break;const[,i,l,c]=s,d=i.length;let u=c,f=r+1;const p=[a];for(;f<e.length;){const h=e[f];if(h.match(AK))break;if(h.trim()==="")p.push(h),u+=`
`,f+=1;else if(h.match(oat))p.push(h),u+=`
${h.slice(d+2)}`,f+=1;else break}t.push({indent:d,number:parseInt(l,10),content:u.trim(),raw:p.join(`
`)}),n=f,r=f}return[t,n]}function yfe(e,t,r){var n;const a=[];let s=0;for(;s<e.length;){const i=e[s];if(i.indent===t){const l=i.content.split(`
`),c=((n=l[0])==null?void 0:n.trim())||"",d=[];c&&d.push({type:"paragraph",raw:c,tokens:r.inlineTokens(c)});const u=l.slice(1).join(`
`).trim();if(u){const h=r.blockTokens(u);d.push(...h)}let f=s+1;const p=[];for(;f<e.length&&e[f].indent>t;)p.push(e[f]),f+=1;if(p.length>0){const h=Math.min(...p.map(g=>g.indent)),m=yfe(p,h,r);d.push({type:"list",ordered:!0,start:p[0].number,items:m,raw:p.map(g=>g.raw).join(`
`)})}a.push({type:"list_item",raw:i.raw,tokens:d}),s=f}else s+=1}return a}function cat(e,t){return e.map(r=>{if(r.type!=="list_item")return t.parseChildren([r])[0];const n=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(a=>{if(a.type==="paragraph"||a.type==="list"||a.type==="blockquote"||a.type==="code")n.push(...t.parseChildren([a]));else if(a.type==="text"&&a.tokens){const s=t.parseChildren([a]);n.push({type:"paragraph",content:s})}else{const s=t.parseChildren([a]);s.length>0&&n.push(...s)}}),{type:"listItem",content:n}})}var dat="listItem",EK="textStyle",TK=/^(\d+)\.\s$/,vfe=Ml.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...r}=e;return t===1?["ol",ts(this.options.HTMLAttributes,r),0]:["ol",ts(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const r=e.start||1,n=e.items?cat(e.items,t):[];return r!==1?{type:"orderedList",attrs:{start:r},content:n}:{type:"orderedList",content:n}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),r=t==null?void 0:t.index;return r!==void 0?r:-1},tokenize:(e,t,r)=>{var n;const a=e.split(`
`),[s,i]=lat(a);if(s.length===0)return;const l=yfe(s,0,r);return l.length===0?void 0:{type:"list",ordered:!0,start:((n=s[0])==null?void 0:n.number)||1,items:l,raw:a.slice(0,i).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(dat,this.editor.getAttributes(EK)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=lb({find:TK,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=lb({find:TK,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(EK)}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1],editor:this.editor})),[e]}}),uat=/^\s*(\[([( |x])?\])\s$/,fat=Ml.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",ts(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const r=[];if(e.tokens&&e.tokens.length>0?r.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?r.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):r.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const n=t.parseChildren(e.nestedTokens);r.push(...n)}return t.createNode("taskItem",{checked:e.checked||!1},r)},renderMarkdown:(e,t)=>{var r;const a=`- [${(r=e.attrs)!=null&&r.checked?"x":" "}] `;return U7(e,t,a)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:r,editor:n})=>{const a=document.createElement("li"),s=document.createElement("label"),i=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),d=u=>{var f,p;l.ariaLabel=((p=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:p.call(f,u,l.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};return d(e),s.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",u=>u.preventDefault()),l.addEventListener("change",u=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:f}=u.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:p})=>{const h=r();if(typeof h!="number")return!1;const m=p.doc.nodeAt(h);return p.setNodeMarkup(h,void 0,{...m==null?void 0:m.attrs,checked:f}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,f)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,f])=>{a.setAttribute(u,f)}),a.dataset.checked=e.attrs.checked,l.checked=e.attrs.checked,s.append(l,i),a.append(s,c),Object.entries(t).forEach(([u,f])=>{a.setAttribute(u,f)}),{dom:a,contentDOM:c,update:u=>u.type!==this.type?!1:(a.dataset.checked=u.attrs.checked,l.checked=u.attrs.checked,d(u),!0)}}},addInputRules(){return[lb({find:uat,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),hat=Ml.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",ts(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const r=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return r!==void 0?r:-1},tokenize(e,t,r){const n=s=>{const i=iR(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:r.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:n},r);return i?[{type:"taskList",raw:i.raw,items:i.items}]:r.blockTokens(s)},a=iR(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,i)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:r.inlineTokens(s.mainContent),nestedTokens:i}),customNestedParser:n},r);if(a)return{type:"taskList",raw:a.raw,items:a.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Fn.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(dfe.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(ufe.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(xfe.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(vfe.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(fat.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(hat.configure(this.options.taskList)),e}});var pat=Ml.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",ts(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const r=e.tokens||[];return r.length===1&&r[0].type==="image"?t.parseChildren([r[0]]):t.createNode("paragraph",void 0,t.parseInline(r))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),mat=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,gat=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,xat=c0.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",ts(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ob({find:mat,type:this.type})]},addPasteRules(){return[dx({find:gat,type:this.type})]}}),yat=Ml.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),vat=c0.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",ts(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,r){const a=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!a)return;const s=a[2].trim();return{type:"underline",raw:a[0],text:s,tokens:r.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function bat(e={}){return new Ra({view(t){return new wat(t,e)}})}class wat{constructor(t,r){var n;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(a=>{let s=i=>{this[a](i)};return t.dom.addEventListener(a,s),{name:a,handler:s}})}destroy(){this.handlers.forEach(({name:t,handler:r})=>this.editorView.dom.removeEventListener(t,r))}update(t,r){this.cursorPos!=null&&r.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),r=!t.parent.inlineContent,n,a=this.editorView.dom,s=a.getBoundingClientRect(),i=s.width/a.offsetWidth,l=s.height/a.offsetHeight;if(r){let f=t.nodeBefore,p=t.nodeAfter;if(f||p){let h=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(h){let m=h.getBoundingClientRect(),g=f?m.bottom:m.top;f&&p&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let x=this.width/2*l;n={left:m.left,right:m.right,top:g-x,bottom:g+x}}}}if(!n){let f=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*i;n={left:f.left-p,right:f.left+p,top:f.top,bottom:f.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let d,u;if(!c||c==document.body&&getComputedStyle(c).position=="static")d=-pageXOffset,u=-pageYOffset;else{let f=c.getBoundingClientRect(),p=f.width/c.offsetWidth,h=f.height/c.offsetHeight;d=f.left-c.scrollLeft*p,u=f.top-c.scrollTop*h}this.element.style.left=(n.left-d)/i+"px",this.element.style.top=(n.top-u)/l+"px",this.element.style.width=(n.right-n.left)/i+"px",this.element.style.height=(n.bottom-n.top)/l+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),a=n&&n.type.spec.disableDropCursor,s=typeof a=="function"?a(this.editorView,r,t):a;if(r&&!s){let i=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=xde(this.editorView.state.doc,i,this.editorView.dragging.slice);l!=null&&(i=l)}this.setCursor(i),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class Ga extends Lr{constructor(t){super(t,t)}map(t,r){let n=t.resolve(r.map(this.head));return Ga.valid(n)?new Ga(n):Lr.near(n)}content(){return Lt.empty}eq(t){return t instanceof Ga&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ga(t.resolve(r.pos))}getBookmark(){return new ez(this.anchor)}static valid(t){let r=t.parent;if(r.isTextblock||!Nat(t)||!Sat(t))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let a=r.contentMatchAt(t.index()).defaultType;return a&&a.isTextblock}static findGapCursorFrom(t,r,n=!1){e:for(;;){if(!n&&Ga.valid(t))return t;let a=t.pos,s=null;for(let i=t.depth;;i--){let l=t.node(i);if(r>0?t.indexAfter(i)<l.childCount:t.index(i)>0){s=l.child(r>0?t.indexAfter(i):t.index(i)-1);break}else if(i==0)return null;a+=r;let c=t.doc.resolve(a);if(Ga.valid(c))return c}for(;;){let i=r>0?s.firstChild:s.lastChild;if(!i){if(s.isAtom&&!s.isText&&!dr.isSelectable(s)){t=t.doc.resolve(a+s.nodeSize*r),n=!1;continue e}break}s=i,a+=r;let l=t.doc.resolve(a);if(Ga.valid(l))return l}return null}}}Ga.prototype.visible=!1;Ga.findFrom=Ga.findGapCursorFrom;Lr.jsonID("gapcursor",Ga);class ez{constructor(t){this.pos=t}map(t){return new ez(t.map(this.pos))}resolve(t){let r=t.resolve(this.pos);return Ga.valid(r)?new Ga(r):Lr.near(r)}}function bfe(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function Nat(e){for(let t=e.depth;t>=0;t--){let r=e.index(t),n=e.node(t);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let a=n.child(r-1);;a=a.lastChild){if(a.childCount==0&&!a.inlineContent||bfe(a.type))return!0;if(a.inlineContent)return!1}}return!0}function Sat(e){for(let t=e.depth;t>=0;t--){let r=e.indexAfter(t),n=e.node(t);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let a=n.child(r);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||bfe(a.type))return!0;if(a.inlineContent)return!1}}return!0}function jat(){return new Ra({props:{decorations:Aat,createSelectionBetween(e,t,r){return t.pos==r.pos&&Ga.valid(r)?new Ga(r):null},handleClick:kat,handleKeyDown:_at,handleDOMEvents:{beforeinput:Cat}}})}const _at=yue({ArrowLeft:H5("horiz",-1),ArrowRight:H5("horiz",1),ArrowUp:H5("vert",-1),ArrowDown:H5("vert",1)});function H5(e,t){const r=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(n,a,s){let i=n.selection,l=t>0?i.$to:i.$from,c=i.empty;if(i instanceof yr){if(!s.endOfTextblock(r)||l.depth==0)return!1;c=!1,l=n.doc.resolve(t>0?l.after():l.before())}let d=Ga.findGapCursorFrom(l,t,c);return d?(a&&a(n.tr.setSelection(new Ga(d))),!0):!1}}function kat(e,t,r){if(!e||!e.editable)return!1;let n=e.state.doc.resolve(t);if(!Ga.valid(n))return!1;let a=e.posAtCoords({left:r.clientX,top:r.clientY});return a&&a.inside>-1&&dr.isSelectable(e.state.doc.nodeAt(a.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Ga(n))),!0)}function Cat(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Ga))return!1;let{$from:r}=e.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(e.state.schema.nodes.text);if(!n)return!1;let a=bt.empty;for(let i=n.length-1;i>=0;i--)a=bt.from(n[i].createAndFill(null,a));let s=e.state.tr.replace(r.pos,r.pos,new Lt(a,0,0));return s.setSelection(yr.near(s.doc.resolve(r.pos+1))),e.dispatch(s),!1}function Aat(e){if(!(e.selection instanceof Ga))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Aa.create(e.doc,[qo.widget(e.selection.head,t,{key:"gapcursor"})])}var YA=200,Si=function(){};Si.prototype.append=function(t){return t.length?(t=Si.from(t),!this.length&&t||t.length<YA&&this.leafAppend(t)||this.length<YA&&t.leafPrepend(this)||this.appendInner(t)):this};Si.prototype.prepend=function(t){return t.length?Si.from(t).append(this):this};Si.prototype.appendInner=function(t){return new Eat(this,t)};Si.prototype.slice=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=this.length),t>=r?Si.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,r))};Si.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Si.prototype.forEach=function(t,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(t,r,n,0):this.forEachInvertedInner(t,r,n,0)};Si.prototype.map=function(t,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var a=[];return this.forEach(function(s,i){return a.push(t(s,i))},r,n),a};Si.from=function(t){return t instanceof Si?t:t&&t.length?new wfe(t):Si.empty};var wfe=function(e){function t(n){e.call(this),this.values=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(a,s){return a==0&&s==this.length?this:new t(this.values.slice(a,s))},t.prototype.getInner=function(a){return this.values[a]},t.prototype.forEachInner=function(a,s,i,l){for(var c=s;c<i;c++)if(a(this.values[c],l+c)===!1)return!1},t.prototype.forEachInvertedInner=function(a,s,i,l){for(var c=s-1;c>=i;c--)if(a(this.values[c],l+c)===!1)return!1},t.prototype.leafAppend=function(a){if(this.length+a.length<=YA)return new t(this.values.concat(a.flatten()))},t.prototype.leafPrepend=function(a){if(this.length+a.length<=YA)return new t(a.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(t.prototype,r),t}(Si);Si.empty=new wfe([]);var Eat=function(e){function t(r,n){e.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,a,s,i){var l=this.left.length;if(a<l&&this.left.forEachInner(n,a,Math.min(s,l),i)===!1||s>l&&this.right.forEachInner(n,Math.max(a-l,0),Math.min(this.length,s)-l,i+l)===!1)return!1},t.prototype.forEachInvertedInner=function(n,a,s,i){var l=this.left.length;if(a>l&&this.right.forEachInvertedInner(n,a-l,Math.max(s,l)-l,i+l)===!1||s<l&&this.left.forEachInvertedInner(n,Math.min(a,l),s,i)===!1)return!1},t.prototype.sliceInner=function(n,a){if(n==0&&a==this.length)return this;var s=this.left.length;return a<=s?this.left.slice(n,a):n>=s?this.right.slice(n-s,a-s):this.left.slice(n,s).append(this.right.slice(0,a-s))},t.prototype.leafAppend=function(n){var a=this.right.leafAppend(n);if(a)return new t(this.left,a)},t.prototype.leafPrepend=function(n){var a=this.left.leafPrepend(n);if(a)return new t(a,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t}(Si);const Tat=500;class Yd{constructor(t,r){this.items=t,this.eventCount=r}popEvent(t,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let a,s;r&&(a=this.remapping(n,this.items.length),s=a.maps.length);let i=t.tr,l,c,d=[],u=[];return this.items.forEach((f,p)=>{if(!f.step){a||(a=this.remapping(n,p+1),s=a.maps.length),s--,u.push(f);return}if(a){u.push(new ku(f.map));let h=f.step.map(a.slice(s)),m;h&&i.maybeStep(h).doc&&(m=i.mapping.maps[i.mapping.maps.length-1],d.push(new ku(m,void 0,void 0,d.length+u.length))),s--,m&&a.appendMap(m,s)}else i.maybeStep(f.step);if(f.selection)return l=a?f.selection.map(a.slice(s)):f.selection,c=new Yd(this.items.slice(0,n).append(u.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:i,selection:l}}addTransform(t,r,n,a){let s=[],i=this.eventCount,l=this.items,c=!a&&l.length?l.get(l.length-1):null;for(let u=0;u<t.steps.length;u++){let f=t.steps[u].invert(t.docs[u]),p=new ku(t.mapping.maps[u],f,r),h;(h=c&&c.merge(p))&&(p=h,u?s.pop():l=l.slice(0,l.length-1)),s.push(p),r&&(i++,r=void 0),a||(c=p)}let d=i-n.depth;return d>Mat&&(l=Dat(l,d),i-=d),new Yd(l.append(s),i)}remapping(t,r){let n=new gN;return this.items.forEach((a,s)=>{let i=a.mirrorOffset!=null&&s-a.mirrorOffset>=t?n.maps.length-a.mirrorOffset:void 0;n.appendMap(a.map,i)},t,r),n}addMaps(t){return this.eventCount==0?this:new Yd(this.items.append(t.map(r=>new ku(r))),this.eventCount)}rebased(t,r){if(!this.eventCount)return this;let n=[],a=Math.max(0,this.items.length-r),s=t.mapping,i=t.steps.length,l=this.eventCount;this.items.forEach(p=>{p.selection&&l--},a);let c=r;this.items.forEach(p=>{let h=s.getMirror(--c);if(h==null)return;i=Math.min(i,h);let m=s.maps[h];if(p.step){let g=t.steps[h].invert(t.docs[h]),x=p.selection&&p.selection.map(s.slice(c+1,h));x&&l++,n.push(new ku(m,g,x))}else n.push(new ku(m))},a);let d=[];for(let p=r;p<i;p++)d.push(new ku(s.maps[p]));let u=this.items.slice(0,a).append(d).append(n),f=new Yd(u,l);return f.emptyItemCount()>Tat&&(f=f.compress(this.items.length-n.length)),f}emptyItemCount(){let t=0;return this.items.forEach(r=>{r.step||t++}),t}compress(t=this.items.length){let r=this.remapping(0,t),n=r.maps.length,a=[],s=0;return this.items.forEach((i,l)=>{if(l>=t)a.push(i),i.selection&&s++;else if(i.step){let c=i.step.map(r.slice(n)),d=c&&c.getMap();if(n--,d&&r.appendMap(d,n),c){let u=i.selection&&i.selection.map(r.slice(n));u&&s++;let f=new ku(d.invert(),c,u),p,h=a.length-1;(p=a.length&&a[h].merge(f))?a[h]=p:a.push(f)}}else i.map&&n--},this.items.length,0),new Yd(Si.from(a.reverse()),s)}}Yd.empty=new Yd(Si.empty,0);function Dat(e,t){let r;return e.forEach((n,a)=>{if(n.selection&&t--==0)return r=a,!1}),e.slice(r)}class ku{constructor(t,r,n,a){this.map=t,this.step=r,this.selection=n,this.mirrorOffset=a}merge(t){if(this.step&&t.step&&!t.selection){let r=t.step.merge(this.step);if(r)return new ku(r.getMap().invert(),r,this.selection)}}}class zp{constructor(t,r,n,a,s){this.done=t,this.undone=r,this.prevRanges=n,this.prevTime=a,this.prevComposition=s}}const Mat=20;function Oat(e,t,r,n){let a=r.getMeta(Cg),s;if(a)return a.historyState;r.getMeta(Lat)&&(e=new zp(e.done,e.undone,null,0,-1));let i=r.getMeta("appendedTransaction");if(r.steps.length==0)return e;if(i&&i.getMeta(Cg))return i.getMeta(Cg).redo?new zp(e.done.addTransform(r,void 0,n,U_(t)),e.undone,DK(r.mapping.maps),e.prevTime,e.prevComposition):new zp(e.done,e.undone.addTransform(r,void 0,n,U_(t)),null,e.prevTime,e.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(i&&i.getMeta("addToHistory")===!1)){let l=r.getMeta("composition"),c=e.prevTime==0||!i&&e.prevComposition!=l&&(e.prevTime<(r.time||0)-n.newGroupDelay||!Pat(r,e.prevRanges)),d=i?LM(e.prevRanges,r.mapping):DK(r.mapping.maps);return new zp(e.done.addTransform(r,c?t.selection.getBookmark():void 0,n,U_(t)),Yd.empty,d,r.time,l??e.prevComposition)}else return(s=r.getMeta("rebased"))?new zp(e.done.rebased(r,s),e.undone.rebased(r,s),LM(e.prevRanges,r.mapping),e.prevTime,e.prevComposition):new zp(e.done.addMaps(r.mapping.maps),e.undone.addMaps(r.mapping.maps),LM(e.prevRanges,r.mapping),e.prevTime,e.prevComposition)}function Pat(e,t){if(!t)return!1;if(!e.docChanged)return!0;let r=!1;return e.mapping.maps[0].forEach((n,a)=>{for(let s=0;s<t.length;s+=2)n<=t[s+1]&&a>=t[s]&&(r=!0)}),r}function DK(e){let t=[];for(let r=e.length-1;r>=0&&t.length==0;r--)e[r].forEach((n,a,s,i)=>t.push(s,i));return t}function LM(e,t){if(!e)return null;let r=[];for(let n=0;n<e.length;n+=2){let a=t.map(e[n],1),s=t.map(e[n+1],-1);a<=s&&r.push(a,s)}return r}function Rat(e,t,r){let n=U_(t),a=Cg.get(t).spec.config,s=(r?e.undone:e.done).popEvent(t,n);if(!s)return null;let i=s.selection.resolve(s.transform.doc),l=(r?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),a,n),c=new zp(r?l:s.remaining,r?s.remaining:l,null,0,-1);return s.transform.setSelection(i).setMeta(Cg,{redo:r,historyState:c})}let IM=!1,MK=null;function U_(e){let t=e.plugins;if(MK!=t){IM=!1,MK=t;for(let r=0;r<t.length;r++)if(t[r].spec.historyPreserveItems){IM=!0;break}}return IM}const Cg=new ai("history"),Lat=new ai("closeHistory");function Iat(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Ra({key:Cg,state:{init(){return new zp(Yd.empty,Yd.empty,null,0,-1)},apply(t,r,n){return Oat(r,n,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,r){let n=r.inputType,a=n=="historyUndo"?Sfe:n=="historyRedo"?jfe:null;return!a||!t.editable?!1:(r.preventDefault(),a(t.state,t.dispatch))}}}})}function Nfe(e,t){return(r,n)=>{let a=Cg.getState(r);if(!a||(e?a.undone:a.done).eventCount==0)return!1;if(n){let s=Rat(a,r,e);s&&n(t?s.scrollIntoView():s)}return!0}}const Sfe=Nfe(!1,!0),jfe=Nfe(!0,!0);Fn.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc;if(((e==null?void 0:e.mode)||this.options.mode)==="textSize"){const n=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(n)}return t.nodeSize},this.storage.words=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc,r=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let e=!1;return[new Ra({key:new ai("characterCount"),appendTransaction:(t,r,n)=>{if(e)return;const a=this.options.limit;if(a==null||a===0){e=!0;return}const s=this.storage.characters({node:n.doc});if(s>a){const i=s-a,l=0,c=i;console.warn(`[CharacterCount] Initial content exceeded limit of ${a} characters. Content was automatically trimmed.`);const d=n.tr.deleteRange(l,c);return e=!0,d}e=!0},filterTransaction:(t,r)=>{const n=this.options.limit;if(!t.docChanged||n===0||n===null||n===void 0)return!0;const a=this.storage.characters({node:r.doc}),s=this.storage.characters({node:t.doc});if(s<=n||a>n&&s>n&&s<=a)return!0;if(a>n&&s>n&&s>a||!t.getMeta("paste"))return!1;const l=t.selection.$head.pos,c=s-n,d=l-c,u=l;return t.deleteRange(d,u),!(this.storage.characters({node:t.doc})>n)}})]}});var Fat=Fn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[bat(this.options)]}});Fn.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ra({key:new ai("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:a}=t,s=[];if(!r||!n)return Aa.create(e,[]);let i=0;this.options.mode==="deepest"&&e.descendants((c,d)=>{if(c.isText)return;if(!(a>=d&&a<=d+c.nodeSize-1))return!1;i+=1});let l=0;return e.descendants((c,d)=>{if(c.isText||!(a>=d&&a<=d+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&i-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";s.push(qo.node(d,d+c.nodeSize,{class:this.options.className}))}),Aa.create(e,s)}}})]}});var zat=Fn.create({name:"gapCursor",addProseMirrorPlugins(){return[jat()]},extendNodeSchema(e){var t;const r={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Sn(lr(e,"allowGapCursor",r)))!=null?t:null}}});Fn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ra({key:new ai("placeholder"),props:{decorations:({doc:e,selection:t})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=t,a=[];if(!r)return null;const s=this.editor.isEmpty;return e.descendants((i,l)=>{const c=n>=l&&n<=l+i.nodeSize,d=!i.isLeaf&&g3(i);if((c||!this.options.showOnlyCurrent)&&d){const u=[this.options.emptyNodeClass];s&&u.push(this.options.emptyEditorClass);const f=qo.node(l,l+i.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:i,pos:l,hasAnchor:c}):this.options.placeholder});a.push(f)}return this.options.includeChildren}),Aa.create(e,a)}}})]}});Fn.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new Ra({key:new ai("selection"),props:{decorations(r){return r.selection.empty||e.isFocused||!e.isEditable||Pue(r.selection)||e.view.dragging?null:Aa.create(r.doc,[qo.inline(r.selection.from,r.selection.to,{class:t.className})])}}})]}});function OK({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(t==null?void 0:t.type)===e}var Bat=Fn.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new ai(this.name),r=this.options.node||((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||"paragraph",n=Object.entries(this.editor.schema.nodes).map(([,a])=>a).filter(a=>(this.options.notAfter||[]).concat(r).includes(a.name));return[new Ra({key:t,appendTransaction:(a,s,i)=>{const{doc:l,tr:c,schema:d}=i,u=t.getState(i),f=l.content.size,p=d.nodes[r];if(u)return c.insert(f,p.create())},state:{init:(a,s)=>{const i=s.tr.doc.lastChild;return!OK({node:i,types:n})},apply:(a,s)=>{if(!a.docChanged||a.getMeta("__uniqueIDTransaction"))return s;const i=a.doc.lastChild;return!OK({node:i,types:n})}}})]}}),Hat=Fn.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>Sfe(e,t),redo:()=>({state:e,dispatch:t})=>jfe(e,t)}},addProseMirrorPlugins(){return[Iat(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),$at=Fn.create({name:"starterKit",addExtensions(){var e,t,r,n;const a=[];return this.options.bold!==!1&&a.push(mnt.configure(this.options.bold)),this.options.blockquote!==!1&&a.push(dnt.configure(this.options.blockquote)),this.options.bulletList!==!1&&a.push(dfe.configure(this.options.bulletList)),this.options.code!==!1&&a.push(ynt.configure(this.options.code)),this.options.codeBlock!==!1&&a.push(wnt.configure(this.options.codeBlock)),this.options.document!==!1&&a.push(Nnt.configure(this.options.document)),this.options.dropcursor!==!1&&a.push(Fat.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&a.push(zat.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&a.push(Snt.configure(this.options.hardBreak)),this.options.heading!==!1&&a.push(jnt.configure(this.options.heading)),this.options.undoRedo!==!1&&a.push(Hat.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&a.push(_nt.configure(this.options.horizontalRule)),this.options.italic!==!1&&a.push(Tnt.configure(this.options.italic)),this.options.listItem!==!1&&a.push(ufe.configure(this.options.listItem)),this.options.listKeymap!==!1&&a.push(xfe.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&a.push(tat.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&a.push(vfe.configure(this.options.orderedList)),this.options.paragraph!==!1&&a.push(pat.configure(this.options.paragraph)),this.options.strike!==!1&&a.push(xat.configure(this.options.strike)),this.options.text!==!1&&a.push(yat.configure(this.options.text)),this.options.underline!==!1&&a.push(vat.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&a.push(Bat.configure((n=this.options)==null?void 0:n.trailingNode)),a}}),Uat=$at,Vat=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,qat=Ml.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",ts(this.options.HTMLAttributes,e)]},parseMarkdown:(e,t)=>t.createNode("image",{src:e.href,title:e.title,alt:e.text}),renderMarkdown:e=>{var t,r,n,a,s,i;const l=(r=(t=e.attrs)==null?void 0:t.src)!=null?r:"",c=(a=(n=e.attrs)==null?void 0:n.alt)!=null?a:"",d=(i=(s=e.attrs)==null?void 0:s.title)!=null?i:"";return d?`![${c}](${l} "${d}")`:`![${c}](${l})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:e,minWidth:t,minHeight:r,alwaysPreserveAspectRatio:n}=this.options.resize;return({node:a,getPos:s,HTMLAttributes:i,editor:l})=>{const c=document.createElement("img");Object.entries(i).forEach(([f,p])=>{if(p!=null)switch(f){case"width":case"height":break;default:c.setAttribute(f,p);break}}),c.src=i.src;const d=new rrt({element:c,editor:l,node:a,getPos:s,onResize:(f,p)=>{c.style.width=`${f}px`,c.style.height=`${p}px`},onCommit:(f,p)=>{const h=s();h!==void 0&&this.editor.chain().setNodeSelection(h).updateAttributes(this.name,{width:f,height:p}).run()},onUpdate:(f,p,h)=>f.type===a.type,options:{directions:e,min:{width:t,height:r},preserveAspectRatio:n===!0}}),u=d.dom;return u.style.visibility="hidden",u.style.pointerEvents="none",c.onload=()=>{u.style.visibility="",u.style.pointerEvents=""},d}},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[Jue({find:Vat,type:this.type,getAttributes:e=>{const[,,t,r,n]=e;return{src:r,alt:t,title:n}}})]}}),Wat=Fn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(r=>t.updateAttributes(r,{textAlign:e})).some(r=>r):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).some(t=>t),toggleTextAlign:e=>({editor:t,commands:r})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?r.unsetTextAlign():r.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Yat=20,_fe=(e,t=0)=>{const r=[];return!e.children.length||t>Yat||Array.from(e.children).forEach(n=>{n.tagName==="SPAN"?r.push(n):n.children.length&&r.push(..._fe(n,t+1))}),r},Gat=e=>{if(!e.children.length)return;const t=_fe(e);t&&t.forEach(r=>{var n,a;const s=r.getAttribute("style"),i=(a=(n=r.parentElement)==null?void 0:n.closest("span"))==null?void 0:a.getAttribute("style");r.setAttribute("style",`${i};${s}`)})},kfe=c0.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Gat(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",ts(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(a=>a.type===this.type).some(a=>Object.values(a.attrs).some(s=>!!s))||e.removeMark(n,n+r.nodeSize,this.type)}),!0}}}}),Kat=Fn.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const r=e.getAttribute("style");if(r){const n=r.split(";").map(a=>a.trim()).filter(Boolean);for(let a=n.length-1;a>=0;a-=1){const s=n[a].split(":");if(s.length>=2){const i=s[0].trim().toLowerCase(),l=s.slice(1).join(":").trim();if(i==="background-color")return l.replace(/['"]+/g,"")}}}return(t=e.style.backgroundColor)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Cfe=Fn.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const r=e.getAttribute("style");if(r){const n=r.split(";").map(a=>a.trim()).filter(Boolean);for(let a=n.length-1;a>=0;a-=1){const s=n[a].split(":");if(s.length>=2){const i=s[0].trim().toLowerCase(),l=s.slice(1).join(":").trim();if(i==="color")return l.replace(/['"]+/g,"")}}}return(t=e.style.color)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Xat=Fn.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),Jat=Fn.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),Qat=Fn.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Fn.create({name:"textStyleKit",addExtensions(){const e=[];return this.options.backgroundColor!==!1&&e.push(Kat.configure(this.options.backgroundColor)),this.options.color!==!1&&e.push(Cfe.configure(this.options.color)),this.options.fontFamily!==!1&&e.push(Xat.configure(this.options.fontFamily)),this.options.fontSize!==!1&&e.push(Jat.configure(this.options.fontSize)),this.options.lineHeight!==!1&&e.push(Qat.configure(this.options.lineHeight)),this.options.textStyle!==!1&&e.push(kfe.configure(this.options.textStyle)),e}});function FM({value:e,onChange:t}){const r=snt({extensions:[Uat,qat.configure({inline:!0,allowBase64:!0}),Wat.configure({types:["heading","paragraph"]}),kfe,Cfe],content:e,onUpdate:({editor:a})=>{t(a.getHTML())},editorProps:{attributes:{class:"prose prose-sm max-w-none focus:outline-none min-h-[300px] p-4"}}}),n=b.useCallback(()=>{const a=document.createElement("input");a.type="file",a.accept="image/*",a.onchange=s=>{var l;const i=(l=s.target.files)==null?void 0:l[0];if(i){const c=new FileReader;c.onload=d=>{var f;const u=(f=d.target)==null?void 0:f.result;r==null||r.chain().focus().setImage({src:u}).run()},c.readAsDataURL(i)}},a.click()},[r]);return r?o.jsxs("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden bg-white dark:bg-gray-800",children:[o.jsxs("div",{className:"flex flex-wrap gap-1 p-2 border-b border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-900",children:[o.jsx("button",{onClick:()=>r.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${r.isActive("bold")?"bg-gray-300 dark:bg-gray-600":""}`,type:"button",title:"Bold",children:o.jsx(Lye,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>r.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${r.isActive("italic")?"bg-gray-300 dark:bg-gray-600":""}`,type:"button",title:"Italic",children:o.jsx(tbe,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>r.chain().focus().toggleCode().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${r.isActive("code")?"bg-gray-300 dark:bg-gray-600":""}`,type:"button",title:"Inline Code",children:o.jsx(jve,{className:"w-4 h-4"})}),o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 mx-1"}),o.jsx("button",{onClick:()=>r.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${r.isActive("bulletList")?"bg-gray-300 dark:bg-gray-600":""}`,type:"button",title:"Bullet List",children:o.jsx(YZ,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>r.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${r.isActive("orderedList")?"bg-gray-300 dark:bg-gray-600":""}`,type:"button",title:"Numbered List",children:o.jsx(dbe,{className:"w-4 h-4"})}),o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 mx-1"}),o.jsx("button",{onClick:()=>r.chain().focus().setTextAlign("left").run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${r.isActive({textAlign:"left"})?"bg-gray-300 dark:bg-gray-600":""}`,type:"button",title:"Align Left",children:o.jsx(u1e,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>r.chain().focus().setTextAlign("center").run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${r.isActive({textAlign:"center"})?"bg-gray-300 dark:bg-gray-600":""}`,type:"button",title:"Align Center",children:o.jsx(o1e,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>r.chain().focus().setTextAlign("right").run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${r.isActive({textAlign:"right"})?"bg-gray-300 dark:bg-gray-600":""}`,type:"button",title:"Align Right",children:o.jsx(c1e,{className:"w-4 h-4"})}),o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 mx-1"}),o.jsx("button",{onClick:n,className:"p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700",type:"button",title:"Insert Image",children:o.jsx(Ug,{className:"w-4 h-4"})}),o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 mx-1"}),o.jsx("button",{onClick:()=>r.chain().focus().undo().run(),disabled:!r.can().undo(),className:"p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",type:"button",title:"Undo",children:o.jsx(v1e,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>r.chain().focus().redo().run(),disabled:!r.can().redo(),className:"p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",type:"button",title:"Redo",children:o.jsx($be,{className:"w-4 h-4"})}),o.jsx("div",{className:"ml-auto flex items-center gap-2",children:o.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Supports:"," ","{{employee_name}}, {{company_name}}, {{years_completed}}"]})})]}),o.jsx("div",{className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:o.jsx(Qrt,{editor:r})})]}):null}function Zat(){var _,S,k,A,O,D,M;const[e,t]=b.useState("settings"),[r,n]=b.useState(!1),[a,s]=b.useState(null),[i,l]=b.useState("birthday_anniversary"),[c,d]=b.useState([]),[u,f]=b.useState(null),[p,h]=b.useState({birthday:!1,anniversary:!1,timesheet:!1});b.useEffect(()=>{e==="settings"&&m(),e==="logs"&&g()},[e]);const m=async()=>{try{n(!0),f(null);const I=await je.getEmailSettings();s(I)}catch(I){console.error("Failed to fetch settings",I),f(I.message||"Failed to load settings")}finally{n(!1)}},g=async()=>{try{n(!0),f(null);const I=await je.getEmailAuditLogs();d(I)}catch(I){console.error("Failed to fetch logs",I)}finally{n(!1)}},x=async()=>{try{n(!0),f(null),await je.updateEmailSettings(a)}catch(I){console.error("Failed to save settings",I),f(I.message||"Failed to save settings")}finally{n(!1)}},y=async()=>{try{n(!0),f(null),await je.triggerEmailAutomation(),t("logs")}catch(I){console.error("Failed to trigger automation",I),f(I.message||"Failed to trigger automation")}finally{n(!1)}},v=(I,z)=>{s(Y=>{const X=I.split("."),V={...Y};let G=V;for(let J=0;J<X.length-1;J++)G=G[X[J]];return G[X[X.length-1]]=z,V})},w=[{header:"Recipient",accessorKey:"recipient.name",render:I=>I.recipient.name},{header:"Type",accessorKey:"type",render:I=>o.jsx(Zu,{variant:"primary",children:I.type})},{header:"Subject",accessorKey:"subject"},{header:"Date",accessorKey:"sentAt",render:I=>new Date(I.sentAt).toLocaleString()},{header:"Status",accessorKey:"status",render:I=>o.jsx(Zu,{variant:I.status==="Success"?"success":"error",children:I.status})},{header:"Trigger",accessorKey:"triggeredBy"}],N=I=>{h(z=>({...z,[I]:!z[I]}))},C=({icon:I,title:z,description:Y,enabled:X,onToggle:V,children:G,section:J})=>o.jsx("div",{className:"bg-bg-secondary/50 border border-border rounded-xl overflow-hidden hover:border-primary/30 transition-colors",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1 cursor-pointer",onClick:()=>N(J),children:[o.jsx("div",{className:`p-2 ${I.bgColor} rounded-lg`,children:I.svg}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:z}),o.jsx("svg",{className:`w-5 h-5 text-text-secondary transition-transform ${p[J]?"-rotate-90":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o.jsx("p",{className:"text-sm text-text-secondary mt-1",children:Y})]})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer ml-4",children:[o.jsx("input",{type:"checkbox",checked:X,onChange:V,className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-bg-hover peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-primary"})]})]}),!p[J]&&X&&o.jsx("div",{className:"grid gap-4 mt-4 pt-4 border-t border-border",children:G})]})});return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center gap-0",children:[o.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-bg-secondary rounded-lg transition-colors -ml-2",children:o.jsx("svg",{className:"w-5 h-5 text-text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Email Automation"}),o.jsx("p",{className:"text-text-secondary",children:"Configure automated birthday, work anniversary, and timesheet reminder email notifications"})]})]})}),u&&o.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u})}),o.jsxs("div",{className:"flex border-b border-border mb-6",children:[o.jsx("button",{onClick:()=>t("settings"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${e==="settings"?"border-brand-primary text-brand-primary":"border-transparent text-text-secondary hover:text-text-primary"}`,children:"Settings"}),o.jsx("button",{onClick:()=>t("logs"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${e==="logs"?"border-brand-primary text-brand-primary":"border-transparent text-text-secondary hover:text-text-primary"}`,children:"Audit Logs"})]}),e==="settings"&&!a&&!r&&!u&&o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl shadow-sm p-12 text-center text-text-secondary",children:[o.jsx("p",{children:"No settings data found."}),o.jsx("button",{onClick:m,className:"mt-2 text-brand-primary underline",children:"Retry"})]}),e==="settings"&&a&&o.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[o.jsx("div",{className:"col-span-12 md:col-span-3",children:o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-3 sticky top-6 space-y-1",children:[o.jsxs("button",{onClick:()=>l("birthday_anniversary"),className:`w-full text-left px-4 py-2.5 rounded-lg text-sm font-medium transition-all group flex items-center justify-between ${i==="birthday_anniversary"?"bg-brand-primary text-white shadow-sm":"text-text-secondary hover:bg-bg-hover hover:text-text-primary"}`,children:["Birthday & Anniversary",i==="birthday_anniversary"&&o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white/40"})]}),o.jsxs("button",{onClick:()=>l("timesheet"),className:`w-full text-left px-4 py-2.5 rounded-lg text-sm font-medium transition-all group flex items-center justify-between ${i==="timesheet"?"bg-brand-primary text-white shadow-sm":"text-text-secondary hover:bg-bg-hover hover:text-text-primary"}`,children:["Weekly Timesheet",i==="timesheet"&&o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white/40"})]}),o.jsxs("button",{onClick:()=>l("general"),className:`w-full text-left px-4 py-2.5 rounded-lg text-sm font-medium transition-all group flex items-center justify-between ${i==="general"?"bg-brand-primary text-white shadow-sm":"text-text-secondary hover:bg-bg-hover hover:text-text-primary"}`,children:["General Settings",i==="general"&&o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white/40"})]})]})}),o.jsx("div",{className:"col-span-12 md:col-span-9",children:o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6 min-h-[500px] space-y-6",children:[i==="birthday_anniversary"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[o.jsxs(C,{icon:{bgColor:"bg-purple-500/10",svg:o.jsx("svg",{className:"w-5 h-5 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 15.546c-.523 0-1.046.151-1.5.454a2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0 2.701 2.701 0 00-1.5-.454M9 6v2m3-2v2m3-2v2M9 3h.01M12 3h.01M15 3h.01M21 21v-7a2 2 0 00-2-2H5a2 2 0 00-2 2v7h18zm-3-9v-2a2 2 0 00-2-2H8a2 2 0 00-2 2v2h12z"})})},title:"Birthday Emails",description:"Automatically send birthday wishes to employees",enabled:((_=a.birthday)==null?void 0:_.enabled)||!1,onToggle:I=>v("birthday.enabled",I.target.checked),section:"birthday",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Email Subject"}),o.jsx(ft,{type:"text",value:a.birthday.subject,onChange:I=>v("birthday.subject",I.target.value),className:"bg-bg-input",placeholder:"Happy Birthday, {{employee_name}}! "})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Email Body"}),o.jsx(FM,{value:a.birthday.body,onChange:I=>v("birthday.body",I),placeholder:"Enter birthday email template..."})]})]}),o.jsxs(C,{icon:{bgColor:"bg-blue-500/10",svg:o.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},title:"Work Anniversary Emails",description:"Celebrate employee milestones and tenure",enabled:((S=a.anniversary)==null?void 0:S.enabled)||!1,onToggle:I=>v("anniversary.enabled",I.target.checked),section:"anniversary",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Email Subject"}),o.jsx(ft,{type:"text",value:a.anniversary.subject,onChange:I=>v("anniversary.subject",I.target.value),className:"bg-bg-input",placeholder:"Happy Work Anniversary, {{employee_name}}!"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Email Body"}),o.jsx(FM,{value:a.anniversary.body,onChange:I=>v("anniversary.body",I),placeholder:"Enter anniversary email template..."})]})]})]}),i==="timesheet"&&o.jsx("div",{className:"space-y-6 animate-in fade-in duration-300",children:o.jsxs(C,{icon:{bgColor:"bg-orange-500/10",svg:o.jsx("svg",{className:"w-5 h-5 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})},title:"Weekly Timesheet Reminders",description:"Remind employees to update their timesheets weekly",enabled:((k=a.timesheetReminder)==null?void 0:k.enabled)||!1,onToggle:I=>v("timesheetReminder.enabled",I.target.checked),section:"timesheet",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Day of Week"}),o.jsxs("select",{value:a.timesheetReminder.dayOfWeek??5,onChange:I=>v("timesheetReminder.dayOfWeek",parseInt(I.target.value)),className:"w-full px-3 py-2 bg-bg-input border border-border rounded-lg text-text-primary focus:outline-none focus:ring-2 focus:ring-brand-primary",children:[o.jsx("option",{value:0,children:"Sunday"}),o.jsx("option",{value:1,children:"Monday"}),o.jsx("option",{value:2,children:"Tuesday"}),o.jsx("option",{value:3,children:"Wednesday"}),o.jsx("option",{value:4,children:"Thursday"}),o.jsx("option",{value:5,children:"Friday"}),o.jsx("option",{value:6,children:"Saturday"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Time"}),o.jsx(ft,{type:"time",value:a.timesheetReminder.time||"09:00",onChange:I=>v("timesheetReminder.time",I.target.value),className:"bg-bg-input"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Email Subject"}),o.jsx(ft,{type:"text",value:a.timesheetReminder.subject||"Reminder: Update Your Timesheet",onChange:I=>v("timesheetReminder.subject",I.target.value),className:"bg-bg-input",placeholder:"Reminder: Update Your Timesheet"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Email Body"}),o.jsx(FM,{value:a.timesheetReminder.body||`Dear {{employee_name}},

This is a friendly reminder to update your timesheet for the current week.

Please log your hours at your earliest convenience.

Best regards,
{{company_name}}`,onChange:I=>v("timesheetReminder.body",I),placeholder:"Enter timesheet reminder email template..."})]})]})}),i==="general"&&o.jsx("div",{className:"space-y-6 animate-in fade-in duration-300",children:o.jsxs("div",{className:"bg-gradient-to-br from-brand-primary/5 to-brand-primary/10 border border-brand-primary/20 rounded-xl p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:[o.jsxs("svg",{className:"w-5 h-5 text-brand-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"General Settings"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-text-primary mb-3",children:"Schedule"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("label",{className:"text-sm text-text-secondary whitespace-nowrap",children:"Send daily at:"}),o.jsx(ft,{type:"time",value:((A=a.schedule)==null?void 0:A.time)||"09:00",onChange:I=>v("schedule.time",I.target.value),className:"px-3 py-2 bg-bg-input"})]}),o.jsx("p",{className:"text-xs text-text-muted mt-2",children:"Time for birthday and anniversary emails"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-text-primary mb-3",children:"Notifications"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(gl,{checked:((O=a.notification)==null?void 0:O.ccManager)||!1,onChange:I=>v("notification.ccManager",I.target.checked),label:"CC Employee's Manager"}),o.jsx(gl,{checked:((D=a.notification)==null?void 0:D.notifyHR)||!1,onChange:I=>v("notification.notifyHR",I.target.checked),label:"Notify HR upon sending"}),o.jsx(gl,{checked:((M=a.notification)==null?void 0:M.notifyAllEmployees)||!1,onChange:I=>v("notification.notifyAllEmployees",I.target.checked),label:"Send celebration email to all employees"})]})]})]})]})}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-border",children:[o.jsxs("button",{onClick:y,disabled:r,className:"flex items-center gap-2 px-4 py-2 text-brand-primary bg-brand-primary/10 hover:bg-brand-primary/20 rounded-lg transition-colors disabled:opacity-50",children:[o.jsx(pve,{size:18}),"Run Now"]}),o.jsxs("button",{onClick:x,disabled:r,className:"flex items-center gap-2 px-4 py-2 bg-brand-primary text-white hover:bg-brand-primary-dark rounded-lg transition-colors disabled:opacity-50",children:[r?o.jsx(Vn,{size:18,className:"animate-spin"}):o.jsx(Fm,{size:18}),"Save Changes"]})]})]})})]}),e==="logs"&&o.jsx("div",{className:"bg-bg-card border border-border rounded-xl shadow-sm overflow-hidden",children:o.jsx(eo,{data:c,columns:w,isLoading:r,emptyMessage:"No emails sent yet."})})]})}function est(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,s]=b.useState(""),[i,l]=b.useState(!1),[c,d]=b.useState(null),[u,f]=b.useState(null),[p,h]=b.useState({name:"",description:"",customFields:[]});b.useEffect(()=>{m()},[]);const m=async()=>{try{n(!0);const _=await je.getAssetCategories(!0);t(_)}catch(_){s(_.message)}finally{n(!1)}},g=async _=>{_.preventDefault();try{c?await je.updateAssetCategory(c._id,p):await je.createAssetCategory(p),l(!1),v(),m()}catch(S){s(S.message)}},x=_=>{d(_),h({name:_.name,description:_.description,customFields:_.customFields||[]}),l(!0)},y=async _=>{try{await je.deleteAssetCategory(_),f(null),m()}catch(S){s(S.message)}},v=()=>{h({name:"",description:"",customFields:[]}),d(null)},w=()=>{h({...p,customFields:[...p.customFields,{name:"",fieldType:"text",required:!1,options:[]}]})},N=(_,S)=>{const k=[...p.customFields];k[_]={...k[_],...S},h({...p,customFields:k})},C=_=>{h({...p,customFields:p.customFields.filter((S,k)=>k!==_)})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-0",children:[o.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-bg-secondary rounded-lg transition-colors -ml-2",children:o.jsx(wi,{className:"w-5 h-5 text-text-secondary"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Asset Categories"}),o.jsx("p",{className:"text-text-secondary",children:"Configure asset types and their custom fields"})]})]}),o.jsx(dt,{onClick:()=>{v(),l(!0)},leftIcon:o.jsx(Na,{size:20}),children:"Add Category"})]}),a&&o.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:a})}),o.jsx("div",{className:"bg-bg-card border border-border rounded-xl shadow-sm overflow-hidden",children:r?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-bg-secondary border-b border-border",children:o.jsx("tr",{children:["Name","Description","Custom Fields","Status","Actions"].map((_,S)=>o.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider ${_==="Actions"?"text-right":""}`,children:_},S))})}),o.jsx("tbody",{className:"divide-y divide-border",children:[1,2,3,4,5].map(_=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx(Se,{className:"h-4 w-32"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx(Se,{className:"h-4 w-48"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx(Se,{className:"h-4 w-20"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx(Se,{className:"h-5 w-16 rounded-full"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(Se,{className:"h-5 w-5 rounded"}),o.jsx(Se,{className:"h-5 w-5 rounded"})]})})]},_))})]})}):e.length===0?o.jsx("div",{className:"p-12 text-center text-text-secondary",children:'No asset categories found. Click "Add Category" to create one.'}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-bg-secondary border-b border-border",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Description"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Custom Fields"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:e.map(_=>{var S;return o.jsxs("tr",{className:"hover:bg-bg-hover transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"font-medium text-text-primary",children:_.name})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"text-sm text-text-secondary",children:_.description||"-"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("span",{className:"text-sm text-text-secondary",children:[((S=_.customFields)==null?void 0:S.length)||0," field(s)"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_.isActive?"bg-status-success/10 text-status-success":"bg-status-muted/10 text-status-muted"}`,children:_.isActive?"Active":"Inactive"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[o.jsx("button",{onClick:()=>x(_),className:"text-brand-primary hover:text-brand-secondary mr-4",children:o.jsx(YN,{size:18})}),o.jsx("button",{onClick:()=>f(_._id),className:"text-status-error hover:text-red-700",children:o.jsx(yn,{size:18})})]})]},_._id)})})]})})}),o.jsx(_r,{isOpen:i,onClose:()=>{l(!1),v()},title:c?"Edit Category":"Add Category",children:o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Name *"}),o.jsx(ft,{required:!0,value:p.name,onChange:_=>h({...p,name:_.target.value}),className:"bg-bg-input",placeholder:"e.g., Laptop, Monitor, Keyboard"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Description"}),o.jsx("textarea",{value:p.description,onChange:_=>h({...p,description:_.target.value}),className:"w-full px-3 py-2 bg-bg-input border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/20",rows:3,placeholder:"Optional description"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary",children:"Custom Fields"}),o.jsx("button",{type:"button",onClick:w,className:"text-sm text-brand-primary hover:underline",children:"+ Add Field"})]}),p.customFields.map((_,S)=>o.jsxs("div",{className:"p-3 bg-bg-secondary rounded-lg mb-2 space-y-2",children:[o.jsxs("div",{className:"flex gap-2 items-start",children:[o.jsx(ft,{placeholder:"Field name",value:_.name,onChange:k=>N(S,{name:k.target.value}),className:"flex-1 bg-bg-input"}),o.jsx("div",{className:"w-1/3",children:o.jsx(sr,{value:_.fieldType,onChange:k=>N(S,{fieldType:k}),options:[{value:"text",label:"Text"},{value:"number",label:"Number"},{value:"date",label:"Date"},{value:"dropdown",label:"Dropdown"},{value:"boolean",label:"Yes/No"}],className:"bg-bg-input"})}),o.jsx("button",{type:"button",onClick:()=>C(S),className:"p-2 text-status-error hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg mt-1",children:o.jsx(yn,{size:16})})]}),o.jsx("div",{className:"flex items-center gap-2 mt-2",children:o.jsx(gl,{checked:_.required,onChange:k=>N(S,{required:k.target.checked}),label:"Required field"})})]},S))]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(dt,{type:"button",variant:"secondary",onClick:()=>{l(!1),v()},children:"Cancel"}),o.jsx(dt,{type:"submit",children:c?"Update":"Create"})]})]})}),o.jsxs(_r,{isOpen:u!==null,onClose:()=>f(null),title:"Delete Category",children:[o.jsx("p",{className:"text-text-secondary mb-4",children:"Are you sure you want to delete this category? This action cannot be undone."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(dt,{variant:"secondary",onClick:()=>f(null),children:"Cancel"}),o.jsx(dt,{variant:"danger",onClick:()=>u&&y(u),children:"Delete"})]})]})]})}function tst(){const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,s]=b.useState(!0),[i,l]=b.useState(""),[c,d]=b.useState(!1),[u,f]=b.useState(null),[p,h]=b.useState(null),[m,g]=b.useState(""),[x,y]=b.useState(""),[v,w]=b.useState(null),[N,C]=b.useState([]),[_,S]=b.useState({employeeId:"",expectedReturnDate:"",notes:""}),[k,A]=b.useState({categoryId:"",status:"",search:""}),[O,D]=b.useState({categoryId:"",name:"",manufacturer:"",model:"",serialNumber:"",purchaseDate:"",vendor:"",warrantyExpiry:"",condition:"New",purchasePrice:"",currentValue:"",notes:"",image:null});b.useEffect(()=>{Promise.all([z(),I(),M()])},[]);const M=async()=>{try{const T=await je.getEmployees();C(T)}catch(T){console.error("Failed to fetch employees:",T)}},I=async()=>{try{const T=await je.getAssetCategories();n(T)}catch(T){console.error(T)}},z=async()=>{try{s(!0);const T={};k.categoryId&&(T.categoryId=k.categoryId),k.status&&(T.status=k.status),k.search&&(T.search=k.search);const R=await je.getAssets(T);t(R.assets||R)}catch(T){l(T.message)}finally{s(!1)}};b.useEffect(()=>{z()},[k]);const Y=async T=>{T.preventDefault();try{const R=new FormData;R.append("categoryId",O.categoryId),R.append("name",O.name),O.manufacturer&&R.append("manufacturer",O.manufacturer),O.model&&R.append("model",O.model),O.serialNumber&&R.append("serialNumber",O.serialNumber),O.purchaseDate&&R.append("purchaseDate",O.purchaseDate),O.vendor&&R.append("vendor",O.vendor),O.warrantyExpiry&&R.append("warrantyExpiry",O.warrantyExpiry),R.append("condition",O.condition),O.purchasePrice&&R.append("purchasePrice",O.purchasePrice),O.currentValue&&R.append("currentValue",O.currentValue),O.notes&&R.append("notes",O.notes),O.image&&R.append("image",O.image),u?await je.updateAsset(u._id,R):await je.createAsset(R),d(!1),J(),z()}catch(R){l(R.message)}},X=T=>{var R,F;f(T),D({categoryId:T.categoryId._id,name:T.name,manufacturer:T.manufacturer||"",model:T.model||"",serialNumber:T.serialNumber||"",purchaseDate:"",vendor:"",warrantyExpiry:"",condition:T.condition,purchasePrice:((R=T.purchasePrice)==null?void 0:R.toString())||"",currentValue:((F=T.currentValue)==null?void 0:F.toString())||"",notes:"",image:null}),d(!0)},V=async()=>{if(p)try{await je.disposeAsset(p,{disposalReason:m,disposalNotes:x,disposalDate:new Date().toISOString()}),h(null),g(""),y(""),z()}catch(T){l(T.message)}},G=async()=>{if(!(!v||!_.employeeId))try{await je.assignAsset({assetId:v._id,employeeId:_.employeeId,expectedReturnDate:_.expectedReturnDate||void 0,conditionAtIssue:v.condition,notes:_.notes}),w(null),S({employeeId:"",expectedReturnDate:"",notes:""}),z()}catch(T){l(T.message)}},J=()=>{D({categoryId:"",name:"",manufacturer:"",model:"",serialNumber:"",purchaseDate:"",vendor:"",warrantyExpiry:"",condition:"New",purchasePrice:"",currentValue:"",notes:"",image:null}),f(null)},B=T=>{switch(T){case"Available":return"success";case"Issued":return"info";case"Under Repair":return"warning";case"Lost":case"Disposed":return"error";default:return"default"}},q=()=>{if(e.length===0)return;const T=["Asset Code","Name","Category","Manufacturer","Model","Serial Number","Status","Condition","Purchase Price","Current Value"],R=e.map(pe=>{var se;return[pe.assetCode,pe.name,((se=pe.categoryId)==null?void 0:se.name)||"N/A",pe.manufacturer||"-",pe.model||"-",pe.serialNumber||"-",pe.status,pe.condition,pe.purchasePrice||"0",pe.currentValue||"0"]}),F=[T.join(","),...R.map(pe=>pe.map(se=>`"${se}"`).join(","))].join(`
`),H=new Blob([F],{type:"text/csv;charset=utf-8;"}),W=document.createElement("a"),te=URL.createObjectURL(H);W.setAttribute("href",te),W.setAttribute("download",`asset-inventory-${new Date().toISOString().split("T")[0]}.csv`),W.style.visibility="hidden",document.body.appendChild(W),W.click(),document.body.removeChild(W)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-0",children:[o.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-bg-secondary rounded-lg transition-colors -ml-2",children:o.jsx(wi,{className:"w-5 h-5 text-text-secondary"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Asset Inventory"}),o.jsx("p",{className:"text-text-secondary",children:"Manage and track all company assets"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(dt,{variant:"secondary",onClick:q,leftIcon:o.jsx(cf,{size:18}),disabled:e.length===0,children:"Export CSV"}),o.jsx(dt,{onClick:()=>{J(),d(!0)},leftIcon:o.jsx(Na,{size:20}),children:"Add Asset"})]})]}),i&&o.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i})}),o.jsxs("div",{className:"bg-bg-card p-4 rounded-xl border border-border flex gap-4",children:[o.jsx(ft,{type:"text",placeholder:"Search by name, code, or serial number...",value:k.search,onChange:T=>A({...k,search:T.target.value}),className:"flex-1 bg-bg-input"}),o.jsx("div",{className:"w-48",children:o.jsx(sr,{value:k.categoryId,onChange:T=>A({...k,categoryId:T}),options:[{value:"",label:"All Categories"},...r.map(T=>({value:T._id,label:T.name}))],className:"bg-bg-input"})}),o.jsx("div",{className:"w-40",children:o.jsx(sr,{value:k.status,onChange:T=>A({...k,status:T}),options:[{value:"",label:"All Statuses"},{value:"Available",label:"Available"},{value:"Issued",label:"Issued"},{value:"Under Repair",label:"Under Repair"},{value:"Lost",label:"Lost"},{value:"Disposed",label:"Disposed"}],className:"bg-bg-input"})})]}),o.jsx("div",{className:"bg-bg-card border border-border rounded-xl shadow-sm overflow-hidden",children:a?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-bg-secondary border-b border-border",children:o.jsx("tr",{children:["Image","Asset Code","Name","Category","Serial Number","Status","Condition","Actions"].map((T,R)=>o.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase ${T==="Actions"?"text-right":""}`,children:T},R))})}),o.jsx("tbody",{className:"divide-y divide-border",children:[1,2,3,4,5,6].map(T=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx(Se,{className:"h-10 w-10 rounded-lg"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx(Se,{className:"h-4 w-20"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx(Se,{className:"h-4 w-32"}),o.jsx(Se,{className:"h-3 w-24"})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx(Se,{className:"h-4 w-24"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx(Se,{className:"h-4 w-20"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx(Se,{className:"h-6 w-24 rounded-full"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx(Se,{className:"h-4 w-16"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(Se,{className:"h-5 w-5 rounded"}),o.jsx(Se,{className:"h-5 w-5 rounded"}),o.jsx(Se,{className:"h-5 w-5 rounded"})]})})]},T))})]})}):e.length===0?o.jsxs("div",{className:"p-12 text-center text-text-secondary",children:[o.jsx(Kd,{className:"mx-auto mb-4 text-text-muted",size:48}),o.jsx("p",{children:'No assets found. Click "Add Asset" to register one.'})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-bg-secondary border-b border-border",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase",children:"Image"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase",children:"Asset Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase",children:"Category"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase",children:"Serial Number"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase",children:"Condition"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase",children:"Issued To"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-text-secondary uppercase",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:e.map(T=>{var R;return o.jsxs("tr",{className:"hover:bg-bg-hover transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"w-10 h-10 rounded-lg bg-bg-secondary border border-border flex items-center justify-center overflow-hidden",children:T.image?o.jsx("img",{src:T.image.startsWith("http")?T.image:`http://localhost:5000${T.image}`,alt:T.name,className:"w-full h-full object-cover"}):o.jsx(Ug,{className:"text-text-muted",size:16})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"font-mono text-sm text-brand-primary",children:T.assetCode})}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("span",{className:"font-medium text-text-primary",children:T.name}),T.manufacturer&&o.jsx("p",{className:"text-xs text-text-secondary",children:T.manufacturer})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"text-sm text-text-secondary",children:((R=T.categoryId)==null?void 0:R.name)||"N/A"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"text-sm text-text-secondary font-mono",children:T.serialNumber||"-"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(Zu,{variant:B(T.status),children:T.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"text-sm text-text-secondary",children:T.condition})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.assignedTo?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-brand-primary/10 flex items-center justify-center text-[10px] font-medium text-brand-primary overflow-hidden",children:T.assignedTo.profilePicture?o.jsx("img",{src:T.assignedTo.profilePicture,alt:T.assignedTo.name,className:"w-full h-full object-cover"}):T.assignedTo.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-text-primary",children:T.assignedTo.name}),o.jsx("p",{className:"text-xs text-text-secondary",children:T.assignedTo.employeeId})]})]}):o.jsx("span",{className:"text-sm text-text-secondary",children:"-"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[T.status==="Available"&&o.jsx("button",{onClick:()=>w(T),className:"text-green-600 hover:text-green-700 mr-4",title:"Assign to Employee",children:o.jsx(ree,{size:18})}),o.jsx("button",{onClick:()=>X(T),className:"text-brand-primary hover:text-brand-secondary mr-4",title:"Edit",children:o.jsx(YN,{size:18})}),T.status!=="Disposed"&&o.jsx("button",{onClick:()=>h(T._id),className:"text-amber-600 hover:text-amber-700 mr-4",title:"Dispose Asset",children:o.jsx(yn,{size:18})})]})]},T._id)})})]})})}),o.jsx(_r,{isOpen:c,onClose:()=>{d(!1),J()},title:u?"Edit Asset":"Add New Asset",children:o.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{className:"col-span-2",children:o.jsx(sr,{label:"Category *",required:!0,value:O.categoryId,onChange:T=>D({...O,categoryId:T}),options:[{value:"",label:"Select Category"},...r.map(T=>({value:T._id,label:T.name}))],className:"bg-bg-input"})}),o.jsx("div",{className:"col-span-2",children:o.jsx(ft,{label:"Asset Name *",type:"text",required:!0,value:O.name,onChange:T=>D({...O,name:T.target.value}),className:"bg-bg-input"})}),o.jsx("div",{children:o.jsx(ft,{label:"Manufacturer",type:"text",value:O.manufacturer,onChange:T=>D({...O,manufacturer:T.target.value}),className:"bg-bg-input"})}),o.jsx("div",{children:o.jsx(ft,{label:"Model",type:"text",value:O.model,onChange:T=>D({...O,model:T.target.value}),className:"bg-bg-input"})}),o.jsx("div",{children:o.jsx(ft,{label:"Serial Number",type:"text",value:O.serialNumber,onChange:T=>D({...O,serialNumber:T.target.value}),className:"bg-bg-input"})}),o.jsx("div",{children:o.jsx(sr,{label:"Condition",value:O.condition,onChange:T=>D({...O,condition:T}),options:[{value:"New",label:"New"},{value:"Good",label:"Good"},{value:"Used",label:"Used"},{value:"Damaged",label:"Damaged"}],className:"bg-bg-input"})}),o.jsx("div",{children:o.jsx(ft,{label:"Purchase Price",type:"number",value:O.purchasePrice,onChange:T=>D({...O,purchasePrice:T.target.value}),className:"bg-bg-input"})}),o.jsx("div",{children:o.jsx(ft,{label:"Current Value",type:"number",value:O.currentValue,onChange:T=>D({...O,currentValue:T.target.value}),className:"bg-bg-input"})}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Asset Image"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"relative w-20 h-20 bg-bg-secondary rounded-lg border border-border flex items-center justify-center overflow-hidden",children:O.image?o.jsx("img",{src:URL.createObjectURL(O.image),alt:"Preview",className:"w-full h-full object-cover"}):u!=null&&u.image?o.jsx("img",{src:u.image.startsWith("http")?u.image:`http://localhost:5000${u.image}`,alt:"Current",className:"w-full h-full object-cover"}):o.jsx(Ug,{className:"text-text-muted",size:24})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:T=>{T.target.files&&T.target.files[0]&&D({...O,image:T.target.files[0]})},className:`block w-full text-sm text-text-secondary
                      file:mr-4 file:py-2 file:px-4
                      file:rounded-full file:border-0
                      file:text-sm file:font-semibold
                      file:bg-brand-primary/10 file:text-brand-primary
                      hover:file:bg-brand-primary/20
                    `}),o.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Upload an image of the asset (JPG, PNG, WebP)"})]})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Notes"}),o.jsx("textarea",{value:O.notes,onChange:T=>D({...O,notes:T.target.value}),className:"w-full px-3 py-2 bg-bg-input border border-border rounded-lg",rows:3})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>{d(!1),J()},className:"px-4 py-2 border border-border rounded-lg text-text-secondary hover:bg-bg-hover text-sm font-medium transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 text-sm font-medium transition-colors disabled:opacity-50 flex items-center gap-2",children:u?"Update":"Create"})]})]})}),o.jsx(_r,{isOpen:v!==null,onClose:()=>{w(null),S({employeeId:"",expectedReturnDate:"",notes:""})},title:"Assign Asset to Employee",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:o.jsxs("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-400",children:["Asset: ",v==null?void 0:v.name," (",v==null?void 0:v.assetCode,")"]})}),o.jsx("div",{children:o.jsx(sr,{label:"Assign to Employee *",value:_.employeeId,onChange:T=>S({..._,employeeId:T}),options:[{value:"",label:"Select an employee"},...N.map(T=>({value:T._id,label:`${T.firstName} ${T.lastName} - ${T.employeeId||T.email}`}))],required:!0,className:"bg-bg-input"})}),o.jsx("div",{children:o.jsx(ft,{label:"Expected Return Date (Optional)",type:"date",value:_.expectedReturnDate,onChange:T=>S({..._,expectedReturnDate:T.target.value}),className:"bg-bg-input"})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Notes (Optional)"}),o.jsx("textarea",{value:_.notes,onChange:T=>S({..._,notes:T.target.value}),className:"w-full px-3 py-2 bg-bg-input border border-border rounded-lg",rows:3,placeholder:"Enter any assignment notes or special instructions..."})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(dt,{variant:"secondary",onClick:()=>{w(null),S({employeeId:"",expectedReturnDate:"",notes:""})},children:"Cancel"}),o.jsx(dt,{onClick:G,disabled:!_.employeeId,children:"Assign Asset"})]})]})}),o.jsx(_r,{isOpen:p!==null,onClose:()=>{h(null),g(""),y("")},title:"Dispose Asset",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:o.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-400",children:[" ",o.jsx("strong",{children:"Warning:"})," Asset disposal is permanent and cannot be undone. The asset will be marked as disposed and removed from active inventory."]})}),o.jsx("div",{children:o.jsx(sr,{label:"Disposal Reason *",required:!0,value:m,onChange:T=>g(T),options:[{value:"",label:"Select a reason"},{value:"End of Life",label:"End of Life"},{value:"Damaged Beyond Repair",label:"Damaged Beyond Repair"},{value:"Lost/Stolen",label:"Lost/Stolen"},{value:"Obsolete",label:"Obsolete"},{value:"Sold",label:"Sold"},{value:"Donated",label:"Donated"},{value:"Other",label:"Other"}],className:"bg-bg-input"})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Additional Notes (Optional)"}),o.jsx("textarea",{value:x,onChange:T=>y(T.target.value),className:"w-full px-3 py-2 bg-bg-input border border-border rounded-lg",rows:3,placeholder:"Enter any additional details about the disposal..."})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(dt,{variant:"secondary",onClick:()=>{h(null),g(""),y("")},children:"Cancel"}),o.jsx(dt,{variant:"danger",onClick:V,disabled:!m,children:"Dispose Asset"})]})]})})]})}function rst(){var I,z;const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,s]=b.useState(""),[i,l]=b.useState(null),[c,d]=b.useState(null),[u,f]=b.useState("Good"),[p,h]=b.useState(""),[m,g]=b.useState(null),[x,y]=b.useState("Damage"),[v,w]=b.useState(""),[N,C]=b.useState("Medium"),[_,S]=b.useState([]);b.useEffect(()=>{k()},[]);const k=async()=>{try{n(!0);const Y=await je.getMyAssets();t(Y)}catch(Y){s(Y.message)}finally{n(!1)}},A=async Y=>{try{await je.acknowledgeAsset(Y),l(null),k()}catch(X){s(X.message)}},O=async()=>{if(c)try{await je.returnAsset(c,{conditionAtReturn:u,notes:p}),d(null),f("Good"),h(""),k()}catch(Y){s(Y.message)}},D=async()=>{if(m)try{const Y={assetId:m.assetId._id,assignmentId:m._id,incidentType:x,description:v,urgency:N};await je.reportAssetIncident(Y,_),g(null),y("Damage"),w(""),C("Medium"),S([]),k()}catch(Y){s(Y.message)}},M=()=>e.filter(Y=>Y.status==="Pending Acknowledgement").length;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"My Assets"}),o.jsx("p",{className:"text-text-secondary",children:"Assets assigned to you by the company"})]}),a&&o.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:a})}),M()>0&&o.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:o.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-400 font-medium",children:[" You have ",M()," asset(s) pending acknowledgement"]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r?Array.from({length:8}).map((Y,X)=>o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl overflow-hidden flex flex-col h-[280px]",children:[o.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Se,{className:"w-5 h-5 rounded"}),o.jsx(Se,{className:"h-5 w-32"})]}),o.jsx(Se,{className:"h-3 w-20 ml-7"})]}),o.jsx(Se,{className:"h-5 w-16 rounded-full"})]}),o.jsxs("div",{className:"p-4 flex-1 space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{className:"h-4 w-3/4"}),o.jsx(Se,{className:"h-4 w-1/2"}),o.jsx(Se,{className:"h-4 w-2/3"})]}),o.jsxs("div",{className:"border-t border-border/50 pt-2 space-y-2",children:[o.jsx(Se,{className:"h-4 w-full"}),o.jsx(Se,{className:"h-4 w-2/3"})]})]}),o.jsxs("div",{className:"p-3 border-t border-border bg-bg-hover/50 flex gap-2",children:[o.jsx(Se,{className:"h-8 flex-1 rounded-lg"}),o.jsx(Se,{className:"h-8 flex-1 rounded-lg"})]})]},X)):e.length===0?o.jsxs("div",{className:"col-span-full py-12 bg-bg-card border border-border rounded-xl text-center text-text-secondary",children:[o.jsx(Kd,{className:"mx-auto mb-4 text-text-muted",size:48}),o.jsx("p",{className:"text-lg",children:"No assets assigned to you"})]}):e.map(Y=>o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl overflow-hidden hover:shadow-sm transition-all duration-200 flex flex-col group",children:[o.jsxs("div",{className:"p-4 border-b border-border bg-gradient-to-r from-bg-hover to-transparent flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1 min-w-0 pr-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Kd,{className:"text-brand-primary shrink-0",size:18}),o.jsx("h3",{className:"text-base font-bold text-text-primary truncate",title:Y.assetId.name,children:Y.assetId.name})]}),o.jsx("p",{className:"text-xs text-text-secondary font-mono truncate pl-6.5",children:Y.assetId.assetCode})]}),o.jsx(Zu,{variant:Y.status==="Pending Acknowledgement"?"warning":"success",size:"sm",className:"shrink-0",children:Y.status})]}),o.jsxs("div",{className:"p-4 flex-1 space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[Y.assetId.manufacturer&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-primary",children:[o.jsx(Lve,{size:14,className:"text-text-secondary shrink-0"}),o.jsx("span",{className:"truncate",title:Y.assetId.manufacturer,children:Y.assetId.manufacturer})]}),Y.assetId.model&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-primary",children:[o.jsx(qZ,{size:14,className:"text-text-secondary shrink-0"}),o.jsx("span",{className:"truncate",title:Y.assetId.model,children:Y.assetId.model})]}),Y.assetId.serialNumber&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-primary",children:[o.jsx(v_,{size:14,className:"text-text-secondary shrink-0"}),o.jsx("span",{className:"truncate font-mono text-xs",title:Y.assetId.serialNumber,children:Y.assetId.serialNumber})]})]}),o.jsxs("div",{className:"border-t border-border/50 pt-2 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-primary",children:[o.jsx(zZ,{size:14,className:"text-text-secondary shrink-0"}),o.jsxs("span",{children:["Issued:"," ",new Date(Y.issueDate).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-primary",children:[o.jsx(Nm,{size:14,className:"text-text-secondary shrink-0"}),o.jsxs("span",{children:["Condition: ",Y.conditionAtIssue]})]}),Y.expectedReturnDate&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-primary",children:[o.jsx(h1e,{size:14,className:"text-text-secondary shrink-0"}),o.jsxs("span",{children:["Return:"," ",new Date(Y.expectedReturnDate).toLocaleDateString()]})]})]}),Y.notes&&o.jsx("div",{className:"pt-2",children:o.jsxs("p",{className:"text-xs text-text-secondary italic line-clamp-2",title:Y.notes,children:['"',Y.notes,'"']})})]}),o.jsx("div",{className:"p-3 border-t border-border bg-bg-hover/50",children:Y.status==="Pending Acknowledgement"?o.jsx(dt,{variant:"primary",size:"sm",className:"w-full justify-center h-8",onClick:()=>l(Y._id),leftIcon:o.jsx(In,{size:14}),children:"Acknowledge"}):Y.status==="Active"?o.jsxs("div",{className:"flex gap-2",children:[o.jsx(dt,{variant:"secondary",size:"sm",className:"flex-1 justify-center h-8 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 border border-gray-200 dark:border-gray-600",onClick:()=>d(Y._id),leftIcon:o.jsx(vx,{size:14}),children:"Return"}),o.jsx(dt,{variant:"danger",size:"sm",className:"flex-1 justify-center h-8",onClick:()=>g(Y),leftIcon:o.jsx(ta,{size:14}),children:"Report"})]}):o.jsx("div",{className:"h-8"})})]},Y._id))}),o.jsx(_r,{isOpen:i!==null,onClose:()=>l(null),title:"Acknowledge Asset Receipt",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-text-secondary",children:"By acknowledging this asset, you confirm that:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-text-secondary text-sm",children:[o.jsx("li",{children:"You have received the asset in the condition stated"}),o.jsx("li",{children:"You will handle the asset with care and responsibility"}),o.jsx("li",{children:"You will report any damage or issues immediately"}),o.jsx("li",{children:"You will return the asset when requested or upon leaving the company"})]}),o.jsx("div",{className:"p-3 bg-bg-secondary rounded-lg",children:o.jsx(gl,{id:"agree",label:"I agree to the terms and conditions above",required:!0})}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(dt,{variant:"secondary",onClick:()=>l(null),children:"Cancel"}),o.jsx(dt,{onClick:()=>i&&A(i),children:"Acknowledge Receipt"})]})]})}),o.jsx(_r,{isOpen:c!==null,onClose:()=>{d(null),f("Good"),h("")},title:"Return Asset",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Condition at Return *"}),o.jsx(sr,{value:u,onChange:Y=>f(Y),options:[{value:"New",label:"New"},{value:"Good",label:"Good"},{value:"Used",label:"Used"},{value:"Damaged",label:"Damaged"}],className:"bg-bg-input"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Notes (Optional)"}),o.jsx(jl,{value:p,onChange:Y=>h(Y.target.value),className:"bg-bg-input",rows:3,placeholder:"Any additional notes about the asset condition..."})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(dt,{variant:"secondary",onClick:()=>{d(null),f("Good"),h("")},children:"Cancel"}),o.jsx(dt,{onClick:O,children:"Process Return"})]})]})}),o.jsx(_r,{isOpen:m!==null,onClose:()=>{g(null),y("Damage"),w(""),C("Medium"),S([])},title:"Report Asset Issue",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:o.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-400",children:[o.jsx("strong",{children:"Asset:"})," ",(I=m==null?void 0:m.assetId)==null?void 0:I.name," (",(z=m==null?void 0:m.assetId)==null?void 0:z.assetCode,")"]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Incident Type *"}),o.jsx(sr,{value:x,onChange:Y=>y(Y),options:[{value:"Damage",label:"Damage"},{value:"Lost",label:"Lost"},{value:"Theft",label:"Theft"},{value:"Malfunction",label:"Malfunction"}],className:"bg-bg-input"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Description *"}),o.jsx(jl,{value:v,onChange:Y=>w(Y.target.value),className:"bg-bg-input",rows:4,placeholder:"Describe what happened in detail...",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Urgency"}),o.jsx(sr,{value:N,onChange:Y=>C(Y),options:[{value:"Low",label:"Low"},{value:"Medium",label:"Medium"},{value:"High",label:"High"},{value:"Critical",label:"Critical"}],className:"bg-bg-input"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Upload Photos (Optional, max 5)"}),o.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:Y=>{const X=Array.from(Y.target.files||[]);S(X.slice(0,5))},className:"w-full px-3 py-2 bg-bg-input border border-border rounded-lg text-sm"}),_.length>0&&o.jsxs("p",{className:"text-xs text-text-secondary mt-1",children:[_.length," photo(s) selected"]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(dt,{variant:"secondary",onClick:()=>{g(null),y("Damage"),w(""),C("Medium"),S([])},children:"Cancel"}),o.jsx(dt,{onClick:D,disabled:!v.trim(),children:"Submit Report"})]})]})})]})}function nst(){const e=vs(),[t,r]=b.useState(null),[n,a]=b.useState(!0),[s,i]=b.useState("");b.useEffect(()=>{l()},[]);const l=async()=>{try{a(!0);const u=await je.getAssetStats();r(u)}catch(u){i(u.message)}finally{a(!1)}};if(n)return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Se,{className:"h-8 w-48 mb-2"}),o.jsx(Se,{className:"h-4 w-64"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(u=>o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(Se,{className:"h-6 w-6 rounded"}),o.jsx(Se,{className:"h-4 w-12"})]}),o.jsx(Se,{className:"h-8 w-16 mb-1"}),o.jsx(Se,{className:"h-4 w-24"})]},u))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6 flex flex-col h-full",children:[o.jsx(Se,{className:"h-6 w-48 mb-4"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 flex-1",children:[[1,2,3,4].map(u=>o.jsxs("div",{className:"p-3 border border-border rounded-lg h-24",children:[o.jsx(Se,{className:"h-5 w-20 mb-2"}),o.jsx(Se,{className:"h-8 w-12"})]},u)),o.jsxs("div",{className:"col-span-2 p-3 border border-border rounded-lg flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Se,{className:"h-5 w-5 rounded"}),o.jsx(Se,{className:"h-4 w-20"})]}),o.jsx(Se,{className:"h-6 w-12"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"border border-border rounded-xl p-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Se,{className:"h-6 w-6 rounded-full"}),o.jsxs("div",{className:"space-y-2 flex-1",children:[o.jsx(Se,{className:"h-5 w-48"}),o.jsx(Se,{className:"h-4 w-full"})]})]})}),o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6",children:[o.jsx(Se,{className:"h-6 w-32 mb-4"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:[1,2,3,4].map(u=>o.jsxs("div",{className:"p-4 border border-border rounded-lg h-20",children:[o.jsx(Se,{className:"h-5 w-5 mb-2"}),o.jsx(Se,{className:"h-4 w-24"})]},u))})]})]})]}),o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6",children:[o.jsx(Se,{className:"h-6 w-40 mb-4"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(u=>o.jsxs("div",{children:[o.jsx(Se,{className:"h-4 w-24 mb-2"}),o.jsxs("div",{className:"flex items-end gap-2 mb-2",children:[o.jsx(Se,{className:"h-8 w-16"}),o.jsx(Se,{className:"h-4 w-32"})]}),o.jsx(Se,{className:"h-2 w-full rounded-full"})]},u))})]})]});if(s)return o.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:s})});const c=()=>!t||t.totalAssets===0?0:Math.round(t.issuedAssets/t.totalAssets*100),d=()=>!t||t.totalAssets===0?0:Math.round(t.availableAssets/t.totalAssets*100);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Asset Management"}),o.jsx("p",{className:"text-text-secondary",children:"Overview of company assets and inventory"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(Kd,{className:"text-brand-primary",size:24}),o.jsx("span",{className:"text-xs text-text-secondary",children:"Total"})]}),o.jsx("div",{className:"text-3xl font-bold text-text-primary",children:(t==null?void 0:t.totalAssets)||0}),o.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"Total Assets"})]}),o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(In,{className:"text-status-success",size:24}),o.jsxs(Zu,{variant:"success",children:[d(),"%"]})]}),o.jsx("div",{className:"text-3xl font-bold text-text-primary",children:(t==null?void 0:t.availableAssets)||0}),o.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"Available"})]}),o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(wc,{className:"text-status-info",size:24}),o.jsxs(Zu,{variant:"info",children:[c(),"%"]})]}),o.jsx("div",{className:"text-3xl font-bold text-text-primary",children:(t==null?void 0:t.issuedAssets)||0}),o.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"Issued"})]}),o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(wc,{className:"text-brand-primary",size:24}),o.jsx("span",{className:"text-xs text-text-secondary",children:"INR"})]}),o.jsx("div",{className:"text-3xl font-bold text-text-primary",children:new Intl.NumberFormat("en-IN",{notation:"compact",maximumFractionDigits:1}).format((t==null?void 0:t.totalValue)||0)}),o.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"Total Value"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6 flex flex-col h-full",children:[o.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Asset Status Breakdown"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 flex-1",children:[o.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/10 border border-green-100 dark:border-green-800 rounded-lg flex flex-col justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(In,{className:"text-green-600 dark:text-green-400",size:18}),o.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Available"})]}),o.jsx("span",{className:"text-2xl font-bold text-text-primary",children:(t==null?void 0:t.availableAssets)||0})]}),o.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800 rounded-lg flex flex-col justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(wc,{className:"text-blue-600 dark:text-blue-400",size:18}),o.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Issued"})]}),o.jsx("span",{className:"text-2xl font-bold text-text-primary",children:(t==null?void 0:t.issuedAssets)||0})]}),o.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/10 border border-amber-100 dark:border-amber-800 rounded-lg flex flex-col justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ta,{className:"text-amber-600 dark:text-amber-400",size:18}),o.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Under Repair"})]}),o.jsx("span",{className:"text-2xl font-bold text-text-primary",children:(t==null?void 0:t.underRepairAssets)||0})]}),o.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-800 rounded-lg flex flex-col justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(vx,{className:"text-red-600 dark:text-red-400",size:18}),o.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Lost"})]}),o.jsx("span",{className:"text-2xl font-bold text-text-primary",children:(t==null?void 0:t.lostAssets)||0})]}),o.jsxs("div",{className:"col-span-2 p-3 bg-gray-50 dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700 rounded-lg flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Kd,{className:"text-gray-500",size:18}),o.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Disposed"})]}),o.jsx("span",{className:"text-2xl font-bold text-text-primary",children:(t==null?void 0:t.disposedAssets)||0})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[t&&t.warrantyExpiringSoon>0&&o.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(ta,{className:"text-amber-600 dark:text-amber-400 flex-shrink-0",size:24}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-400 mb-1",children:"Warranty Expiring Soon"}),o.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-500",children:[t.warrantyExpiringSoon," asset",t.warrantyExpiringSoon!==1?"s":""," with warranty expiring in 30 days"]})]})]})}),o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{onClick:()=>e("/assets/inventory"),className:"p-4 bg-brand-primary/10 hover:bg-brand-primary/20 rounded-lg transition-colors text-left",children:[o.jsx(Kd,{className:"text-brand-primary mb-2",size:20}),o.jsx("p",{className:"text-sm font-medium text-text-primary",children:"View Inventory"})]}),o.jsxs("button",{onClick:()=>e("/miscellaneous/asset-categories"),className:"p-4 bg-brand-primary/10 hover:bg-brand-primary/20 rounded-lg transition-colors text-left",children:[o.jsx(Kd,{className:"text-brand-primary mb-2",size:20}),o.jsx("p",{className:"text-sm font-medium text-text-primary",children:"Categories"})]}),o.jsxs("button",{onClick:()=>e("/my-assets"),className:"p-4 bg-brand-primary/10 hover:bg-brand-primary/20 rounded-lg transition-colors text-left",children:[o.jsx(In,{className:"text-brand-primary mb-2",size:20}),o.jsx("p",{className:"text-sm font-medium text-text-primary",children:"My Assets"})]}),o.jsxs("button",{onClick:()=>e("/assets/inventory"),className:"p-4 bg-brand-primary/10 hover:bg-brand-primary/20 rounded-lg transition-colors text-left",children:[o.jsx(Mn,{className:"text-brand-primary mb-2",size:20}),o.jsx("p",{className:"text-sm font-medium text-text-primary",children:"History"})]})]})]})]})]}),o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Utilization Insights"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-text-secondary mb-2",children:"Utilization Rate"}),o.jsxs("div",{className:"flex items-end gap-2",children:[o.jsxs("span",{className:"text-2xl font-bold text-text-primary",children:[c(),"%"]}),o.jsx("span",{className:"text-sm text-text-secondary mb-1",children:"of assets in use"})]}),o.jsx("div",{className:"mt-2 bg-bg-secondary rounded-full h-2",children:o.jsx("div",{className:"bg-status-info rounded-full h-2 transition-all",style:{width:`${c()}%`}})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-text-secondary mb-2",children:"Availability Rate"}),o.jsxs("div",{className:"flex items-end gap-2",children:[o.jsxs("span",{className:"text-2xl font-bold text-text-primary",children:[d(),"%"]}),o.jsx("span",{className:"text-sm text-text-secondary mb-1",children:"available for use"})]}),o.jsx("div",{className:"mt-2 bg-bg-secondary rounded-full h-2",children:o.jsx("div",{className:"bg-status-success rounded-full h-2 transition-all",style:{width:`${d()}%`}})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-text-secondary mb-2",children:"Asset Health"}),o.jsxs("div",{className:"flex items-end gap-2",children:[o.jsxs("span",{className:"text-2xl font-bold text-text-primary",children:[t?Math.round((t.totalAssets-t.lostAssets-t.disposedAssets-t.underRepairAssets)/t.totalAssets*100):0,"%"]}),o.jsx("span",{className:"text-sm text-text-secondary mb-1",children:"in good condition"})]}),o.jsx("div",{className:"mt-2 bg-bg-secondary rounded-full h-2",children:o.jsx("div",{className:"bg-status-success rounded-full h-2 transition-all",style:{width:`${t?Math.round((t.totalAssets-t.lostAssets-t.disposedAssets-t.underRepairAssets)/t.totalAssets*100):0}%`}})})]})]})]})]})}function ast({postId:e}){const{user:t}=Sr(),[r,n]=b.useState([]),[a,s]=b.useState(!0),[i,l]=b.useState(""),[c,d]=b.useState(!1);b.useEffect(()=>{u()},[e]);const u=async()=>{try{const p=await je.getComments(e);n(p.comments||[])}catch(p){console.error("Failed to fetch comments",p)}finally{s(!1)}},f=async p=>{if(p.preventDefault(),!!i.trim()){d(!0);try{const h=await je.addComment(e,i);n([...r,h.comment]),l("")}catch(h){console.error("Failed to add comment",h)}finally{d(!1)}}};return a?o.jsx("div",{className:"flex justify-center p-4",children:o.jsx(Vn,{className:"animate-spin text-gray-400",size:20})}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-1",children:[r.map(p=>{var m,g,x,y,v,w,N,C;const h=(m=p.reactions)==null?void 0:m.find(_=>{var S;return _.user===(t==null?void 0:t.employeeId)||((S=_.user)==null?void 0:S._id)===(t==null?void 0:t.employeeId)});return o.jsxs("div",{className:"flex gap-2.5 group",children:[o.jsx(Ac,{src:(g=p.author)!=null&&g.profilePicture?`${Ma}/${p.author.profilePicture}`:void 0,alt:(x=p.author)==null?void 0:x.firstName,name:`${(y=p.author)==null?void 0:y.firstName} ${(v=p.author)==null?void 0:v.lastName}`,className:"w-8 h-8 flex-shrink-0"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"bg-gray-50 dark:bg-bg-hover rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[o.jsxs("span",{className:"font-semibold text-xs text-gray-900 dark:text-text-primary",children:[(w=p.author)==null?void 0:w.firstName," ",(N=p.author)==null?void 0:N.lastName]}),o.jsx("span",{className:"text-[10px] text-gray-500 dark:text-text-muted",children:Lee(new Date(p.createdAt),{addSuffix:!0})})]}),o.jsx("p",{className:"text-sm text-gray-700 dark:text-text-primary whitespace-pre-wrap leading-tight",children:p.content})]}),o.jsx("div",{className:"flex items-center gap-4 mt-1 ml-1",children:o.jsxs("button",{onClick:async()=>{try{const _=await je.toggleCommentReaction(p._id,"like");n(S=>S.map(k=>k._id===p._id?{...k,reactions:_.reactions}:k))}catch(_){console.error("Failed to react",_)}},className:`text-xs font-medium flex items-center gap-1 transition-colors ${h?"text-red-500":"text-gray-500 dark:text-text-secondary hover:text-gray-700 dark:hover:text-text-primary"}`,children:[h?"Liked":"Like",((C=p.reactions)==null?void 0:C.length)>0&&o.jsx("span",{className:"bg-gray-100 dark:bg-bg-hover px-1 rounded-full text-[10px]",children:p.reactions.length})]})})]})]},p._id)}),r.length===0&&o.jsx("p",{className:"text-center text-xs text-gray-400 py-2",children:"No comments yet. Be the first!"})]}),o.jsxs("form",{onSubmit:f,className:"flex items-center gap-2",children:[o.jsx(Ac,{src:t!=null&&t.avatar?`${Ma}/${t.avatar}`:void 0,name:t==null?void 0:t.name,className:"w-8 h-8"}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(ft,{value:i,onChange:p=>l(p.target.value),placeholder:"Write a comment...",className:"bg-gray-100 dark:bg-bg-hover rounded-full pr-10"}),o.jsx("button",{type:"submit",disabled:!i.trim()||c,className:"absolute right-2 top-1/2 -translate-y-1/2 text-blue-600 hover:text-blue-700 disabled:opacity-50 p-1",children:c?o.jsx(Vn,{size:16,className:"animate-spin"}):o.jsx(zm,{size:16})})]})]})]})}function sst({post:e,onPostUpdate:t,onDelete:r}){var O,D,M,I,z,Y,X,V,G,J,B,q,T,R;const{user:n}=Sr(),[a,s]=b.useState(!1),[i,l]=b.useState(!1),[c,d]=b.useState(!1),[u,f]=b.useState(e.content),[p,h]=b.useState(!1),[m,g]=b.useState(!1),[x,y]=b.useState(!1),[v,w]=b.useState(!1),N=async()=>{try{y(!0),await je.deletePost(e._id),r(e._id)}catch(F){console.error("Delete failed",F)}finally{y(!1),g(!1)}},C=async()=>{if(u.trim())try{h(!0);const F=await je.updatePost(e._id,u);t(F.post),d(!1)}catch(F){console.error("Update failed",F)}finally{h(!1)}},_=(O=e.reactions)==null?void 0:O.find(F=>{var W,te;if((W=F.user)!=null&&W.employeeId)return F.user.employeeId===(n==null?void 0:n.employeeId);const H=((te=F.user)==null?void 0:te._id)||F.user;return String(H)===String(n==null?void 0:n.id)||String(H)===String(n==null?void 0:n.employeeId)}),S=async()=>{if(!i){l(!0);try{const F=await je.toggleReaction(e._id,"like");t({...e,reactions:F.reactions})}catch(F){console.error("Reaction failed",F)}finally{l(!1)}}},k=async F=>{try{const H=await je.votePoll(e._id,F);t({...e,pollData:H.pollData})}catch(H){console.error("Voting failed",H)}},A=((D=e.author)==null?void 0:D.employeeId)===(n==null?void 0:n.employeeId)||((M=e.author)==null?void 0:M._id)===(n==null?void 0:n.employeeId);return o.jsxs("div",{className:"bg-white dark:bg-bg-card border border-border rounded-xl p-5 shadow-sm hover:shadow-md transition-all duration-300 mb-6 group",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ac,{src:(I=e.author)!=null&&I.profilePicture?`${Ma}/${e.author.profilePicture}`:void 0,alt:(z=e.author)==null?void 0:z.firstName,name:`${(Y=e.author)==null?void 0:Y.firstName} ${(X=e.author)==null?void 0:X.lastName}`,className:"w-10 h-10 ring-2 ring-white dark:ring-bg-card shadow-sm"}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-text-primary text-sm flex items-center gap-2",children:[(V=e.author)==null?void 0:V.firstName," ",(G=e.author)==null?void 0:G.lastName,e.type==="appreciation"&&o.jsx("span",{className:"text-xs font-normal text-text-secondary",children:"shared an appreciation"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[o.jsx("span",{className:"font-medium text-text-secondary",children:((J=e.author)==null?void 0:J.designation)||"Employee"}),o.jsx("span",{children:""}),o.jsx("span",{className:"text-text-muted",children:Lee(new Date(e.createdAt),{addSuffix:!0})})]})]})]}),(A||(n==null?void 0:n.role)==="Admin")&&o.jsxs("div",{className:"relative opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>w(!v),className:"text-text-muted hover:text-text-primary p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-bg-hover transition-colors",children:o.jsx(Dve,{size:18})}),v&&o.jsxs("div",{className:"absolute right-0 top-8 w-40 bg-white dark:bg-bg-card border border-border shadow-lg rounded-xl py-1 z-20 animate-in fade-in zoom-in-95 duration-200",children:[A&&o.jsx("button",{onClick:()=>{d(!0),w(!1)},className:"w-full text-left px-4 py-2 text-sm text-text-primary hover:bg-gray-50 dark:hover:bg-bg-hover transition-colors font-medium",children:"Edit Post"}),o.jsx("button",{onClick:()=>{g(!0),w(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors font-medium",children:"Delete Post"})]})]})]}),o.jsx("div",{className:"mb-4",children:c?o.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-bg-hover p-4 rounded-xl border border-border",children:[o.jsx("textarea",{value:u,onChange:F=>f(F.target.value),className:"w-full p-3 border border-border rounded-lg focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary min-h-[100px] text-sm bg-white dark:bg-bg-card"}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>{d(!1),f(e.content)},disabled:p,className:"px-4 py-2 text-xs font-medium text-text-secondary hover:bg-gray-200 dark:hover:bg-bg-main rounded-lg transition-colors",children:"Cancel"}),o.jsx("button",{onClick:C,disabled:p||!u.trim(),className:"px-4 py-2 text-xs font-medium bg-brand-primary text-white rounded-lg hover:bg-brand-primary/90 disabled:opacity-50 shadow-sm",children:p?"Saving...":"Save Changes"})]})]}):e.type==="appreciation"?o.jsxs("div",{className:"relative overflow-hidden p-3.5 bg-gradient-to-br from-brand-primary/5 via-brand-secondary/5 to-transparent rounded-xl border border-brand-primary/10",children:[o.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-brand-primary/5 rounded-full blur-3xl -mr-12 -mt-12 pointer-events-none"}),o.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[e.media&&e.media.length>0&&o.jsx("div",{className:"flex-shrink-0 bg-white dark:bg-bg-card p-2 rounded-full border border-border shadow-sm ring-2 ring-white/50 dark:ring-white/5",children:o.jsx("img",{src:e.media[0].startsWith("http")?e.media[0]:`${Ma}${e.media[0]}`,alt:"Badge",className:"w-10 h-10 object-contain"})}),o.jsx("div",{className:"flex-1 text-text-primary text-sm leading-snug",children:e.relatedAppreciationId&&typeof e.relatedAppreciationId=="object"&&"sender"in e.relatedAppreciationId?o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"font-semibold text-brand-primary",children:(B=e.relatedAppreciationId.badge)==null?void 0:B.title})," ","awarded to"," ",o.jsxs("span",{className:"font-semibold text-text-primary",children:[(q=e.relatedAppreciationId.recipient)==null?void 0:q.firstName," ",(T=e.relatedAppreciationId.recipient)==null?void 0:T.lastName]})]}),e.relatedAppreciationId.message&&o.jsx("div",{className:"relative pl-3 border-l-2 border-brand-primary/30",children:o.jsxs("p",{className:"italic text-text-secondary text-sm line-clamp-2",children:['"',e.relatedAppreciationId.message,'"']})})]}):o.jsx("p",{className:"whitespace-pre-wrap",children:e.content})})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-text-primary whitespace-pre-wrap text-[15px] leading-relaxed mb-4",children:e.content}),e.media&&e.media.length>0&&o.jsx("div",{className:`grid gap-2 mb-4 rounded-xl overflow-hidden ${e.media.length===1?"grid-cols-1":"grid-cols-2"}`,children:e.media.map((F,H)=>o.jsxs("div",{className:"relative group cursor-pointer",children:[o.jsx("img",{src:F.startsWith("http")?F:`${Ma}${F}`,alt:"Post attachment",className:"w-full h-full object-cover max-h-[500px] hover:scale-[1.02] transition-transform duration-300"}),o.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors pointer-events-none"})]},H))}),e.type==="poll"&&e.pollData&&o.jsxs("div",{className:"bg-gray-50/50 dark:bg-black/20 rounded-xl p-4 border border-border backdrop-blur-sm",children:[o.jsxs("h5",{className:"font-semibold text-sm mb-4 text-text-primary flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-4 bg-brand-primary rounded-full"}),e.pollData.question||"Poll"]}),o.jsx("div",{className:"space-y-2.5",children:e.pollData.options.map((F,H)=>{const W=e.pollData.options.reduce((se,ce)=>se+ce.votes.length,0),te=W===0?0:Math.round(F.votes.length/W*100),pe=F.votes.some(se=>se===(n==null?void 0:n.employeeId)||se._id===(n==null?void 0:n.employeeId));return o.jsxs("button",{onClick:()=>k(H),className:`relative w-full text-left p-3 rounded-xl border text-sm transition-all overflow-hidden group/opt ${pe?"border-brand-primary/30 text-brand-primary font-medium":"border-border hover:border-brand-primary/30 text-text-primary dark:text-text-primary"}`,children:[o.jsx("div",{className:`absolute left-0 top-0 bottom-0 transition-all duration-700 ease-out ${pe?"bg-brand-primary/10 dark:bg-brand-primary/20":"bg-gray-100 dark:bg-white/5 group-hover/opt:bg-brand-primary/5"}`,style:{width:`${te}%`}}),o.jsxs("div",{className:"flex justify-between relative z-10",children:[o.jsx("span",{children:F.text}),o.jsxs("span",{className:"font-semibold",children:[te,"%"]})]})]},H)})}),o.jsx("div",{className:"flex justify-end mt-3",children:o.jsxs("span",{className:"text-xs font-medium text-text-secondary bg-white/50 dark:bg-white/5 px-2 py-1 rounded-md border border-border",children:[e.pollData.options.reduce((F,H)=>F+H.votes.length,0)," ","votes total"]})})]})]})}),o.jsx("div",{className:"flex items-center justify-between border-t border-border pt-3",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:S,className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200 ${_?"text-red-500 bg-red-50 dark:bg-red-900/10":"text-text-secondary hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/10"}`,children:[o.jsx(UZ,{size:18,className:`transition-transform duration-200 ${_?"fill-current scale-110":"scale-100"}`}),((R=e.reactions)==null?void 0:R.length)||0,o.jsx("span",{className:"hidden sm:inline font-normal opacity-80",children:"Likes"})]}),o.jsxs("button",{onClick:()=>s(!a),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200 ${a?"text-brand-primary bg-brand-primary/10":"text-text-secondary hover:text-brand-primary hover:bg-brand-primary/10"}`,children:[o.jsx(Nbe,{size:18}),e.commentCount||0,o.jsx("span",{className:"hidden sm:inline font-normal opacity-80",children:"Comments"})]})]})}),a&&o.jsx("div",{className:"mt-4 pt-4 border-t border-border animate-in fade-in slide-in-from-top-1",children:o.jsx(ast,{postId:e._id})}),o.jsx(ji,{isOpen:m,onClose:()=>g(!1),onConfirm:N,title:"Delete Post",message:"Are you sure you want to delete this post? This action cannot be undone.",confirmText:"Delete Post",variant:"danger",isLoading:x})]})}function ist({onPostCreated:e}){const{user:t}=Sr(),[r,n]=b.useState(""),[a,s]=b.useState([]),[i,l]=b.useState(!1),[c,d]=b.useState(["",""]),[u,f]=b.useState("company"),[p,h]=b.useState(!1),[m,g]=b.useState(!1),x=b.useRef(null),y=async _=>{if(_.target.files&&_.target.files.length>0){h(!0);try{const S=_.target.files[0],k=await je.uploadSocialMedia(S);s([...a,k.url])}catch(S){console.error("Upload failed",S)}finally{h(!1),x.current&&(x.current.value="")}}},v=_=>{s(a.filter((S,k)=>k!==_))},w=async()=>{if(!(!r.trim()&&a.length===0&&!i)){g(!0);try{const _={content:r,scope:u,media:a,type:i?"poll":a.length>0?"image":"text"};if(i&&(_.pollData={question:r||"Poll Question",options:c.filter(k=>k.trim()).map(k=>({text:k,votes:[]})),allowMultiple:!1},_.pollData.options.length<2)){alert("Poll needs at least 2 options"),g(!1);return}const S=await je.createPost(_);e(S.post),n(""),s([]),l(!1),d(["",""])}catch(_){console.error("Post failed",_)}finally{g(!1)}}},N=()=>d([...c,""]),C=(_,S)=>{const k=[...c];k[_]=S,d(k)};return o.jsx("div",{className:"bg-white dark:bg-bg-card rounded-xl p-4 shadow-sm border border-border hover:shadow-md transition-shadow duration-300",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsx(Ac,{src:t!=null&&t.avatar?`${Ma}/${t.avatar}`:void 0,name:t==null?void 0:t.name,className:"w-11 h-11 ring-2 ring-white dark:ring-bg-card shadow-sm"}),o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"relative inline-block group",children:[o.jsx(sr,{value:u,onChange:_=>f(_),options:[{value:"company",label:"Everyone"},{value:"department",label:"My Department"},{value:"project",label:"My Project"}],className:"w-40 bg-gray-50 dark:bg-bg-hover text-xs py-0 h-9"}),o.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-2 flex items-center text-text-muted group-hover:text-brand-primary transition-colors",children:o.jsx(Da,{size:12})})]})}),o.jsx(jl,{value:r,onChange:_=>n(_.target.value),placeholder:i?"Ask a question...":"What's on your mind?",className:"w-full border-none p-0 focus:ring-0 resize-none text-base min-h-[60px] placeholder:text-text-muted/60 bg-transparent text-text-primary shadow-none"}),a.length>0&&o.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:[a.map((_,S)=>o.jsxs("div",{className:"relative w-32 h-32 flex-shrink-0 group",children:[o.jsx("img",{src:_,alt:"preview",className:"w-full h-full object-cover rounded-xl shadow-sm border border-border"}),o.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors rounded-xl"}),o.jsx("button",{onClick:()=>v(S),className:"absolute top-2 right-2 bg-black/50 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-black/70 backdrop-blur-sm",children:o.jsx(Qi,{size:14})})]},S)),p&&o.jsx("div",{className:"w-32 h-32 flex items-center justify-center bg-gray-50 dark:bg-bg-hover rounded-xl border border-border border-dashed animate-pulse",children:o.jsx(Vn,{className:"animate-spin text-brand-primary"})})]}),i&&o.jsxs("div",{className:"bg-gray-50/50 dark:bg-black/20 p-4 rounded-xl border border-border space-y-3 animate-in fade-in slide-in-from-top-2",children:[o.jsx("div",{className:"space-y-2",children:c.map((_,S)=>o.jsx(ft,{type:"text",value:_,onChange:k=>C(S,k.target.value),placeholder:`Option ${S+1}`,className:"bg-gray-50 dark:bg-bg-card"},S))}),o.jsxs("button",{onClick:N,className:"text-xs text-brand-primary font-semibold hover:underline flex items-center gap-1",children:[o.jsx("span",{className:"text-lg leading-none",children:"+"})," Add Option"]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-3 mt-1 border-t border-border/50",children:[o.jsxs("div",{className:"flex gap-1",children:[o.jsxs("button",{onClick:()=>{var _;return(_=x.current)==null?void 0:_.click()},className:"p-2 text-text-secondary hover:text-brand-primary hover:bg-brand-primary/10 rounded-full transition-all duration-200",title:"Add Photo",children:[o.jsx(Ug,{size:20,className:"stroke-[1.5]"}),o.jsx("input",{type:"file",ref:x,className:"hidden",accept:"image/*",onChange:y})]}),o.jsx("button",{onClick:()=>l(!i),className:`p-2 rounded-full transition-all duration-200 ${i?"text-brand-primary bg-brand-primary/10":"text-text-secondary hover:text-brand-primary hover:bg-brand-primary/10"}`,title:"Create Poll",children:o.jsx(tve,{size:20,className:"stroke-[1.5]"})})]}),o.jsx("button",{onClick:w,disabled:m||!r&&a.length===0&&!i,className:"bg-brand-primary text-white px-6 py-2 rounded-full text-sm font-semibold hover:bg-brand-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-brand-primary/20 hover:shadow-brand-primary/30 hover:-translate-y-0.5 active:translate-y-0 disabled:hover:translate-y-0 disabled:shadow-none",children:m?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Vn,{size:16,className:"animate-spin"}),"Posting"]}):"Post"})]})]})]})})}function ost(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,s]=b.useState(!1),[i,l]=b.useState(1),[c,d]=b.useState(!0),{clearSocialNotifications:u}=GN();b.useEffect(()=>{u(),f()},[]);const f=async(x=1)=>{try{x>1&&s(!0);const y=await je.getSocialFeed({page:x,limit:10});console.log(`Loaded page ${x}:`,y.posts.length,"posts"),t(x===1?y.posts:v=>{const w=new Set(v.map(C=>C._id)),N=y.posts.filter(C=>!w.has(C._id));return[...v,...N]}),d(y.currentPage<y.totalPages),l(x)}catch(y){console.error("Failed to load feed",y)}finally{n(!1),s(!1)}},p=()=>{a||f(i+1)},h=x=>{t([x,...e])},m=x=>{t(e.map(y=>y._id===x._id?x:y))},g=x=>{t(e.filter(y=>y._id!==x))};return r&&i===1?o.jsxs("div",{className:"max-w-2xl mx-auto py-6 px-4 space-y-6",children:[o.jsx(Se,{className:"h-40 w-full rounded-xl"})," ",[1,2,3].map(x=>o.jsxs("div",{className:"bg-white dark:bg-bg-card rounded-xl border border-gray-200 dark:border-border p-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Se,{className:"h-10 w-10 rounded-full"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{className:"h-4 w-32"}),o.jsx(Se,{className:"h-3 w-24"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{className:"h-4 w-full"}),o.jsx(Se,{className:"h-4 w-[90%]"}),o.jsx(Se,{className:"h-4 w-[80%]"})]})]},x))]}):o.jsxs("div",{className:"max-w-2xl mx-auto py-8 px-4",children:[o.jsx("div",{className:"mb-8",children:o.jsx(ist,{onPostCreated:h})}),o.jsx("div",{className:"space-y-6",children:e.map(x=>o.jsx(sst,{post:x,onPostUpdate:m,onDelete:g},x._id))}),e.length===0&&o.jsx("div",{className:"text-center py-16 bg-white/50 dark:bg-bg-card/50 rounded-xl border-2 border-dashed border-gray-200 dark:border-border backdrop-blur-sm",children:o.jsxs("div",{className:"max-w-xs mx-auto space-y-3",children:[o.jsx("p",{className:"text-lg font-medium text-text-primary",children:"No posts yet"}),o.jsx("p",{className:"text-text-secondary",children:"Be the first to share something with your team!"})]})}),c&&e.length>0&&o.jsx("div",{className:"mt-10 text-center",children:o.jsx("button",{onClick:p,disabled:a,className:"px-6 py-2.5 bg-white dark:bg-bg-card border border-border shadow-sm rounded-full text-brand-primary font-medium text-sm hover:bg-gray-50 dark:hover:bg-bg-hover transition-all hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:a?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Loading..."]}):"Load more posts"})})]})}function lst(){return o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-text-primary flex items-center gap-3",children:["My Journey ",o.jsx(eL,{className:"text-brand-primary",size:32})]}),o.jsx("p",{className:"text-text-secondary mt-1",children:"Tracking your milestones and career progression with us."})]}),o.jsx("div",{className:"bg-bg-card rounded-xl border border-border shadow-sm p-6",children:o.jsx(cst,{})})]})}function cst(){const[e,t]=b.useState(null),[r,n]=b.useState(!0);return b.useEffect(()=>{(async()=>{try{const s=await fetch(`${Oe}/auth/me`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(s.ok){const i=await s.json();i.user&&i.user.employeeDbId?t(i.user.employeeDbId):console.error("Employee DB ID not found in profile")}}catch(s){console.error(s)}finally{n(!1)}})()},[]),r?o.jsx(Vce,{}):e?o.jsx(Uce,{employeeId:e}):o.jsx("div",{className:"text-center text-text-muted",children:"Unable to load timeline."})}const dst=({item:e})=>{const[t,r]=b.useState(!1);return o.jsxs("div",{className:`border border-border rounded-xl bg-white dark:bg-bg-card overflow-hidden transition-all duration-300 ${t?"shadow-md ring-1 ring-brand-primary/20":"hover:border-brand-primary/30"}`,children:[o.jsxs("button",{onClick:()=>r(!t),className:"w-full flex items-center justify-between p-5 text-left transition-colors",children:[o.jsx("span",{className:`font-medium text-lg ${t?"text-brand-primary":"text-text-primary"}`,children:e.question}),o.jsx("div",{className:`p-2 rounded-full transition-colors ${t?"bg-brand-primary/10 text-brand-primary":"bg-bg-secondary text-text-secondary"}`,children:t?o.jsx(cve,{size:20}):o.jsx(K8,{size:20})})]}),t&&o.jsx("div",{className:"px-5 pb-5 pt-0",children:o.jsx("div",{className:"pt-4 border-t border-border/50 text-text-secondary leading-relaxed space-y-2",children:e.answer})})]})},ust=()=>{var d;const{user:e}=Sr(),[t,r]=b.useState(""),[n,a]=b.useState("all"),s=u=>{const f={id:"attendance",title:"Attendance & Time",icon:Mn,description:"Clock-ins, timesheets, and corrections",items:[{question:"How do I clock in/out?",answer:o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:["Go to the ",o.jsx("strong",{children:"Attendance"})," page."]}),o.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[o.jsxs("li",{children:["Ensure you are on the ",o.jsx("strong",{children:"Clock In/Out"})," tab."]}),o.jsx("li",{children:"Click the large circular button to punch your time."}),o.jsx("li",{children:"The system captures your location if required."})]})]})},{question:"How do I fix a missed punch?",answer:"Navigate to 'Attendance' &gt; 'Corrections'. Click 'Request Correction', enter the correct time and reason, and submit it for your manager's approval."},{question:"Where is my attendance history?",answer:"Switch to the 'History' tab in the Attendance module to see a calendar view of your daily logs and working hours."}]},p={id:"leave",title:"Leave Management",icon:Xa,description:"Applications, balances, and holidays",items:[{question:"How do I apply for leave?",answer:"Go to 'Leave Management', click the 'Apply for Leave' button (top right), select the leave type and dates, and submit."},{question:"How do I check my leave balance?",answer:"Your available balances for Casual, Sick, and Earned leave are displayed in the summary cards at the top of the 'Leave Management' dashboard."}]},h={id:"projects",title:"Projects & Tasks",icon:cu,description:"Project tracking and task management",items:[{question:"How do I view my projects?",answer:"Go to 'Projects'. You will see a grid of project cards you are assigned to. Click on any card to view detailed tasks and team members."},{question:"How can I edit a project?",answer:"If you are a Manager or Admin, hover over the project card in the dashboard. An 'Edit' (pencil) icon will appear in the top-right corner of the card."}]},m={id:"payroll",title:"Payroll & Finance",icon:X8,description:"Payslips, tax, and salary processing",items:[{question:"Where can I download my payslip?",answer:"Navigate to 'Payroll & Finance' &gt; 'My Payslips'. You will see a list of generated payslips available for PDF download."},{question:"How are taxes handled?",answer:"Tax deductions are automated based on the configured regulatory brackets. Check the 'Deductions' section of your payslip for details."}]},g={id:"hierarchy",title:"Organization",icon:qZ,description:"Reporting lines and team structure",items:[{question:"How do I view the organizational chart?",answer:"Go to the 'Hierarchy' module. This interactive chart shows the reporting structure from the CEO down to individual contributors."}]},x={id:"manager",title:"Manager Actions",icon:Da,description:"Approvals and team oversight",items:[{question:"How do I approve leave requests?",answer:"In 'Leave Management', switch to the 'Approvals' tab. You can Approve or Reject pending requests from your team members here."},{question:"How do I approve attendance corrections?",answer:"Go to 'Attendance' &gt; 'Pending Approvals'. Review the requested time changes and approve them to update the employee's log."}]},y={id:"hr",title:"HR Administration",icon:xn,description:"Onboarding and policies",items:[{question:"How do I add a new employee?",answer:o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:["Go to ",o.jsx("strong",{children:"Employee Management"})," and click the"," ",o.jsx("strong",{children:"Add Employee"})," button."]}),o.jsx("p",{className:"mt-2",children:"Complete the tabs for Basic Info, Work Info, and Personal Details. This automatically creates their user account and sends a welcome email."})]})},{question:"How do I change an employee's status?",answer:"In 'Employee Management', find the user in the list. Click the 'Status Toggle' icon (User with check/x) in the Actions column to activate or deactivate them."}]},v={id:"admin",title:"System Admin",icon:Ok,description:"Configuration, roles, and logs",items:[{question:"How do I create custom roles?",answer:"Go to 'Role Management' &gt; 'Add Role'. Define the role name and select precise permissions for each module before saving."},{question:"How do I assign shifts?",answer:o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Step 1:"})," Ensure the shift exists in 'Shift Management'."]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Step 2:"})," Go to 'Employee Management', click the"," ",o.jsx("strong",{children:"Edit (pencil)"})," icon for the employee."]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Step 3:"})," In the 'Work Info' tab, select the correct Shift from the dropdown."]})]})},{question:"How do I process payroll?",answer:o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{children:"Go to 'Payroll & Finance' > 'Payroll Processing'."}),o.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[o.jsx("li",{children:"Select the Month/Year."}),o.jsxs("li",{children:["Click ",o.jsx("strong",{children:"Calculate"})," for an employee (or bulk calculate)."]}),o.jsxs("li",{children:["Review the draft, then click ",o.jsx("strong",{children:"Approve"}),"."]}),o.jsxs("li",{children:["Finally, click ",o.jsx("strong",{children:"Mark as Paid"})," to release the payslip."]})]})]})},{question:"How do I moderate the Social Wall?",answer:"Admins can delete inappropriate content. Hover over any post on the Social Wall, click the 'More Options' (three dots) menu that appears, and select 'Delete'."},{question:"Where is the Audit Trail?",answer:"Go to 'System Administration' &gt; 'Audit Trail'. This logs all critical system actions for security and compliance."}]};let w=[f,p,h,m,g];return u==="Project Manager"&&w.push(x),u==="HR"&&(w.push(x),w.push(y)),(u==="Admin"||u==="Super Admin")&&(w.push(x),w.push(y),w.push(v)),w},i=(e==null?void 0:e.role)||"Employee",l=s(i),c=b.useMemo(()=>{let u=l;return n!=="all"&&(u=u.filter(f=>f.id===n)),t&&(u=u.map(f=>({...f,items:f.items.filter(p=>p.question.toLowerCase().includes(t.toLowerCase())||typeof p.answer=="string"&&p.answer.toLowerCase().includes(t.toLowerCase()))})).filter(f=>f.items.length>0)),u},[l,t,n]);return o.jsxs("div",{className:"min-h-screen pb-12 bg-bg-main animate-in fade-in duration-500",style:{marginTop:-32,marginLeft:-32,marginRight:-32},children:[o.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-brand-primary/90 to-brand-secondary/90 text-white pb-24 pt-16",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-10"}),o.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-96 h-96 bg-white/10 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-72 h-72 bg-black/10 rounded-full blur-3xl"}),o.jsxs("div",{className:"relative max-w-5xl mx-auto px-6 text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-white/10 backdrop-blur-md rounded-full mb-6 ring-1 ring-white/20 shadow-lg",children:o.jsx(HZ,{className:"text-white",size:32})}),o.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4 tracking-tight",children:["How can we help you, ",(d=e==null?void 0:e.name)==null?void 0:d.split(" ")[0],"?"]}),o.jsx("p",{className:"text-lg md:text-xl text-white/80 max-w-2xl mx-auto font-medium",children:"Find answers, manage your work, and get the most out of HRMS."})]})]}),o.jsx("div",{className:"max-w-3xl mx-auto px-6 -mt-8 relative z-10",children:o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute inset-0 bg-brand-primary/20 blur-xl rounded-2xl group-hover:bg-brand-primary/30 transition-colors"}),o.jsxs("div",{className:"relative bg-white dark:bg-bg-card rounded-2xl shadow-xl flex items-center p-2 ring-1 ring-border",children:[o.jsx(df,{className:"ml-4 text-text-muted",size:24}),o.jsx("input",{type:"text",placeholder:"Search for answers (e.g., 'apply leave', 'payslip', 'shift')...",value:t,onChange:u=>r(u.target.value),className:"w-full px-4 py-3 bg-transparent border-none focus:ring-0 text-text-primary placeholder:text-text-muted/70 text-lg"}),t&&o.jsx("button",{onClick:()=>r(""),className:"mr-2 p-2 hover:bg-bg-hover rounded-full text-text-muted transition-colors",children:"Clear"})]})]})}),o.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-12",children:[!t&&o.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mb-10",children:[o.jsx("button",{onClick:()=>a("all"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${n==="all"?"bg-brand-primary text-white shadow-md shadow-brand-primary/25":"bg-white dark:bg-bg-card border border-border text-text-secondary hover:bg-bg-hover"}`,children:"All Topics"}),l.map(u=>o.jsxs("button",{onClick:()=>a(u.id),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all ${n===u.id?"bg-brand-primary text-white shadow-md shadow-brand-primary/25":"bg-white dark:bg-bg-card border border-border text-text-secondary hover:bg-bg-hover"}`,children:[o.jsx(u.icon,{size:16}),u.title]},u.id))]}),o.jsx("div",{className:"space-y-12",children:c.length>0?c.map(u=>o.jsxs("div",{className:"animate-in slide-in-from-bottom-4 duration-500",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"p-3 bg-brand-primary/10 rounded-xl text-brand-primary",children:o.jsx(u.icon,{size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-text-primary tracking-tight",children:u.title}),o.jsx("p",{className:"text-text-secondary text-sm",children:u.description})]})]}),o.jsx("div",{className:"grid gap-4",children:u.items.map((f,p)=>o.jsx(dst,{item:f},p))})]},u.id)):o.jsxs("div",{className:"text-center py-20",children:[o.jsx("div",{className:"bg-bg-secondary/50 w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(zye,{size:40,className:"text-text-muted"})}),o.jsx("h3",{className:"text-xl font-semibold text-text-primary mb-2",children:"No matching results"}),o.jsxs("p",{className:"text-text-secondary max-w-sm mx-auto",children:[`We couldn't find any FAQs matching "`,t,'". Try a different specific keyword.']}),o.jsx("button",{onClick:()=>r(""),className:"mt-6 text-brand-primary font-medium hover:underline",children:"View all topics"})]})})]}),o.jsx("div",{className:"max-w-5xl mx-auto px-6 mt-12",children:o.jsxs("div",{className:"bg-brand-secondary/5 dark:bg-brand-secondary/10 border border-brand-primary/10 rounded-2xl p-8 md:p-12 text-center relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-brand-primary/5 rounded-full blur-3xl -mr-12 -mt-12 pointer-events-none"}),o.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-4 relative z-10",children:"Still need help?"}),o.jsx("p",{className:"text-text-secondary max-w-lg mx-auto mb-8 relative z-10",children:"Our support team is just a click away. Reach out to us for detailed assistance with your account."}),o.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 relative z-10",children:o.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-white dark:bg-bg-card border border-border hover:border-brand-primary/50 text-text-primary rounded-xl font-medium transition-all shadow-sm hover:shadow-md group",children:[o.jsx(bc,{size:18,className:"text-brand-primary group-hover:scale-110 transition-transform"}),"Email Support"]})})]})})]})};function fst(){const{showToast:e}=GN(),{refreshUser:t}=Sr(),[r,n]=b.useState(!1),[a,s]=b.useState(!1),[i,l]=b.useState(null),[c,d]=b.useState(null),[u,f]=b.useState({companyName:"",subdomain:"",timezone:"Asia/Kolkata",currency:"INR",workHours:{start:"09:00",end:"18:00"},dateFormat:"DD/MM/YYYY",logo:null,favicon:null});b.useEffect(()=>{p()},[]);const p=async()=>{try{n(!0);const x=(await je.getCompanySettings()).company;f({companyName:x.name,subdomain:x.subdomain||"",timezone:x.timezone,currency:x.currency,workHours:x.workHours,dateFormat:x.dateFormat,logo:null,favicon:null}),x.logo&&l(x.logo),x.favicon&&d(x.favicon)}catch(g){console.error("Failed to fetch settings",g),e("Failed to load settings","error")}finally{n(!1)}},h=(g,x)=>{if(g.target.files&&g.target.files[0]){const y=g.target.files[0];f(w=>({...w,[x]:y}));const v=new FileReader;v.onloadend=()=>{x==="logo"?l(v.result):d(v.result)},v.readAsDataURL(y)}},m=async g=>{g.preventDefault(),s(!0);try{const x=new FormData;x.append("companyName",u.companyName),x.append("timezone",u.timezone),x.append("currency",u.currency),x.append("workHours",JSON.stringify(u.workHours)),x.append("dateFormat",u.dateFormat),u.logo&&x.append("logo",u.logo),u.favicon&&x.append("favicon",u.favicon),await je.updateCompanySettings(x),await t(),e("System settings updated successfully","success")}catch(x){console.error("Failed to update settings",x),e(x.message||"Failed to update settings","error")}finally{s(!1)}};return r?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Se,{className:"h-8 w-48 mb-2"}),o.jsx(Se,{className:"h-4 w-64"})]}),o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Se,{className:"h-5 w-5 rounded"}),o.jsx(Se,{className:"h-6 w-32"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx(Se,{className:"h-4 w-24 mb-2"}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(Se,{className:"w-32 h-32 rounded-lg"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(Se,{className:"h-4 w-full"}),o.jsx(Se,{className:"h-3 w-3/4"}),o.jsx(Se,{className:"h-8 w-24 mt-2 rounded-lg"})]})]})]}),o.jsxs("div",{children:[o.jsx(Se,{className:"h-4 w-24 mb-2"}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(Se,{className:"w-16 h-16 rounded-lg"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(Se,{className:"h-4 w-full"}),o.jsx(Se,{className:"h-3 w-3/4"}),o.jsx(Se,{className:"h-8 w-24 mt-2 rounded-lg"})]})]})]})]})]}),o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Se,{className:"h-5 w-5 rounded"}),o.jsx(Se,{className:"h-6 w-48"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(Se,{className:"h-4 w-24 mb-1"}),o.jsx(Se,{className:"h-10 w-full rounded-lg"})]}),o.jsxs("div",{children:[o.jsx(Se,{className:"h-4 w-24 mb-1"}),o.jsx(Se,{className:"h-10 w-full rounded-lg"})]})]})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"System Settings"}),o.jsx("p",{className:"text-text-secondary",children:"Manage your company branding and general configuration"})]}),o.jsxs("form",{onSubmit:m,className:"space-y-6",children:[o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Ug,{className:"text-brand-primary",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Branding"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Company Logo"}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"w-32 h-32 border-2 border-dashed border-border rounded-lg flex items-center justify-center bg-bg-secondary overflow-hidden relative group",children:[i?o.jsx("img",{src:i,alt:"Logo preview",className:"w-full h-full object-contain"}):o.jsx("span",{className:"text-text-muted text-xs",children:"No Logo"}),o.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx("p",{className:"text-white text-xs font-medium",children:"Change"})}),o.jsx("input",{type:"file",accept:"image/*",onChange:g=>h(g,"logo"),className:"absolute inset-0 opacity-0 cursor-pointer"})]}),o.jsxs("div",{className:"flex-1 text-sm text-text-secondary",children:[o.jsx("p",{children:"Upload your company logo."}),o.jsx("p",{className:"mt-1 text-xs text-text-muted",children:"Recommended size: 200x200px. Max 5MB."}),o.jsx("div",{className:"mt-2",children:o.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-3 py-1.5 border border-border rounded-lg hover:bg-bg-hover transition-colors text-xs font-medium",children:[o.jsx(Sl,{size:14}),"Choose File",o.jsx("input",{type:"file",accept:"image/*",onChange:g=>h(g,"logo"),className:"hidden"})]})})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Favicon"}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"w-16 h-16 border-2 border-dashed border-border rounded-lg flex items-center justify-center bg-bg-secondary overflow-hidden relative group",children:[c?o.jsx("img",{src:c,alt:"Favicon preview",className:"w-8 h-8 object-contain"}):o.jsx(Lh,{className:"text-text-muted",size:24}),o.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx("p",{className:"text-white text-[10px] font-medium",children:"Change"})}),o.jsx("input",{type:"file",accept:"image/*",onChange:g=>h(g,"favicon"),className:"absolute inset-0 opacity-0 cursor-pointer"})]}),o.jsxs("div",{className:"flex-1 text-sm text-text-secondary",children:[o.jsx("p",{children:"Upload browser favicon."}),o.jsx("p",{className:"mt-1 text-xs text-text-muted",children:".ico, .png, .jpg supported."}),o.jsx("div",{className:"mt-2",children:o.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-3 py-1.5 border border-border rounded-lg hover:bg-bg-hover transition-colors text-xs font-medium",children:[o.jsx(Sl,{size:14}),"Choose File",o.jsx("input",{type:"file",accept:"image/*",onChange:g=>h(g,"favicon"),className:"hidden"})]})})]})]})]})]})]}),o.jsxs("div",{className:"bg-bg-card border border-border rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx($g,{className:"text-brand-primary",size:20}),o.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"General Configuration"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Company Name"}),o.jsx(ft,{value:u.companyName,onChange:g=>f({...u,companyName:g.target.value}),className:"bg-bg-input"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Subdomain"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(ft,{value:u.subdomain,disabled:!0,className:"bg-bg-secondary cursor-not-allowed rounded-r-none"}),o.jsx("span",{className:"px-3 py-2 bg-bg-secondary border border-l-0 border-border rounded-r-lg text-text-secondary text-sm",children:".yourhrms.com"})]}),o.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Contact support to change subdomain."})]})]})]}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx(dt,{type:"submit",isLoading:a,leftIcon:o.jsx(Fm,{size:20}),children:"Save Changes"})})]})]})}function Gf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Afe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _c={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},cb={duration:.5,overwrite:!1,delay:0},tz,Ji,ba,cd=1e8,Un=1/cd,yR=Math.PI*2,hst=yR/4,pst=0,Efe=Math.sqrt,mst=Math.cos,gst=Math.sin,ki=function(t){return typeof t=="string"},Qa=function(t){return typeof t=="function"},Gh=function(t){return typeof t=="number"},rz=function(t){return typeof t>"u"},rf=function(t){return typeof t=="object"},yl=function(t){return t!==!1},nz=function(){return typeof window<"u"},$5=function(t){return Qa(t)||ki(t)},Tfe=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},No=Array.isArray,xst=/random\([^)]+\)/g,yst=/,\s*/g,PK=/(?:-?\.?\d|\.)+/gi,Dfe=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Vy=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,zM=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Mfe=/[+-]=-?[.\d]+/,vst=/[^,'"\[\]\s]+/gi,bst=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ca,Au,vR,az,Mc={},GA={},Ofe,Pfe=function(t){return(GA=db(t,Mc))&&Cl},sz=function(t,r){return console.warn("Invalid property",t,"set to",r,"Missing plugin? gsap.registerPlugin()")},jN=function(t,r){return!r&&console.warn(t)},Rfe=function(t,r){return t&&(Mc[t]=r)&&GA&&(GA[t]=r)||Mc},_N=function(){return 0},wst={suppressEvents:!0,isStart:!0,kill:!1},V_={suppressEvents:!0,kill:!1},Nst={suppressEvents:!0},iz={},Dm=[],bR={},Lfe,Zl={},BM={},RK=30,q_=[],oz="",lz=function(t){var r=t[0],n,a;if(rf(r)||Qa(r)||(t=[t]),!(n=(r._gsap||{}).harness)){for(a=q_.length;a--&&!q_[a].targetTest(r););n=q_[a]}for(a=t.length;a--;)t[a]&&(t[a]._gsap||(t[a]._gsap=new ihe(t[a],n)))||t.splice(a,1);return t},Ag=function(t){return t._gsap||lz(dd(t))[0]._gsap},Ife=function(t,r,n){return(n=t[r])&&Qa(n)?t[r]():rz(n)&&t.getAttribute&&t.getAttribute(r)||n},vl=function(t,r){return(t=t.split(",")).forEach(r)||t},cs=function(t){return Math.round(t*1e5)/1e5||0},ka=function(t){return Math.round(t*1e7)/1e7||0},gv=function(t,r){var n=r.charAt(0),a=parseFloat(r.substr(2));return t=parseFloat(t),n==="+"?t+a:n==="-"?t-a:n==="*"?t*a:t/a},Sst=function(t,r){for(var n=r.length,a=0;t.indexOf(r[a])<0&&++a<n;);return a<n},KA=function(){var t=Dm.length,r=Dm.slice(0),n,a;for(bR={},Dm.length=0,n=0;n<t;n++)a=r[n],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},cz=function(t){return!!(t._initted||t._startAt||t.add)},Ffe=function(t,r,n,a){Dm.length&&!Ji&&KA(),t.render(r,n,!!(Ji&&r<0&&cz(t))),Dm.length&&!Ji&&KA()},zfe=function(t){var r=parseFloat(t);return(r||r===0)&&(t+"").match(vst).length<2?r:ki(t)?t.trim():t},Bfe=function(t){return t},Oc=function(t,r){for(var n in r)n in t||(t[n]=r[n]);return t},jst=function(t){return function(r,n){for(var a in n)a in r||a==="duration"&&t||a==="ease"||(r[a]=n[a])}},db=function(t,r){for(var n in r)t[n]=r[n];return t},LK=function e(t,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(t[n]=rf(r[n])?e(t[n]||(t[n]={}),r[n]):r[n]);return t},XA=function(t,r){var n={},a;for(a in t)a in r||(n[a]=t[a]);return n},iw=function(t){var r=t.parent||Ca,n=t.keyframes?jst(No(t.keyframes)):Oc;if(yl(t.inherit))for(;r;)n(t,r.vars.defaults),r=r.parent||r._dp;return t},_st=function(t,r){for(var n=t.length,a=n===r.length;a&&n--&&t[n]===r[n];);return n<0},Hfe=function(t,r,n,a,s){var i=t[a],l;if(s)for(l=r[s];i&&i[s]>l;)i=i._prev;return i?(r._next=i._next,i._next=r):(r._next=t[n],t[n]=r),r._next?r._next._prev=r:t[a]=r,r._prev=i,r.parent=r._dp=t,r},b3=function(t,r,n,a){n===void 0&&(n="_first"),a===void 0&&(a="_last");var s=r._prev,i=r._next;s?s._next=i:t[n]===r&&(t[n]=i),i?i._prev=s:t[a]===r&&(t[a]=s),r._next=r._prev=r.parent=null},Xm=function(t,r){t.parent&&(!r||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Eg=function(t,r){if(t&&(!r||r._end>t._dur||r._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},kst=function(t){for(var r=t.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return t},wR=function(t,r,n,a){return t._startAt&&(Ji?t._startAt.revert(V_):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(r,!0,a))},Cst=function e(t){return!t||t._ts&&e(t.parent)},IK=function(t){return t._repeat?ub(t._tTime,t=t.duration()+t._rDelay)*t:0},ub=function(t,r){var n=Math.floor(t=ka(t/r));return t&&n===t?n-1:n},JA=function(t,r){return(t-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},w3=function(t){return t._end=ka(t._start+(t._tDur/Math.abs(t._ts||t._rts||Un)||0))},N3=function(t,r){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=ka(n._time-(t._ts>0?r/t._ts:((t._dirty?t.totalDuration():t._tDur)-r)/-t._ts)),w3(t),n._dirty||Eg(n,t)),t},$fe=function(t,r){var n;if((r._time||!r._dur&&r._initted||r._start<t._time&&(r._dur||!r.add))&&(n=JA(t.rawTime(),r),(!r._dur||BS(0,r.totalDuration(),n)-r._tTime>Un)&&r.render(n,!0)),Eg(t,r)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-Un}},Ou=function(t,r,n,a){return r.parent&&Xm(r),r._start=ka((Gh(n)?n:n||t!==Ca?Wc(t,n,r):t._time)+r._delay),r._end=ka(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),Hfe(t,r,"_first","_last",t._sort?"_start":0),NR(r)||(t._recent=r),a||$fe(t,r),t._ts<0&&N3(t,t._tTime),t},Ufe=function(t,r){return(Mc.ScrollTrigger||sz("scrollTrigger",r))&&Mc.ScrollTrigger.create(r,t)},Vfe=function(t,r,n,a,s){if(uz(t,r,s),!t._initted)return 1;if(!n&&t._pt&&!Ji&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&Lfe!==lc.frame)return Dm.push(t),t._lazy=[s,a],1},Ast=function e(t){var r=t.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||e(r))},NR=function(t){var r=t.data;return r==="isFromStart"||r==="isStart"},Est=function(t,r,n,a){var s=t.ratio,i=r<0||!r&&(!t._start&&Ast(t)&&!(!t._initted&&NR(t))||(t._ts<0||t._dp._ts<0)&&!NR(t))?0:1,l=t._rDelay,c=0,d,u,f;if(l&&t._repeat&&(c=BS(0,t._tDur,r),u=ub(c,l),t._yoyo&&u&1&&(i=1-i),u!==ub(t._tTime,l)&&(s=1-i,t.vars.repeatRefresh&&t._initted&&t.invalidate())),i!==s||Ji||a||t._zTime===Un||!r&&t._zTime){if(!t._initted&&Vfe(t,r,a,n,c))return;for(f=t._zTime,t._zTime=r||(n?Un:0),n||(n=r&&!f),t.ratio=i,t._from&&(i=1-i),t._time=0,t._tTime=c,d=t._pt;d;)d.r(i,d.d),d=d._next;r<0&&wR(t,r,n,!0),t._onUpdate&&!n&&hc(t,"onUpdate"),c&&t._repeat&&!n&&t.parent&&hc(t,"onRepeat"),(r>=t._tDur||r<0)&&t.ratio===i&&(i&&Xm(t,1),!n&&!Ji&&(hc(t,i?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=r)},Tst=function(t,r,n){var a;if(n>r)for(a=t._first;a&&a._start<=n;){if(a.data==="isPause"&&a._start>r)return a;a=a._next}else for(a=t._last;a&&a._start>=n;){if(a.data==="isPause"&&a._start<r)return a;a=a._prev}},fb=function(t,r,n,a){var s=t._repeat,i=ka(r)||0,l=t._tTime/t._tDur;return l&&!a&&(t._time*=i/t._dur),t._dur=i,t._tDur=s?s<0?1e10:ka(i*(s+1)+t._rDelay*s):i,l>0&&!a&&N3(t,t._tTime=t._tDur*l),t.parent&&w3(t),n||Eg(t.parent,t),t},FK=function(t){return t instanceof Bo?Eg(t):fb(t,t._dur)},Dst={_start:0,endTime:_N,totalDuration:_N},Wc=function e(t,r,n){var a=t.labels,s=t._recent||Dst,i=t.duration()>=cd?s.endTime(!1):t._dur,l,c,d;return ki(r)&&(isNaN(r)||r in a)?(c=r.charAt(0),d=r.substr(-1)==="%",l=r.indexOf("="),c==="<"||c===">"?(l>=0&&(r=r.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(r.substr(1))||0)*(d?(l<0?s:n).totalDuration()/100:1)):l<0?(r in a||(a[r]=i),a[r]):(c=parseFloat(r.charAt(l-1)+r.substr(l+1)),d&&n&&(c=c/100*(No(n)?n[0]:n).totalDuration()),l>1?e(t,r.substr(0,l-1),n)+c:i+c)):r==null?i:+r},ow=function(t,r,n){var a=Gh(r[1]),s=(a?2:1)+(t<2?0:1),i=r[s],l,c;if(a&&(i.duration=r[1]),i.parent=n,t){for(l=i,c=n;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=yl(c.vars.inherit)&&c.parent;i.immediateRender=yl(l.immediateRender),t<2?i.runBackwards=1:i.startAt=r[s-1]}return new Es(r[0],i,r[s+1])},u0=function(t,r){return t||t===0?r(t):r},BS=function(t,r,n){return n<t?t:n>r?r:n},go=function(t,r){return!ki(t)||!(r=bst.exec(t))?"":r[1]},Mst=function(t,r,n){return u0(n,function(a){return BS(t,r,a)})},SR=[].slice,qfe=function(t,r){return t&&rf(t)&&"length"in t&&(!r&&!t.length||t.length-1 in t&&rf(t[0]))&&!t.nodeType&&t!==Au},Ost=function(t,r,n){return n===void 0&&(n=[]),t.forEach(function(a){var s;return ki(a)&&!r||qfe(a,1)?(s=n).push.apply(s,dd(a)):n.push(a)})||n},dd=function(t,r,n){return ba&&!r&&ba.selector?ba.selector(t):ki(t)&&!n&&(vR||!hb())?SR.call((r||az).querySelectorAll(t),0):No(t)?Ost(t,n):qfe(t)?SR.call(t,0):t?[t]:[]},jR=function(t){return t=dd(t)[0]||jN("Invalid scope")||{},function(r){var n=t.current||t.nativeElement||t;return dd(r,n.querySelectorAll?n:n===t?jN("Invalid scope")||az.createElement("div"):t)}},Wfe=function(t){return t.sort(function(){return .5-Math.random()})},Yfe=function(t){if(Qa(t))return t;var r=rf(t)?t:{each:t},n=Tg(r.ease),a=r.from||0,s=parseFloat(r.base)||0,i={},l=a>0&&a<1,c=isNaN(a)||l,d=r.axis,u=a,f=a;return ki(a)?u=f={center:.5,edges:.5,end:1}[a]||0:!l&&c&&(u=a[0],f=a[1]),function(p,h,m){var g=(m||r).length,x=i[g],y,v,w,N,C,_,S,k,A;if(!x){if(A=r.grid==="auto"?0:(r.grid||[1,cd])[1],!A){for(S=-cd;S<(S=m[A++].getBoundingClientRect().left)&&A<g;);A<g&&A--}for(x=i[g]=[],y=c?Math.min(A,g)*u-.5:a%A,v=A===cd?0:c?g*f/A-.5:a/A|0,S=0,k=cd,_=0;_<g;_++)w=_%A-y,N=v-(_/A|0),x[_]=C=d?Math.abs(d==="y"?N:w):Efe(w*w+N*N),C>S&&(S=C),C<k&&(k=C);a==="random"&&Wfe(x),x.max=S-k,x.min=k,x.v=g=(parseFloat(r.amount)||parseFloat(r.each)*(A>g?g-1:d?d==="y"?g/A:A:Math.max(A,g/A))||0)*(a==="edges"?-1:1),x.b=g<0?s-g:s,x.u=go(r.amount||r.each)||0,n=n&&g<0?nhe(n):n}return g=(x[p]-x.min)/x.max||0,ka(x.b+(n?n(g):g)*x.v)+x.u}},_R=function(t){var r=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var a=ka(Math.round(parseFloat(n)/t)*t*r);return(a-a%1)/r+(Gh(n)?0:go(n))}},Gfe=function(t,r){var n=No(t),a,s;return!n&&rf(t)&&(a=n=t.radius||cd,t.values?(t=dd(t.values),(s=!Gh(t[0]))&&(a*=a)):t=_R(t.increment)),u0(r,n?Qa(t)?function(i){return s=t(i),Math.abs(s-i)<=a?s:i}:function(i){for(var l=parseFloat(s?i.x:i),c=parseFloat(s?i.y:0),d=cd,u=0,f=t.length,p,h;f--;)s?(p=t[f].x-l,h=t[f].y-c,p=p*p+h*h):p=Math.abs(t[f]-l),p<d&&(d=p,u=f);return u=!a||d<=a?t[u]:i,s||u===i||Gh(i)?u:u+go(i)}:_R(t))},Kfe=function(t,r,n,a){return u0(No(t)?!r:n===!0?!!(n=0):!a,function(){return No(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(a=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(r-t+n*.99))/n)*n*a)/a})},Pst=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(a){return r.reduce(function(s,i){return i(s)},a)}},Rst=function(t,r){return function(n){return t(parseFloat(n))+(r||go(n))}},Lst=function(t,r,n){return Jfe(t,r,0,1,n)},Xfe=function(t,r,n){return u0(n,function(a){return t[~~r(a)]})},Ist=function e(t,r,n){var a=r-t;return No(t)?Xfe(t,e(0,t.length),r):u0(n,function(s){return(a+(s-t)%a)%a+t})},Fst=function e(t,r,n){var a=r-t,s=a*2;return No(t)?Xfe(t,e(0,t.length-1),r):u0(n,function(i){return i=(s+(i-t)%s)%s||0,t+(i>a?s-i:i)})},kN=function(t){return t.replace(xst,function(r){var n=r.indexOf("[")+1,a=r.substring(n||7,n?r.indexOf("]"):r.length-1).split(yst);return Kfe(n?a:+a[0],n?0:+a[1],+a[2]||1e-5)})},Jfe=function(t,r,n,a,s){var i=r-t,l=a-n;return u0(s,function(c){return n+((c-t)/i*l||0)})},zst=function e(t,r,n,a){var s=isNaN(t+r)?0:function(h){return(1-h)*t+h*r};if(!s){var i=ki(t),l={},c,d,u,f,p;if(n===!0&&(a=1)&&(n=null),i)t={p:t},r={p:r};else if(No(t)&&!No(r)){for(u=[],f=t.length,p=f-2,d=1;d<f;d++)u.push(e(t[d-1],t[d]));f--,s=function(m){m*=f;var g=Math.min(p,~~m);return u[g](m-g)},n=r}else a||(t=db(No(t)?[]:{},t));if(!u){for(c in r)dz.call(l,t,c,"get",r[c]);s=function(m){return pz(m,l)||(i?t.p:t)}}}return u0(n,s)},zK=function(t,r,n){var a=t.labels,s=cd,i,l,c;for(i in a)l=a[i]-r,l<0==!!n&&l&&s>(l=Math.abs(l))&&(c=i,s=l);return c},hc=function(t,r,n){var a=t.vars,s=a[r],i=ba,l=t._ctx,c,d,u;if(s)return c=a[r+"Params"],d=a.callbackScope||t,n&&Dm.length&&KA(),l&&(ba=l),u=c?s.apply(d,c):s.call(d),ba=i,u},m2=function(t){return Xm(t),t.scrollTrigger&&t.scrollTrigger.kill(!!Ji),t.progress()<1&&hc(t,"onInterrupt"),t},qy,Qfe=[],Zfe=function(t){if(t)if(t=!t.name&&t.default||t,nz()||t.headless){var r=t.name,n=Qa(t),a=r&&!n&&t.init?function(){this._props=[]}:t,s={init:_N,render:pz,add:dz,kill:tit,modifier:eit,rawVars:0},i={targetTest:0,get:0,getSetter:hz,aliases:{},register:0};if(hb(),t!==a){if(Zl[r])return;Oc(a,Oc(XA(t,s),i)),db(a.prototype,db(s,XA(t,i))),Zl[a.prop=r]=a,t.targetTest&&(q_.push(a),iz[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}Rfe(r,a),t.register&&t.register(Cl,a,bl)}else Qfe.push(t)},$n=255,g2={aqua:[0,$n,$n],lime:[0,$n,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,$n],navy:[0,0,128],white:[$n,$n,$n],olive:[128,128,0],yellow:[$n,$n,0],orange:[$n,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[$n,0,0],pink:[$n,192,203],cyan:[0,$n,$n],transparent:[$n,$n,$n,0]},HM=function(t,r,n){return t+=t<0?1:t>1?-1:0,(t*6<1?r+(n-r)*t*6:t<.5?n:t*3<2?r+(n-r)*(2/3-t)*6:r)*$n+.5|0},ehe=function(t,r,n){var a=t?Gh(t)?[t>>16,t>>8&$n,t&$n]:0:g2.black,s,i,l,c,d,u,f,p,h,m;if(!a){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),g2[t])a=g2[t];else if(t.charAt(0)==="#"){if(t.length<6&&(s=t.charAt(1),i=t.charAt(2),l=t.charAt(3),t="#"+s+s+i+i+l+l+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return a=parseInt(t.substr(1,6),16),[a>>16,a>>8&$n,a&$n,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),a=[t>>16,t>>8&$n,t&$n]}else if(t.substr(0,3)==="hsl"){if(a=m=t.match(PK),!r)c=+a[0]%360/360,d=+a[1]/100,u=+a[2]/100,i=u<=.5?u*(d+1):u+d-u*d,s=u*2-i,a.length>3&&(a[3]*=1),a[0]=HM(c+1/3,s,i),a[1]=HM(c,s,i),a[2]=HM(c-1/3,s,i);else if(~t.indexOf("="))return a=t.match(Dfe),n&&a.length<4&&(a[3]=1),a}else a=t.match(PK)||g2.transparent;a=a.map(Number)}return r&&!m&&(s=a[0]/$n,i=a[1]/$n,l=a[2]/$n,f=Math.max(s,i,l),p=Math.min(s,i,l),u=(f+p)/2,f===p?c=d=0:(h=f-p,d=u>.5?h/(2-f-p):h/(f+p),c=f===s?(i-l)/h+(i<l?6:0):f===i?(l-s)/h+2:(s-i)/h+4,c*=60),a[0]=~~(c+.5),a[1]=~~(d*100+.5),a[2]=~~(u*100+.5)),n&&a.length<4&&(a[3]=1),a},the=function(t){var r=[],n=[],a=-1;return t.split(Mm).forEach(function(s){var i=s.match(Vy)||[];r.push.apply(r,i),n.push(a+=i.length+1)}),r.c=n,r},BK=function(t,r,n){var a="",s=(t+a).match(Mm),i=r?"hsla(":"rgba(",l=0,c,d,u,f;if(!s)return t;if(s=s.map(function(p){return(p=ehe(p,r,1))&&i+(r?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),n&&(u=the(t),c=n.c,c.join(a)!==u.c.join(a)))for(d=t.replace(Mm,"1").split(Vy),f=d.length-1;l<f;l++)a+=d[l]+(~c.indexOf(l)?s.shift()||i+"0,0,0,0)":(u.length?u:s.length?s:n).shift());if(!d)for(d=t.split(Mm),f=d.length-1;l<f;l++)a+=d[l]+s[l];return a+d[f]},Mm=function(){var e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in g2)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Bst=/hsl[a]?\(/,rhe=function(t){var r=t.join(" "),n;if(Mm.lastIndex=0,Mm.test(r))return n=Bst.test(r),t[1]=BK(t[1],n),t[0]=BK(t[0],n,the(t[1])),!0},CN,lc=function(){var e=Date.now,t=500,r=33,n=e(),a=n,s=1e3/240,i=s,l=[],c,d,u,f,p,h,m=function g(x){var y=e()-a,v=x===!0,w,N,C,_;if((y>t||y<0)&&(n+=y-r),a+=y,C=a-n,w=C-i,(w>0||v)&&(_=++f.frame,p=C-f.time*1e3,f.time=C=C/1e3,i+=w+(w>=s?4:s-w),N=1),v||(c=d(g)),N)for(h=0;h<l.length;h++)l[h](C,p,_,x)};return f={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(x){return p/(1e3/(x||60))},wake:function(){Ofe&&(!vR&&nz()&&(Au=vR=window,az=Au.document||{},Mc.gsap=Cl,(Au.gsapVersions||(Au.gsapVersions=[])).push(Cl.version),Pfe(GA||Au.GreenSockGlobals||!Au.gsap&&Au||{}),Qfe.forEach(Zfe)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&f.sleep(),d=u||function(x){return setTimeout(x,i-f.time*1e3+1|0)},CN=1,m(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(c),CN=0,d=_N},lagSmoothing:function(x,y){t=x||1/0,r=Math.min(y||33,t)},fps:function(x){s=1e3/(x||240),i=f.time*1e3+s},add:function(x,y,v){var w=y?function(N,C,_,S){x(N,C,_,S),f.remove(w)}:x;return f.remove(x),l[v?"unshift":"push"](w),hb(),w},remove:function(x,y){~(y=l.indexOf(x))&&l.splice(y,1)&&h>=y&&h--},_listeners:l},f}(),hb=function(){return!CN&&lc.wake()},Qr={},Hst=/^[\d.\-M][\d.\-,\s]/,$st=/["']/g,Ust=function(t){for(var r={},n=t.substr(1,t.length-3).split(":"),a=n[0],s=1,i=n.length,l,c,d;s<i;s++)c=n[s],l=s!==i-1?c.lastIndexOf(","):c.length,d=c.substr(0,l),r[a]=isNaN(d)?d.replace($st,"").trim():+d,a=c.substr(l+1).trim();return r},Vst=function(t){var r=t.indexOf("(")+1,n=t.indexOf(")"),a=t.indexOf("(",r);return t.substring(r,~a&&a<n?t.indexOf(")",n+1):n)},qst=function(t){var r=(t+"").split("("),n=Qr[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[Ust(r[1])]:Vst(t).split(",").map(zfe)):Qr._CE&&Hst.test(t)?Qr._CE("",t):n},nhe=function(t){return function(r){return 1-t(1-r)}},ahe=function e(t,r){for(var n=t._first,a;n;)n instanceof Bo?e(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?e(n.timeline,r):(a=n._ease,n._ease=n._yEase,n._yEase=a,n._yoyo=r)),n=n._next},Tg=function(t,r){return t&&(Qa(t)?t:Qr[t]||qst(t))||r},Px=function(t,r,n,a){n===void 0&&(n=function(c){return 1-r(1-c)}),a===void 0&&(a=function(c){return c<.5?r(c*2)/2:1-r((1-c)*2)/2});var s={easeIn:r,easeOut:n,easeInOut:a},i;return vl(t,function(l){Qr[l]=Mc[l]=s,Qr[i=l.toLowerCase()]=n;for(var c in s)Qr[i+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Qr[l+"."+c]=s[c]}),s},she=function(t){return function(r){return r<.5?(1-t(1-r*2))/2:.5+t((r-.5)*2)/2}},$M=function e(t,r,n){var a=r>=1?r:1,s=(n||(t?.3:.45))/(r<1?r:1),i=s/yR*(Math.asin(1/a)||0),l=function(u){return u===1?1:a*Math.pow(2,-10*u)*gst((u-i)*s)+1},c=t==="out"?l:t==="in"?function(d){return 1-l(1-d)}:she(l);return s=yR/s,c.config=function(d,u){return e(t,d,u)},c},UM=function e(t,r){r===void 0&&(r=1.70158);var n=function(i){return i?--i*i*((r+1)*i+r)+1:0},a=t==="out"?n:t==="in"?function(s){return 1-n(1-s)}:she(n);return a.config=function(s){return e(t,s)},a};vl("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var r=t<5?t+1:t;Px(e+",Power"+(r-1),t?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});Qr.Linear.easeNone=Qr.none=Qr.Linear.easeIn;Px("Elastic",$M("in"),$M("out"),$M());(function(e,t){var r=1/t,n=2*r,a=2.5*r,s=function(l){return l<r?e*l*l:l<n?e*Math.pow(l-1.5/t,2)+.75:l<a?e*(l-=2.25/t)*l+.9375:e*Math.pow(l-2.625/t,2)+.984375};Px("Bounce",function(i){return 1-s(1-i)},s)})(7.5625,2.75);Px("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)});Px("Circ",function(e){return-(Efe(1-e*e)-1)});Px("Sine",function(e){return e===1?1:-mst(e*hst)+1});Px("Back",UM("in"),UM("out"),UM());Qr.SteppedEase=Qr.steps=Mc.SteppedEase={config:function(t,r){t===void 0&&(t=1);var n=1/t,a=t+(r?0:1),s=r?1:0,i=1-Un;return function(l){return((a*BS(0,i,l)|0)+s)*n}}};cb.ease=Qr["quad.out"];vl("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return oz+=e+","+e+"Params,"});var ihe=function(t,r){this.id=pst++,t._gsap=this,this.target=t,this.harness=r,this.get=r?r.get:Ife,this.set=r?r.getSetter:hz},AN=function(){function e(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,fb(this,+r.duration,1,1),this.data=r.data,ba&&(this._ctx=ba,ba.data.push(this)),CN||lc.wake()}var t=e.prototype;return t.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},t.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},t.totalDuration=function(n){return arguments.length?(this._dirty=0,fb(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(n,a){if(hb(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(N3(this,n),!s._dp||s.parent||$fe(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Ou(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===Un||!this._initted&&this._dur&&n||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),Ffe(this,n,a)),this},t.time=function(n,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+IK(this))%(this._dur+this._rDelay)||(n?this._dur:0),a):this._time},t.totalProgress=function(n,a){return arguments.length?this.totalTime(this.totalDuration()*n,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(n,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+IK(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(n,a){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,a):this._repeat?ub(this._tTime,s)+1:1},t.timeScale=function(n,a){if(!arguments.length)return this._rts===-Un?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?JA(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Un?0:this._rts,this.totalTime(BS(-Math.abs(this._delay),this.totalDuration(),s),a!==!1),w3(this),kst(this)},t.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(hb(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Un&&(this._tTime-=Un)))),this):this._ps},t.startTime=function(n){if(arguments.length){this._start=ka(n);var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&Ou(a,this,this._start-this._delay),this}return this._start},t.endTime=function(n){return this._start+(yl(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(n){var a=this.parent||this._dp;return a?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?JA(a.rawTime(n),this):this._tTime:this._tTime},t.revert=function(n){n===void 0&&(n=Nst);var a=Ji;return Ji=n,cz(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Ji=a,this},t.globalTime=function(n){for(var a=this,s=arguments.length?n:a.rawTime();a;)s=a._start+s/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},t.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,FK(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(n){if(arguments.length){var a=this._time;return this._rDelay=n,FK(this),a?this.time(a):this}return this._rDelay},t.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},t.seek=function(n,a){return this.totalTime(Wc(this,n),yl(a))},t.restart=function(n,a){return this.play().totalTime(n?-this._delay:0,yl(a)),this._dur||(this._zTime=-Un),this},t.play=function(n,a){return n!=null&&this.seek(n,a),this.reversed(!1).paused(!1)},t.reverse=function(n,a){return n!=null&&this.seek(n||this.totalDuration(),a),this.reversed(!0).paused(!1)},t.pause=function(n,a){return n!=null&&this.seek(n,a),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Un:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-Un,this},t.isActive=function(){var n=this.parent||this._dp,a=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=a&&s<this.endTime(!0)-Un)},t.eventCallback=function(n,a,s){var i=this.vars;return arguments.length>1?(a?(i[n]=a,s&&(i[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=a)):delete i[n],this):i[n]},t.then=function(n){var a=this,s=a._prom;return new Promise(function(i){var l=Qa(n)?n:Bfe,c=function(){var u=a.then;a.then=null,s&&s(),Qa(l)&&(l=l(a))&&(l.then||l===a)&&(a.then=u),i(l),a.then=u};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?c():a._prom=c})},t.kill=function(){m2(this)},e}();Oc(AN.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Un,_prom:0,_ps:!1,_rts:1});var Bo=function(e){Afe(t,e);function t(n,a){var s;return n===void 0&&(n={}),s=e.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=yl(n.sortChildren),Ca&&Ou(n.parent||Ca,Gf(s),a),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&Ufe(Gf(s),n.scrollTrigger),s}var r=t.prototype;return r.to=function(a,s,i){return ow(0,arguments,this),this},r.from=function(a,s,i){return ow(1,arguments,this),this},r.fromTo=function(a,s,i,l){return ow(2,arguments,this),this},r.set=function(a,s,i){return s.duration=0,s.parent=this,iw(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Es(a,s,Wc(this,i),1),this},r.call=function(a,s,i){return Ou(this,Es.delayedCall(0,a,s),i)},r.staggerTo=function(a,s,i,l,c,d,u){return i.duration=s,i.stagger=i.stagger||l,i.onComplete=d,i.onCompleteParams=u,i.parent=this,new Es(a,i,Wc(this,c)),this},r.staggerFrom=function(a,s,i,l,c,d,u){return i.runBackwards=1,iw(i).immediateRender=yl(i.immediateRender),this.staggerTo(a,s,i,l,c,d,u)},r.staggerFromTo=function(a,s,i,l,c,d,u,f){return l.startAt=i,iw(l).immediateRender=yl(l.immediateRender),this.staggerTo(a,s,l,c,d,u,f)},r.render=function(a,s,i){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,d=this._dur,u=a<=0?0:ka(a),f=this._zTime<0!=a<0&&(this._initted||!d),p,h,m,g,x,y,v,w,N,C,_,S;if(this!==Ca&&u>c&&a>=0&&(u=c),u!==this._tTime||i||f){if(l!==this._time&&d&&(u+=this._time-l,a+=this._time-l),p=u,N=this._start,w=this._ts,y=!w,f&&(d||(l=this._zTime),(a||!s)&&(this._zTime=a)),this._repeat){if(_=this._yoyo,x=d+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(x*100+a,s,i);if(p=ka(u%x),u===c?(g=this._repeat,p=d):(C=ka(u/x),g=~~C,g&&g===C&&(p=d,g--),p>d&&(p=d)),C=ub(this._tTime,x),!l&&this._tTime&&C!==g&&this._tTime-C*x-this._dur<=0&&(C=g),_&&g&1&&(p=d-p,S=1),g!==C&&!this._lock){var k=_&&C&1,A=k===(_&&g&1);if(g<C&&(k=!k),l=k?0:u%d?d:u,this._lock=1,this.render(l||(S?0:ka(g*x)),s,!d)._lock=0,this._tTime=u,!s&&this.parent&&hc(this,"onRepeat"),this.vars.repeatRefresh&&!S&&(this.invalidate()._lock=1,C=g),l&&l!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,c=this._tDur,A&&(this._lock=2,l=k?d:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!S&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;ahe(this,S)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=Tst(this,ka(l),ka(p)),v&&(u-=p-(p=v._start))),this._tTime=u,this._time=p,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,l=0),!l&&u&&d&&!s&&!C&&(hc(this,"onStart"),this._tTime!==u))return this;if(p>=l&&a>=0)for(h=this._first;h;){if(m=h._next,(h._act||p>=h._start)&&h._ts&&v!==h){if(h.parent!==this)return this.render(a,s,i);if(h.render(h._ts>0?(p-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(p-h._start)*h._ts,s,i),p!==this._time||!this._ts&&!y){v=0,m&&(u+=this._zTime=-Un);break}}h=m}else{h=this._last;for(var O=a<0?a:p;h;){if(m=h._prev,(h._act||O<=h._end)&&h._ts&&v!==h){if(h.parent!==this)return this.render(a,s,i);if(h.render(h._ts>0?(O-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(O-h._start)*h._ts,s,i||Ji&&cz(h)),p!==this._time||!this._ts&&!y){v=0,m&&(u+=this._zTime=O?-Un:Un);break}}h=m}}if(v&&!s&&(this.pause(),v.render(p>=l?0:-Un)._zTime=p>=l?1:-1,this._ts))return this._start=N,w3(this),this.render(a,s,i);this._onUpdate&&!s&&hc(this,"onUpdate",!0),(u===c&&this._tTime>=this.totalDuration()||!u&&l)&&(N===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((a||!d)&&(u===c&&this._ts>0||!u&&this._ts<0)&&Xm(this,1),!s&&!(a<0&&!l)&&(u||l||!c)&&(hc(this,u===c&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<c&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(a,s){var i=this;if(Gh(s)||(s=Wc(this,s,a)),!(a instanceof AN)){if(No(a))return a.forEach(function(l){return i.add(l,s)}),this;if(ki(a))return this.addLabel(a,s);if(Qa(a))a=Es.delayedCall(0,a);else return this}return this!==a?Ou(this,a,s):this},r.getChildren=function(a,s,i,l){a===void 0&&(a=!0),s===void 0&&(s=!0),i===void 0&&(i=!0),l===void 0&&(l=-cd);for(var c=[],d=this._first;d;)d._start>=l&&(d instanceof Es?s&&c.push(d):(i&&c.push(d),a&&c.push.apply(c,d.getChildren(!0,s,i)))),d=d._next;return c},r.getById=function(a){for(var s=this.getChildren(1,1,1),i=s.length;i--;)if(s[i].vars.id===a)return s[i]},r.remove=function(a){return ki(a)?this.removeLabel(a):Qa(a)?this.killTweensOf(a):(a.parent===this&&b3(this,a),a===this._recent&&(this._recent=this._last),Eg(this))},r.totalTime=function(a,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ka(lc.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),e.prototype.totalTime.call(this,a,s),this._forcing=0,this):this._tTime},r.addLabel=function(a,s){return this.labels[a]=Wc(this,s),this},r.removeLabel=function(a){return delete this.labels[a],this},r.addPause=function(a,s,i){var l=Es.delayedCall(0,s||_N,i);return l.data="isPause",this._hasPause=1,Ou(this,l,Wc(this,a))},r.removePause=function(a){var s=this._first;for(a=Wc(this,a);s;)s._start===a&&s.data==="isPause"&&Xm(s),s=s._next},r.killTweensOf=function(a,s,i){for(var l=this.getTweensOf(a,i),c=l.length;c--;)lm!==l[c]&&l[c].kill(a,s);return this},r.getTweensOf=function(a,s){for(var i=[],l=dd(a),c=this._first,d=Gh(s),u;c;)c instanceof Es?Sst(c._targets,l)&&(d?(!lm||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&i.push(c):(u=c.getTweensOf(l,s)).length&&i.push.apply(i,u),c=c._next;return i},r.tweenTo=function(a,s){s=s||{};var i=this,l=Wc(i,a),c=s,d=c.startAt,u=c.onStart,f=c.onStartParams,p=c.immediateRender,h,m=Es.to(i,Oc({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:s.duration||Math.abs((l-(d&&"time"in d?d.time:i._time))/i.timeScale())||Un,onStart:function(){if(i.pause(),!h){var x=s.duration||Math.abs((l-(d&&"time"in d?d.time:i._time))/i.timeScale());m._dur!==x&&fb(m,x,0,1).render(m._time,!0,!0),h=1}u&&u.apply(m,f||[])}},s));return p?m.render(0):m},r.tweenFromTo=function(a,s,i){return this.tweenTo(s,Oc({startAt:{time:Wc(this,a)}},i))},r.recent=function(){return this._recent},r.nextLabel=function(a){return a===void 0&&(a=this._time),zK(this,Wc(this,a))},r.previousLabel=function(a){return a===void 0&&(a=this._time),zK(this,Wc(this,a),1)},r.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+Un)},r.shiftChildren=function(a,s,i){i===void 0&&(i=0);var l=this._first,c=this.labels,d;for(a=ka(a);l;)l._start>=i&&(l._start+=a,l._end+=a),l=l._next;if(s)for(d in c)c[d]>=i&&(c[d]+=a);return Eg(this)},r.invalidate=function(a){var s=this._first;for(this._lock=0;s;)s.invalidate(a),s=s._next;return e.prototype.invalidate.call(this,a)},r.clear=function(a){a===void 0&&(a=!0);for(var s=this._first,i;s;)i=s._next,this.remove(s),s=i;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),Eg(this)},r.totalDuration=function(a){var s=0,i=this,l=i._last,c=cd,d,u,f;if(arguments.length)return i.timeScale((i._repeat<0?i.duration():i.totalDuration())/(i.reversed()?-a:a));if(i._dirty){for(f=i.parent;l;)d=l._prev,l._dirty&&l.totalDuration(),u=l._start,u>c&&i._sort&&l._ts&&!i._lock?(i._lock=1,Ou(i,l,u-l._delay,1)._lock=0):c=u,u<0&&l._ts&&(s-=u,(!f&&!i._dp||f&&f.smoothChildTiming)&&(i._start+=ka(u/i._ts),i._time-=u,i._tTime-=u),i.shiftChildren(-u,!1,-1/0),c=0),l._end>s&&l._ts&&(s=l._end),l=d;fb(i,i===Ca&&i._time>s?i._time:s,1,1),i._dirty=0}return i._tDur},t.updateRoot=function(a){if(Ca._ts&&(Ffe(Ca,JA(a,Ca)),Lfe=lc.frame),lc.frame>=RK){RK+=_c.autoSleep||120;var s=Ca._first;if((!s||!s._ts)&&_c.autoSleep&&lc._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||lc.sleep()}}},t}(AN);Oc(Bo.prototype,{_lock:0,_hasPause:0,_forcing:0});var Wst=function(t,r,n,a,s,i,l){var c=new bl(this._pt,t,r,0,1,fhe,null,s),d=0,u=0,f,p,h,m,g,x,y,v;for(c.b=n,c.e=a,n+="",a+="",(y=~a.indexOf("random("))&&(a=kN(a)),i&&(v=[n,a],i(v,t,r),n=v[0],a=v[1]),p=n.match(zM)||[];f=zM.exec(a);)m=f[0],g=a.substring(d,f.index),h?h=(h+1)%5:g.substr(-5)==="rgba("&&(h=1),m!==p[u++]&&(x=parseFloat(p[u-1])||0,c._pt={_next:c._pt,p:g||u===1?g:",",s:x,c:m.charAt(1)==="="?gv(x,m)-x:parseFloat(m)-x,m:h&&h<4?Math.round:0},d=zM.lastIndex);return c.c=d<a.length?a.substring(d,a.length):"",c.fp=l,(Mfe.test(a)||y)&&(c.e=0),this._pt=c,c},dz=function(t,r,n,a,s,i,l,c,d,u){Qa(a)&&(a=a(s||0,t,i));var f=t[r],p=n!=="get"?n:Qa(f)?d?t[r.indexOf("set")||!Qa(t["get"+r.substr(3)])?r:"get"+r.substr(3)](d):t[r]():f,h=Qa(f)?d?Jst:dhe:fz,m;if(ki(a)&&(~a.indexOf("random(")&&(a=kN(a)),a.charAt(1)==="="&&(m=gv(p,a)+(go(p)||0),(m||m===0)&&(a=m))),!u||p!==a||kR)return!isNaN(p*a)&&a!==""?(m=new bl(this._pt,t,r,+p||0,a-(p||0),typeof f=="boolean"?Zst:uhe,0,h),d&&(m.fp=d),l&&m.modifier(l,this,t),this._pt=m):(!f&&!(r in t)&&sz(r,a),Wst.call(this,t,r,p,a,h,c||_c.stringFilter,d))},Yst=function(t,r,n,a,s){if(Qa(t)&&(t=lw(t,s,r,n,a)),!rf(t)||t.style&&t.nodeType||No(t)||Tfe(t))return ki(t)?lw(t,s,r,n,a):t;var i={},l;for(l in t)i[l]=lw(t[l],s,r,n,a);return i},ohe=function(t,r,n,a,s,i){var l,c,d,u;if(Zl[t]&&(l=new Zl[t]).init(s,l.rawVars?r[t]:Yst(r[t],a,s,i,n),n,a,i)!==!1&&(n._pt=c=new bl(n._pt,s,t,0,1,l.render,l,0,l.priority),n!==qy))for(d=n._ptLookup[n._targets.indexOf(s)],u=l._props.length;u--;)d[l._props[u]]=c;return l},lm,kR,uz=function e(t,r,n){var a=t.vars,s=a.ease,i=a.startAt,l=a.immediateRender,c=a.lazy,d=a.onUpdate,u=a.runBackwards,f=a.yoyoEase,p=a.keyframes,h=a.autoRevert,m=t._dur,g=t._startAt,x=t._targets,y=t.parent,v=y&&y.data==="nested"?y.vars.targets:x,w=t._overwrite==="auto"&&!tz,N=t.timeline,C,_,S,k,A,O,D,M,I,z,Y,X,V;if(N&&(!p||!s)&&(s="none"),t._ease=Tg(s,cb.ease),t._yEase=f?nhe(Tg(f===!0?s:f,cb.ease)):0,f&&t._yoyo&&!t._repeat&&(f=t._yEase,t._yEase=t._ease,t._ease=f),t._from=!N&&!!a.runBackwards,!N||p&&!a.stagger){if(M=x[0]?Ag(x[0]).harness:0,X=M&&a[M.prop],C=XA(a,iz),g&&(g._zTime<0&&g.progress(1),r<0&&u&&l&&!h?g.render(-1,!0):g.revert(u&&m?V_:wst),g._lazy=0),i){if(Xm(t._startAt=Es.set(x,Oc({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!g&&yl(c),startAt:null,delay:0,onUpdate:d&&function(){return hc(t,"onUpdate")},stagger:0},i))),t._startAt._dp=0,t._startAt._sat=t,r<0&&(Ji||!l&&!h)&&t._startAt.revert(V_),l&&m&&r<=0&&n<=0){r&&(t._zTime=r);return}}else if(u&&m&&!g){if(r&&(l=!1),S=Oc({overwrite:!1,data:"isFromStart",lazy:l&&!g&&yl(c),immediateRender:l,stagger:0,parent:y},C),X&&(S[M.prop]=X),Xm(t._startAt=Es.set(x,S)),t._startAt._dp=0,t._startAt._sat=t,r<0&&(Ji?t._startAt.revert(V_):t._startAt.render(-1,!0)),t._zTime=r,!l)e(t._startAt,Un,Un);else if(!r)return}for(t._pt=t._ptCache=0,c=m&&yl(c)||c&&!m,_=0;_<x.length;_++){if(A=x[_],D=A._gsap||lz(x)[_]._gsap,t._ptLookup[_]=z={},bR[D.id]&&Dm.length&&KA(),Y=v===x?_:v.indexOf(A),M&&(I=new M).init(A,X||C,t,Y,v)!==!1&&(t._pt=k=new bl(t._pt,A,I.name,0,1,I.render,I,0,I.priority),I._props.forEach(function(G){z[G]=k}),I.priority&&(O=1)),!M||X)for(S in C)Zl[S]&&(I=ohe(S,C,t,Y,A,v))?I.priority&&(O=1):z[S]=k=dz.call(t,A,S,"get",C[S],Y,v,0,a.stringFilter);t._op&&t._op[_]&&t.kill(A,t._op[_]),w&&t._pt&&(lm=t,Ca.killTweensOf(A,z,t.globalTime(r)),V=!t.parent,lm=0),t._pt&&c&&(bR[D.id]=1)}O&&hhe(t),t._onInit&&t._onInit(t)}t._onUpdate=d,t._initted=(!t._op||t._pt)&&!V,p&&r<=0&&N.render(cd,!0,!0)},Gst=function(t,r,n,a,s,i,l,c){var d=(t._pt&&t._ptCache||(t._ptCache={}))[r],u,f,p,h;if(!d)for(d=t._ptCache[r]=[],p=t._ptLookup,h=t._targets.length;h--;){if(u=p[h][r],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==r&&u.fp!==r;)u=u._next;if(!u)return kR=1,t.vars[r]="+=0",uz(t,l),kR=0,c?jN(r+" not eligible for reset"):1;d.push(u)}for(h=d.length;h--;)f=d[h],u=f._pt||f,u.s=(a||a===0)&&!s?a:u.s+(a||0)+i*u.c,u.c=n-u.s,f.e&&(f.e=cs(n)+go(f.e)),f.b&&(f.b=u.s+go(f.b))},Kst=function(t,r){var n=t[0]?Ag(t[0]).harness:0,a=n&&n.aliases,s,i,l,c;if(!a)return r;s=db({},r);for(i in a)if(i in s)for(c=a[i].split(","),l=c.length;l--;)s[c[l]]=s[i];return s},Xst=function(t,r,n,a){var s=r.ease||a||"power1.inOut",i,l;if(No(r))l=n[t]||(n[t]=[]),r.forEach(function(c,d){return l.push({t:d/(r.length-1)*100,v:c,e:s})});else for(i in r)l=n[i]||(n[i]=[]),i==="ease"||l.push({t:parseFloat(t),v:r[i],e:s})},lw=function(t,r,n,a,s){return Qa(t)?t.call(r,n,a,s):ki(t)&&~t.indexOf("random(")?kN(t):t},lhe=oz+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",che={};vl(lhe+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return che[e]=1});var Es=function(e){Afe(t,e);function t(n,a,s,i){var l;typeof a=="number"&&(s.duration=a,a=s,s=null),l=e.call(this,i?a:iw(a))||this;var c=l.vars,d=c.duration,u=c.delay,f=c.immediateRender,p=c.stagger,h=c.overwrite,m=c.keyframes,g=c.defaults,x=c.scrollTrigger,y=c.yoyoEase,v=a.parent||Ca,w=(No(n)||Tfe(n)?Gh(n[0]):"length"in a)?[n]:dd(n),N,C,_,S,k,A,O,D;if(l._targets=w.length?lz(w):jN("GSAP target "+n+" not found. https://gsap.com",!_c.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=h,m||p||$5(d)||$5(u)){if(a=l.vars,N=l.timeline=new Bo({data:"nested",defaults:g||{},targets:v&&v.data==="nested"?v.vars.targets:w}),N.kill(),N.parent=N._dp=Gf(l),N._start=0,p||$5(d)||$5(u)){if(S=w.length,O=p&&Yfe(p),rf(p))for(k in p)~lhe.indexOf(k)&&(D||(D={}),D[k]=p[k]);for(C=0;C<S;C++)_=XA(a,che),_.stagger=0,y&&(_.yoyoEase=y),D&&db(_,D),A=w[C],_.duration=+lw(d,Gf(l),C,A,w),_.delay=(+lw(u,Gf(l),C,A,w)||0)-l._delay,!p&&S===1&&_.delay&&(l._delay=u=_.delay,l._start+=u,_.delay=0),N.to(A,_,O?O(C,A,w):0),N._ease=Qr.none;N.duration()?d=u=0:l.timeline=0}else if(m){iw(Oc(N.vars.defaults,{ease:"none"})),N._ease=Tg(m.ease||a.ease||"none");var M=0,I,z,Y;if(No(m))m.forEach(function(X){return N.to(w,X,">")}),N.duration();else{_={};for(k in m)k==="ease"||k==="easeEach"||Xst(k,m[k],_,m.easeEach);for(k in _)for(I=_[k].sort(function(X,V){return X.t-V.t}),M=0,C=0;C<I.length;C++)z=I[C],Y={ease:z.e,duration:(z.t-(C?I[C-1].t:0))/100*d},Y[k]=z.v,N.to(w,Y,M),M+=Y.duration;N.duration()<d&&N.to({},{duration:d-N.duration()})}}d||l.duration(d=N.duration())}else l.timeline=0;return h===!0&&!tz&&(lm=Gf(l),Ca.killTweensOf(w),lm=0),Ou(v,Gf(l),s),a.reversed&&l.reverse(),a.paused&&l.paused(!0),(f||!d&&!m&&l._start===ka(v._time)&&yl(f)&&Cst(Gf(l))&&v.data!=="nested")&&(l._tTime=-Un,l.render(Math.max(0,-u)||0)),x&&Ufe(Gf(l),x),l}var r=t.prototype;return r.render=function(a,s,i){var l=this._time,c=this._tDur,d=this._dur,u=a<0,f=a>c-Un&&!u?c:a<Un?0:a,p,h,m,g,x,y,v,w,N;if(!d)Est(this,a,s,i);else if(f!==this._tTime||!a||i||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u||this._lazy){if(p=f,w=this.timeline,this._repeat){if(g=d+this._rDelay,this._repeat<-1&&u)return this.totalTime(g*100+a,s,i);if(p=ka(f%g),f===c?(m=this._repeat,p=d):(x=ka(f/g),m=~~x,m&&m===x?(p=d,m--):p>d&&(p=d)),y=this._yoyo&&m&1,y&&(N=this._yEase,p=d-p),x=ub(this._tTime,g),p===l&&!i&&this._initted&&m===x)return this._tTime=f,this;m!==x&&(w&&this._yEase&&ahe(w,y),this.vars.repeatRefresh&&!y&&!this._lock&&p!==g&&this._initted&&(this._lock=i=1,this.render(ka(g*m),!0).invalidate()._lock=0))}if(!this._initted){if(Vfe(this,u?a:p,i,s,f))return this._tTime=0,this;if(l!==this._time&&!(i&&this.vars.repeatRefresh&&m!==x))return this;if(d!==this._dur)return this.render(a,s,i)}if(this._tTime=f,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(N||this._ease)(p/d),this._from&&(this.ratio=v=1-v),!l&&f&&!s&&!x&&(hc(this,"onStart"),this._tTime!==f))return this;for(h=this._pt;h;)h.r(v,h.d),h=h._next;w&&w.render(a<0?a:w._dur*w._ease(p/this._dur),s,i)||this._startAt&&(this._zTime=a),this._onUpdate&&!s&&(u&&wR(this,a,s,i),hc(this,"onUpdate")),this._repeat&&m!==x&&this.vars.onRepeat&&!s&&this.parent&&hc(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&wR(this,a,!0,!0),(a||!d)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Xm(this,1),!s&&!(u&&!l)&&(f||l||y)&&(hc(this,f===c?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),e.prototype.invalidate.call(this,a)},r.resetTo=function(a,s,i,l,c){CN||lc.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||uz(this,d),u=this._ease(d/this._dur),Gst(this,a,s,i,l,u,d,c)?this.resetTo(a,s,i,l,1):(N3(this,0),this.parent||Hfe(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(a,s){if(s===void 0&&(s="all"),!a&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?m2(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Ji),this;if(this.timeline){var i=this.timeline.totalDuration();return this.timeline.killTweensOf(a,s,lm&&lm.vars.overwrite!==!0)._first||m2(this),this.parent&&i!==this.timeline.totalDuration()&&fb(this,this._dur*this.timeline._tDur/i,0,1),this}var l=this._targets,c=a?dd(a):l,d=this._ptLookup,u=this._pt,f,p,h,m,g,x,y;if((!s||s==="all")&&_st(l,c))return s==="all"&&(this._pt=0),m2(this);for(f=this._op=this._op||[],s!=="all"&&(ki(s)&&(g={},vl(s,function(v){return g[v]=1}),s=g),s=Kst(l,s)),y=l.length;y--;)if(~c.indexOf(l[y])){p=d[y],s==="all"?(f[y]=s,m=p,h={}):(h=f[y]=f[y]||{},m=s);for(g in m)x=p&&p[g],x&&((!("kill"in x.d)||x.d.kill(g)===!0)&&b3(this,x,"_pt"),delete p[g]),h!=="all"&&(h[g]=1)}return this._initted&&!this._pt&&u&&m2(this),this},t.to=function(a,s){return new t(a,s,arguments[2])},t.from=function(a,s){return ow(1,arguments)},t.delayedCall=function(a,s,i,l){return new t(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:s,onReverseComplete:s,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:l})},t.fromTo=function(a,s,i){return ow(2,arguments)},t.set=function(a,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new t(a,s)},t.killTweensOf=function(a,s,i){return Ca.killTweensOf(a,s,i)},t}(AN);Oc(Es.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});vl("staggerTo,staggerFrom,staggerFromTo",function(e){Es[e]=function(){var t=new Bo,r=SR.call(arguments,0);return r.splice(e==="staggerFromTo"?5:4,0,0),t[e].apply(t,r)}});var fz=function(t,r,n){return t[r]=n},dhe=function(t,r,n){return t[r](n)},Jst=function(t,r,n,a){return t[r](a.fp,n)},Qst=function(t,r,n){return t.setAttribute(r,n)},hz=function(t,r){return Qa(t[r])?dhe:rz(t[r])&&t.setAttribute?Qst:fz},uhe=function(t,r){return r.set(r.t,r.p,Math.round((r.s+r.c*t)*1e6)/1e6,r)},Zst=function(t,r){return r.set(r.t,r.p,!!(r.s+r.c*t),r)},fhe=function(t,r){var n=r._pt,a="";if(!t&&r.b)a=r.b;else if(t===1&&r.e)a=r.e;else{for(;n;)a=n.p+(n.m?n.m(n.s+n.c*t):Math.round((n.s+n.c*t)*1e4)/1e4)+a,n=n._next;a+=r.c}r.set(r.t,r.p,a,r)},pz=function(t,r){for(var n=r._pt;n;)n.r(t,n.d),n=n._next},eit=function(t,r,n,a){for(var s=this._pt,i;s;)i=s._next,s.p===a&&s.modifier(t,r,n),s=i},tit=function(t){for(var r=this._pt,n,a;r;)a=r._next,r.p===t&&!r.op||r.op===t?b3(this,r,"_pt"):r.dep||(n=1),r=a;return!n},rit=function(t,r,n,a){a.mSet(t,r,a.m.call(a.tween,n,a.mt),a)},hhe=function(t){for(var r=t._pt,n,a,s,i;r;){for(n=r._next,a=s;a&&a.pr>r.pr;)a=a._next;(r._prev=a?a._prev:i)?r._prev._next=r:s=r,(r._next=a)?a._prev=r:i=r,r=n}t._pt=s},bl=function(){function e(r,n,a,s,i,l,c,d,u){this.t=n,this.s=s,this.c=i,this.p=a,this.r=l||uhe,this.d=c||this,this.set=d||fz,this.pr=u||0,this._next=r,r&&(r._prev=this)}var t=e.prototype;return t.modifier=function(n,a,s){this.mSet=this.mSet||this.set,this.set=rit,this.m=n,this.mt=s,this.tween=a},e}();vl(oz+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return iz[e]=1});Mc.TweenMax=Mc.TweenLite=Es;Mc.TimelineLite=Mc.TimelineMax=Bo;Ca=new Bo({sortChildren:!1,defaults:cb,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});_c.stringFilter=rhe;var Dg=[],W_={},nit=[],HK=0,ait=0,VM=function(t){return(W_[t]||nit).map(function(r){return r()})},CR=function(){var t=Date.now(),r=[];t-HK>2&&(VM("matchMediaInit"),Dg.forEach(function(n){var a=n.queries,s=n.conditions,i,l,c,d;for(l in a)i=Au.matchMedia(a[l]).matches,i&&(c=1),i!==s[l]&&(s[l]=i,d=1);d&&(n.revert(),c&&r.push(n))}),VM("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n,function(a){return n.add(null,a)})}),HK=t,VM("matchMedia"))},phe=function(){function e(r,n){this.selector=n&&jR(n),this.data=[],this._r=[],this.isReverted=!1,this.id=ait++,r&&this.add(r)}var t=e.prototype;return t.add=function(n,a,s){Qa(n)&&(s=a,a=n,n=Qa);var i=this,l=function(){var d=ba,u=i.selector,f;return d&&d!==i&&d.data.push(i),s&&(i.selector=jR(s)),ba=i,f=a.apply(i,arguments),Qa(f)&&i._r.push(f),ba=d,i.selector=u,i.isReverted=!1,f};return i.last=l,n===Qa?l(i,function(c){return i.add(null,c)}):n?i[n]=l:l},t.ignore=function(n){var a=ba;ba=null,n(this),ba=a},t.getTweens=function(){var n=[];return this.data.forEach(function(a){return a instanceof e?n.push.apply(n,a.getTweens()):a instanceof Es&&!(a.parent&&a.parent.data==="nested")&&n.push(a)}),n},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(n,a){var s=this;if(n?function(){for(var l=s.getTweens(),c=s.data.length,d;c--;)d=s.data[c],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(u){return l.splice(l.indexOf(u),1)}));for(l.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,f){return f.g-u.g||-1/0}).forEach(function(u){return u.t.revert(n)}),c=s.data.length;c--;)d=s.data[c],d instanceof Bo?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof Es)&&d.revert&&d.revert(n);s._r.forEach(function(u){return u(n,s)}),s.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),a)for(var i=Dg.length;i--;)Dg[i].id===this.id&&Dg.splice(i,1)},t.revert=function(n){this.kill(n||{})},e}(),sit=function(){function e(r){this.contexts=[],this.scope=r,ba&&ba.data.push(this)}var t=e.prototype;return t.add=function(n,a,s){rf(n)||(n={matches:n});var i=new phe(0,s||this.scope),l=i.conditions={},c,d,u;ba&&!i.selector&&(i.selector=ba.selector),this.contexts.push(i),a=i.add("onMatch",a),i.queries=n;for(d in n)d==="all"?u=1:(c=Au.matchMedia(n[d]),c&&(Dg.indexOf(i)<0&&Dg.push(i),(l[d]=c.matches)&&(u=1),c.addListener?c.addListener(CR):c.addEventListener("change",CR)));return u&&a(i,function(f){return i.add(null,f)}),this},t.revert=function(n){this.kill(n||{})},t.kill=function(n){this.contexts.forEach(function(a){return a.kill(n,!0)})},e}(),QA={registerPlugin:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach(function(a){return Zfe(a)})},timeline:function(t){return new Bo(t)},getTweensOf:function(t,r){return Ca.getTweensOf(t,r)},getProperty:function(t,r,n,a){ki(t)&&(t=dd(t)[0]);var s=Ag(t||{}).get,i=n?Bfe:zfe;return n==="native"&&(n=""),t&&(r?i((Zl[r]&&Zl[r].get||s)(t,r,n,a)):function(l,c,d){return i((Zl[l]&&Zl[l].get||s)(t,l,c,d))})},quickSetter:function(t,r,n){if(t=dd(t),t.length>1){var a=t.map(function(u){return Cl.quickSetter(u,r,n)}),s=a.length;return function(u){for(var f=s;f--;)a[f](u)}}t=t[0]||{};var i=Zl[r],l=Ag(t),c=l.harness&&(l.harness.aliases||{})[r]||r,d=i?function(u){var f=new i;qy._pt=0,f.init(t,n?u+n:u,qy,0,[t]),f.render(1,f),qy._pt&&pz(1,qy)}:l.set(t,c);return i?d:function(u){return d(t,c,n?u+n:u,l,1)}},quickTo:function(t,r,n){var a,s=Cl.to(t,Oc((a={},a[r]="+=0.1",a.paused=!0,a.stagger=0,a),n||{})),i=function(c,d,u){return s.resetTo(r,c,d,u)};return i.tween=s,i},isTweening:function(t){return Ca.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Tg(t.ease,cb.ease)),LK(cb,t||{})},config:function(t){return LK(_c,t||{})},registerEffect:function(t){var r=t.name,n=t.effect,a=t.plugins,s=t.defaults,i=t.extendTimeline;(a||"").split(",").forEach(function(l){return l&&!Zl[l]&&!Mc[l]&&jN(r+" effect requires "+l+" plugin.")}),BM[r]=function(l,c,d){return n(dd(l),Oc(c||{},s),d)},i&&(Bo.prototype[r]=function(l,c,d){return this.add(BM[r](l,rf(c)?c:(d=c)&&{},this),d)})},registerEase:function(t,r){Qr[t]=Tg(r)},parseEase:function(t,r){return arguments.length?Tg(t,r):Qr},getById:function(t){return Ca.getById(t)},exportRoot:function(t,r){t===void 0&&(t={});var n=new Bo(t),a,s;for(n.smoothChildTiming=yl(t.smoothChildTiming),Ca.remove(n),n._dp=0,n._time=n._tTime=Ca._time,a=Ca._first;a;)s=a._next,(r||!(!a._dur&&a instanceof Es&&a.vars.onComplete===a._targets[0]))&&Ou(n,a,a._start-a._delay),a=s;return Ou(Ca,n,0),n},context:function(t,r){return t?new phe(t,r):ba},matchMedia:function(t){return new sit(t)},matchMediaRefresh:function(){return Dg.forEach(function(t){var r=t.conditions,n,a;for(a in r)r[a]&&(r[a]=!1,n=1);n&&t.revert()})||CR()},addEventListener:function(t,r){var n=W_[t]||(W_[t]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(t,r){var n=W_[t],a=n&&n.indexOf(r);a>=0&&n.splice(a,1)},utils:{wrap:Ist,wrapYoyo:Fst,distribute:Yfe,random:Kfe,snap:Gfe,normalize:Lst,getUnit:go,clamp:Mst,splitColor:ehe,toArray:dd,selector:jR,mapRange:Jfe,pipe:Pst,unitize:Rst,interpolate:zst,shuffle:Wfe},install:Pfe,effects:BM,ticker:lc,updateRoot:Bo.updateRoot,plugins:Zl,globalTimeline:Ca,core:{PropTween:bl,globals:Rfe,Tween:Es,Timeline:Bo,Animation:AN,getCache:Ag,_removeLinkedListItem:b3,reverting:function(){return Ji},context:function(t){return t&&ba&&(ba.data.push(t),t._ctx=ba),ba},suppressOverwrites:function(t){return tz=t}}};vl("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return QA[e]=Es[e]});lc.add(Bo.updateRoot);qy=QA.to({},{duration:0});var iit=function(t,r){for(var n=t._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},oit=function(t,r){var n=t._targets,a,s,i;for(a in r)for(s=n.length;s--;)i=t._ptLookup[s][a],i&&(i=i.d)&&(i._pt&&(i=iit(i,a)),i&&i.modifier&&i.modifier(r[a],t,n[s],a))},qM=function(t,r){return{name:t,headless:1,rawVars:1,init:function(a,s,i){i._onInit=function(l){var c,d;if(ki(s)&&(c={},vl(s,function(u){return c[u]=1}),s=c),r){c={};for(d in s)c[d]=r(s[d]);s=c}oit(l,s)}}}},Cl=QA.registerPlugin({name:"attr",init:function(t,r,n,a,s){var i,l,c;this.tween=n;for(i in r)c=t.getAttribute(i)||"",l=this.add(t,"setAttribute",(c||0)+"",r[i],a,s,0,0,i),l.op=i,l.b=c,this._props.push(i)},render:function(t,r){for(var n=r._pt;n;)Ji?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",headless:1,init:function(t,r){for(var n=r.length;n--;)this.add(t,n,t[n]||0,r[n],0,0,0,0,0,1)}},qM("roundProps",_R),qM("modifiers"),qM("snap",Gfe))||QA;Es.version=Bo.version=Cl.version="3.14.2";Ofe=1;nz()&&hb();Qr.Power0;Qr.Power1;Qr.Power2;Qr.Power3;Qr.Power4;Qr.Linear;Qr.Quad;Qr.Cubic;Qr.Quart;Qr.Quint;Qr.Strong;Qr.Elastic;Qr.Back;Qr.SteppedEase;Qr.Bounce;Qr.Sine;Qr.Expo;Qr.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var $K,cm,xv,mz,cg,UK,gz,lit=function(){return typeof window<"u"},Kh={},$0=180/Math.PI,yv=Math.PI/180,cy=Math.atan2,VK=1e8,xz=/([A-Z])/g,cit=/(left|right|width|margin|padding|x)/i,dit=/[\s,\(]\S/,$u={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},AR=function(t,r){return r.set(r.t,r.p,Math.round((r.s+r.c*t)*1e4)/1e4+r.u,r)},uit=function(t,r){return r.set(r.t,r.p,t===1?r.e:Math.round((r.s+r.c*t)*1e4)/1e4+r.u,r)},fit=function(t,r){return r.set(r.t,r.p,t?Math.round((r.s+r.c*t)*1e4)/1e4+r.u:r.b,r)},hit=function(t,r){return r.set(r.t,r.p,t===1?r.e:t?Math.round((r.s+r.c*t)*1e4)/1e4+r.u:r.b,r)},pit=function(t,r){var n=r.s+r.c*t;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},mhe=function(t,r){return r.set(r.t,r.p,t?r.e:r.b,r)},ghe=function(t,r){return r.set(r.t,r.p,t!==1?r.b:r.e,r)},mit=function(t,r,n){return t.style[r]=n},git=function(t,r,n){return t.style.setProperty(r,n)},xit=function(t,r,n){return t._gsap[r]=n},yit=function(t,r,n){return t._gsap.scaleX=t._gsap.scaleY=n},vit=function(t,r,n,a,s){var i=t._gsap;i.scaleX=i.scaleY=n,i.renderTransform(s,i)},bit=function(t,r,n,a,s){var i=t._gsap;i[r]=n,i.renderTransform(s,i)},Ta="transform",wl=Ta+"Origin",wit=function e(t,r){var n=this,a=this.target,s=a.style,i=a._gsap;if(t in Kh&&s){if(this.tfm=this.tfm||{},t!=="transform")t=$u[t]||t,~t.indexOf(",")?t.split(",").forEach(function(l){return n.tfm[l]=Qf(a,l)}):this.tfm[t]=i.x?i[t]:Qf(a,t),t===wl&&(this.tfm.zOrigin=i.zOrigin);else return $u.transform.split(",").forEach(function(l){return e.call(n,l,r)});if(this.props.indexOf(Ta)>=0)return;i.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(wl,r,"")),t=Ta}(s||r)&&this.props.push(t,r,s[t])},xhe=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},Nit=function(){var t=this.props,r=this.target,n=r.style,a=r._gsap,s,i;for(s=0;s<t.length;s+=3)t[s+1]?t[s+1]===2?r[t[s]](t[s+2]):r[t[s]]=t[s+2]:t[s+2]?n[t[s]]=t[s+2]:n.removeProperty(t[s].substr(0,2)==="--"?t[s]:t[s].replace(xz,"-$1").toLowerCase());if(this.tfm){for(i in this.tfm)a[i]=this.tfm[i];a.svg&&(a.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),s=gz(),(!s||!s.isStart)&&!n[Ta]&&(xhe(n),a.zOrigin&&n[wl]&&(n[wl]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},yhe=function(t,r){var n={target:t,props:[],revert:Nit,save:wit};return t._gsap||Cl.core.getCache(t),r&&t.style&&t.nodeType&&r.split(",").forEach(function(a){return n.save(a)}),n},vhe,ER=function(t,r){var n=cm.createElementNS?cm.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):cm.createElement(t);return n&&n.style?n:cm.createElement(t)},pc=function e(t,r,n){var a=getComputedStyle(t);return a[r]||a.getPropertyValue(r.replace(xz,"-$1").toLowerCase())||a.getPropertyValue(r)||!n&&e(t,pb(r)||r,1)||""},qK="O,Moz,ms,Ms,Webkit".split(","),pb=function(t,r,n){var a=r||cg,s=a.style,i=5;if(t in s&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(qK[i]+t in s););return i<0?null:(i===3?"ms":i>=0?qK[i]:"")+t},TR=function(){lit()&&window.document&&($K=window,cm=$K.document,xv=cm.documentElement,cg=ER("div")||{style:{}},ER("div"),Ta=pb(Ta),wl=Ta+"Origin",cg.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",vhe=!!pb("perspective"),gz=Cl.core.reverting,mz=1)},WK=function(t){var r=t.ownerSVGElement,n=ER("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=t.cloneNode(!0),s;a.style.display="block",n.appendChild(a),xv.appendChild(n);try{s=a.getBBox()}catch{}return n.removeChild(a),xv.removeChild(n),s},YK=function(t,r){for(var n=r.length;n--;)if(t.hasAttribute(r[n]))return t.getAttribute(r[n])},bhe=function(t){var r,n;try{r=t.getBBox()}catch{r=WK(t),n=1}return r&&(r.width||r.height)||n||(r=WK(t)),r&&!r.width&&!r.x&&!r.y?{x:+YK(t,["x","cx","x1"])||0,y:+YK(t,["y","cy","y1"])||0,width:0,height:0}:r},whe=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&bhe(t))},Jm=function(t,r){if(r){var n=t.style,a;r in Kh&&r!==wl&&(r=Ta),n.removeProperty?(a=r.substr(0,2),(a==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(a==="--"?r:r.replace(xz,"-$1").toLowerCase())):n.removeAttribute(r)}},dm=function(t,r,n,a,s,i){var l=new bl(t._pt,r,n,0,1,i?ghe:mhe);return t._pt=l,l.b=a,l.e=s,t._props.push(n),l},GK={deg:1,rad:1,turn:1},Sit={grid:1,flex:1},Qm=function e(t,r,n,a){var s=parseFloat(n)||0,i=(n+"").trim().substr((s+"").length)||"px",l=cg.style,c=cit.test(r),d=t.tagName.toLowerCase()==="svg",u=(d?"client":"offset")+(c?"Width":"Height"),f=100,p=a==="px",h=a==="%",m,g,x,y;if(a===i||!s||GK[a]||GK[i])return s;if(i!=="px"&&!p&&(s=e(t,r,n,"px")),y=t.getCTM&&whe(t),(h||i==="%")&&(Kh[r]||~r.indexOf("adius")))return m=y?t.getBBox()[c?"width":"height"]:t[u],cs(h?s/m*f:s/100*m);if(l[c?"width":"height"]=f+(p?i:a),g=a!=="rem"&&~r.indexOf("adius")||a==="em"&&t.appendChild&&!d?t:t.parentNode,y&&(g=(t.ownerSVGElement||{}).parentNode),(!g||g===cm||!g.appendChild)&&(g=cm.body),x=g._gsap,x&&h&&x.width&&c&&x.time===lc.time&&!x.uncache)return cs(s/x.width*f);if(h&&(r==="height"||r==="width")){var v=t.style[r];t.style[r]=f+a,m=t[u],v?t.style[r]=v:Jm(t,r)}else(h||i==="%")&&!Sit[pc(g,"display")]&&(l.position=pc(t,"position")),g===t&&(l.position="static"),g.appendChild(cg),m=cg[u],g.removeChild(cg),l.position="absolute";return c&&h&&(x=Ag(g),x.time=lc.time,x.width=g[u]),cs(p?m*s/f:m&&s?f/m*s:0)},Qf=function(t,r,n,a){var s;return mz||TR(),r in $u&&r!=="transform"&&(r=$u[r],~r.indexOf(",")&&(r=r.split(",")[0])),Kh[r]&&r!=="transform"?(s=TN(t,a),s=r!=="transformOrigin"?s[r]:s.svg?s.origin:e4(pc(t,wl))+" "+s.zOrigin+"px"):(s=t.style[r],(!s||s==="auto"||a||~(s+"").indexOf("calc("))&&(s=ZA[r]&&ZA[r](t,r,n)||pc(t,r)||Ife(t,r)||(r==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?Qm(t,r,s,n)+n:s},jit=function(t,r,n,a){if(!n||n==="none"){var s=pb(r,t,1),i=s&&pc(t,s,1);i&&i!==n?(r=s,n=i):r==="borderColor"&&(n=pc(t,"borderTopColor"))}var l=new bl(this._pt,t.style,r,0,1,fhe),c=0,d=0,u,f,p,h,m,g,x,y,v,w,N,C;if(l.b=n,l.e=a,n+="",a+="",a.substring(0,6)==="var(--"&&(a=pc(t,a.substring(4,a.indexOf(")")))),a==="auto"&&(g=t.style[r],t.style[r]=a,a=pc(t,r)||a,g?t.style[r]=g:Jm(t,r)),u=[n,a],rhe(u),n=u[0],a=u[1],p=n.match(Vy)||[],C=a.match(Vy)||[],C.length){for(;f=Vy.exec(a);)x=f[0],v=a.substring(c,f.index),m?m=(m+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(m=1),x!==(g=p[d++]||"")&&(h=parseFloat(g)||0,N=g.substr((h+"").length),x.charAt(1)==="="&&(x=gv(h,x)+N),y=parseFloat(x),w=x.substr((y+"").length),c=Vy.lastIndex-w.length,w||(w=w||_c.units[r]||N,c===a.length&&(a+=w,l.e+=w)),N!==w&&(h=Qm(t,r,g,w)||0),l._pt={_next:l._pt,p:v||d===1?v:",",s:h,c:y-h,m:m&&m<4||r==="zIndex"?Math.round:0});l.c=c<a.length?a.substring(c,a.length):""}else l.r=r==="display"&&a==="none"?ghe:mhe;return Mfe.test(a)&&(l.e=0),this._pt=l,l},KK={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_it=function(t){var r=t.split(" "),n=r[0],a=r[1]||"50%";return(n==="top"||n==="bottom"||a==="left"||a==="right")&&(t=n,n=a,a=t),r[0]=KK[n]||n,r[1]=KK[a]||a,r.join(" ")},kit=function(t,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,a=n.style,s=r.u,i=n._gsap,l,c,d;if(s==="all"||s===!0)a.cssText="",c=1;else for(s=s.split(","),d=s.length;--d>-1;)l=s[d],Kh[l]&&(c=1,l=l==="transformOrigin"?wl:Ta),Jm(n,l);c&&(Jm(n,Ta),i&&(i.svg&&n.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",TN(n,1),i.uncache=1,xhe(a)))}},ZA={clearProps:function(t,r,n,a,s){if(s.data!=="isFromStart"){var i=t._pt=new bl(t._pt,r,n,0,0,kit);return i.u=a,i.pr=-10,i.tween=s,t._props.push(n),1}}},EN=[1,0,0,1,0,0],Nhe={},She=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},XK=function(t){var r=pc(t,Ta);return She(r)?EN:r.substr(7).match(Dfe).map(cs)},yz=function(t,r){var n=t._gsap||Ag(t),a=t.style,s=XK(t),i,l,c,d;return n.svg&&t.getAttribute("transform")?(c=t.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?EN:s):(s===EN&&!t.offsetParent&&t!==xv&&!n.svg&&(c=a.display,a.display="block",i=t.parentNode,(!i||!t.offsetParent&&!t.getBoundingClientRect().width)&&(d=1,l=t.nextElementSibling,xv.appendChild(t)),s=XK(t),c?a.display=c:Jm(t,"display"),d&&(l?i.insertBefore(t,l):i?i.appendChild(t):xv.removeChild(t))),r&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},DR=function(t,r,n,a,s,i){var l=t._gsap,c=s||yz(t,!0),d=l.xOrigin||0,u=l.yOrigin||0,f=l.xOffset||0,p=l.yOffset||0,h=c[0],m=c[1],g=c[2],x=c[3],y=c[4],v=c[5],w=r.split(" "),N=parseFloat(w[0])||0,C=parseFloat(w[1])||0,_,S,k,A;n?c!==EN&&(S=h*x-m*g)&&(k=N*(x/S)+C*(-g/S)+(g*v-x*y)/S,A=N*(-m/S)+C*(h/S)-(h*v-m*y)/S,N=k,C=A):(_=bhe(t),N=_.x+(~w[0].indexOf("%")?N/100*_.width:N),C=_.y+(~(w[1]||w[0]).indexOf("%")?C/100*_.height:C)),a||a!==!1&&l.smooth?(y=N-d,v=C-u,l.xOffset=f+(y*h+v*g)-y,l.yOffset=p+(y*m+v*x)-v):l.xOffset=l.yOffset=0,l.xOrigin=N,l.yOrigin=C,l.smooth=!!a,l.origin=r,l.originIsAbsolute=!!n,t.style[wl]="0px 0px",i&&(dm(i,l,"xOrigin",d,N),dm(i,l,"yOrigin",u,C),dm(i,l,"xOffset",f,l.xOffset),dm(i,l,"yOffset",p,l.yOffset)),t.setAttribute("data-svg-origin",N+" "+C)},TN=function(t,r){var n=t._gsap||new ihe(t);if("x"in n&&!r&&!n.uncache)return n;var a=t.style,s=n.scaleX<0,i="px",l="deg",c=getComputedStyle(t),d=pc(t,wl)||"0",u,f,p,h,m,g,x,y,v,w,N,C,_,S,k,A,O,D,M,I,z,Y,X,V,G,J,B,q,T,R,F,H;return u=f=p=g=x=y=v=w=N=0,h=m=1,n.svg=!!(t.getCTM&&whe(t)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(a[Ta]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Ta]!=="none"?c[Ta]:"")),a.scale=a.rotate=a.translate="none"),S=yz(t,n.svg),n.svg&&(n.uncache?(G=t.getBBox(),d=n.xOrigin-G.x+"px "+(n.yOrigin-G.y)+"px",V=""):V=!r&&t.getAttribute("data-svg-origin"),DR(t,V||d,!!V||n.originIsAbsolute,n.smooth!==!1,S)),C=n.xOrigin||0,_=n.yOrigin||0,S!==EN&&(D=S[0],M=S[1],I=S[2],z=S[3],u=Y=S[4],f=X=S[5],S.length===6?(h=Math.sqrt(D*D+M*M),m=Math.sqrt(z*z+I*I),g=D||M?cy(M,D)*$0:0,v=I||z?cy(I,z)*$0+g:0,v&&(m*=Math.abs(Math.cos(v*yv))),n.svg&&(u-=C-(C*D+_*I),f-=_-(C*M+_*z))):(H=S[6],R=S[7],B=S[8],q=S[9],T=S[10],F=S[11],u=S[12],f=S[13],p=S[14],k=cy(H,T),x=k*$0,k&&(A=Math.cos(-k),O=Math.sin(-k),V=Y*A+B*O,G=X*A+q*O,J=H*A+T*O,B=Y*-O+B*A,q=X*-O+q*A,T=H*-O+T*A,F=R*-O+F*A,Y=V,X=G,H=J),k=cy(-I,T),y=k*$0,k&&(A=Math.cos(-k),O=Math.sin(-k),V=D*A-B*O,G=M*A-q*O,J=I*A-T*O,F=z*O+F*A,D=V,M=G,I=J),k=cy(M,D),g=k*$0,k&&(A=Math.cos(k),O=Math.sin(k),V=D*A+M*O,G=Y*A+X*O,M=M*A-D*O,X=X*A-Y*O,D=V,Y=G),x&&Math.abs(x)+Math.abs(g)>359.9&&(x=g=0,y=180-y),h=cs(Math.sqrt(D*D+M*M+I*I)),m=cs(Math.sqrt(X*X+H*H)),k=cy(Y,X),v=Math.abs(k)>2e-4?k*$0:0,N=F?1/(F<0?-F:F):0),n.svg&&(V=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!She(pc(t,Ta)),V&&t.setAttribute("transform",V))),Math.abs(v)>90&&Math.abs(v)<270&&(s?(h*=-1,v+=g<=0?180:-180,g+=g<=0?180:-180):(m*=-1,v+=v<=0?180:-180)),r=r||n.uncache,n.x=u-((n.xPercent=u&&(!r&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-u)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+i,n.y=f-((n.yPercent=f&&(!r&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-f)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+i,n.z=p+i,n.scaleX=cs(h),n.scaleY=cs(m),n.rotation=cs(g)+l,n.rotationX=cs(x)+l,n.rotationY=cs(y)+l,n.skewX=v+l,n.skewY=w+l,n.transformPerspective=N+i,(n.zOrigin=parseFloat(d.split(" ")[2])||!r&&n.zOrigin||0)&&(a[wl]=e4(d)),n.xOffset=n.yOffset=0,n.force3D=_c.force3D,n.renderTransform=n.svg?Ait:vhe?jhe:Cit,n.uncache=0,n},e4=function(t){return(t=t.split(" "))[0]+" "+t[1]},WM=function(t,r,n){var a=go(r);return cs(parseFloat(r)+parseFloat(Qm(t,"x",n+"px",a)))+a},Cit=function(t,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,jhe(t,r)},T0="0deg",J1="0px",D0=") ",jhe=function(t,r){var n=r||this,a=n.xPercent,s=n.yPercent,i=n.x,l=n.y,c=n.z,d=n.rotation,u=n.rotationY,f=n.rotationX,p=n.skewX,h=n.skewY,m=n.scaleX,g=n.scaleY,x=n.transformPerspective,y=n.force3D,v=n.target,w=n.zOrigin,N="",C=y==="auto"&&t&&t!==1||y===!0;if(w&&(f!==T0||u!==T0)){var _=parseFloat(u)*yv,S=Math.sin(_),k=Math.cos(_),A;_=parseFloat(f)*yv,A=Math.cos(_),i=WM(v,i,S*A*-w),l=WM(v,l,-Math.sin(_)*-w),c=WM(v,c,k*A*-w+w)}x!==J1&&(N+="perspective("+x+D0),(a||s)&&(N+="translate("+a+"%, "+s+"%) "),(C||i!==J1||l!==J1||c!==J1)&&(N+=c!==J1||C?"translate3d("+i+", "+l+", "+c+") ":"translate("+i+", "+l+D0),d!==T0&&(N+="rotate("+d+D0),u!==T0&&(N+="rotateY("+u+D0),f!==T0&&(N+="rotateX("+f+D0),(p!==T0||h!==T0)&&(N+="skew("+p+", "+h+D0),(m!==1||g!==1)&&(N+="scale("+m+", "+g+D0),v.style[Ta]=N||"translate(0, 0)"},Ait=function(t,r){var n=r||this,a=n.xPercent,s=n.yPercent,i=n.x,l=n.y,c=n.rotation,d=n.skewX,u=n.skewY,f=n.scaleX,p=n.scaleY,h=n.target,m=n.xOrigin,g=n.yOrigin,x=n.xOffset,y=n.yOffset,v=n.forceCSS,w=parseFloat(i),N=parseFloat(l),C,_,S,k,A;c=parseFloat(c),d=parseFloat(d),u=parseFloat(u),u&&(u=parseFloat(u),d+=u,c+=u),c||d?(c*=yv,d*=yv,C=Math.cos(c)*f,_=Math.sin(c)*f,S=Math.sin(c-d)*-p,k=Math.cos(c-d)*p,d&&(u*=yv,A=Math.tan(d-u),A=Math.sqrt(1+A*A),S*=A,k*=A,u&&(A=Math.tan(u),A=Math.sqrt(1+A*A),C*=A,_*=A)),C=cs(C),_=cs(_),S=cs(S),k=cs(k)):(C=f,k=p,_=S=0),(w&&!~(i+"").indexOf("px")||N&&!~(l+"").indexOf("px"))&&(w=Qm(h,"x",i,"px"),N=Qm(h,"y",l,"px")),(m||g||x||y)&&(w=cs(w+m-(m*C+g*S)+x),N=cs(N+g-(m*_+g*k)+y)),(a||s)&&(A=h.getBBox(),w=cs(w+a/100*A.width),N=cs(N+s/100*A.height)),A="matrix("+C+","+_+","+S+","+k+","+w+","+N+")",h.setAttribute("transform",A),v&&(h.style[Ta]=A)},Eit=function(t,r,n,a,s){var i=360,l=ki(s),c=parseFloat(s)*(l&&~s.indexOf("rad")?$0:1),d=c-a,u=a+d+"deg",f,p;return l&&(f=s.split("_")[1],f==="short"&&(d%=i,d!==d%(i/2)&&(d+=d<0?i:-i)),f==="cw"&&d<0?d=(d+i*VK)%i-~~(d/i)*i:f==="ccw"&&d>0&&(d=(d-i*VK)%i-~~(d/i)*i)),t._pt=p=new bl(t._pt,r,n,a,d,uit),p.e=u,p.u="deg",t._props.push(n),p},JK=function(t,r){for(var n in r)t[n]=r[n];return t},Tit=function(t,r,n){var a=JK({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",i=n.style,l,c,d,u,f,p,h,m;a.svg?(d=n.getAttribute("transform"),n.setAttribute("transform",""),i[Ta]=r,l=TN(n,1),Jm(n,Ta),n.setAttribute("transform",d)):(d=getComputedStyle(n)[Ta],i[Ta]=r,l=TN(n,1),i[Ta]=d);for(c in Kh)d=a[c],u=l[c],d!==u&&s.indexOf(c)<0&&(h=go(d),m=go(u),f=h!==m?Qm(n,c,d,m):parseFloat(d),p=parseFloat(u),t._pt=new bl(t._pt,l,c,f,p-f,AR),t._pt.u=m||0,t._props.push(c));JK(l,a)};vl("padding,margin,Width,Radius",function(e,t){var r="Top",n="Right",a="Bottom",s="Left",i=(t<3?[r,n,a,s]:[r+s,r+n,a+n,a+s]).map(function(l){return t<2?e+l:"border"+l+e});ZA[t>1?"border"+e:e]=function(l,c,d,u,f){var p,h;if(arguments.length<4)return p=i.map(function(m){return Qf(l,m,d)}),h=p.join(" "),h.split(p[0]).length===5?p[0]:h;p=(u+"").split(" "),h={},i.forEach(function(m,g){return h[m]=p[g]=p[g]||p[(g-1)/2|0]}),l.init(c,h,f)}});var _he={name:"css",register:TR,targetTest:function(t){return t.style&&t.nodeType},init:function(t,r,n,a,s){var i=this._props,l=t.style,c=n.vars.startAt,d,u,f,p,h,m,g,x,y,v,w,N,C,_,S,k,A;mz||TR(),this.styles=this.styles||yhe(t),k=this.styles.props,this.tween=n;for(g in r)if(g!=="autoRound"&&(u=r[g],!(Zl[g]&&ohe(g,r,n,a,t,s)))){if(h=typeof u,m=ZA[g],h==="function"&&(u=u.call(n,a,t,s),h=typeof u),h==="string"&&~u.indexOf("random(")&&(u=kN(u)),m)m(this,t,g,u,n)&&(S=1);else if(g.substr(0,2)==="--")d=(getComputedStyle(t).getPropertyValue(g)+"").trim(),u+="",Mm.lastIndex=0,Mm.test(d)||(x=go(d),y=go(u),y?x!==y&&(d=Qm(t,g,d,y)+y):x&&(u+=x)),this.add(l,"setProperty",d,u,a,s,0,0,g),i.push(g),k.push(g,0,l[g]);else if(h!=="undefined"){if(c&&g in c?(d=typeof c[g]=="function"?c[g].call(n,a,t,s):c[g],ki(d)&&~d.indexOf("random(")&&(d=kN(d)),go(d+"")||d==="auto"||(d+=_c.units[g]||go(Qf(t,g))||""),(d+"").charAt(1)==="="&&(d=Qf(t,g))):d=Qf(t,g),p=parseFloat(d),v=h==="string"&&u.charAt(1)==="="&&u.substr(0,2),v&&(u=u.substr(2)),f=parseFloat(u),g in $u&&(g==="autoAlpha"&&(p===1&&Qf(t,"visibility")==="hidden"&&f&&(p=0),k.push("visibility",0,l.visibility),dm(this,l,"visibility",p?"inherit":"hidden",f?"inherit":"hidden",!f)),g!=="scale"&&g!=="transform"&&(g=$u[g],~g.indexOf(",")&&(g=g.split(",")[0]))),w=g in Kh,w){if(this.styles.save(g),A=u,h==="string"&&u.substring(0,6)==="var(--"){if(u=pc(t,u.substring(4,u.indexOf(")"))),u.substring(0,5)==="calc("){var O=t.style.perspective;t.style.perspective=u,u=pc(t,"perspective"),O?t.style.perspective=O:Jm(t,"perspective")}f=parseFloat(u)}if(N||(C=t._gsap,C.renderTransform&&!r.parseTransform||TN(t,r.parseTransform),_=r.smoothOrigin!==!1&&C.smooth,N=this._pt=new bl(this._pt,l,Ta,0,1,C.renderTransform,C,0,-1),N.dep=1),g==="scale")this._pt=new bl(this._pt,C,"scaleY",C.scaleY,(v?gv(C.scaleY,v+f):f)-C.scaleY||0,AR),this._pt.u=0,i.push("scaleY",g),g+="X";else if(g==="transformOrigin"){k.push(wl,0,l[wl]),u=_it(u),C.svg?DR(t,u,0,_,0,this):(y=parseFloat(u.split(" ")[2])||0,y!==C.zOrigin&&dm(this,C,"zOrigin",C.zOrigin,y),dm(this,l,g,e4(d),e4(u)));continue}else if(g==="svgOrigin"){DR(t,u,1,_,0,this);continue}else if(g in Nhe){Eit(this,C,g,p,v?gv(p,v+u):u);continue}else if(g==="smoothOrigin"){dm(this,C,"smooth",C.smooth,u);continue}else if(g==="force3D"){C[g]=u;continue}else if(g==="transform"){Tit(this,u,t);continue}}else g in l||(g=pb(g)||g);if(w||(f||f===0)&&(p||p===0)&&!dit.test(u)&&g in l)x=(d+"").substr((p+"").length),f||(f=0),y=go(u)||(g in _c.units?_c.units[g]:x),x!==y&&(p=Qm(t,g,d,y)),this._pt=new bl(this._pt,w?C:l,g,p,(v?gv(p,v+f):f)-p,!w&&(y==="px"||g==="zIndex")&&r.autoRound!==!1?pit:AR),this._pt.u=y||0,w&&A!==u?(this._pt.b=d,this._pt.e=A,this._pt.r=hit):x!==y&&y!=="%"&&(this._pt.b=d,this._pt.r=fit);else if(g in l)jit.call(this,t,g,d,v?v+u:u);else if(g in t)this.add(t,g,d||t[g],v?v+u:u,a,s);else if(g!=="parseTransform"){sz(g,u);continue}w||(g in l?k.push(g,0,l[g]):typeof t[g]=="function"?k.push(g,2,t[g]()):k.push(g,1,d||t[g])),i.push(g)}}S&&hhe(this)},render:function(t,r){if(r.tween._time||!gz())for(var n=r._pt;n;)n.r(t,n.d),n=n._next;else r.styles.revert()},get:Qf,aliases:$u,getSetter:function(t,r,n){var a=$u[r];return a&&a.indexOf(",")<0&&(r=a),r in Kh&&r!==wl&&(t._gsap.x||Qf(t,"x"))?n&&UK===n?r==="scale"?yit:xit:(UK=n||{})&&(r==="scale"?vit:bit):t.style&&!rz(t.style[r])?mit:~r.indexOf("-")?git:hz(t,r)},core:{_removeProperty:Jm,_getMatrix:yz}};Cl.utils.checkPrefix=pb;Cl.core.getStyleSaver=yhe;(function(e,t,r,n){var a=vl(e+","+t+","+r,function(s){Kh[s]=1});vl(t,function(s){_c.units[s]="deg",Nhe[s]=1}),$u[a[13]]=e+","+t,vl(n,function(s){var i=s.split(":");$u[i[1]]=a[i[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");vl("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){_c.units[e]="px"});Cl.registerPlugin(_he);var Ul=Cl.registerPlugin(_he)||Cl;Ul.core.Tween;function Dit(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mit(e,t,r){return t&&Dit(e.prototype,t),e}/*!
 * Observer 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Gi,Y_,cc,um,fm,vv,khe,U0,cw,Che,uh,Id,Ahe,Ehe=function(){return Gi||typeof window<"u"&&(Gi=window.gsap)&&Gi.registerPlugin&&Gi},The=1,Wy=[],Vr=[],Yu=[],dw=Date.now,MR=function(t,r){return r},Oit=function(){var t=cw.core,r=t.bridge||{},n=t._scrollers,a=t._proxies;n.push.apply(n,Vr),a.push.apply(a,Yu),Vr=n,Yu=a,MR=function(i,l){return r[i](l)}},Om=function(t,r){return~Yu.indexOf(t)&&Yu[Yu.indexOf(t)+1][r]},uw=function(t){return!!~Che.indexOf(t)},To=function(t,r,n,a,s){return t.addEventListener(r,n,{passive:a!==!1,capture:!!s})},Eo=function(t,r,n,a){return t.removeEventListener(r,n,!!a)},U5="scrollLeft",V5="scrollTop",OR=function(){return uh&&uh.isPressed||Vr.cache++},t4=function(t,r){var n=function a(s){if(s||s===0){The&&(cc.history.scrollRestoration="manual");var i=uh&&uh.isPressed;s=a.v=Math.round(s)||(uh&&uh.iOS?1:0),t(s),a.cacheID=Vr.cache,i&&MR("ss",s)}else(r||Vr.cache!==a.cacheID||MR("ref"))&&(a.cacheID=Vr.cache,a.v=t());return a.v+a.offset};return n.offset=0,t&&n},Ho={s:U5,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:t4(function(e){return arguments.length?cc.scrollTo(e,Js.sc()):cc.pageXOffset||um[U5]||fm[U5]||vv[U5]||0})},Js={s:V5,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ho,sc:t4(function(e){return arguments.length?cc.scrollTo(Ho.sc(),e):cc.pageYOffset||um[V5]||fm[V5]||vv[V5]||0})},ol=function(t,r){return(r&&r._ctx&&r._ctx.selector||Gi.utils.toArray)(t)[0]||(typeof t=="string"&&Gi.config().nullTargetWarn!==!1?console.warn("Element not found:",t):null)},Pit=function(t,r){for(var n=r.length;n--;)if(r[n]===t||r[n].contains(t))return!0;return!1},Zm=function(t,r){var n=r.s,a=r.sc;uw(t)&&(t=um.scrollingElement||fm);var s=Vr.indexOf(t),i=a===Js.sc?1:2;!~s&&(s=Vr.push(t)-1),Vr[s+i]||To(t,"scroll",OR);var l=Vr[s+i],c=l||(Vr[s+i]=t4(Om(t,n),!0)||(uw(t)?a:t4(function(d){return arguments.length?t[n]=d:t[n]})));return c.target=t,l||(c.smooth=Gi.getProperty(t,"scrollBehavior")==="smooth"),c},PR=function(t,r,n){var a=t,s=t,i=dw(),l=i,c=r||50,d=Math.max(500,c*3),u=function(m,g){var x=dw();g||x-i>c?(s=a,a=m,l=i,i=x):n?a+=m:a=s+(m-s)/(x-l)*(i-l)},f=function(){s=a=n?0:a,l=i=0},p=function(m){var g=l,x=s,y=dw();return(m||m===0)&&m!==a&&u(m),i===l||y-l>d?0:(a+(n?x:-x))/((n?y:i)-g)*1e3};return{update:u,reset:f,getVelocity:p}},Q1=function(t,r){return r&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},QK=function(t){var r=Math.max.apply(Math,t),n=Math.min.apply(Math,t);return Math.abs(r)>=Math.abs(n)?r:n},Dhe=function(){cw=Gi.core.globals().ScrollTrigger,cw&&cw.core&&Oit()},Mhe=function(t){return Gi=t||Ehe(),!Y_&&Gi&&typeof document<"u"&&document.body&&(cc=window,um=document,fm=um.documentElement,vv=um.body,Che=[cc,um,fm,vv],Gi.utils.clamp,Ahe=Gi.core.context||function(){},U0="onpointerenter"in vv?"pointer":"mouse",khe=xs.isTouch=cc.matchMedia&&cc.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in cc||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Id=xs.eventTypes=("ontouchstart"in fm?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in fm?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return The=0},500),Dhe(),Y_=1),Y_};Ho.op=Js;Vr.cache=0;var xs=function(){function e(r){this.init(r)}var t=e.prototype;return t.init=function(n){Y_||Mhe(Gi)||console.warn("Please gsap.registerPlugin(Observer)"),cw||Dhe();var a=n.tolerance,s=n.dragMinimum,i=n.type,l=n.target,c=n.lineHeight,d=n.debounce,u=n.preventDefault,f=n.onStop,p=n.onStopDelay,h=n.ignore,m=n.wheelSpeed,g=n.event,x=n.onDragStart,y=n.onDragEnd,v=n.onDrag,w=n.onPress,N=n.onRelease,C=n.onRight,_=n.onLeft,S=n.onUp,k=n.onDown,A=n.onChangeX,O=n.onChangeY,D=n.onChange,M=n.onToggleX,I=n.onToggleY,z=n.onHover,Y=n.onHoverEnd,X=n.onMove,V=n.ignoreCheck,G=n.isNormalizer,J=n.onGestureStart,B=n.onGestureEnd,q=n.onWheel,T=n.onEnable,R=n.onDisable,F=n.onClick,H=n.scrollSpeed,W=n.capture,te=n.allowClicks,pe=n.lockAxis,se=n.onLockAxis;this.target=l=ol(l)||fm,this.vars=n,h&&(h=Gi.utils.toArray(h)),a=a||1e-9,s=s||0,m=m||1,H=H||1,i=i||"wheel,touch,pointer",d=d!==!1,c||(c=parseFloat(cc.getComputedStyle(vv).lineHeight)||22);var ce,Ne,he,ze,Pe,ee,We,be=this,wt=0,Qe=0,me=n.passive||!u&&n.passive!==!1,we=Zm(l,Ho),Me=Zm(l,Js),Ge=we(),Xe=Me(),Ve=~i.indexOf("touch")&&!~i.indexOf("pointer")&&Id[0]==="pointerdown",st=uw(l),Nt=l.ownerDocument||um,_t=[0,0,0],vt=[0,0,0],zt=0,At=function(){return zt=dw()},cr=function(yt,br){return(be.event=yt)&&h&&Pit(yt.target,h)||br&&Ve&&yt.pointerType!=="touch"||V&&V(yt,br)},er=function(){be._vx.reset(),be._vy.reset(),Ne.pause(),f&&f(be)},Gt=function(){var yt=be.deltaX=QK(_t),br=be.deltaY=QK(vt),ge=Math.abs(yt)>=a,_e=Math.abs(br)>=a;D&&(ge||_e)&&D(be,yt,br,_t,vt),ge&&(C&&be.deltaX>0&&C(be),_&&be.deltaX<0&&_(be),A&&A(be),M&&be.deltaX<0!=wt<0&&M(be),wt=be.deltaX,_t[0]=_t[1]=_t[2]=0),_e&&(k&&be.deltaY>0&&k(be),S&&be.deltaY<0&&S(be),O&&O(be),I&&be.deltaY<0!=Qe<0&&I(be),Qe=be.deltaY,vt[0]=vt[1]=vt[2]=0),(ze||he)&&(X&&X(be),he&&(x&&he===1&&x(be),v&&v(be),he=0),ze=!1),ee&&!(ee=!1)&&se&&se(be),Pe&&(q(be),Pe=!1),ce=0},ar=function(yt,br,ge){_t[ge]+=yt,vt[ge]+=br,be._vx.update(yt),be._vy.update(br),d?ce||(ce=requestAnimationFrame(Gt)):Gt()},Ke=function(yt,br){pe&&!We&&(be.axis=We=Math.abs(yt)>Math.abs(br)?"x":"y",ee=!0),We!=="y"&&(_t[2]+=yt,be._vx.update(yt,!0)),We!=="x"&&(vt[2]+=br,be._vy.update(br,!0)),d?ce||(ce=requestAnimationFrame(Gt)):Gt()},lt=function(yt){if(!cr(yt,1)){yt=Q1(yt,u);var br=yt.clientX,ge=yt.clientY,_e=br-be.x,Ae=ge-be.y,$e=be.isDragging;be.x=br,be.y=ge,($e||(_e||Ae)&&(Math.abs(be.startX-br)>=s||Math.abs(be.startY-ge)>=s))&&(he||(he=$e?2:1),$e||(be.isDragging=!0),Ke(_e,Ae))}},It=be.onPress=function(Zt){cr(Zt,1)||Zt&&Zt.button||(be.axis=We=null,Ne.pause(),be.isPressed=!0,Zt=Q1(Zt),wt=Qe=0,be.startX=be.x=Zt.clientX,be.startY=be.y=Zt.clientY,be._vx.reset(),be._vy.reset(),To(G?l:Nt,Id[1],lt,me,!0),be.deltaX=be.deltaY=0,w&&w(be))},ct=be.onRelease=function(Zt){if(!cr(Zt,1)){Eo(G?l:Nt,Id[1],lt,!0);var yt=!isNaN(be.y-be.startY),br=be.isDragging,ge=br&&(Math.abs(be.x-be.startX)>3||Math.abs(be.y-be.startY)>3),_e=Q1(Zt);!ge&&yt&&(be._vx.reset(),be._vy.reset(),u&&te&&Gi.delayedCall(.08,function(){if(dw()-zt>300&&!Zt.defaultPrevented){if(Zt.target.click)Zt.target.click();else if(Nt.createEvent){var Ae=Nt.createEvent("MouseEvents");Ae.initMouseEvent("click",!0,!0,cc,1,_e.screenX,_e.screenY,_e.clientX,_e.clientY,!1,!1,!1,!1,0,null),Zt.target.dispatchEvent(Ae)}}})),be.isDragging=be.isGesturing=be.isPressed=!1,f&&br&&!G&&Ne.restart(!0),he&&Gt(),y&&br&&y(be),N&&N(be,ge)}},Rt=function(yt){return yt.touches&&yt.touches.length>1&&(be.isGesturing=!0)&&J(yt,be.isDragging)},vr=function(){return(be.isGesturing=!1)||B(be)},ir=function(yt){if(!cr(yt)){var br=we(),ge=Me();ar((br-Ge)*H,(ge-Xe)*H,1),Ge=br,Xe=ge,f&&Ne.restart(!0)}},Ft=function(yt){if(!cr(yt)){yt=Q1(yt,u),q&&(Pe=!0);var br=(yt.deltaMode===1?c:yt.deltaMode===2?cc.innerHeight:1)*m;ar(yt.deltaX*br,yt.deltaY*br,0),f&&!G&&Ne.restart(!0)}},kr=function(yt){if(!cr(yt)){var br=yt.clientX,ge=yt.clientY,_e=br-be.x,Ae=ge-be.y;be.x=br,be.y=ge,ze=!0,f&&Ne.restart(!0),(_e||Ae)&&Ke(_e,Ae)}},si=function(yt){be.event=yt,z(be)},cn=function(yt){be.event=yt,Y(be)},La=function(yt){return cr(yt)||Q1(yt,u)&&F(be)};Ne=be._dc=Gi.delayedCall(p||.25,er).pause(),be.deltaX=be.deltaY=0,be._vx=PR(0,50,!0),be._vy=PR(0,50,!0),be.scrollX=we,be.scrollY=Me,be.isDragging=be.isGesturing=be.isPressed=!1,Ahe(this),be.enable=function(Zt){return be.isEnabled||(To(st?Nt:l,"scroll",OR),i.indexOf("scroll")>=0&&To(st?Nt:l,"scroll",ir,me,W),i.indexOf("wheel")>=0&&To(l,"wheel",Ft,me,W),(i.indexOf("touch")>=0&&khe||i.indexOf("pointer")>=0)&&(To(l,Id[0],It,me,W),To(Nt,Id[2],ct),To(Nt,Id[3],ct),te&&To(l,"click",At,!0,!0),F&&To(l,"click",La),J&&To(Nt,"gesturestart",Rt),B&&To(Nt,"gestureend",vr),z&&To(l,U0+"enter",si),Y&&To(l,U0+"leave",cn),X&&To(l,U0+"move",kr)),be.isEnabled=!0,be.isDragging=be.isGesturing=be.isPressed=ze=he=!1,be._vx.reset(),be._vy.reset(),Ge=we(),Xe=Me(),Zt&&Zt.type&&It(Zt),T&&T(be)),be},be.disable=function(){be.isEnabled&&(Wy.filter(function(Zt){return Zt!==be&&uw(Zt.target)}).length||Eo(st?Nt:l,"scroll",OR),be.isPressed&&(be._vx.reset(),be._vy.reset(),Eo(G?l:Nt,Id[1],lt,!0)),Eo(st?Nt:l,"scroll",ir,W),Eo(l,"wheel",Ft,W),Eo(l,Id[0],It,W),Eo(Nt,Id[2],ct),Eo(Nt,Id[3],ct),Eo(l,"click",At,!0),Eo(l,"click",La),Eo(Nt,"gesturestart",Rt),Eo(Nt,"gestureend",vr),Eo(l,U0+"enter",si),Eo(l,U0+"leave",cn),Eo(l,U0+"move",kr),be.isEnabled=be.isPressed=be.isDragging=!1,R&&R(be))},be.kill=be.revert=function(){be.disable();var Zt=Wy.indexOf(be);Zt>=0&&Wy.splice(Zt,1),uh===be&&(uh=0)},Wy.push(be),G&&uw(l)&&(uh=be),be.enable(g)},Mit(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e}();xs.version="3.14.2";xs.create=function(e){return new xs(e)};xs.register=Mhe;xs.getAll=function(){return Wy.slice()};xs.getById=function(e){return Wy.filter(function(t){return t.vars.id===e})[0]};Ehe()&&Gi.registerPlugin(xs);/*!
 * ScrollTrigger 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var $t,_y,Ur,Qn,nc,gn,vz,r4,DN,fw,x2,q5,lo,S3,RR,Po,ZK,eX,ky,Ohe,YM,Phe,Oo,LR,Rhe,Lhe,Mp,IR,bz,bv,wz,hw,FR,GM,W5=1,po=Date.now,KM=po(),xd=0,y2=0,tX=function(t,r,n){var a=Gl(t)&&(t.substr(0,6)==="clamp("||t.indexOf("max")>-1);return n["_"+r+"Clamp"]=a,a?t.substr(6,t.length-7):t},rX=function(t,r){return r&&(!Gl(t)||t.substr(0,6)!=="clamp(")?"clamp("+t+")":t},Rit=function e(){return y2&&requestAnimationFrame(e)},nX=function(){return S3=1},aX=function(){return S3=0},Eu=function(t){return t},v2=function(t){return Math.round(t*1e5)/1e5||0},Ihe=function(){return typeof window<"u"},Fhe=function(){return $t||Ihe()&&($t=window.gsap)&&$t.registerPlugin&&$t},ux=function(t){return!!~vz.indexOf(t)},zhe=function(t){return(t==="Height"?wz:Ur["inner"+t])||nc["client"+t]||gn["client"+t]},Bhe=function(t){return Om(t,"getBoundingClientRect")||(ux(t)?function(){return Q_.width=Ur.innerWidth,Q_.height=wz,Q_}:function(){return rh(t)})},Lit=function(t,r,n){var a=n.d,s=n.d2,i=n.a;return(i=Om(t,"getBoundingClientRect"))?function(){return i()[a]}:function(){return(r?zhe(s):t["client"+s])||0}},Iit=function(t,r){return!r||~Yu.indexOf(t)?Bhe(t):function(){return Q_}},Uu=function(t,r){var n=r.s,a=r.d2,s=r.d,i=r.a;return Math.max(0,(n="scroll"+a)&&(i=Om(t,n))?i()-Bhe(t)()[s]:ux(t)?(nc[n]||gn[n])-zhe(a):t[n]-t["offset"+a])},Y5=function(t,r){for(var n=0;n<ky.length;n+=3)(!r||~r.indexOf(ky[n+1]))&&t(ky[n],ky[n+1],ky[n+2])},Gl=function(t){return typeof t=="string"},xo=function(t){return typeof t=="function"},b2=function(t){return typeof t=="number"},V0=function(t){return typeof t=="object"},Z1=function(t,r,n){return t&&t.progress(r?0:1)&&n&&t.pause()},XM=function(t,r){if(t.enabled){var n=t._ctx?t._ctx.add(function(){return r(t)}):r(t);n&&n.totalTime&&(t.callbackAnimation=n)}},dy=Math.abs,Hhe="left",$he="top",Nz="right",Sz="bottom",Mg="width",Og="height",pw="Right",mw="Left",gw="Top",xw="Bottom",_s="padding",ed="margin",mb="Width",jz="Height",Gs="px",td=function(t){return Ur.getComputedStyle(t)},Fit=function(t){var r=td(t).position;t.style.position=r==="absolute"||r==="fixed"?r:"relative"},sX=function(t,r){for(var n in r)n in t||(t[n]=r[n]);return t},rh=function(t,r){var n=r&&td(t)[RR]!=="matrix(1, 0, 0, 1, 0, 0)"&&$t.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),a=t.getBoundingClientRect();return n&&n.progress(0).kill(),a},n4=function(t,r){var n=r.d2;return t["offset"+n]||t["client"+n]||0},Uhe=function(t){var r=[],n=t.labels,a=t.duration(),s;for(s in n)r.push(n[s]/a);return r},zit=function(t){return function(r){return $t.utils.snap(Uhe(t),r)}},_z=function(t){var r=$t.utils.snap(t),n=Array.isArray(t)&&t.slice(0).sort(function(a,s){return a-s});return n?function(a,s,i){i===void 0&&(i=.001);var l;if(!s)return r(a);if(s>0){for(a-=i,l=0;l<n.length;l++)if(n[l]>=a)return n[l];return n[l-1]}else for(l=n.length,a+=i;l--;)if(n[l]<=a)return n[l];return n[0]}:function(a,s,i){i===void 0&&(i=.001);var l=r(a);return!s||Math.abs(l-a)<i||l-a<0==s<0?l:r(s<0?a-t:a+t)}},Bit=function(t){return function(r,n){return _z(Uhe(t))(r,n.direction)}},G5=function(t,r,n,a){return n.split(",").forEach(function(s){return t(r,s,a)})},ci=function(t,r,n,a,s){return t.addEventListener(r,n,{passive:!a,capture:!!s})},li=function(t,r,n,a){return t.removeEventListener(r,n,!!a)},K5=function(t,r,n){n=n&&n.wheelHandler,n&&(t(r,"wheel",n),t(r,"touchmove",n))},iX={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},X5={toggleActions:"play",anticipatePin:0},a4={top:0,left:0,center:.5,bottom:1,right:1},G_=function(t,r){if(Gl(t)){var n=t.indexOf("="),a=~n?+(t.charAt(n-1)+1)*parseFloat(t.substr(n+1)):0;~n&&(t.indexOf("%")>n&&(a*=r/100),t=t.substr(0,n-1)),t=a+(t in a4?a4[t]*r:~t.indexOf("%")?parseFloat(t)*r/100:parseFloat(t)||0)}return t},J5=function(t,r,n,a,s,i,l,c){var d=s.startColor,u=s.endColor,f=s.fontSize,p=s.indent,h=s.fontWeight,m=Qn.createElement("div"),g=ux(n)||Om(n,"pinType")==="fixed",x=t.indexOf("scroller")!==-1,y=g?gn:n,v=t.indexOf("start")!==-1,w=v?d:u,N="border-color:"+w+";font-size:"+f+";color:"+w+";font-weight:"+h+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return N+="position:"+((x||c)&&g?"fixed;":"absolute;"),(x||c||!g)&&(N+=(a===Js?Nz:Sz)+":"+(i+parseFloat(p))+"px;"),l&&(N+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),m._isStart=v,m.setAttribute("class","gsap-marker-"+t+(r?" marker-"+r:"")),m.style.cssText=N,m.innerText=r||r===0?t+"-"+r:t,y.children[0]?y.insertBefore(m,y.children[0]):y.appendChild(m),m._offset=m["offset"+a.op.d2],K_(m,0,a,v),m},K_=function(t,r,n,a){var s={display:"block"},i=n[a?"os2":"p2"],l=n[a?"p2":"os2"];t._isFlipped=a,s[n.a+"Percent"]=a?-100:0,s[n.a]=a?"1px":0,s["border"+i+mb]=1,s["border"+l+mb]=0,s[n.p]=r+"px",$t.set(t,s)},zr=[],zR={},MN,oX=function(){return po()-xd>34&&(MN||(MN=requestAnimationFrame(Eh)))},uy=function(){(!Oo||!Oo.isPressed||Oo.startX>gn.clientWidth)&&(Vr.cache++,Oo?MN||(MN=requestAnimationFrame(Eh)):Eh(),xd||hx("scrollStart"),xd=po())},JM=function(){Lhe=Ur.innerWidth,Rhe=Ur.innerHeight},w2=function(t){Vr.cache++,(t===!0||!lo&&!Phe&&!Qn.fullscreenElement&&!Qn.webkitFullscreenElement&&(!LR||Lhe!==Ur.innerWidth||Math.abs(Ur.innerHeight-Rhe)>Ur.innerHeight*.25))&&r4.restart(!0)},fx={},Hit=[],Vhe=function e(){return li($r,"scrollEnd",e)||dg(!0)},hx=function(t){return fx[t]&&fx[t].map(function(r){return r()})||Hit},ql=[],qhe=function(t){for(var r=0;r<ql.length;r+=5)(!t||ql[r+4]&&ql[r+4].query===t)&&(ql[r].style.cssText=ql[r+1],ql[r].getBBox&&ql[r].setAttribute("transform",ql[r+2]||""),ql[r+3].uncache=1)},Whe=function(){return Vr.forEach(function(t){return xo(t)&&++t.cacheID&&(t.rec=t())})},kz=function(t,r){var n;for(Po=0;Po<zr.length;Po++)n=zr[Po],n&&(!r||n._ctx===r)&&(t?n.kill(1):n.revert(!0,!0));hw=!0,r&&qhe(r),r||hx("revert")},Yhe=function(t,r){Vr.cache++,(r||!Ro)&&Vr.forEach(function(n){return xo(n)&&n.cacheID++&&(n.rec=0)}),Gl(t)&&(Ur.history.scrollRestoration=bz=t)},Ro,Pg=0,lX,$it=function(){if(lX!==Pg){var t=lX=Pg;requestAnimationFrame(function(){return t===Pg&&dg(!0)})}},Ghe=function(){gn.appendChild(bv),wz=!Oo&&bv.offsetHeight||Ur.innerHeight,gn.removeChild(bv)},cX=function(t){return DN(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=t?"none":"block"})},dg=function(t,r){if(nc=Qn.documentElement,gn=Qn.body,vz=[Ur,Qn,nc,gn],xd&&!t&&!hw){ci($r,"scrollEnd",Vhe);return}Ghe(),Ro=$r.isRefreshing=!0,hw||Whe();var n=hx("refreshInit");Ohe&&$r.sort(),r||kz(),Vr.forEach(function(a){xo(a)&&(a.smooth&&(a.target.style.scrollBehavior="auto"),a(0))}),zr.slice(0).forEach(function(a){return a.refresh()}),hw=!1,zr.forEach(function(a){if(a._subPinOffset&&a.pin){var s=a.vars.horizontal?"offsetWidth":"offsetHeight",i=a.pin[s];a.revert(!0,1),a.adjustPinSpacing(a.pin[s]-i),a.refresh()}}),FR=1,cX(!0),zr.forEach(function(a){var s=Uu(a.scroller,a._dir),i=a.vars.end==="max"||a._endClamp&&a.end>s,l=a._startClamp&&a.start>=s;(i||l)&&a.setPositions(l?s-1:a.start,i?Math.max(l?s:a.start+1,s):a.end,!0)}),cX(!1),FR=0,n.forEach(function(a){return a&&a.render&&a.render(-1)}),Vr.forEach(function(a){xo(a)&&(a.smooth&&requestAnimationFrame(function(){return a.target.style.scrollBehavior="smooth"}),a.rec&&a(a.rec))}),Yhe(bz,1),r4.pause(),Pg++,Ro=2,Eh(2),zr.forEach(function(a){return xo(a.vars.onRefresh)&&a.vars.onRefresh(a)}),Ro=$r.isRefreshing=!1,hx("refresh")},BR=0,X_=1,yw,Eh=function(t){if(t===2||!Ro&&!hw){$r.isUpdating=!0,yw&&yw.update(0);var r=zr.length,n=po(),a=n-KM>=50,s=r&&zr[0].scroll();if(X_=BR>s?-1:1,Ro||(BR=s),a&&(xd&&!S3&&n-xd>200&&(xd=0,hx("scrollEnd")),x2=KM,KM=n),X_<0){for(Po=r;Po-- >0;)zr[Po]&&zr[Po].update(0,a);X_=1}else for(Po=0;Po<r;Po++)zr[Po]&&zr[Po].update(0,a);$r.isUpdating=!1}MN=0},HR=[Hhe,$he,Sz,Nz,ed+xw,ed+pw,ed+gw,ed+mw,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],J_=HR.concat([Mg,Og,"boxSizing","max"+mb,"max"+jz,"position",ed,_s,_s+gw,_s+pw,_s+xw,_s+mw]),Uit=function(t,r,n){wv(n);var a=t._gsap;if(a.spacerIsNative)wv(a.spacerState);else if(t._gsap.swappedIn){var s=r.parentNode;s&&(s.insertBefore(t,r),s.removeChild(r))}t._gsap.swappedIn=!1},QM=function(t,r,n,a){if(!t._gsap.swappedIn){for(var s=HR.length,i=r.style,l=t.style,c;s--;)c=HR[s],i[c]=n[c];i.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(i.display="inline-block"),l[Sz]=l[Nz]="auto",i.flexBasis=n.flexBasis||"auto",i.overflow="visible",i.boxSizing="border-box",i[Mg]=n4(t,Ho)+Gs,i[Og]=n4(t,Js)+Gs,i[_s]=l[ed]=l[$he]=l[Hhe]="0",wv(a),l[Mg]=l["max"+mb]=n[Mg],l[Og]=l["max"+jz]=n[Og],l[_s]=n[_s],t.parentNode!==r&&(t.parentNode.insertBefore(r,t),r.appendChild(t)),t._gsap.swappedIn=!0}},Vit=/([A-Z])/g,wv=function(t){if(t){var r=t.t.style,n=t.length,a=0,s,i;for((t.t._gsap||$t.core.getCache(t.t)).uncache=1;a<n;a+=2)i=t[a+1],s=t[a],i?r[s]=i:r[s]&&r.removeProperty(s.replace(Vit,"-$1").toLowerCase())}},Q5=function(t){for(var r=J_.length,n=t.style,a=[],s=0;s<r;s++)a.push(J_[s],n[J_[s]]);return a.t=t,a},qit=function(t,r,n){for(var a=[],s=t.length,i=n?8:0,l;i<s;i+=2)l=t[i],a.push(l,l in r?r[l]:t[i+1]);return a.t=t.t,a},Q_={left:0,top:0},dX=function(t,r,n,a,s,i,l,c,d,u,f,p,h,m){xo(t)&&(t=t(c)),Gl(t)&&t.substr(0,3)==="max"&&(t=p+(t.charAt(4)==="="?G_("0"+t.substr(3),n):0));var g=h?h.time():0,x,y,v;if(h&&h.seek(0),isNaN(t)||(t=+t),b2(t))h&&(t=$t.utils.mapRange(h.scrollTrigger.start,h.scrollTrigger.end,0,p,t)),l&&K_(l,n,a,!0);else{xo(r)&&(r=r(c));var w=(t||"0").split(" "),N,C,_,S;v=ol(r,c)||gn,N=rh(v)||{},(!N||!N.left&&!N.top)&&td(v).display==="none"&&(S=v.style.display,v.style.display="block",N=rh(v),S?v.style.display=S:v.style.removeProperty("display")),C=G_(w[0],N[a.d]),_=G_(w[1]||"0",n),t=N[a.p]-d[a.p]-u+C+s-_,l&&K_(l,_,a,n-_<20||l._isStart&&_>20),n-=n-_}if(m&&(c[m]=t||-.001,t<0&&(t=0)),i){var k=t+n,A=i._isStart;x="scroll"+a.d2,K_(i,k,a,A&&k>20||!A&&(f?Math.max(gn[x],nc[x]):i.parentNode[x])<=k+1),f&&(d=rh(l),f&&(i.style[a.op.p]=d[a.op.p]-a.op.m-i._offset+Gs))}return h&&v&&(x=rh(v),h.seek(p),y=rh(v),h._caScrollDist=x[a.p]-y[a.p],t=t/h._caScrollDist*p),h&&h.seek(g),h?t:Math.round(t)},Wit=/(webkit|moz|length|cssText|inset)/i,uX=function(t,r,n,a){if(t.parentNode!==r){var s=t.style,i,l;if(r===gn){t._stOrig=s.cssText,l=td(t);for(i in l)!+i&&!Wit.test(i)&&l[i]&&typeof s[i]=="string"&&i!=="0"&&(s[i]=l[i]);s.top=n,s.left=a}else s.cssText=t._stOrig;$t.core.getCache(t).uncache=1,r.appendChild(t)}},Khe=function(t,r,n){var a=r,s=a;return function(i){var l=Math.round(t());return l!==a&&l!==s&&Math.abs(l-a)>3&&Math.abs(l-s)>3&&(i=l,n&&n()),s=a,a=Math.round(i),a}},Z5=function(t,r,n){var a={};a[r.p]="+="+n,$t.set(t,a)},fX=function(t,r){var n=Zm(t,r),a="_scroll"+r.p2,s=function i(l,c,d,u,f){var p=i.tween,h=c.onComplete,m={};d=d||n();var g=Khe(n,d,function(){p.kill(),i.tween=0});return f=u&&f||0,u=u||l-d,p&&p.kill(),c[a]=l,c.inherit=!1,c.modifiers=m,m[a]=function(){return g(d+u*p.ratio+f*p.ratio*p.ratio)},c.onUpdate=function(){Vr.cache++,i.tween&&Eh()},c.onComplete=function(){i.tween=0,h&&h.call(p)},p=i.tween=$t.to(t,c),p};return t[a]=n,n.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},ci(t,"wheel",n.wheelHandler),$r.isTouch&&ci(t,"touchmove",n.wheelHandler),s},$r=function(){function e(r,n){_y||e.register($t)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),IR(this),this.init(r,n)}var t=e.prototype;return t.init=function(n,a){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!y2){this.update=this.refresh=this.kill=Eu;return}n=sX(Gl(n)||b2(n)||n.nodeType?{trigger:n}:n,X5);var s=n,i=s.onUpdate,l=s.toggleClass,c=s.id,d=s.onToggle,u=s.onRefresh,f=s.scrub,p=s.trigger,h=s.pin,m=s.pinSpacing,g=s.invalidateOnRefresh,x=s.anticipatePin,y=s.onScrubComplete,v=s.onSnapComplete,w=s.once,N=s.snap,C=s.pinReparent,_=s.pinSpacer,S=s.containerAnimation,k=s.fastScrollEnd,A=s.preventOverlaps,O=n.horizontal||n.containerAnimation&&n.horizontal!==!1?Ho:Js,D=!f&&f!==0,M=ol(n.scroller||Ur),I=$t.core.getCache(M),z=ux(M),Y=("pinType"in n?n.pinType:Om(M,"pinType")||z&&"fixed")==="fixed",X=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],V=D&&n.toggleActions.split(" "),G="markers"in n?n.markers:X5.markers,J=z?0:parseFloat(td(M)["border"+O.p2+mb])||0,B=this,q=n.onRefreshInit&&function(){return n.onRefreshInit(B)},T=Lit(M,z,O),R=Iit(M,z),F=0,H=0,W=0,te=Zm(M,O),pe,se,ce,Ne,he,ze,Pe,ee,We,be,wt,Qe,me,we,Me,Ge,Xe,Ve,st,Nt,_t,vt,zt,At,cr,er,Gt,ar,Ke,lt,It,ct,Rt,vr,ir,Ft,kr,si,cn;if(B._startClamp=B._endClamp=!1,B._dir=O,x*=45,B.scroller=M,B.scroll=S?S.time.bind(S):te,Ne=te(),B.vars=n,a=a||n.animation,"refreshPriority"in n&&(Ohe=1,n.refreshPriority===-9999&&(yw=B)),I.tweenScroll=I.tweenScroll||{top:fX(M,Js),left:fX(M,Ho)},B.tweenTo=pe=I.tweenScroll[O.p],B.scrubDuration=function(ge){Rt=b2(ge)&&ge,Rt?ct?ct.duration(ge):ct=$t.to(a,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Rt,paused:!0,onComplete:function(){return y&&y(B)}}):(ct&&ct.progress(1).kill(),ct=0)},a&&(a.vars.lazy=!1,a._initted&&!B.isReverted||a.vars.immediateRender!==!1&&n.immediateRender!==!1&&a.duration()&&a.render(0,!0,!0),B.animation=a.pause(),a.scrollTrigger=B,B.scrubDuration(f),lt=0,c||(c=a.vars.id)),N&&((!V0(N)||N.push)&&(N={snapTo:N}),"scrollBehavior"in gn.style&&$t.set(z?[gn,nc]:M,{scrollBehavior:"auto"}),Vr.forEach(function(ge){return xo(ge)&&ge.target===(z?Qn.scrollingElement||nc:M)&&(ge.smooth=!1)}),ce=xo(N.snapTo)?N.snapTo:N.snapTo==="labels"?zit(a):N.snapTo==="labelsDirectional"?Bit(a):N.directional!==!1?function(ge,_e){return _z(N.snapTo)(ge,po()-H<500?0:_e.direction)}:$t.utils.snap(N.snapTo),vr=N.duration||{min:.1,max:2},vr=V0(vr)?fw(vr.min,vr.max):fw(vr,vr),ir=$t.delayedCall(N.delay||Rt/2||.1,function(){var ge=te(),_e=po()-H<500,Ae=pe.tween;if((_e||Math.abs(B.getVelocity())<10)&&!Ae&&!S3&&F!==ge){var $e=(ge-ze)/we,it=a&&!D?a.totalProgress():$e,K=_e?0:(it-It)/(po()-x2)*1e3||0,de=$t.utils.clamp(-$e,1-$e,dy(K/2)*K/.185),re=$e+(N.inertia===!1?0:de),ne,ie,le=N,ke=le.onStart,Re=le.onInterrupt,Le=le.onComplete;if(ne=ce(re,B),b2(ne)||(ne=re),ie=Math.max(0,Math.round(ze+ne*we)),ge<=Pe&&ge>=ze&&ie!==ge){if(Ae&&!Ae._initted&&Ae.data<=dy(ie-ge))return;N.inertia===!1&&(de=ne-$e),pe(ie,{duration:vr(dy(Math.max(dy(re-it),dy(ne-it))*.185/K/.05||0)),ease:N.ease||"power3",data:dy(ie-ge),onInterrupt:function(){return ir.restart(!0)&&Re&&Re(B)},onComplete:function(){B.update(),F=te(),a&&!D&&(ct?ct.resetTo("totalProgress",ne,a._tTime/a._tDur):a.progress(ne)),lt=It=a&&!D?a.totalProgress():B.progress,v&&v(B),Le&&Le(B)}},ge,de*we,ie-ge-de*we),ke&&ke(B,pe.tween)}}else B.isActive&&F!==ge&&ir.restart(!0)}).pause()),c&&(zR[c]=B),p=B.trigger=ol(p||h!==!0&&h),cn=p&&p._gsap&&p._gsap.stRevert,cn&&(cn=cn(B)),h=h===!0?p:ol(h),Gl(l)&&(l={targets:p,className:l}),h&&(m===!1||m===ed||(m=!m&&h.parentNode&&h.parentNode.style&&td(h.parentNode).display==="flex"?!1:_s),B.pin=h,se=$t.core.getCache(h),se.spacer?Me=se.pinState:(_&&(_=ol(_),_&&!_.nodeType&&(_=_.current||_.nativeElement),se.spacerIsNative=!!_,_&&(se.spacerState=Q5(_))),se.spacer=Ve=_||Qn.createElement("div"),Ve.classList.add("pin-spacer"),c&&Ve.classList.add("pin-spacer-"+c),se.pinState=Me=Q5(h)),n.force3D!==!1&&$t.set(h,{force3D:!0}),B.spacer=Ve=se.spacer,Ke=td(h),At=Ke[m+O.os2],Nt=$t.getProperty(h),_t=$t.quickSetter(h,O.a,Gs),QM(h,Ve,Ke),Xe=Q5(h)),G){Qe=V0(G)?sX(G,iX):iX,be=J5("scroller-start",c,M,O,Qe,0),wt=J5("scroller-end",c,M,O,Qe,0,be),st=be["offset"+O.op.d2];var La=ol(Om(M,"content")||M);ee=this.markerStart=J5("start",c,La,O,Qe,st,0,S),We=this.markerEnd=J5("end",c,La,O,Qe,st,0,S),S&&(si=$t.quickSetter([ee,We],O.a,Gs)),!Y&&!(Yu.length&&Om(M,"fixedMarkers")===!0)&&(Fit(z?gn:M),$t.set([be,wt],{force3D:!0}),er=$t.quickSetter(be,O.a,Gs),ar=$t.quickSetter(wt,O.a,Gs))}if(S){var Zt=S.vars.onUpdate,yt=S.vars.onUpdateParams;S.eventCallback("onUpdate",function(){B.update(0,0,1),Zt&&Zt.apply(S,yt||[])})}if(B.previous=function(){return zr[zr.indexOf(B)-1]},B.next=function(){return zr[zr.indexOf(B)+1]},B.revert=function(ge,_e){if(!_e)return B.kill(!0);var Ae=ge!==!1||!B.enabled,$e=lo;Ae!==B.isReverted&&(Ae&&(Ft=Math.max(te(),B.scroll.rec||0),W=B.progress,kr=a&&a.progress()),ee&&[ee,We,be,wt].forEach(function(it){return it.style.display=Ae?"none":"block"}),Ae&&(lo=B,B.update(Ae)),h&&(!C||!B.isActive)&&(Ae?Uit(h,Ve,Me):QM(h,Ve,td(h),cr)),Ae||B.update(Ae),lo=$e,B.isReverted=Ae)},B.refresh=function(ge,_e,Ae,$e){if(!((lo||!B.enabled)&&!_e)){if(h&&ge&&xd){ci(e,"scrollEnd",Vhe);return}!Ro&&q&&q(B),lo=B,pe.tween&&!Ae&&(pe.tween.kill(),pe.tween=0),ct&&ct.pause(),g&&a&&(a.revert({kill:!1}).invalidate(),a.getChildren?a.getChildren(!0,!0,!1).forEach(function(ja){return ja.vars.immediateRender&&ja.render(0,!0,!0)}):a.vars.immediateRender&&a.render(0,!0,!0)),B.isReverted||B.revert(!0,!0),B._subPinOffset=!1;var it=T(),K=R(),de=S?S.duration():Uu(M,O),re=we<=.01||!we,ne=0,ie=$e||0,le=V0(Ae)?Ae.end:n.end,ke=n.endTrigger||p,Re=V0(Ae)?Ae.start:n.start||(n.start===0||!p?0:h?"0 0":"0 100%"),Le=B.pinnedContainer=n.pinnedContainer&&ol(n.pinnedContainer,B),De=p&&Math.max(0,zr.indexOf(B))||0,Ee=De,Je,ut,Ct,pt,xt,Pt,wr,pr,pn,rs,or,Ir,ma;for(G&&V0(Ae)&&(Ir=$t.getProperty(be,O.p),ma=$t.getProperty(wt,O.p));Ee-- >0;)Pt=zr[Ee],Pt.end||Pt.refresh(0,1)||(lo=B),wr=Pt.pin,wr&&(wr===p||wr===h||wr===Le)&&!Pt.isReverted&&(rs||(rs=[]),rs.unshift(Pt),Pt.revert(!0,!0)),Pt!==zr[Ee]&&(De--,Ee--);for(xo(Re)&&(Re=Re(B)),Re=tX(Re,"start",B),ze=dX(Re,p,it,O,te(),ee,be,B,K,J,Y,de,S,B._startClamp&&"_startClamp")||(h?-.001:0),xo(le)&&(le=le(B)),Gl(le)&&!le.indexOf("+=")&&(~le.indexOf(" ")?le=(Gl(Re)?Re.split(" ")[0]:"")+le:(ne=G_(le.substr(2),it),le=Gl(Re)?Re:(S?$t.utils.mapRange(0,S.duration(),S.scrollTrigger.start,S.scrollTrigger.end,ze):ze)+ne,ke=p)),le=tX(le,"end",B),Pe=Math.max(ze,dX(le||(ke?"100% 0":de),ke,it,O,te()+ne,We,wt,B,K,J,Y,de,S,B._endClamp&&"_endClamp"))||-.001,ne=0,Ee=De;Ee--;)Pt=zr[Ee]||{},wr=Pt.pin,wr&&Pt.start-Pt._pinPush<=ze&&!S&&Pt.end>0&&(Je=Pt.end-(B._startClamp?Math.max(0,Pt.start):Pt.start),(wr===p&&Pt.start-Pt._pinPush<ze||wr===Le)&&isNaN(Re)&&(ne+=Je*(1-Pt.progress)),wr===h&&(ie+=Je));if(ze+=ne,Pe+=ne,B._startClamp&&(B._startClamp+=ne),B._endClamp&&!Ro&&(B._endClamp=Pe||-.001,Pe=Math.min(Pe,Uu(M,O))),we=Pe-ze||(ze-=.01)&&.001,re&&(W=$t.utils.clamp(0,1,$t.utils.normalize(ze,Pe,Ft))),B._pinPush=ie,ee&&ne&&(Je={},Je[O.a]="+="+ne,Le&&(Je[O.p]="-="+te()),$t.set([ee,We],Je)),h&&!(FR&&B.end>=Uu(M,O)))Je=td(h),pt=O===Js,Ct=te(),vt=parseFloat(Nt(O.a))+ie,!de&&Pe>1&&(or=(z?Qn.scrollingElement||nc:M).style,or={style:or,value:or["overflow"+O.a.toUpperCase()]},z&&td(gn)["overflow"+O.a.toUpperCase()]!=="scroll"&&(or.style["overflow"+O.a.toUpperCase()]="scroll")),QM(h,Ve,Je),Xe=Q5(h),ut=rh(h,!0),pr=Y&&Zm(M,pt?Ho:Js)(),m?(cr=[m+O.os2,we+ie+Gs],cr.t=Ve,Ee=m===_s?n4(h,O)+we+ie:0,Ee&&(cr.push(O.d,Ee+Gs),Ve.style.flexBasis!=="auto"&&(Ve.style.flexBasis=Ee+Gs)),wv(cr),Le&&zr.forEach(function(ja){ja.pin===Le&&ja.vars.pinSpacing!==!1&&(ja._subPinOffset=!0)}),Y&&te(Ft)):(Ee=n4(h,O),Ee&&Ve.style.flexBasis!=="auto"&&(Ve.style.flexBasis=Ee+Gs)),Y&&(xt={top:ut.top+(pt?Ct-ze:pr)+Gs,left:ut.left+(pt?pr:Ct-ze)+Gs,boxSizing:"border-box",position:"fixed"},xt[Mg]=xt["max"+mb]=Math.ceil(ut.width)+Gs,xt[Og]=xt["max"+jz]=Math.ceil(ut.height)+Gs,xt[ed]=xt[ed+gw]=xt[ed+pw]=xt[ed+xw]=xt[ed+mw]="0",xt[_s]=Je[_s],xt[_s+gw]=Je[_s+gw],xt[_s+pw]=Je[_s+pw],xt[_s+xw]=Je[_s+xw],xt[_s+mw]=Je[_s+mw],Ge=qit(Me,xt,C),Ro&&te(0)),a?(pn=a._initted,YM(1),a.render(a.duration(),!0,!0),zt=Nt(O.a)-vt+we+ie,Gt=Math.abs(we-zt)>1,Y&&Gt&&Ge.splice(Ge.length-2,2),a.render(0,!0,!0),pn||a.invalidate(!0),a.parent||a.totalTime(a.totalTime()),YM(0)):zt=we,or&&(or.value?or.style["overflow"+O.a.toUpperCase()]=or.value:or.style.removeProperty("overflow-"+O.a));else if(p&&te()&&!S)for(ut=p.parentNode;ut&&ut!==gn;)ut._pinOffset&&(ze-=ut._pinOffset,Pe-=ut._pinOffset),ut=ut.parentNode;rs&&rs.forEach(function(ja){return ja.revert(!1,!0)}),B.start=ze,B.end=Pe,Ne=he=Ro?Ft:te(),!S&&!Ro&&(Ne<Ft&&te(Ft),B.scroll.rec=0),B.revert(!1,!0),H=po(),ir&&(F=-1,ir.restart(!0)),lo=0,a&&D&&(a._initted||kr)&&a.progress()!==kr&&a.progress(kr||0,!0).render(a.time(),!0,!0),(re||W!==B.progress||S||g||a&&!a._initted)&&(a&&!D&&(a._initted||W||a.vars.immediateRender!==!1)&&a.totalProgress(S&&ze<-.001&&!W?$t.utils.normalize(ze,Pe,0):W,!0),B.progress=re||(Ne-ze)/we===W?0:W),h&&m&&(Ve._pinOffset=Math.round(B.progress*zt)),ct&&ct.invalidate(),isNaN(Ir)||(Ir-=$t.getProperty(be,O.p),ma-=$t.getProperty(wt,O.p),Z5(be,O,Ir),Z5(ee,O,Ir-($e||0)),Z5(wt,O,ma),Z5(We,O,ma-($e||0))),re&&!Ro&&B.update(),u&&!Ro&&!me&&(me=!0,u(B),me=!1)}},B.getVelocity=function(){return(te()-he)/(po()-x2)*1e3||0},B.endAnimation=function(){Z1(B.callbackAnimation),a&&(ct?ct.progress(1):a.paused()?D||Z1(a,B.direction<0,1):Z1(a,a.reversed()))},B.labelToScroll=function(ge){return a&&a.labels&&(ze||B.refresh()||ze)+a.labels[ge]/a.duration()*we||0},B.getTrailing=function(ge){var _e=zr.indexOf(B),Ae=B.direction>0?zr.slice(0,_e).reverse():zr.slice(_e+1);return(Gl(ge)?Ae.filter(function($e){return $e.vars.preventOverlaps===ge}):Ae).filter(function($e){return B.direction>0?$e.end<=ze:$e.start>=Pe})},B.update=function(ge,_e,Ae){if(!(S&&!Ae&&!ge)){var $e=Ro===!0?Ft:B.scroll(),it=ge?0:($e-ze)/we,K=it<0?0:it>1?1:it||0,de=B.progress,re,ne,ie,le,ke,Re,Le,De;if(_e&&(he=Ne,Ne=S?te():$e,N&&(It=lt,lt=a&&!D?a.totalProgress():K)),x&&h&&!lo&&!W5&&xd&&(!K&&ze<$e+($e-he)/(po()-x2)*x?K=1e-4:K===1&&Pe>$e+($e-he)/(po()-x2)*x&&(K=.9999)),K!==de&&B.enabled){if(re=B.isActive=!!K&&K<1,ne=!!de&&de<1,Re=re!==ne,ke=Re||!!K!=!!de,B.direction=K>de?1:-1,B.progress=K,ke&&!lo&&(ie=K&&!de?0:K===1?1:de===1?2:3,D&&(le=!Re&&V[ie+1]!=="none"&&V[ie+1]||V[ie],De=a&&(le==="complete"||le==="reset"||le in a))),A&&(Re||De)&&(De||f||!a)&&(xo(A)?A(B):B.getTrailing(A).forEach(function(Ct){return Ct.endAnimation()})),D||(ct&&!lo&&!W5?(ct._dp._time-ct._start!==ct._time&&ct.render(ct._dp._time-ct._start),ct.resetTo?ct.resetTo("totalProgress",K,a._tTime/a._tDur):(ct.vars.totalProgress=K,ct.invalidate().restart())):a&&a.totalProgress(K,!!(lo&&(H||ge)))),h){if(ge&&m&&(Ve.style[m+O.os2]=At),!Y)_t(v2(vt+zt*K));else if(ke){if(Le=!ge&&K>de&&Pe+1>$e&&$e+1>=Uu(M,O),C)if(!ge&&(re||Le)){var Ee=rh(h,!0),Je=$e-ze;uX(h,gn,Ee.top+(O===Js?Je:0)+Gs,Ee.left+(O===Js?0:Je)+Gs)}else uX(h,Ve);wv(re||Le?Ge:Xe),Gt&&K<1&&re||_t(vt+(K===1&&!Le?zt:0))}}N&&!pe.tween&&!lo&&!W5&&ir.restart(!0),l&&(Re||w&&K&&(K<1||!GM))&&DN(l.targets).forEach(function(Ct){return Ct.classList[re||w?"add":"remove"](l.className)}),i&&!D&&!ge&&i(B),ke&&!lo?(D&&(De&&(le==="complete"?a.pause().totalProgress(1):le==="reset"?a.restart(!0).pause():le==="restart"?a.restart(!0):a[le]()),i&&i(B)),(Re||!GM)&&(d&&Re&&XM(B,d),X[ie]&&XM(B,X[ie]),w&&(K===1?B.kill(!1,1):X[ie]=0),Re||(ie=K===1?1:3,X[ie]&&XM(B,X[ie]))),k&&!re&&Math.abs(B.getVelocity())>(b2(k)?k:2500)&&(Z1(B.callbackAnimation),ct?ct.progress(1):Z1(a,le==="reverse"?1:!K,1))):D&&i&&!lo&&i(B)}if(ar){var ut=S?$e/S.duration()*(S._caScrollDist||0):$e;er(ut+(be._isFlipped?1:0)),ar(ut)}si&&si(-$e/S.duration()*(S._caScrollDist||0))}},B.enable=function(ge,_e){B.enabled||(B.enabled=!0,ci(M,"resize",w2),z||ci(M,"scroll",uy),q&&ci(e,"refreshInit",q),ge!==!1&&(B.progress=W=0,Ne=he=F=te()),_e!==!1&&B.refresh())},B.getTween=function(ge){return ge&&pe?pe.tween:ct},B.setPositions=function(ge,_e,Ae,$e){if(S){var it=S.scrollTrigger,K=S.duration(),de=it.end-it.start;ge=it.start+de*ge/K,_e=it.start+de*_e/K}B.refresh(!1,!1,{start:rX(ge,Ae&&!!B._startClamp),end:rX(_e,Ae&&!!B._endClamp)},$e),B.update()},B.adjustPinSpacing=function(ge){if(cr&&ge){var _e=cr.indexOf(O.d)+1;cr[_e]=parseFloat(cr[_e])+ge+Gs,cr[1]=parseFloat(cr[1])+ge+Gs,wv(cr)}},B.disable=function(ge,_e){if(ge!==!1&&B.revert(!0,!0),B.enabled&&(B.enabled=B.isActive=!1,_e||ct&&ct.pause(),Ft=0,se&&(se.uncache=1),q&&li(e,"refreshInit",q),ir&&(ir.pause(),pe.tween&&pe.tween.kill()&&(pe.tween=0)),!z)){for(var Ae=zr.length;Ae--;)if(zr[Ae].scroller===M&&zr[Ae]!==B)return;li(M,"resize",w2),z||li(M,"scroll",uy)}},B.kill=function(ge,_e){B.disable(ge,_e),ct&&!_e&&ct.kill(),c&&delete zR[c];var Ae=zr.indexOf(B);Ae>=0&&zr.splice(Ae,1),Ae===Po&&X_>0&&Po--,Ae=0,zr.forEach(function($e){return $e.scroller===B.scroller&&(Ae=1)}),Ae||Ro||(B.scroll.rec=0),a&&(a.scrollTrigger=null,ge&&a.revert({kill:!1}),_e||a.kill()),ee&&[ee,We,be,wt].forEach(function($e){return $e.parentNode&&$e.parentNode.removeChild($e)}),yw===B&&(yw=0),h&&(se&&(se.uncache=1),Ae=0,zr.forEach(function($e){return $e.pin===h&&Ae++}),Ae||(se.spacer=0)),n.onKill&&n.onKill(B)},zr.push(B),B.enable(!1,!1),cn&&cn(B),a&&a.add&&!we){var br=B.update;B.update=function(){B.update=br,Vr.cache++,ze||Pe||B.refresh()},$t.delayedCall(.01,B.update),we=.01,ze=Pe=0}else B.refresh();h&&$it()},e.register=function(n){return _y||($t=n||Fhe(),Ihe()&&window.document&&e.enable(),_y=y2),_y},e.defaults=function(n){if(n)for(var a in n)X5[a]=n[a];return X5},e.disable=function(n,a){y2=0,zr.forEach(function(i){return i[a?"kill":"disable"](n)}),li(Ur,"wheel",uy),li(Qn,"scroll",uy),clearInterval(q5),li(Qn,"touchcancel",Eu),li(gn,"touchstart",Eu),G5(li,Qn,"pointerdown,touchstart,mousedown",nX),G5(li,Qn,"pointerup,touchend,mouseup",aX),r4.kill(),Y5(li);for(var s=0;s<Vr.length;s+=3)K5(li,Vr[s],Vr[s+1]),K5(li,Vr[s],Vr[s+2])},e.enable=function(){if(Ur=window,Qn=document,nc=Qn.documentElement,gn=Qn.body,$t&&(DN=$t.utils.toArray,fw=$t.utils.clamp,IR=$t.core.context||Eu,YM=$t.core.suppressOverwrites||Eu,bz=Ur.history.scrollRestoration||"auto",BR=Ur.pageYOffset||0,$t.core.globals("ScrollTrigger",e),gn)){y2=1,bv=document.createElement("div"),bv.style.height="100vh",bv.style.position="absolute",Ghe(),Rit(),xs.register($t),e.isTouch=xs.isTouch,Mp=xs.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),LR=xs.isTouch===1,ci(Ur,"wheel",uy),vz=[Ur,Qn,nc,gn],$t.matchMedia?(e.matchMedia=function(d){var u=$t.matchMedia(),f;for(f in d)u.add(f,d[f]);return u},$t.addEventListener("matchMediaInit",function(){Whe(),kz()}),$t.addEventListener("matchMediaRevert",function(){return qhe()}),$t.addEventListener("matchMedia",function(){dg(0,1),hx("matchMedia")}),$t.matchMedia().add("(orientation: portrait)",function(){return JM(),JM})):console.warn("Requires GSAP 3.11.0 or later"),JM(),ci(Qn,"scroll",uy);var n=gn.hasAttribute("style"),a=gn.style,s=a.borderTopStyle,i=$t.core.Animation.prototype,l,c;for(i.revert||Object.defineProperty(i,"revert",{value:function(){return this.time(-.01,!0)}}),a.borderTopStyle="solid",l=rh(gn),Js.m=Math.round(l.top+Js.sc())||0,Ho.m=Math.round(l.left+Ho.sc())||0,s?a.borderTopStyle=s:a.removeProperty("border-top-style"),n||(gn.setAttribute("style",""),gn.removeAttribute("style")),q5=setInterval(oX,250),$t.delayedCall(.5,function(){return W5=0}),ci(Qn,"touchcancel",Eu),ci(gn,"touchstart",Eu),G5(ci,Qn,"pointerdown,touchstart,mousedown",nX),G5(ci,Qn,"pointerup,touchend,mouseup",aX),RR=$t.utils.checkPrefix("transform"),J_.push(RR),_y=po(),r4=$t.delayedCall(.2,dg).pause(),ky=[Qn,"visibilitychange",function(){var d=Ur.innerWidth,u=Ur.innerHeight;Qn.hidden?(ZK=d,eX=u):(ZK!==d||eX!==u)&&w2()},Qn,"DOMContentLoaded",dg,Ur,"load",dg,Ur,"resize",w2],Y5(ci),zr.forEach(function(d){return d.enable(0,1)}),c=0;c<Vr.length;c+=3)K5(li,Vr[c],Vr[c+1]),K5(li,Vr[c],Vr[c+2])}},e.config=function(n){"limitCallbacks"in n&&(GM=!!n.limitCallbacks);var a=n.syncInterval;a&&clearInterval(q5)||(q5=a)&&setInterval(oX,a),"ignoreMobileResize"in n&&(LR=e.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(Y5(li)||Y5(ci,n.autoRefreshEvents||"none"),Phe=(n.autoRefreshEvents+"").indexOf("resize")===-1)},e.scrollerProxy=function(n,a){var s=ol(n),i=Vr.indexOf(s),l=ux(s);~i&&Vr.splice(i,l?6:2),a&&(l?Yu.unshift(Ur,a,gn,a,nc,a):Yu.unshift(s,a))},e.clearMatchMedia=function(n){zr.forEach(function(a){return a._ctx&&a._ctx.query===n&&a._ctx.kill(!0,!0)})},e.isInViewport=function(n,a,s){var i=(Gl(n)?ol(n):n).getBoundingClientRect(),l=i[s?Mg:Og]*a||0;return s?i.right-l>0&&i.left+l<Ur.innerWidth:i.bottom-l>0&&i.top+l<Ur.innerHeight},e.positionInViewport=function(n,a,s){Gl(n)&&(n=ol(n));var i=n.getBoundingClientRect(),l=i[s?Mg:Og],c=a==null?l/2:a in a4?a4[a]*l:~a.indexOf("%")?parseFloat(a)*l/100:parseFloat(a)||0;return s?(i.left+c)/Ur.innerWidth:(i.top+c)/Ur.innerHeight},e.killAll=function(n){if(zr.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),n!==!0){var a=fx.killAll||[];fx={},a.forEach(function(s){return s()})}},e}();$r.version="3.14.2";$r.saveStyles=function(e){return e?DN(e).forEach(function(t){if(t&&t.style){var r=ql.indexOf(t);r>=0&&ql.splice(r,5),ql.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),$t.core.getCache(t),IR())}}):ql};$r.revert=function(e,t){return kz(!e,t)};$r.create=function(e,t){return new $r(e,t)};$r.refresh=function(e){return e?w2(!0):(_y||$r.register())&&dg(!0)};$r.update=function(e){return++Vr.cache&&Eh(e===!0?2:0)};$r.clearScrollMemory=Yhe;$r.maxScroll=function(e,t){return Uu(e,t?Ho:Js)};$r.getScrollFunc=function(e,t){return Zm(ol(e),t?Ho:Js)};$r.getById=function(e){return zR[e]};$r.getAll=function(){return zr.filter(function(e){return e.vars.id!=="ScrollSmoother"})};$r.isScrolling=function(){return!!xd};$r.snapDirectional=_z;$r.addEventListener=function(e,t){var r=fx[e]||(fx[e]=[]);~r.indexOf(t)||r.push(t)};$r.removeEventListener=function(e,t){var r=fx[e],n=r&&r.indexOf(t);n>=0&&r.splice(n,1)};$r.batch=function(e,t){var r=[],n={},a=t.interval||.016,s=t.batchMax||1e9,i=function(d,u){var f=[],p=[],h=$t.delayedCall(a,function(){u(f,p),f=[],p=[]}).pause();return function(m){f.length||h.restart(!0),f.push(m.trigger),p.push(m),s<=f.length&&h.progress(1)}},l;for(l in t)n[l]=l.substr(0,2)==="on"&&xo(t[l])&&l!=="onRefreshInit"?i(l,t[l]):t[l];return xo(s)&&(s=s(),ci($r,"refresh",function(){return s=t.batchMax()})),DN(e).forEach(function(c){var d={};for(l in n)d[l]=n[l];d.trigger=c,r.push($r.create(d))}),r};var hX=function(t,r,n,a){return r>a?t(a):r<0&&t(0),n>a?(a-r)/(n-r):n<0?r/(r-n):1},ZM=function e(t,r){r===!0?t.style.removeProperty("touch-action"):t.style.touchAction=r===!0?"auto":r?"pan-"+r+(xs.isTouch?" pinch-zoom":""):"none",t===nc&&e(gn,r)},e_={auto:1,scroll:1},Yit=function(t){var r=t.event,n=t.target,a=t.axis,s=(r.changedTouches?r.changedTouches[0]:r).target,i=s._gsap||$t.core.getCache(s),l=po(),c;if(!i._isScrollT||l-i._isScrollT>2e3){for(;s&&s!==gn&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(e_[(c=td(s)).overflowY]||e_[c.overflowX]));)s=s.parentNode;i._isScroll=s&&s!==n&&!ux(s)&&(e_[(c=td(s)).overflowY]||e_[c.overflowX]),i._isScrollT=l}(i._isScroll||a==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},Xhe=function(t,r,n,a){return xs.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:a=a&&Yit,onPress:a,onDrag:a,onScroll:a,onEnable:function(){return n&&ci(Qn,xs.eventTypes[0],mX,!1,!0)},onDisable:function(){return li(Qn,xs.eventTypes[0],mX,!0)}})},Git=/(input|label|select|textarea)/i,pX,mX=function(t){var r=Git.test(t.target.tagName);(r||pX)&&(t._gsapAllow=!0,pX=r)},Kit=function(t){V0(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var r=t,n=r.normalizeScrollX,a=r.momentum,s=r.allowNestedScroll,i=r.onRelease,l,c,d=ol(t.target)||nc,u=$t.core.globals().ScrollSmoother,f=u&&u.get(),p=Mp&&(t.content&&ol(t.content)||f&&t.content!==!1&&!f.smooth()&&f.content()),h=Zm(d,Js),m=Zm(d,Ho),g=1,x=(xs.isTouch&&Ur.visualViewport?Ur.visualViewport.scale*Ur.visualViewport.width:Ur.outerWidth)/Ur.innerWidth,y=0,v=xo(a)?function(){return a(l)}:function(){return a||2.8},w,N,C=Xhe(d,t.type,!0,s),_=function(){return N=!1},S=Eu,k=Eu,A=function(){c=Uu(d,Js),k=fw(Mp?1:0,c),n&&(S=fw(0,Uu(d,Ho))),w=Pg},O=function(){p._gsap.y=v2(parseFloat(p._gsap.y)+h.offset)+"px",p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(p._gsap.y)+", 0, 1)",h.offset=h.cacheID=0},D=function(){if(N){requestAnimationFrame(_);var G=v2(l.deltaY/2),J=k(h.v-G);if(p&&J!==h.v+h.offset){h.offset=J-h.v;var B=v2((parseFloat(p&&p._gsap.y)||0)-h.offset);p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+B+", 0, 1)",p._gsap.y=B+"px",h.cacheID=Vr.cache,Eh()}return!0}h.offset&&O(),N=!0},M,I,z,Y,X=function(){A(),M.isActive()&&M.vars.scrollY>c&&(h()>c?M.progress(1)&&h(c):M.resetTo("scrollY",c))};return p&&$t.set(p,{y:"+=0"}),t.ignoreCheck=function(V){return Mp&&V.type==="touchmove"&&D()||g>1.05&&V.type!=="touchstart"||l.isGesturing||V.touches&&V.touches.length>1},t.onPress=function(){N=!1;var V=g;g=v2((Ur.visualViewport&&Ur.visualViewport.scale||1)/x),M.pause(),V!==g&&ZM(d,g>1.01?!0:n?!1:"x"),I=m(),z=h(),A(),w=Pg},t.onRelease=t.onGestureStart=function(V,G){if(h.offset&&O(),!G)Y.restart(!0);else{Vr.cache++;var J=v(),B,q;n&&(B=m(),q=B+J*.05*-V.velocityX/.227,J*=hX(m,B,q,Uu(d,Ho)),M.vars.scrollX=S(q)),B=h(),q=B+J*.05*-V.velocityY/.227,J*=hX(h,B,q,Uu(d,Js)),M.vars.scrollY=k(q),M.invalidate().duration(J).play(.01),(Mp&&M.vars.scrollY>=c||B>=c-1)&&$t.to({},{onUpdate:X,duration:J})}i&&i(V)},t.onWheel=function(){M._ts&&M.pause(),po()-y>1e3&&(w=0,y=po())},t.onChange=function(V,G,J,B,q){if(Pg!==w&&A(),G&&n&&m(S(B[2]===G?I+(V.startX-V.x):m()+G-B[1])),J){h.offset&&O();var T=q[2]===J,R=T?z+V.startY-V.y:h()+J-q[1],F=k(R);T&&R!==F&&(z+=F-R),h(F)}(J||G)&&Eh()},t.onEnable=function(){ZM(d,n?!1:"x"),$r.addEventListener("refresh",X),ci(Ur,"resize",X),h.smooth&&(h.target.style.scrollBehavior="auto",h.smooth=m.smooth=!1),C.enable()},t.onDisable=function(){ZM(d,!0),li(Ur,"resize",X),$r.removeEventListener("refresh",X),C.kill()},t.lockAxis=t.lockAxis!==!1,l=new xs(t),l.iOS=Mp,Mp&&!h()&&h(1),Mp&&$t.ticker.add(Eu),Y=l._dc,M=$t.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Khe(h,h(),function(){return M.pause()})},onUpdate:Eh,onComplete:Y.vars.onComplete}),l};$r.sort=function(e){if(xo(e))return zr.sort(e);var t=Ur.pageYOffset||0;return $r.getAll().forEach(function(r){return r._sortY=r.trigger?t+r.trigger.getBoundingClientRect().top:r.start+Ur.innerHeight}),zr.sort(e||function(r,n){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};$r.observe=function(e){return new xs(e)};$r.normalizeScroll=function(e){if(typeof e>"u")return Oo;if(e===!0&&Oo)return Oo.enable();if(e===!1){Oo&&Oo.kill(),Oo=e;return}var t=e instanceof xs?e:Kit(e);return Oo&&Oo.target===t.target&&Oo.kill(),ux(t.target)&&(Oo=t),t};$r.core={_getVelocityProp:PR,_inputObserver:Xhe,_scrollers:Vr,_proxies:Yu,bridge:{ss:function(){xd||hx("scrollStart"),xd=po()},ref:function(){return lo}}};Fhe()&&$t.registerPlugin($r);Ul.registerPlugin($r);function Xit(){const e=vs(),t=b.useRef(null),r=b.useRef(null),n=b.useRef(null),a=b.useRef(null),s=b.useRef(null),{login:i}=Sr(),[l,c]=b.useState(!1),[d,u]=b.useState(!1),[f,p]=b.useState("monthly"),[h,m]=b.useState({name:"",email:"",companyName:"",companySize:"",password:"",confirmPassword:""});b.useEffect(()=>(document.documentElement.classList.add("dark"),()=>{document.documentElement.classList.remove("dark")}),[]),b.useEffect(()=>{const v=Ul.timeline({defaults:{ease:"power2.out"}});v.fromTo(s.current,{y:-100,opacity:0},{y:0,opacity:1,duration:.8}),v.fromTo(".hero-badge",{opacity:0,scale:.8},{opacity:1,scale:1,duration:.6},"-=0.4");const w=document.querySelectorAll(".hero-headline .word");v.fromTo(w,{opacity:0,y:30},{opacity:1,y:0,duration:.6,stagger:.1},"-=0.3"),v.fromTo(".hero-subheadline",{opacity:0,y:20},{opacity:1,y:0,duration:.8},"-=0.4"),v.fromTo(".hero-cta",{opacity:0,scale:.9},{opacity:1,scale:1,duration:.6,stagger:.15,ease:"back.out(1.7)"},"-=0.3"),v.fromTo(".hero-trust",{opacity:0,x:-20},{opacity:1,x:0,duration:.6,stagger:.1},"-=0.3"),v.fromTo(".hero-image",{opacity:0,scale:.95,rotationY:-15,z:-100},{opacity:1,scale:1,rotationY:0,z:0,duration:1.2,ease:"power3.out"},"-=0.6"),Ul.to(".hero-image",{y:-20,rotationX:5,rotationY:3,duration:3,ease:"power1.inOut",yoyo:!0,repeat:-1}),Ul.to(".bg-blob-1",{y:200,scrollTrigger:{trigger:t.current,start:"top top",end:"bottom top",scrub:1}}),Ul.to(".bg-blob-2",{y:150,x:-100,scrollTrigger:{trigger:r.current,start:"top bottom",end:"bottom top",scrub:1}});const N=Ul.timeline({scrollTrigger:{trigger:r.current,start:"top 85%",toggleActions:"play none none reverse"}});N.fromTo(".features-heading",{opacity:0,y:50},{opacity:1,y:0,duration:.8,ease:"expo.out"}),N.fromTo(".features-subheading",{opacity:0,y:30},{opacity:1,y:0,duration:.8,ease:"expo.out"},"-=0.5");const C=document.querySelector(".feature-3d-canvas"),_=Ul.utils.toArray(".rotating-screen");C&&_.length>0&&(_.forEach((A,O)=>{O===0?Ul.set(A,{autoAlpha:1,rotateY:0,rotateX:0,scale:1,z:0,display:"flex"}):Ul.set(A,{autoAlpha:0,rotateY:90,rotateX:10,scale:.8,z:-500,display:"none"})}),$r.create({trigger:r.current,start:"top top",end:"+=4000",pin:!0,scrub:1,onUpdate:A=>{const O=A.progress,D=_.length,M=O*D,I=Math.floor(M),z=M-I;_.forEach((Y,X)=>{let V=0,G=90,J=10,B=.8,q=-500,T="none";X===I?(V=1-z,G=z*-90,J=z*10,B=1-z*.2,q=-(z*500),T="flex"):X===I+1?(V=z,G=90-z*90,J=10-z*10,B=.8+z*.2,q=-500+z*500,T="flex"):(V=0,G=90,J=10,B=.8,q=-500,T="none"),Ul.set(Y,{autoAlpha:V,rotateY:G,rotateX:J,scale:B,z:q,display:T})})}}));const S=Ul.timeline({scrollTrigger:{trigger:n.current,start:"top 85%",toggleActions:"play none none reverse"}});return S.fromTo(".pricing-heading",{opacity:0,y:50},{opacity:1,y:0,duration:.8,ease:"expo.out"}),S.fromTo(".pricing-subheading",{opacity:0,y:30},{opacity:1,y:0,duration:.8,ease:"expo.out"},"-=0.5"),S.fromTo(".billing-toggle",{opacity:0,scale:.9},{opacity:1,scale:1,duration:.6,ease:"back.out(1.7)"},"-=0.4"),S.fromTo(".pricing-card",{opacity:0,y:60,scale:.95,rotationY:20,z:-300},{opacity:1,y:0,scale:1,rotationY:0,z:0,duration:1,stagger:.15,ease:"power3.out"},"-=0.3"),S.to(".pricing-card-pro",{scale:1.05,duration:.4,ease:"back.out(1.7)"},"-=0.2"),Ul.timeline({scrollTrigger:{trigger:a.current,start:"top 85%",toggleActions:"play none none reverse"}}).fromTo(".cta-box",{opacity:0,scale:.9,y:50},{opacity:1,scale:1,y:0,duration:1,ease:"expo.out"}),()=>{$r.getAll().forEach(A=>A.kill()),v.kill()}},[]);const g=async v=>{if(v.preventDefault(),h.password!==h.confirmPassword){alert("Passwords do not match");return}u(!0);try{const{apiService:w}=await C_(async()=>{const{apiService:N}=await Promise.resolve().then(()=>T1e);return{apiService:N}},void 0);await w.registerCompany({companyName:h.companyName,adminName:h.name,adminEmail:h.email,password:h.password,plan:"pro"}),await i(h.email,h.password),e("/dashboard")}catch(w){console.error(w),alert(w.message||"Failed to create account")}finally{u(!1)}},x=[{value:"1-10",label:"1-10 employees"},{value:"11-50",label:"11-50 employees"},{value:"51-200",label:"51-200 employees"},{value:"201-500",label:"201-500 employees"},{value:"500+",label:"500+ employees"}],y=[{name:"Starter",price:{monthly:29,annual:290},description:"Perfect for small teams getting started",features:["Up to 50 employees","Core HR features","Leave management","Basic reporting","Email support"],notIncluded:["Advanced analytics","Custom workflows","API access"]},{name:"Pro",price:{monthly:79,annual:790},description:"For growing companies that need more",features:["Up to 200 employees","All Starter features","Performance reviews","Advanced analytics","Custom workflows","Priority support","API access"],notIncluded:["Dedicated account manager"],popular:!0},{name:"Enterprise",price:{monthly:"Custom",annual:"Custom"},description:"Tailored solutions for large organizations",features:["Unlimited employees","All Pro features","Dedicated account manager","Custom integrations","SLA guarantee","24/7 phone support","On-premise deployment"],notIncluded:[]}];return o.jsxs("div",{className:"dark min-h-screen bg-bg-main text-text-primary overflow-hidden relative",children:[o.jsx("div",{className:"bg-blob-1 absolute top-0 right-0 w-96 h-96 bg-brand-primary/20 rounded-full blur-3xl pointer-events-none"}),o.jsx("div",{className:"bg-blob-2 absolute top-1/2 left-0 w-96 h-96 bg-brand-secondary/20 rounded-full blur-3xl pointer-events-none"}),o.jsx("nav",{ref:s,className:"reveal fixed top-0 left-0 right-0 z-50 bg-bg-sidebar/80 border-border",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[o.jsx("div",{className:"text-2xl font-bold text-text-primary",children:"NeoInteraction HR"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>e("/login"),className:"px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary transition-colors",children:"Sign In"}),o.jsx("button",{onClick:()=>c(!0),className:"magnetic-button px-6 py-2 bg-brand-primary hover:bg-brand-secondary text-text-primary shadow-lg shadow-brand-primary/20 rounded-lg font-medium hover:shadow-lg hover:shadow-brand-primary/50 transition-all",children:"Start Free Trial"})]})]})}),o.jsx("section",{ref:t,className:"pt-32 pb-20 px-6 relative",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"hero-badge reveal inline-block px-4 py-2 bg-brand-primary/10 border-brand-primary/20 text-brand-primary text-sm font-medium",children:" The Future of HR Management"}),o.jsxs("h1",{className:"hero-headline text-5xl lg:text-7xl font-bold leading-tight",children:[o.jsx("span",{className:"word reveal",children:"Reimagine"})," ",o.jsx("span",{className:"word reveal",children:"Your"})," ",o.jsx("span",{className:"word reveal text-text-primary",children:"Workforce"})," ",o.jsx("span",{className:"word reveal text-text-primary",children:"Management"})]}),o.jsx("p",{className:"hero-subheadline reveal text-xl text-text-secondary leading-relaxed",children:"Streamline HR operations, empower your team, and drive growth with NeoInteraction HR. The modern HR platform built for growing businesses."}),o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsx("button",{onClick:()=>c(!0),className:"hero-cta reveal magnetic-button px-8 py-4 bg-brand-primary hover:bg-brand-secondary text-text-primary shadow-lg shadow-brand-primary/20 rounded-xl font-semibold text-lg hover:shadow-2xl hover:shadow-brand-primary/50 transition-all transform hover:scale-105",children:"Start Free Trial"}),o.jsx("button",{onClick:()=>e("/login"),className:"hero-cta reveal px-8 py-4 bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl font-semibold text-lg hover:bg-white/10 transition-all",children:"Watch Demo"})]}),o.jsxs("div",{className:"flex items-center gap-8 text-sm text-text-secondary",children:[o.jsxs("div",{className:"hero-trust reveal flex items-center gap-2",children:[o.jsx(pl,{className:"w-5 h-5 text-green-400"}),o.jsx("span",{children:"No credit card required"})]}),o.jsxs("div",{className:"hero-trust reveal flex items-center gap-2",children:[o.jsx(pl,{className:"w-5 h-5 text-green-400"}),o.jsx("span",{children:"14-day free trial"})]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"hero-image reveal relative z-10",children:o.jsx("div",{className:"aspect-video bg-bg-card border-border p-8 shadow-2xl",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded w-3/4"}),o.jsx("div",{className:"h-4 bg-white/10 rounded w-1/2"}),o.jsx("div",{className:"grid grid-cols-3 gap-4 mt-8",children:[1,2,3].map(v=>o.jsx("div",{className:"aspect-square bg-white/5 rounded-lg"},v))})]})})}),o.jsx("div",{className:"absolute inset-0 bg-brand-primary hover:bg-brand-secondary text-text-primary shadow-lg shadow-brand-primary/20 blur-3xl opacity-20"})]})]})})}),o.jsx("section",{ref:r,className:"py-10 px-6 relative",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs("h2",{className:"features-heading reveal text-4xl lg:text-5xl font-bold mb-4",children:["Everything You Need to"," ",o.jsx("span",{className:"text-text-primary",children:"Succeed"})]}),o.jsx("p",{className:"features-subheading reveal text-xl text-text-secondary max-w-2xl mx-auto",children:"Powerful features designed to simplify HR management and boost productivity"})]}),o.jsxs("div",{className:"feature-3d-canvas relative h-[600px] flex items-center justify-center",style:{perspective:"2000px",transformStyle:"preserve-3d"},children:[o.jsx("div",{className:"rotating-screen absolute inset-0 flex items-center justify-center",style:{transformStyle:"preserve-3d"},children:o.jsx("div",{className:"max-w-4xl w-full",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"hidden"}),o.jsxs("div",{className:"relative bg-bg-card border-border rounded-2xl p-8 shadow-2xl",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),o.jsx("div",{className:"ml-4 text-sm text-text-secondary",children:"Employee Directory"})]}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[o.jsx(Da,{className:"w-8 h-8 text-text-secondary"}),o.jsx("h3",{className:"text-3xl font-bold",children:"Employee Management"})]}),o.jsx("p",{className:"text-text-secondary",children:"Centralize employee data and track performance"})]}),o.jsx("div",{className:"space-y-3",children:[1,2,3].map(v=>o.jsxs("div",{className:"flex items-center gap-4 bg-white/5 rounded-lg p-4 border border-white/10",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-bg-hover"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx("div",{className:"h-3 bg-white/10 rounded w-40"}),o.jsx("div",{className:"h-2 bg-white/5 rounded w-56"})]}),o.jsx("div",{className:"w-8 h-8 bg-brand-primary/20 rounded flex items-center justify-center",children:o.jsx(Da,{className:"w-4 h-4 text-text-secondary"})})]},v))})]})]})})}),o.jsx("div",{className:"rotating-screen absolute inset-0 flex items-center justify-center",style:{transformStyle:"preserve-3d"},children:o.jsx("div",{className:"max-w-4xl w-full",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"hidden"}),o.jsxs("div",{className:"relative bg-bg-card border-border rounded-2xl p-8 shadow-2xl",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),o.jsx("div",{className:"ml-4 text-sm text-text-secondary",children:"Performance Dashboard"})]}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[o.jsx(wc,{className:"w-8 h-8 text-text-secondary"}),o.jsx("h3",{className:"text-3xl font-bold",children:"Performance Reviews"})]}),o.jsx("p",{className:"text-text-secondary",children:"Conduct 360 reviews and track growth"})]}),o.jsx("div",{className:"grid grid-cols-3 gap-4 mb-4",children:["Goals","Reviews","Growth"].map((v,w)=>o.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[o.jsx("div",{className:"text-xs text-text-secondary mb-1",children:v}),o.jsxs("div",{className:"text-3xl font-bold",children:[85+w*5,"%"]})]},w))}),o.jsx("div",{className:"flex items-end gap-2 h-32",children:[60,75,70,85,90].map((v,w)=>o.jsx("div",{className:"flex-1 bg-brand-primary rounded-t",style:{height:`${v}%`}},w))})]})]})})}),o.jsx("div",{className:"rotating-screen absolute inset-0 flex items-center justify-center",style:{transformStyle:"preserve-3d"},children:o.jsx("div",{className:"max-w-4xl w-full",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"hidden"}),o.jsxs("div",{className:"relative bg-bg-card border-border rounded-2xl p-8 shadow-2xl",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),o.jsx("div",{className:"ml-4 text-sm text-text-secondary",children:"Payroll Overview"})]}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[o.jsx(gh,{className:"w-8 h-8 text-text-secondary"}),o.jsx("h3",{className:"text-3xl font-bold",children:"Payroll & Compliance"})]}),o.jsx("p",{className:"text-text-secondary",children:"Streamline payroll and ensure compliance"})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-6 border border-white/10 mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-text-secondary",children:"Total Payroll"}),o.jsx(gh,{className:"w-5 h-5 text-green-400"})]}),o.jsx("div",{className:"text-4xl font-bold",children:"$125,450"})]}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:["Processed","Pending"].map((v,w)=>o.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[o.jsx("div",{className:"text-sm text-text-secondary mb-1",children:v}),o.jsx("div",{className:"text-2xl font-bold",children:w===0?"45":"5"})]},w))})]})]})})}),o.jsx("div",{className:"rotating-screen absolute inset-0 flex items-center justify-center",style:{transformStyle:"preserve-3d"},children:o.jsx("div",{className:"max-w-4xl w-full",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"hidden"}),o.jsxs("div",{className:"relative bg-bg-card border-border rounded-2xl p-8 shadow-2xl",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),o.jsx("div",{className:"ml-4 text-sm text-text-secondary",children:"Workflow Automation"})]}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[o.jsx(HT,{className:"w-8 h-8 text-text-secondary"}),o.jsx("h3",{className:"text-3xl font-bold",children:"Automated Workflows"})]}),o.jsx("p",{className:"text-text-secondary",children:"Reduce manual work with automation"})]}),o.jsx("div",{className:"space-y-3",children:["Onboarding","Leave Approval","Payroll Processing"].map((v,w)=>o.jsx("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(HT,{className:"w-6 h-6 text-yellow-400"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold",children:v}),o.jsx("div",{className:"text-sm text-text-secondary",children:"Automated"})]}),o.jsx("div",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded text-sm",children:"Active"})]})},w))})]})]})})}),o.jsx("div",{className:"rotating-screen absolute inset-0 flex items-center justify-center",style:{transformStyle:"preserve-3d"},children:o.jsx("div",{className:"max-w-4xl w-full",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"hidden"}),o.jsxs("div",{className:"relative bg-bg-card border-border rounded-2xl p-8 shadow-2xl",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),o.jsx("div",{className:"ml-4 text-sm text-text-secondary",children:"Organizations"})]}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[o.jsx(Lh,{className:"w-8 h-8 text-text-secondary"}),o.jsx("h3",{className:"text-3xl font-bold",children:"Multi-tenant Support"})]}),o.jsx("p",{className:"text-text-secondary",children:"Manage multiple organizations seamlessly"})]}),o.jsx("div",{className:"space-y-3",children:["Acme Corp","Tech Solutions","Global Industries"].map((v,w)=>o.jsx("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg hiddener justify-center",children:o.jsx(Lh,{className:"w-6 h-6 text-text-secondary"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold",children:v}),o.jsxs("div",{className:"text-sm text-text-secondary",children:[50+w*25," employees"]})]})]})},w))})]})]})})})]})]})}),o.jsx("section",{ref:n,className:"py-20 px-6 relative",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsxs("h2",{className:"pricing-heading reveal text-4xl lg:text-5xl font-bold mb-4",children:["Simple,"," ",o.jsx("span",{className:"text-text-primary",children:"Transparent Pricing"})]}),o.jsx("p",{className:"pricing-subheading reveal text-xl text-text-secondary mb-8",children:"Choose the plan that fits your organization"}),o.jsxs("div",{className:"billing-toggle reveal inline-flex items-center gap-4 p-1 bg-white/5 backdrop-blur-sm border border-white/10 rounded-full",children:[o.jsx("button",{onClick:()=>p("monthly"),className:`px-6 py-2 rounded-full font-medium transition-all ${f==="monthly"?"bg-brand-primary hover:bg-brand-secondary text-text-primary shadow-lg shadow-brand-primary/20 text-text-primary":"text-text-secondary hover:text-text-primary"}`,children:"Monthly"}),o.jsxs("button",{onClick:()=>p("annual"),className:`px-6 py-2 rounded-full font-medium transition-all ${f==="annual"?"bg-brand-primary hover:bg-brand-secondary text-text-primary shadow-lg shadow-brand-primary/20 text-text-primary":"text-text-secondary hover:text-text-primary"}`,children:["Annual",o.jsx("span",{className:"ml-2 text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded",children:"Save 17%"})]})]})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8",style:{perspective:"2000px"},children:y.map((v,w)=>o.jsxs("div",{style:{transformStyle:"preserve-3d"},className:`pricing-card ${v.popular?"pricing-card-pro":""} reveal relative p-8 rounded-2xl border transition-all hover:scale-105 ${v.popular?"bg-bg-card border-brand-primary shadow-xl shadow-brand-primary/20":"bg-bg-card border-border hover:border-brand-primary/50"}`,children:[v.popular&&o.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 px-4 py-1 bg-brand-primary hover:bg-brand-secondary text-text-primary shadow-lg shadow-brand-primary/20 rounded-full text-sm font-semibold",children:"Most Popular"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:v.name}),o.jsx("p",{className:"text-text-secondary text-sm",children:v.description})]}),o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"flex items-baseline gap-2",children:typeof v.price[f]=="number"?o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"text-5xl font-bold",children:["$",v.price[f]]}),o.jsxs("span",{className:"text-text-secondary",children:["/",f==="monthly"?"mo":"yr"]})]}):o.jsx("span",{className:"text-4xl font-bold",children:v.price[f]})})}),o.jsx("button",{onClick:()=>c(!0),className:`w-full py-3 rounded-xl font-semibold transition-all mb-6 ${v.popular?"bg-brand-primary hover:bg-brand-secondary text-text-primary shadow-lg shadow-brand-primary/20 hover:shadow-lg hover:shadow-brand-primary/50":"bg-white/10 hover:bg-white/20"}`,children:v.name==="Enterprise"?"Contact Sales":"Start Free Trial"}),o.jsxs("div",{className:"space-y-3",children:[v.features.map((N,C)=>o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(pl,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-sm text-text-secondary",children:N})]},C)),v.notIncluded.map((N,C)=>o.jsxs("div",{className:"flex items-start gap-3 opacity-50",children:[o.jsx(Qi,{className:"w-5 h-5 text-text-muted flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-sm text-text-muted",children:N})]},C))]})]},w))})]})}),o.jsx("section",{ref:a,className:"py-20 px-6",children:o.jsx("div",{className:"max-w-4xl mx-auto text-center",children:o.jsxs("div",{className:"cta-box reveal p-12 bg-bg-card border-border rounded-3xl",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Ready to Transform Your HR?"}),o.jsx("p",{className:"text-xl text-text-secondary mb-8",children:"Join thousands of companies already using our platform"}),o.jsx("button",{onClick:()=>c(!0),className:"magnetic-button px-8 py-4 bg-brand-primary hover:bg-brand-secondary text-text-primary shadow-lg shadow-brand-primary/20 rounded-xl font-semibold text-lg hover:shadow-2xl hover:shadow-brand-primary/50 transition-all transform hover:scale-105",children:"Start Your Free Trial"})]})})}),o.jsx("footer",{className:"py-12 px-6 border-t border-border",children:o.jsx("div",{className:"max-w-7xl mx-auto text-center text-text-secondary",children:o.jsx("p",{children:" 2025 NeoInteraction HR. All rights reserved."})})}),o.jsx(_r,{isOpen:l,onClose:()=>c(!1),title:"",hideHeader:!0,padding:"p-0",maxWidth:"max-w-lg",children:o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 inset-x-0 h-32 bg-gradient-to-b from-brand-primary/20 to-transparent pointer-events-none"}),o.jsxs("div",{className:"relative p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-brand-primary/10 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-brand-primary/20 shadow-lg shadow-brand-primary/10",children:o.jsx(HT,{className:"w-8 h-8 text-brand-primary"})}),o.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-2",children:"Start Your Free Trial"}),o.jsx("p",{className:"text-text-secondary",children:"Join 10,000+ HR professionals transforming their workforce with NeoInteraction."})]}),o.jsxs("form",{onSubmit:g,className:"space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(ft,{label:"Company Name",type:"text",value:h.companyName,onChange:v=>m({...h,companyName:v.target.value}),placeholder:"Acme Inc",required:!0,className:"bg-bg-main"}),o.jsx(sr,{label:"Company Size",options:x,value:h.companySize,onChange:v=>m({...h,companySize:String(v)}),placeholder:"Select size",required:!0,triggerClassName:"bg-bg-main"})]}),o.jsx(ft,{label:"Full Name",type:"text",value:h.name,onChange:v=>m({...h,name:v.target.value}),placeholder:"John Doe",required:!0,className:"bg-bg-main"}),o.jsx(ft,{label:"Work Email",type:"email",value:h.email,onChange:v=>m({...h,email:v.target.value}),placeholder:"john@company.com",required:!0,className:"bg-bg-main"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(ft,{label:"Password",type:"password",value:h.password,onChange:v=>m({...h,password:v.target.value}),placeholder:"",required:!0,className:"bg-bg-main"}),o.jsx(ft,{label:"Confirm Password",type:"password",value:h.confirmPassword,onChange:v=>m({...h,confirmPassword:v.target.value}),placeholder:"",required:!0,className:"bg-bg-main"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{className:"flex flex-col items-center gap-2 text-center p-3 rounded-lg bg-bg-main/50 border border-white/10",children:[o.jsx(X8,{className:"w-5 h-5 text-brand-primary"}),o.jsx("span",{className:"text-xs font-medium text-text-secondary",children:"No Credit Card"})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2 text-center p-3 rounded-lg bg-bg-main/50 border border-white/10",children:[o.jsx(Mn,{className:"w-5 h-5 text-brand-primary"}),o.jsx("span",{className:"text-xs font-medium text-text-secondary",children:"14-Day Free Trial"})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2 text-center p-3 rounded-lg bg-bg-main/50 border border-white/10",children:[o.jsx(gh,{className:"w-5 h-5 text-brand-primary"}),o.jsx("span",{className:"text-xs font-medium text-text-secondary",children:"Full Access"})]})]}),o.jsx("div",{className:"pt-2",children:o.jsx(dt,{type:"submit",isLoading:d,className:"w-full py-3 text-lg font-semibold shadow-xl shadow-brand-primary/20 hover:shadow-brand-primary/40 transition-all hover:-translate-y-0.5",children:"Create My Account"})}),o.jsx("button",{type:"button",onClick:()=>c(!1),className:"w-full text-sm text-text-muted hover:text-text-primary transition-colors",children:"Maybe later"})]})]})]})}),o.jsx("style",{children:`
        /* Reveal class to prevent FOUC */
        .reveal {
          will-change: transform;
        }

        /* 3D Transform styles */
        .feature-3d-canvas,
        .rotating-screen,
        .pricing-card {
          transform-style: preserve-3d;
          backface-visibility: hidden;
        }

        .rotating-screen {
          pointer-events: none;
          visibility: hidden;
        }

        .rotating-screen[style*="opacity: 1"],
        .rotating-screen[style*="opacity: 0."] {
          visibility: visible;
        }

        .magnetic-button {
          position: relative;
          transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        .magnetic-button:hover {
          transform: translateY(-2px);
        }

        /* Word spacing for headline */
        .hero-headline .word {
          display: inline-block;
          margin-right: 0.3em;
        }
      `})]})}const Jit=tye([{path:"/landing",element:o.jsx(Xit,{})},{path:"/login",element:o.jsx(L_e,{})},{path:"/signup",element:o.jsx(I_e,{})},{path:"/unauthorized",element:o.jsx(F_e,{})},{path:"/forgot-password",element:o.jsx(z_e,{})},{path:"/reset-password/:token",element:o.jsx(B_e,{})},{path:"/onboarding",element:o.jsx(R2e,{}),children:[{path:"start/:token",element:o.jsx(L2e,{})}]},{path:"/",element:o.jsx(P2e,{}),children:[{index:!0,element:o.jsx(nn,{allowedRoles:["Admin","HR","Accountant","Project Manager","Employee","Intern","CEO","Consultant"],children:o.jsx(FHe,{})})},{path:"resignation/submit",element:o.jsx(nn,{allowedRoles:["Employee","Admin","HR","Project Manager","Intern","Accountant"],children:o.jsx(_Xe,{})})},{path:"resignation/manage",element:o.jsx(nn,{allowedRoles:["Admin","HR","Project Manager"],children:o.jsx(kXe,{})})},{path:"*",element:o.jsx(Ov,{to:"/",replace:!0})},{path:"ai-configuration",element:o.jsx(nn,{allowedRoles:["Admin","HR"],children:o.jsx(Ba,{module:"ai_chatbot",children:o.jsx(PXe,{})})})},{path:"employee-management",element:o.jsx(Ba,{module:"employees",children:o.jsx(R_e,{})})},{path:"roles",element:o.jsx(Ba,{module:"roles",children:o.jsx(VXe,{})})},{path:"designations",element:o.jsx(Ba,{module:"employees",children:o.jsx(qXe,{})})},{path:"shifts",element:o.jsx(Ba,{module:"shifts",children:o.jsx(YXe,{})})},{path:"profile",element:o.jsx(nn,{allowedRoles:["Admin","HR","Accountant","Project Manager","Employee","Intern","Consultant"],children:o.jsx(HHe,{})})},{path:"my-journey",element:o.jsx(nn,{allowedRoles:["Admin","HR","Accountant","Project Manager","Employee","Intern","Consultant"],children:o.jsx(Ba,{module:"my_journey",children:o.jsx(lst,{})})})},{path:"attendance",element:o.jsx(nn,{allowedRoles:["Admin","Employee","HR","Project Manager","Intern","Consultant"],children:o.jsx(Ba,{module:"attendance",children:o.jsx(FKe,{})})})},{path:"audit",element:o.jsx(Ba,{module:"audit",children:o.jsx(zKe,{})})},{path:"leave",element:o.jsx(nn,{allowedRoles:["Admin","HR","Project Manager","Employee","Intern","Consultant"],children:o.jsx(Ba,{module:"leave",children:o.jsx(vXe,{})})})},{path:"payroll",element:o.jsx(nn,{allowedRoles:["Admin","HR","Accountant","Project Manager","Employee","Intern","Consultant"],children:o.jsx(Ba,{module:"payroll",children:o.jsx(jXe,{})})})},{path:"clients",element:o.jsx(nn,{allowedRoles:["Admin","HR","Project Manager"],children:o.jsx(Ba,{module:"clients",children:o.jsx(AXe,{})})})},{path:"projects",element:o.jsx(nn,{allowedRoles:["Admin","Project Manager","Employee","Intern","Consultant","Accountant"],children:o.jsx(Ba,{module:"projects",children:o.jsx(TXe,{})})})},{path:"projects/:id",element:o.jsx(nn,{allowedRoles:["Admin","Project Manager","Employee","Intern","Consultant"],children:o.jsx(Ba,{module:"projects",children:o.jsx(OXe,{})})})},{path:"organization/employee/:id",element:o.jsx(nn,{allowedRoles:["Admin","HR","Project Manager","Employee","Intern","Consultant"],children:o.jsx(zXe,{})})},{path:"organization",element:o.jsx(nn,{allowedRoles:["Admin","HR","Project Manager","Employee","Intern","Consultant","Accountant"],children:o.jsx(Ba,{module:"organization",children:o.jsx(LXe,{})})})},{path:"/settings/company",element:o.jsx(nn,{allowedRoles:["Admin"],children:o.jsx(XXe,{})})},{path:"/settings/documents",element:o.jsx(nn,{allowedRoles:["Admin","HR"],children:o.jsx(Ba,{module:"documents",children:o.jsx(eJe,{})})})},{path:"/settings/subscription",element:o.jsx(nn,{allowedRoles:["Admin","HR","Accountant"],children:o.jsx(JXe,{})})},{path:"/settings/usage",element:o.jsx(nn,{allowedRoles:["Admin","HR"],children:o.jsx(QXe,{})})},{path:"/superadmin/tenants",element:o.jsx(nn,{allowedRoles:["Super Admin"],children:o.jsx($Xe,{})})},{path:"/superadmin/analytics",element:o.jsx(nn,{allowedRoles:["Super Admin"],children:o.jsx(UXe,{})})},{path:"/superadmin/users",element:o.jsx(nn,{allowedRoles:["Super Admin"],children:o.jsx(GXe,{})})},{path:"/superadmin/settings",element:o.jsx(nn,{allowedRoles:["Super Admin"],children:o.jsx(KXe,{})})},{path:"settings",element:o.jsx(nn,{allowedRoles:["Admin"],children:o.jsx(fst,{})})},{path:"social",element:o.jsx(nn,{allowedRoles:["Admin","HR","Accountant","Project Manager","Employee","Intern","Consultant","CEO"],children:o.jsx(Ba,{module:"social",children:o.jsx(ost,{})})})},{path:"miscellaneous",element:o.jsx(nn,{allowedRoles:["Admin","HR","Accountant","Project Manager","Employee","Intern","Consultant"],children:o.jsx(tJe,{})})},{path:"miscellaneous/feedback",element:o.jsx(nn,{allowedRoles:["Admin","HR","Accountant","Project Manager","Employee","Intern","Consultant"],children:o.jsx(rJe,{})})},{path:"miscellaneous/appreciation",element:o.jsx(nn,{allowedRoles:["Admin","HR","Accountant","Project Manager","Employee","Intern","Consultant"],children:o.jsx(Ba,{module:"appreciation",children:o.jsx(nJe,{})})})},{path:"miscellaneous/email-automation",element:o.jsx(nn,{allowedRoles:["Admin","HR"],children:o.jsx(Ba,{module:"email_automation",children:o.jsx(Zat,{})})})},{path:"miscellaneous/asset-categories",element:o.jsx(nn,{allowedRoles:["Admin","HR"],children:o.jsx(Ba,{module:"assets",children:o.jsx(est,{})})})},{path:"assets",element:o.jsx(nn,{allowedRoles:["Admin","HR"],children:o.jsx(Ba,{module:"assets",children:o.jsx(nst,{})})})},{path:"assets/inventory",element:o.jsx(nn,{allowedRoles:["Admin","HR"],children:o.jsx(Ba,{module:"assets",children:o.jsx(tst,{})})})},{path:"my-assets",element:o.jsx(nn,{allowedRoles:["Admin","HR","Project Manager","Employee","Intern","Consultant"],children:o.jsx(Ba,{module:"assets",children:o.jsx(rst,{})})})},{path:"help",element:o.jsx(nn,{allowedRoles:["Admin","HR","Accountant","Project Manager","Employee","Intern","Consultant"],children:o.jsx(ust,{})})}]}]);function Qit(){return o.jsx(v2e,{children:o.jsx(M2e,{children:o.jsx(cye,{router:Jit})})})}Mge.createRoot(document.getElementById("root")).render(o.jsx(b.StrictMode,{children:o.jsx(Qit,{})}));export{En as _,eot as c,nf as g};
